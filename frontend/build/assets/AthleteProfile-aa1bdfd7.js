import{j as e,b as _e,g as Q,d as B,a as Fe,c as Ge,e as De,u as Le,D as Pe}from"./index-2d17be50.js";import{r as k}from"./vendor-c778fe58.js";import{g as Te,c as Ie,a as $e,b as z}from"./analytics-f7964037.js";import{c as Ee,u as He,f as Ce,d as de,e as Ke}from"./athleteUtils-9ac4bebb.js";import{R as T,L as V,X as E,Y as L,T as I,a as H,b as _,C as ie,c as C,d as W,B as te,S as je,e as fe,f as Ne,P as ye,g as ve,h as we,i as ke,j as Me,k as Ae,l as le,m as Re,A as We,n as Oe,o as Z,p as q,q as Ve,F as ze,r as ce,H as Ue,s as oe,t as qe,u as Ye,M as Xe,v as Qe,w as Ze,x as Je}from"./ui-d7eb3925.js";import{TrainingLoadHeatmap as Be}from"./TrainingLoadHeatmap-acda43d7.js";import{RecoveryTimeline as es}from"./RecoveryTimeline-99e32083.js";import{PredictiveAnalytics as ss}from"./PredictiveAnalytics-ee58f701.js";import{W as ts}from"./WeatherImpact-804cbe2d.js";import"./three-f2a0a5ce.js";import"./weatherUtils-3c9b3397.js";const U=({title:s,value:l,unit:p,icon:f,subtitle:u,trend:x,data:n=[],teamAverage:N,goalValue:b,goalLabel:c="Goal"})=>{const m=l??0,v=x==="up"?"text-green-600":x==="down"?"text-red-600":"text-gray-500",g=[...n].sort((j,A)=>new Date(j.date).getTime()-new Date(A.date).getTime()),h=g.map((j,A)=>({...j,index:A,name:new Date(j.date).toLocaleDateString("en",{month:"short",day:"numeric"})})),d=[...g.map(j=>j.value),m,N,b].filter(Boolean),a=Math.min(...d)*.98,i=Math.max(...d)*1.02,w=(()=>m>=b?"good":m>=b*.85?"warning":"alert")(),o=w==="good"?"bg-green-500":w==="warning"?"bg-yellow-500":"bg-red-500";return e.jsxs("div",{className:"card-enhanced p-5 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-2xl",children:f}),e.jsx("div",{className:`w-3 h-3 rounded-full ${o}`,title:`Status: ${w}`})]}),e.jsxs("div",{className:"flex items-baseline mb-2",children:[e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:m.toFixed(1)}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:p})]}),e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:s}),e.jsx("div",{className:"flex-1 min-h-[70px] mb-3",children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(V,{data:h,margin:{top:4,right:8,left:0,bottom:4},children:[e.jsx(E,{hide:!0,dataKey:"name"}),e.jsx(L,{hide:!0,domain:[a,i]}),e.jsx(I,{contentStyle:{background:"rgba(255,255,255,0.9)",border:"1px solid rgba(0,0,0,0.1)",borderRadius:"8px"},itemStyle:{color:"#1a202c"},formatter:(j,A)=>{const R={"HRV (Night)":"ms","Resting HR":"bpm","SpO‚ÇÇ (Night)":"%","Sleep Duration":"h","Deep Sleep":"%","REM Sleep":"%","Respiratory Rate":"/min","Body Temp":"¬∞C","Training Load":"%"}[A]||"";return[`${j.toFixed(1)} ${R}`,A]},labelFormatter:j=>`Date: ${j}`}),b&&e.jsx(H,{y:b,stroke:"#6c00ff",strokeDasharray:"3 3",label:{value:c,position:"left",fill:"#6c00ff",fontSize:10,offset:5}}),N&&e.jsx(H,{y:N,stroke:"#38bdf8",strokeDasharray:"4 2",label:{value:"Team Avg",position:"right",fill:"#38bdf8",fontSize:10,offset:5}}),e.jsx(_,{type:"monotone",dataKey:"value",stroke:x==="up"?"#10b981":x==="down"?"#ef4444":"#6b7280",strokeWidth:2,dot:!1,animationDuration:600,isAnimationActive:!0})]})})}),(b&&c||N)&&e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500 mt-1",children:[b&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-0.5 bg-[#6c00ff] mr-1 border-dashed"}),e.jsx("span",{children:c})]}),N&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-0.5 bg-[#38bdf8] mr-1 border-dashed border-0.5"}),e.jsx("span",{children:"Team Avg"})]})]}),u&&e.jsxs("p",{className:`text-xs ${v} flex items-center mt-auto`,children:[x==="up"&&e.jsx("span",{children:"‚Üë"}),x==="down"&&e.jsx("span",{children:"‚Üì"}),x==="neutral"&&e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{className:"ml-1",children:u})]})]})},as=({alert:s})=>{const l=()=>{switch(s.type){case"inflammation":case"airway":return"bg-red-50 border-red-200 text-red-800";case"circadian":case"nutrition":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"green":return"bg-green-50 border-green-200 text-green-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},p=()=>{switch(s.type){case"inflammation":return"üî•";case"circadian":return"üåô";case"nutrition":return"ü•ó";case"airway":return"üå¨Ô∏è";case"green":return"‚úÖ";default:return"üìä"}};return e.jsx("div",{className:`card-enhanced p-5 rounded-xl border-l-4 ${l()} mb-4`,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-2xl mr-3 mt-1",children:p()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:s.title}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"font-medium mb-1",children:"Cause:"}),e.jsx("p",{className:"text-sm opacity-90",children:s.cause})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium mb-1",children:"Recommendation:"}),e.jsx("p",{className:"text-sm opacity-90",children:s.rec})]})]})]})})},X=s=>new Date(s),xe=s=>X(s).toLocaleDateString("en",{month:"short",day:"numeric"}),me=s=>{const l=((s.hrv_night||0)-40)/30,p=(70-(s.resting_hr||70))/20,f=(s.sleep_duration_h||6)/9,u=((s.spo2_night||95)-90)/10;return Math.max(0,Math.min(100,(l+p+f+u)*25))},rs=({data:s,bodyCompData:l=[],geneticData:p=[]})=>{if(!s||s.length===0)return e.jsx("div",{className:"text-center py-8 text-gray-600",children:"No biometric data available"});const f=[...s].filter(c=>c.date&&!isNaN(X(c.date).getTime())).sort((c,m)=>X(c.date).getTime()-X(m.date).getTime()).map(c=>({...c,readiness:me(c),dateLabel:xe(c.date),dayOfWeek:X(c.date).getDay()})),u=l&&l.length>0,x=u?[...l].sort((c,m)=>X(c.date).getTime()-X(m.date).getTime()):[],n={ACTN3:0,PPARGC1A:0,PER3:0,CLOCK:0,BDNF:0,ADRB2:0};p.forEach(c=>{switch(c.gene){case"ACTN3":n[c.gene]=c.genotype==="RR"?1:c.genotype==="RX"?.6:.3;break;case"PPARGC1A":n[c.gene]=c.genotype.includes("Gly")?.9:.4;break;case"PER3":n[c.gene]=c.genotype==="long"?.8:.3;break;case"CLOCK":n[c.gene]=c.genotype==="AA"?.9:c.genotype==="AG"?.6:.3;break;case"BDNF":n[c.gene]=c.genotype==="Val66Val"?.9:c.genotype==="Val/Met"?.6:.3;break;case"ADRB2":n[c.gene]=c.genotype==="Arg16Arg"?.9:c.genotype==="Gly16Gly"?.4:.6;break}});const N=Object.entries(n).map(([c,m])=>({subject:c,A:m,fullMark:1})),b=new Date;return Array.from({length:49},(c,m)=>{const v=new Date(b);v.setDate(b.getDate()-48+m);const g=v.toISOString().split("T")[0],h=f.find(a=>a.date===g),d=h?Math.round(me(h)):null;return{date:g,value:d}}),e.jsxs("div",{className:"space-y-12 py-6 px-2",children:[e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üìä Key Performance Metrics"}),e.jsx(T,{width:"100%",height:300,children:e.jsxs(ie,{data:f,margin:{top:10,right:30,left:0,bottom:0},children:[e.jsx(C,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(E,{dataKey:"dateLabel",stroke:"#6b7280"}),e.jsx(L,{yAxisId:"left",stroke:"#6b7280"}),e.jsx(L,{yAxisId:"right",orientation:"right",stroke:"#6b7280"}),e.jsx(I,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(W,{}),e.jsx(_,{yAxisId:"left",type:"monotone",dataKey:"hrv_night",name:"HRV (ms)",stroke:"#6366f1",strokeWidth:3}),e.jsx(_,{yAxisId:"left",type:"monotone",dataKey:"resting_hr",name:"RHR (bpm)",stroke:"#10b981",strokeWidth:3}),e.jsx(_,{yAxisId:"right",type:"monotone",dataKey:"sleep_duration_h",name:"Sleep (h)",stroke:"#3b82f6",strokeWidth:3}),e.jsx(_,{yAxisId:"left",type:"monotone",dataKey:"spo2_night",name:"SpO‚ÇÇ (%)",stroke:"#f97316",strokeWidth:3}),e.jsx(_,{yAxisId:"right",type:"monotone",dataKey:"training_load_pct",name:"Load (%)",stroke:"#8b5cf6",strokeWidth:3,dot:!1})]})})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üåô Sleep Stage Breakdown"}),e.jsx(T,{width:"100%",height:300,children:e.jsxs(V,{data:f,children:[e.jsx(C,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(E,{dataKey:"dateLabel",stroke:"#6b7280"}),e.jsx(L,{domain:[0,100],stroke:"#6b7280"}),e.jsx(I,{formatter:c=>`${c.toFixed(1)}%`,contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(W,{}),e.jsx(_,{type:"monotone",dataKey:"deep_sleep_pct",name:"Deep Sleep",stroke:"#059669",strokeWidth:4,dot:{r:4}}),e.jsx(_,{type:"monotone",dataKey:"rem_sleep_pct",name:"REM Sleep",stroke:"#7c3aed",strokeWidth:4,dot:{r:4}}),e.jsx(_,{type:"monotone",dataKey:"light_sleep_pct",name:"Light Sleep",stroke:"#d97706",strokeWidth:4,strokeDasharray:"5 5",dot:!1})]})})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üîÅ Recovery vs. Training Load"}),e.jsx(T,{width:"100%",height:300,children:e.jsxs(ie,{data:f,children:[e.jsx(C,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(E,{dataKey:"dateLabel",stroke:"#6b7280",label:{value:"Date",position:"insideBottom",offset:-5}}),e.jsx(L,{yAxisId:"left",stroke:"#6b7280",label:{value:"Training Load (%)",angle:-90,position:"insideLeft"}}),e.jsx(L,{yAxisId:"right",orientation:"right",stroke:"#6b7280",label:{value:"HRV (ms)",angle:90,position:"insideRight"}}),e.jsx(te,{yAxisId:"left",dataKey:"training_load_pct",name:"Training Load",fill:"#e74c3c"}),e.jsx(_,{yAxisId:"right",type:"monotone",dataKey:"hrv_night",name:"HRV (Recovery)",stroke:"#2ecc71",strokeWidth:4})]})}),e.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[e.jsx("p",{children:"This chart shows the relationship between training load and recovery (measured by HRV):"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1 mt-2",children:[e.jsx("li",{children:"Higher training loads should ideally be followed by higher HRV values (better recovery)"}),e.jsx("li",{children:"Consistently low HRV despite high training loads may indicate overtraining"}),e.jsx("li",{children:"Optimal performance occurs when training load and recovery are balanced"})]})]})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"üîÑ HRV vs. Resting HR (Recovery State)"}),e.jsx(T,{width:"100%",height:350,children:e.jsxs(je,{margin:{top:20,right:30,left:0,bottom:0},children:[e.jsx(C,{}),e.jsx(E,{type:"number",dataKey:"hrv_night",name:"HRV",unit:"ms",domain:[30,70]}),e.jsx(L,{type:"number",dataKey:"resting_hr",name:"RHR",unit:"bpm",reversed:!0,domain:[40,80]}),e.jsx(I,{cursor:{strokeDasharray:"3 3"},content:({active:c,payload:m,label:v})=>{if(c&&m&&m.length){const g=m[0].payload;return e.jsxs("div",{className:"bg-white border border-gray-200 p-3 rounded shadow-sm",children:[e.jsx("p",{className:"font-semibold text-gray-800",children:"Recovery State"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["HRV: ",g.hrv_night," ms"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["RHR: ",g.resting_hr," bpm"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",g.dateLabel]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["SpO2: ",g.spo2_night?`${g.spo2_night}%`:"N/A"]})]})}return null}}),e.jsx(fe,{name:"Recovery State",data:f,fill:"#3498db",shape:"circle"})]})}),e.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[e.jsx("p",{className:"mb-2",children:"This chart shows the relationship between Heart Rate Variability (HRV) and Resting Heart Rate (RHR):"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[e.jsx("li",{children:"Higher HRV (right) indicates better recovery and parasympathetic nervous system activity"}),e.jsx("li",{children:"Lower RHR (top) indicates better cardiovascular fitness and recovery"}),e.jsx("li",{children:"Points in the top-right quadrant represent optimal recovery state"}),e.jsx("li",{children:"Points in the bottom-left quadrant may indicate fatigue or overtraining"})]})]})]}),u&&e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"‚öñÔ∏è Body Composition Over Time"}),e.jsx(T,{width:"100%",height:300,children:e.jsxs(V,{data:x,children:[e.jsx(C,{strokeDasharray:"3 3"}),e.jsx(E,{dataKey:"date",tickFormatter:c=>xe(c)}),e.jsx(L,{yAxisId:"left",label:{value:"Weight (kg)",angle:-90,position:"insideLeft"}}),e.jsx(L,{yAxisId:"right",orientation:"right",label:{value:"Mass (kg)",angle:90,position:"insideRight"}}),e.jsx(I,{}),e.jsx(W,{}),e.jsx(_,{yAxisId:"left",type:"monotone",dataKey:"weight_kg",name:"Weight",stroke:"#3498db",strokeWidth:3}),e.jsx(_,{yAxisId:"right",type:"monotone",dataKey:"muscle_mass_kg",name:"Muscle Mass",stroke:"#2ecc71",strokeWidth:3}),e.jsx(_,{yAxisId:"right",type:"monotone",dataKey:"fat_mass_kg",name:"Fat Mass",stroke:"#e67e22",strokeWidth:3,strokeDasharray:"5 5"})]})})]}),p.length>0&&e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"üß¨ Genetic Predisposition Profile"}),e.jsx(T,{width:"100%",height:400,children:e.jsxs(Ne,{outerRadius:"80%",data:N,children:[e.jsx(ye,{}),e.jsx(ve,{dataKey:"subject"}),e.jsx(we,{angle:30,domain:[0,1],tickFormatter:c=>c.toFixed(1)}),e.jsx(ke,{name:"Athlete",dataKey:"A",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6}),e.jsx(I,{formatter:c=>[`${(c*100).toFixed(0)}%`,"Predisposition"]})]})})]})]})},ns=({loading:s,error:l,hasData:p})=>s?e.jsxs("div",{className:"space-y-8 text-gray-900",children:[e.jsx("h1",{className:"text-3xl font-bold text-center text-white mb-8",children:"‚öñÔ∏è Body Composition Analysis"}),e.jsxs("div",{className:"text-center py-12 card-enhanced rounded-xl",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading body composition data..."})]})]}):l?e.jsxs("div",{className:"space-y-8 text-gray-900",children:[e.jsx("h1",{className:"text-3xl font-bold text-center text-white mb-8",children:"‚öñÔ∏è Body Composition Analysis"}),e.jsxs("div",{className:"text-center py-12 card-enhanced rounded-xl",children:[e.jsx("p",{className:"text-red-600 mb-2",children:"‚ö†Ô∏è Error loading data"}),e.jsx("p",{className:"text-sm text-gray-500",children:l})]})]}):p?e.jsx("div",{className:"space-y-8 text-gray-900",children:e.jsx("h1",{className:"text-3xl font-bold text-center text-white mb-8",children:"‚öñÔ∏è Body Composition Analysis"})}):e.jsxs("div",{className:"space-y-8 text-gray-900",children:[e.jsx("h1",{className:"text-3xl font-bold text-center text-white mb-8",children:"‚öñÔ∏è Body Composition Analysis"}),e.jsxs("div",{className:"text-center py-12 card-enhanced rounded-xl",children:[e.jsx("p",{className:"text-gray-600 mb-2",children:"‚öñÔ∏è No body composition data available"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Please ensure body composition measurements are recorded"})]})]}),r=s=>typeof s=="number"&&!isNaN(s)?s:0,is=({athleteBodyComp:s})=>{const l=parseFloat(r(s.bodyFat).toFixed(1)),p=parseFloat((r(s.muscleMass)/r(s.weight)*100).toFixed(1)),f=parseFloat((r(s.muscleMass+s.boneDensity)/r(s.weight)*100-r(s.bodyFat)).toFixed(1)),u=parseFloat((r(s.muscleMass)*.2/r(s.weight)*100).toFixed(1)),x=15,n=l+p+f+u+x,N=l/n*100,b=p/n*100,c=f/n*100,m=u/n*100,v=x/n*100,g=[{name:"Fat Mass",value:N,weight:`${(r(s.weight)*r(s.bodyFat)/100).toFixed(1)}kg`},{name:"Muscle Mass",value:b,weight:`${r(s.muscleMass).toFixed(1)}kg`},{name:"Water Weight",value:c,weight:`${r(s.muscleMass+s.boneDensity).toFixed(1)}kg`},{name:"Protein Mass",value:m,weight:`${(r(s.muscleMass)*.2).toFixed(1)}kg`},{name:"Bone Mass",value:v,weight:`${(r(s.weight)*.15).toFixed(1)}kg`}],h=["#f97316","#10b981","#3b82f6","#8b5cf6","#f59e0b"];return e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"üìà Body Composition Breakdown"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(T,{width:"100%",height:300,children:e.jsxs(Me,{children:[e.jsx(Ae,{data:g,cx:"50%",cy:"50%",labelLine:!0,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:d,percent:a})=>`${d}: ${(a?a*100:0).toFixed(0)}%`,children:g.map((d,a)=>e.jsx(le,{fill:h[a%h.length]},`cell-${a}`))}),e.jsx(I,{formatter:(d,a,i)=>[`${Number(d).toFixed(1)}% (${i.payload.weight})`,a],contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(W,{})]})})})]})},ls=({athleteBodyComp:s})=>e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"üìà Muscle Fat Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-600 mb-4",children:"‚öñÔ∏è Weight Analysis"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Current:"}),e.jsxs("span",{className:"font-bold text-purple-600",children:[r(s.weight).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Target Weight:"}),e.jsx("span",{className:"font-bold text-green-600",children:s.targetWeight?r(s.targetWeight).toFixed(1)+" kg":"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Healthy Range:"}),e.jsx("span",{className:"font-bold text-blue-600",children:s.weightRangeMin&&s.weightRangeMax?`${r(s.weightRangeMin)}-${r(s.weightRangeMax)} kg`:"N/A"})]})]}),e.jsxs("div",{className:"mt-4 relative",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-purple-500 transition-all duration-300",style:{width:`${s.weightRangeMin&&s.weightRangeMax&&s.weightRangeMax!==s.weightRangeMin?Math.min(100,Math.max(0,(r(s.weight)-r(s.weightRangeMin))/(r(s.weightRangeMax)-r(s.weightRangeMin))*100)):50}%`}})}),e.jsx("div",{className:"absolute top-0 w-0 h-0",style:{left:`${s.weightRangeMin&&s.weightRangeMax&&s.weightRangeMax!==s.weightRangeMin?Math.min(100,Math.max(0,(r(s.weight)-r(s.weightRangeMin))/(r(s.weightRangeMax)-r(s.weightRangeMin))*100)):50}%`,transform:"translateX(-50%)"},children:e.jsx("div",{className:"w-0 h-0 border-l-2 border-r-2 border-b-3 border-l-transparent border-r-transparent border-b-purple-600 mx-auto"})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:s.weightRangeMin?`${r(s.weightRangeMin)}kg`:"N/A"}),e.jsx("span",{children:s.weightRangeMax?`${r(s.weightRangeMax)}kg`:"N/A"})]})]}),e.jsxs("div",{className:"mt-3 p-2 bg-purple-50 rounded text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Status"}),e.jsx("div",{className:`text-sm font-semibold ${s.weightRangeMin&&s.weightRangeMax&&s.weight>=s.weightRangeMin&&s.weight<=s.weightRangeMax?"text-green-600":"text-orange-600"}`,children:s.weightRangeMin&&s.weightRangeMax&&s.weight>=s.weightRangeMin&&s.weight<=s.weightRangeMax?"Optimal":"Needs Adjustment"})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-600 mb-4",children:"üí™ Skeletal Muscle Analysis"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Current:"}),e.jsxs("span",{className:"font-bold text-green-600",children:[r(s.muscleMass).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Standard Range:"}),e.jsx("span",{className:"font-bold text-blue-600",children:"30.2-37.0 kg"})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Muscle Mass:"}),e.jsxs("span",{className:"font-bold text-green-600",children:[r(s.muscleMass).toFixed(1)," kg"]})]})]}),e.jsxs("div",{className:"mt-4 relative",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 transition-all duration-300",style:{width:`${Math.min(100,(r(s.muscleMass)-30.2)/(37-30.2)*100)}%`}})}),e.jsx("div",{className:"absolute top-0 w-0 h-0",style:{left:`${Math.min(100,Math.max(0,(r(s.muscleMass)-30.2)/(37-30.2)*100))}%`,transform:"translateX(-50%)"},children:e.jsx("div",{className:"w-0 h-0 border-l-2 border-r-2 border-b-3 border-l-transparent border-r-transparent border-b-green-600 mx-auto"})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"30.2kg"}),e.jsx("span",{children:"37.0kg"})]})]}),e.jsxs("div",{className:"mt-3 p-2 bg-green-50 rounded text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Muscle Status"}),e.jsx("div",{className:`text-sm font-semibold ${s.muscleMass>=30.2&&s.muscleMass<=37?"text-green-600":"text-orange-600"}`,children:s.muscleMass>=30.2&&s.muscleMass<=37?"Excellent":"Needs Work"})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-600 mb-4",children:"üî• Fat Mass Analysis"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Current:"}),e.jsxs("span",{className:"font-bold text-orange-600",children:[(r(s.weight)*r(s.bodyFat)/100).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Body Fat %:"}),e.jsxs("span",{className:"font-bold text-orange-600",children:[r(s.bodyFat).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Healthy Range:"}),e.jsx("span",{className:"font-bold text-blue-600",children:"8-20%"})]})]}),e.jsxs("div",{className:"mt-4 relative",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-orange-500 transition-all duration-300",style:{width:`${Math.min(100,r(s.bodyFat)/20*100)}%`}})}),e.jsx("div",{className:"absolute top-0 w-0 h-0",style:{left:`${Math.min(100,Math.max(0,r(s.bodyFat)/20*100))}%`,transform:"translateX(-50%)"},children:e.jsx("div",{className:"w-0 h-0 border-l-2 border-r-2 border-b-3 border-l-transparent border-r-transparent border-b-orange-600 mx-auto"})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"8%"}),e.jsx("span",{children:"20%"})]})]}),e.jsxs("div",{className:"mt-3 p-2 bg-orange-50 rounded text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Fat Status"}),e.jsx("div",{className:`text-sm font-semibold ${s.bodyFat>=8&&s.bodyFat<=20?"text-green-600":s.bodyFat<8?"text-blue-600":"text-red-600"}`,children:s.bodyFat>=8&&s.bodyFat<=20?"Healthy":s.bodyFat<8?"Low":"High"})]})]})]})]}),ds=({athleteBodyComp:s})=>e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"‚öñÔ∏è Obesity Analysis"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-700 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üìä"}),"BMI Analysis"]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex mb-2 relative",children:[e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-1 bg-blue-200"}),e.jsx("div",{className:"flex-1 bg-green-200"}),e.jsx("div",{className:"flex-1 bg-yellow-200"}),e.jsx("div",{className:"flex-1 bg-orange-200"}),e.jsx("div",{className:"flex-1 bg-red-200"})]}),e.jsxs("div",{className:"relative w-full flex",children:[e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-blue-800",children:"Underweight"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-green-800",children:"Normal"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-yellow-800",children:"Overweight"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-orange-800",children:"Obese"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-red-800",children:"Severely Obese"})]}),e.jsxs("div",{className:"absolute top-0 w-0 h-0",style:{left:`${Math.min(100,Math.max(0,(r(s.bmi)-0)/40*100))}%`,transform:"translateX(-50%)"},children:[e.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-b-4 border-l-transparent border-r-transparent border-b-blue-600 mx-auto"}),e.jsx("div",{className:"w-1 h-8 bg-blue-600 mx-auto"})]})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-2",children:[e.jsx("span",{children:"0"}),e.jsx("span",{children:"18.5"}),e.jsx("span",{children:"25"}),e.jsx("span",{children:"30"}),e.jsx("span",{children:"35"}),e.jsx("span",{children:"40+"})]})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Your BMI"}),e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:r(s.bmi).toFixed(1)}),e.jsx("div",{className:"text-sm font-medium text-gray-700",children:r(s.bmi)<18.5?"Underweight":r(s.bmi)<25?"Normal Weight":r(s.bmi)<30?"Overweight":r(s.bmi)<35?"Obese":"Severely Obese"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-purple-700 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üî•"}),"Body Fat Analysis"]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex mb-2 relative",children:[e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-1 bg-blue-200"}),e.jsx("div",{className:"flex-1 bg-green-200"}),e.jsx("div",{className:"flex-1 bg-yellow-200"}),e.jsx("div",{className:"flex-1 bg-orange-200"}),e.jsx("div",{className:"flex-1 bg-red-200"})]}),e.jsxs("div",{className:"relative w-full flex",children:[e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-blue-800",children:"Essential"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-green-800",children:"Athletic"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-yellow-800",children:"Average"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-orange-800",children:"High"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-red-800",children:"Obese"})]}),e.jsxs("div",{className:"absolute top-0 w-0 h-0",style:{left:`${Math.min(100,Math.max(0,r(s.bodyFat)/40*100))}%`,transform:"translateX(-50%)"},children:[e.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-b-4 border-l-transparent border-r-transparent border-b-purple-600 mx-auto"}),e.jsx("div",{className:"w-1 h-8 bg-purple-600 mx-auto"})]})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-2",children:[e.jsx("span",{children:"0%"}),e.jsx("span",{children:"6%"}),e.jsx("span",{children:"14%"}),e.jsx("span",{children:"24%"}),e.jsx("span",{children:"32%"}),e.jsx("span",{children:"40%+"})]})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Your Body Fat"}),e.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-1",children:[r(s.bodyFat).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm font-medium text-gray-700",children:r(s.bodyFat)<6?"Essential Fat":r(s.bodyFat)<14?"Athletic":r(s.bodyFat)<24?"Average":r(s.bodyFat)<32?"High":"Obese"})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"üí° Health Insights"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full mt-1 ${r(s.bmi)<18.5?"bg-blue-500":r(s.bmi)<25?"bg-green-500":r(s.bmi)<30?"bg-yellow-500":"bg-red-500"}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"BMI Status"}),e.jsx("div",{className:"text-gray-600",children:r(s.bmi)<18.5?"Consider gaining weight for optimal health":r(s.bmi)<25?"Excellent BMI range for health":r(s.bmi)<30?"Consider weight management":"Focus on weight reduction for better health"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full mt-1 ${r(s.bodyFat)<6?"bg-blue-500":r(s.bodyFat)<14?"bg-green-500":r(s.bodyFat)<24?"bg-yellow-500":"bg-red-500"}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Body Fat Status"}),e.jsx("div",{className:"text-gray-600",children:r(s.bodyFat)<6?"Essential fat level - monitor closely":r(s.bodyFat)<14?"Optimal for athletic performance":r(s.bodyFat)<24?"Average range - room for improvement":"Consider fat reduction strategies"})]})]})]})]})]})]}),cs=({athleteBodyComp:s})=>e.jsxs("div",{className:"card-enhanced p-6 mt-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"üìä Body Composition Metrics"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Measurement (kg)"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Proportion of weight (%)"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Evaluation"})]})}),e.jsx("tbody",{children:[{label:"Weight",value:`${r(s.weight)} (${r(s.weightRangeMin)}-${r(s.weightRangeMax)})`,percent:"100.0",eval:"Standard"},{label:"Fat mass",value:`${(r(s.weight)*r(s.bodyFat)/100).toFixed(1)} (${(r(s.weightRangeMin)*8/100).toFixed(1)}-${(r(s.weightRangeMax)*20/100).toFixed(1)})`,percent:r(s.bodyFat).toFixed(1),eval:"Standard"},{label:"Muscle mass",value:`${r(s.muscleMass).toFixed(1)} (${(r(s.weightRangeMin)*30.2/100).toFixed(1)}-${(r(s.weightRangeMax)*37/100).toFixed(1)})`,percent:(r(s.muscleMass)/r(s.weight)*100).toFixed(1),eval:"Standard"},{label:"Skeletal muscle",value:`${r(s.muscleMass).toFixed(1)} (30.2-37.0)`,percent:(r(s.muscleMass)/r(s.weight)*100).toFixed(1),eval:"Standard"},{label:"Water weight",value:`${r(s.muscleMass+s.boneDensity).toFixed(1)} (37.7-47.0)`,percent:(r(s.muscleMass+s.boneDensity)/r(s.weight)*100-r(s.bodyFat)).toFixed(1),eval:"Standard"},{label:"Protein mass",value:`${(r(s.muscleMass)*.2).toFixed(1)} (10.3-12.8)`,percent:(r(s.muscleMass)*.2/r(s.weight)*100).toFixed(1),eval:"Standard"},{label:"Bone Mass",value:`${(r(s.weight)*.15).toFixed(1)} (3.4-4.3)`,percent:"15.0",eval:"Standard"}].map((l,p)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2 font-semibold bg-gray-50",children:l.label}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:l.value}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:l.percent}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:l.eval})]},p))})]})})]}),os=({athleteBodyComp:s})=>e.jsxs("div",{className:"card-enhanced p-6 mt-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"üèãÔ∏è Body Type Assessment"}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 p-6 rounded-lg",children:[e.jsxs("div",{className:"mb-4 text-center",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Your Current Position"}),e.jsxs("div",{className:"text-lg font-semibold text-indigo-700",children:["BMI: ",r(s.bmi).toFixed(1)," | Body Fat: ",r(s.bodyFat).toFixed(1),"%"]})]}),e.jsxs("div",{className:"relative bg-white rounded-lg p-4 shadow-sm",children:[e.jsxs("div",{className:"relative w-full h-96 border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 grid grid-cols-3 grid-rows-3",children:[e.jsx("div",{className:"bg-gray-100 border-r border-b border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Too thin"})}),e.jsx("div",{className:"bg-gray-100 border-r border-b border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Thin"})}),e.jsx("div",{className:"bg-gray-100 border-b border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Invisible fat"})}),e.jsx("div",{className:"bg-gray-100 border-r border-b border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Muscular slim"})}),e.jsxs("div",{className:"bg-teal-100 border-r border-b border-gray-200 flex items-center justify-center relative",children:[e.jsx("span",{className:"text-xs font-semibold text-teal-800 text-center",children:"Fit"}),e.jsx("div",{className:"absolute inset-0 border-2 border-teal-300 rounded-sm"})]}),e.jsx("div",{className:"bg-gray-100 border-b border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Slightly fat"})}),e.jsx("div",{className:"bg-gray-100 border-r border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Athletes"})}),e.jsx("div",{className:"bg-gray-100 border-r border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Muscle"})}),e.jsx("div",{className:"bg-gray-100 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Overweight"})})]}),(()=>{const l=r(s.bmi),p=r(s.bodyFat),f=Math.min(100,Math.max(0,p/30*100)),u=Math.min(100,Math.max(0,100-(l-15)/15*100));return e.jsx("div",{className:"absolute w-4 h-4 bg-red-500 rounded-full border-2 border-white shadow-lg z-10",style:{left:`${f}%`,top:`${u}%`,transform:"translate(-50%, -50%)"},children:e.jsx("div",{className:"absolute inset-0 bg-red-500 rounded-full animate-pulse"})})})()]}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-600",children:[e.jsx("span",{children:"Body Fat Rate (%)"}),e.jsx("span",{children:"BMI (kg/m¬≤)"})]}),e.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-500",children:[e.jsx("span",{children:"0"}),e.jsx("span",{children:"10"}),e.jsx("span",{children:"20"}),e.jsx("span",{children:"30"})]}),e.jsxs("div",{className:"absolute right-2 top-4 bottom-4 flex flex-col justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"30"}),e.jsx("span",{children:"25"}),e.jsx("span",{children:"20"}),e.jsx("span",{children:"15"})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-2",children:"üìç Your Position"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("span",{className:"text-gray-700",children:"Current BMI & Body Fat position"})]}),e.jsx("div",{className:"mt-2 text-xs text-gray-600",children:'üí° The highlighted "Fit" region represents the optimal balance of BMI and body fat for health and fitness.'})]})]})]}),xs=({athleteBodyComp:s})=>{const l=r(s.bodyFat)/100*r(s.weight),p=r(s.muscleMass),f=l*.025,u=l*.5,x=l*.225,n=p*.05,N=p*.4,b=p*.25,c=(v,g)=>{const h=r(v);return g===0?"0.0":(h/g*100).toFixed(1)},m=(v,g)=>{const d={arm:{min:80,max:115},trunk:{min:90,max:110},leg:{min:90,max:110}}[g];return v>=d.min&&v<=d.max?"text-green-600 bg-green-100":"text-yellow-600 bg-yellow-100"};return e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"üîç Segmental Analysis"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-center text-gray-900 mb-6",children:"Body Composition Distribution"}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative inline-block",style:{padding:"40px"},children:[e.jsx("img",{src:"/humanmodel.png",alt:"Human Body Model",className:"max-w-full h-auto drop-shadow-lg",style:{maxHeight:"400px"}}),e.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{top:"-60px",left:"-60px",width:"calc(100% + 120px)",height:"calc(100% + 120px)"},viewBox:"0 0 120 120",preserveAspectRatio:"none",children:[e.jsx("line",{x1:"25",y1:"30",x2:"35",y2:"35",stroke:"#f97316",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"95",y1:"30",x2:"85",y2:"35",stroke:"#f97316",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"60",y1:"25",x2:"60",y2:"40",stroke:"#f97316",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"20",y1:"45",x2:"30",y2:"50",stroke:"#10b981",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"100",y1:"45",x2:"90",y2:"50",stroke:"#10b981",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"60",y1:"55",x2:"60",y2:"65",stroke:"#10b981",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"30",y1:"95",x2:"40",y2:"85",stroke:"#f97316",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"90",y1:"95",x2:"80",y2:"85",stroke:"#f97316",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"35",y1:"85",x2:"45",y2:"75",stroke:"#10b981",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"85",y1:"85",x2:"75",y2:"75",stroke:"#10b981",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"40",y1:"105",x2:"50",y2:"95",stroke:"#10b981",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"80",y1:"105",x2:"70",y2:"95",stroke:"#10b981",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("defs",{children:e.jsx("marker",{id:"arrowhead",markerWidth:"3",markerHeight:"2",refX:"2",refY:"1",orient:"auto",children:e.jsx("polygon",{points:"0 0, 3 1, 0 2",fill:"#666"})})}),e.jsxs("text",{x:"22",y:"28","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Right Arm Fat: ",r(s.ArmMassRightFatKg).toFixed(1),"kg"]}),e.jsxs("text",{x:"98",y:"28","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Left Arm Fat: ",r(s.ArmMassLeftFatKg).toFixed(1),"kg"]}),e.jsxs("text",{x:"57",y:"23","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Trunk Fat: ",r(s.TrunkMassFatKg).toFixed(1),"kg"]}),e.jsxs("text",{x:"17",y:"43","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Right Arm Muscle: ",s.armMassRightKg?r(s.armMassRightKg).toFixed(1):"N/A","kg"]}),e.jsxs("text",{x:"103",y:"43","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Left Arm Muscle: ",s.armMassLeftKg?r(s.armMassLeftKg).toFixed(1):"N/A","kg"]}),e.jsxs("text",{x:"57",y:"53","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Trunk Muscle: ",s.trunkMassKg?r(s.trunkMassKg).toFixed(1):"N/A","kg"]}),e.jsxs("text",{x:"27",y:"97","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Right Leg Fat: ",r(s.LegMassRightFatKg).toFixed(1),"kg"]}),e.jsxs("text",{x:"93",y:"97","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Left Leg Fat: ",r(s.LegMassLeftFatKg).toFixed(1),"kg"]}),e.jsxs("text",{x:"32",y:"87","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Right Leg Muscle: ",s.legMassRightKg?r(s.legMassRightKg).toFixed(1):"N/A","kg"]}),e.jsxs("text",{x:"88",y:"87","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Left Leg Muscle: ",s.legMassLeftKg?r(s.legMassLeftKg).toFixed(1):"N/A","kg"]})]})]})}),e.jsxs("div",{className:"flex justify-center mt-4 space-x-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Fat Mass"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-green-500 rounded mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Muscle Mass"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-600 mb-4",children:"Fat Mass Distribution"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Right Arm"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[s.ArmMassRightFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(c(s.ArmMassRightFatKg,f)),"arm")} px-2 py-1 rounded mt-1`,children:[c(s.ArmMassRightFatKg,f),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Left Arm"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[s.ArmMassLeftFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(c(s.ArmMassLeftFatKg,f)),"arm")} px-2 py-1 rounded mt-1`,children:[c(s.ArmMassLeftFatKg,f),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Right Leg"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[s.LegMassRightFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(c(s.LegMassRightFatKg,x)),"leg")} px-2 py-1 rounded mt-1`,children:[c(s.LegMassRightFatKg,x),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Left Leg"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[s.LegMassLeftFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(c(s.LegMassLeftFatKg,x)),"leg")} px-2 py-1 rounded mt-1`,children:[c(s.LegMassLeftFatKg,x),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Trunk"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[s.TrunkMassFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(c(s.TrunkMassFatKg,u)),"trunk")} px-2 py-1 rounded mt-1`,children:[c(s.TrunkMassFatKg,u),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Right Leg"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[s.LegMassRightFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(c(s.LegMassRightFatKg,x)),"leg")} px-2 py-1 rounded mt-1`,children:[c(s.LegMassRightFatKg,x),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Left Leg"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[s.LegMassLeftFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(c(s.LegMassLeftFatKg,x)),"leg")} px-2 py-1 rounded mt-1`,children:[c(s.LegMassLeftFatKg,x),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Trunk"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[s.TrunkMassFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(c(s.TrunkMassFatKg,u)),"trunk")} px-2 py-1 rounded mt-1`,children:[c(s.TrunkMassFatKg,u),"% Standard"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-green-600 mb-4",children:"Muscle Mass Distribution"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Trunk"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:[s.trunkMassKg?r(s.trunkMassKg).toFixed(1):"N/A","kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(c(s.trunkMassKg,N)),"trunk")} px-2 py-1 rounded mt-1`,children:[c(s.trunkMassKg,N),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Right Arm"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:[s.armMassRightKg?r(s.armMassRightKg).toFixed(1):"N/A","kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(c(s.armMassRightKg,n)),"arm")} px-2 py-1 rounded mt-1`,children:[c(s.armMassRightKg,n),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Left Arm"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:[s.armMassLeftKg?r(s.armMassLeftKg).toFixed(1):"N/A","kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(c(s.armMassLeftKg,n)),"arm")} px-2 py-1 rounded mt-1`,children:[c(s.armMassLeftKg,n),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Right Leg"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:[s.legMassRightKg?r(s.legMassRightKg).toFixed(1):"N/A","kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(c(s.legMassRightKg,b)),"leg")} px-2 py-1 rounded mt-1`,children:[c(s.legMassRightKg,b),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Left Leg"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:[s.legMassLeftKg?r(s.legMassLeftKg).toFixed(1):"N/A","kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(c(s.legMassLeftKg,b)),"leg")} px-2 py-1 rounded mt-1`,children:[c(s.legMassLeftKg,b),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Right Leg"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:[s.legMassRightKg?r(s.legMassRightKg).toFixed(1):"N/A","kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(c(s.legMassRightKg,b)),"leg")} px-2 py-1 rounded mt-1`,children:[c(s.legMassRightKg,b),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Left Leg"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:[s.legMassLeftKg?r(s.legMassLeftKg).toFixed(1):"N/A","kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(c(s.legMassLeftKg,b)),"leg")} px-2 py-1 rounded mt-1`,children:[c(s.legMassLeftKg,b),"% Standard"]})]})]})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg text-sm text-gray-600",children:[e.jsx("strong",{children:"Note:"})," Standard range: 80%-160% ‚Ä¢ Segmental fat analysis is an inferred value ‚Ä¢ Left/right upper limbs (80%-115%), Trunk/lower limbs (90%-110%)"]})]})},ms=({athleteBodyComp:s})=>e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6 text-center",children:"üèÜ Body Score Analysis"}),(()=>{const l=Math.max(0,Math.min(25,25-Math.abs(r(s.bmi)-22)*2)),p=Math.max(0,Math.min(25,25-Math.abs(r(s.bodyFat)-15)*1.5)),f=Math.max(0,Math.min(25,(r(s.muscleMass)-30.2)/(37-30.2)*25)),u=Math.max(0,Math.min(15,(s.muscleMass-30.2)/(37-30.2)*15)),x=Math.max(0,Math.min(10,10-r(s.visceralFatGrade)*.1)),n=Math.round(l+p+f+u+x);return e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center shadow-lg",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx("div",{className:"text-2xl font-bold",children:n}),e.jsx("div",{className:"text-sm",children:"Points"})]})}),e.jsx("div",{className:"absolute inset-0 w-32 h-32 rounded-full border-4 border-green-200",children:e.jsx("div",{className:"absolute top-0 left-1/2 w-1/2 h-1/2 border-4 border-green-500 rounded-full transform -translate-x-1/2 origin-bottom",style:{transform:`rotate(${Math.min(180,n/100*180)}deg)`}})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-lg font-semibold text-green-600",children:n>=80?"Excellent":n>=60?"Good":n>=40?"Fair":"Needs Improvement"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Out of 100 possible points"})]})]})})(),(()=>{const l=Math.max(0,Math.min(25,25-Math.abs(r(s.bmi)-22)*2)),p=Math.max(0,Math.min(25,25-Math.abs(r(s.bodyFat)-15)*1.5)),f=Math.max(0,Math.min(25,(r(s.muscleMass)-30.2)/(37-30.2)*25)),u=Math.max(0,Math.min(15,(s.muscleMass-30.2)/(37-30.2)*15)),x=Math.max(0,Math.min(10,10-r(s.visceralFatGrade)*.1)),n=Math.round(l+p+f+u+x);return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"üìä Score Components"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"BMI Score"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[Math.round(l),"/25"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Body Fat Score"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[Math.round(p),"/25"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Muscle Mass Score"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[Math.round(f),"/25"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Skeletal Muscle Score"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[Math.round(u),"/15"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Visceral Fat Score"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[Math.round(x),"/10"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-3",children:"üéØ Score Interpretation"}),e.jsxs("div",{className:"space-y-3 text-sm text-green-700",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Overall Health:"})," Your score indicates ",n>=80?"excellent":n>=60?"good":"fair"," body composition"]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Muscle Quality:"})," ",f>=20?"High muscle quality detected":"Room for muscle development"]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Body Balance:"})," ",u>=10?"Excellent symmetry":"Good overall balance"]})]})]})]})]})})(),(()=>{const l=Math.max(0,Math.min(25,25-Math.abs(r(s.bmi)-22)*2)),p=Math.max(0,Math.min(25,25-Math.abs(r(s.bodyFat)-15)*1.5)),f=Math.max(0,Math.min(25,(r(s.muscleMass)-30.2)/(37-30.2)*25)),u=Math.max(0,Math.min(15,(s.muscleMass-30.2)/(37-30.2)*15)),x=Math.max(0,Math.min(10,10-r(s.visceralFatGrade)*.1)),n=Math.round(l+p+f+u+x),N=Math.max(0,Math.min(25,25-Math.abs(22-22)*2)),b=Math.max(0,Math.min(25,25-Math.abs(15-15)*1.5)),c=Math.max(0,Math.min(25,(37-30.2)/(37-30.2)*25)),m=Math.max(0,Math.min(15,(37-30.2)/(37-30.2)*15)),v=Math.max(0,Math.min(10,10-1*.1)),g=Math.round(N+b+c+m+v);return e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-indigo-800 mb-4 text-center",children:"üìà Score Comparison"}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:n}),e.jsx("div",{className:"text-sm text-indigo-600",children:"Your Score"})]}),e.jsx("div",{className:"w-16 h-1 bg-gray-300"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:g}),e.jsx("div",{className:"text-sm text-green-600",children:"Target Score"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-2",children:e.jsx("div",{className:"bg-indigo-500 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,n/g*100)}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[e.jsx("span",{children:"0"}),e.jsx("span",{children:Math.round(g/2)}),e.jsx("span",{children:g})]})]})})(),e.jsx("div",{className:"mt-6 p-3 bg-gray-50 rounded-lg text-center",children:e.jsxs("p",{className:"text-xs text-gray-600",children:["üí° ",e.jsx("strong",{children:"Note:"})," The total score reflects the evaluated value of body composition. A muscular person may get more than 100 points. This score is for informational purposes only."]})})]}),gs=({athleteBodyComp:s})=>e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6 text-center",children:"üéØ Weight Control Goals"}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Current Weight"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[r(s.weight).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Target Weight"}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r(s.targetWeight).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Difference"}),e.jsxs("div",{className:`text-2xl font-bold ${r(s.weight)-r(s.targetWeight)>=0?"text-orange-600":"text-red-600"}`,children:[r(s.weight)-r(s.targetWeight)>=0?"+":"",(r(s.weight)-r(s.targetWeight)).toFixed(1)," kg"]})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"üìä Progress to Target Weight"}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 p-6 rounded-lg shadow-sm border-2 border-blue-200",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm font-medium text-gray-700 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[r(s.weight).toFixed(1),"kg"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"CURRENT"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r(s.targetWeight).toFixed(1),"kg"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"TARGET"})]})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx("div",{className:"w-full bg-gray-300 rounded-full h-6 shadow-inner",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 via-blue-600 to-green-500 h-6 rounded-full transition-all duration-500 shadow-lg",style:{width:`${Math.min(100,Math.max(0,(r(s.targetWeight)-r(s.weight))/(r(s.targetWeight)-r(s.weight)+Math.abs(r(s.weight)-r(s.targetWeight)))*100))}%`}})}),e.jsx("div",{className:"absolute top-0 w-1 h-8 bg-green-600 rounded-full shadow-lg",style:{left:"100%",transform:"translateX(-50%)"},children:e.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2",children:e.jsx("div",{className:"text-xs font-bold text-green-600",children:"üéØ"})})}),e.jsx("div",{className:"absolute top-0 w-4 h-10 bg-blue-600 rounded-full shadow-lg border-2 border-white",style:{left:`${Math.min(100,Math.max(0,(r(s.targetWeight)-r(s.weight))/(r(s.targetWeight)-r(s.weight)+Math.abs(r(s.weight)-r(s.targetWeight)))*100))}%`,transform:"translateX(-50%)"},children:e.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2",children:e.jsxs("div",{className:"text-xs font-bold text-blue-600 whitespace-nowrap",children:["üìç ",r(s.weight).toFixed(1),"kg"]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Difference"}),e.jsxs("div",{className:`text-lg font-bold ${r(s.weight)-r(s.targetWeight)>=0?"text-orange-600":"text-green-600"}`,children:[r(s.weight)-r(s.targetWeight)>=0?"+":"",(r(s.weight)-r(s.targetWeight)).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Progress"}),e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[Math.min(100,Math.max(0,(r(s.targetWeight)-r(s.weight))/(r(s.targetWeight)-r(s.weight)+Math.abs(r(s.weight)-r(s.targetWeight)))*100)).toFixed(0),"%"]})]}),e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Status"}),e.jsx("div",{className:`text-lg font-bold ${r(s.weight)-r(s.targetWeight)<=0?"text-green-600":"text-orange-600"}`,children:r(s.weight)-r(s.targetWeight)<=0?"On Track":"Adjusting"})]})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("div",{className:"text-sm text-gray-700 bg-white p-3 rounded-lg shadow-sm",children:r(s.weight)-r(s.targetWeight)<=0?`üéâ Great progress! Only ${Math.abs(r(s.weight)-r(s.targetWeight)).toFixed(1)}kg to reach your target!`:`üí™ You're ${Math.abs(r(s.weight)-r(s.targetWeight)).toFixed(1)}kg above target. Let's adjust your plan!`})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"‚öñÔ∏è"}),"Weight Management"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Target Weight"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[r(s.targetWeight).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Current Status"}),e.jsx("span",{className:`font-bold ${r(s.weight)-r(s.targetWeight)>=0?"text-orange-600":"text-green-600"}`,children:r(s.weight)-r(s.targetWeight)>=0?"Above Target":"On Track"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Weekly Goal"}),e.jsx("span",{className:"font-bold text-blue-600",children:r(s.weight)-r(s.targetWeight)>2?`-${Math.min(1,(r(s.weight)-r(s.targetWeight))/8).toFixed(2)} kg/week`:r(s.weight)-r(s.targetWeight)>0?`-${Math.min(.5,(r(s.weight)-r(s.targetWeight))/8).toFixed(2)} kg/week`:r(s.weight)-r(s.targetWeight)<-2?`+${Math.min(.5,Math.abs(r(s.weight)-r(s.targetWeight))/8).toFixed(2)} kg/week`:"Maintain"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üí™"}),"Body Composition Goals"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Fat Control"}),e.jsxs("span",{className:`font-bold ${r(s.bodyFat)-15>=0?"text-red-600":"text-green-600"}`,children:[r(s.bodyFat)-15>=0?"+":"",(r(s.bodyFat)-15).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Muscle Control"}),e.jsxs("span",{className:`font-bold ${r(s.muscleMass)-35>=0?"text-green-600":"text-red-600"}`,children:[r(s.muscleMass)-35>=0?"+":"",(r(s.muscleMass)-35).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Target Fat %"}),e.jsx("span",{className:"font-bold text-green-600",children:"15%"})]})]})]})]}),e.jsxs("div",{className:"mt-6 bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-800 mb-3",children:"üéØ Action Plan"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-purple-700",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Nutrition Focus"}),e.jsx("div",{children:r(s.weight)-r(s.targetWeight)>2?`Calorie deficit: ${Math.round((r(s.weight)-r(s.targetWeight))*1250)} kcal/day`:r(s.weight)-r(s.targetWeight)>0?`Calorie deficit: ${Math.round((r(s.weight)-r(s.targetWeight))*625)} kcal/day`:r(s.weight)-r(s.targetWeight)<-2?`Calorie surplus: ${Math.round(Math.abs(r(s.weight)-r(s.targetWeight))*625)} kcal/day`:"Balanced nutrition"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Training Focus"}),e.jsx("div",{children:r(s.muscleMass)<35?"Strength training 3x/week":r(s.bodyFat)>15?"HIIT + cardio 3x/week":"Mixed training program"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Timeline"}),e.jsx("div",{children:Math.abs(r(s.weight)-r(s.targetWeight))>5?`${Math.round(Math.abs(r(s.weight)-r(s.targetWeight))*2.4)} weeks`:Math.abs(r(s.weight)-r(s.targetWeight))>2?`${Math.round(Math.abs(r(s.weight)-r(s.targetWeight))*1.5)} weeks`:"4-6 weeks"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Monitoring"}),e.jsx("div",{children:"Weekly weigh-ins + monthly body composition"})]})]})]})]})]}),hs=({athleteBodyComp:s})=>e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6 text-center",children:"üìã Health Indicators Overview"}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üî•"}),"Metabolic Health"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Basal Metabolic Rate"}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[r(s.basalMetabolicRate).toFixed(0)," kcal"]})]}),e.jsx("div",{className:"text-xs text-blue-600 mb-2",children:"Daily calories burned at rest"}),e.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Math.min(100,r(s.basalMetabolicRate)/2500*100)}%`}})}),e.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Range: 1200-2500 kcal"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-green-700",children:"Visceral Fat Grade"}),e.jsxs("span",{className:"text-lg font-bold text-green-600",children:[r(s.visceralFatGrade),"/10"]})]}),e.jsx("div",{className:"text-xs text-green-600 mb-2",children:"Fat around internal organs"}),e.jsx("div",{className:"w-full bg-green-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${Math.min(100,r(s.visceralFatGrade)/10*100)}%`}})}),e.jsx("div",{className:"text-xs text-green-600 mt-1",children:"Ideal: 1-3"})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-purple-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üí™"}),"Body Composition"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Fat-Free Body Weight"}),e.jsxs("span",{className:"text-lg font-bold text-purple-600",children:[r(s.weight-s.weight*s.bodyFat/100).toFixed(1)," kg"]})]}),e.jsx("div",{className:"text-xs text-purple-600 mb-2",children:"Weight without fat"}),e.jsx("div",{className:"w-full bg-purple-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${Math.min(100,r(s.weight-s.weight*s.bodyFat/100)/80*100)}%`}})}),e.jsx("div",{className:"text-xs text-purple-600 mt-1",children:"Higher is better for muscle mass"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-orange-700",children:"Subcutaneous Fat"}),e.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[r(s.bodyFat).toFixed(1),"%"]})]}),e.jsx("div",{className:"text-xs text-orange-600 mb-2",children:"Fat under the skin"}),e.jsx("div",{className:"w-full bg-orange-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${Math.min(100,r(s.bodyFat))}%`}})}),e.jsx("div",{className:"text-xs text-orange-600 mt-1",children:"Healthy range: 8-20%"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-indigo-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"‚è≥"}),"Age & Body Ratios"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 p-4 rounded-lg text-center",children:[e.jsx("div",{className:"text-sm font-medium text-indigo-700 mb-1",children:"Body Age"}),e.jsx("div",{className:"text-2xl font-bold text-indigo-600 mb-1",children:r(s.bodyAge)}),e.jsx("div",{className:"text-xs text-indigo-600",children:"years"}),e.jsx("div",{className:`text-xs mt-2 px-2 py-1 rounded-full ${r(s.bodyAge)<=25?"bg-green-100 text-green-800":r(s.bodyAge)<=35?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r(s.bodyAge)<=25?"Excellent":r(s.bodyAge)<=35?"Good":"Needs Attention"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 p-4 rounded-lg text-center",children:[e.jsx("div",{className:"text-sm font-medium text-pink-700 mb-1",children:"SMI"}),e.jsx("div",{className:"text-2xl font-bold text-pink-600 mb-1",children:r(s.muscleMass/1.8**2).toFixed(1)}),e.jsx("div",{className:"text-xs text-pink-600",children:"kg/m¬≤"}),e.jsx("div",{className:`text-xs mt-2 px-2 py-1 rounded-full ${r(s.muscleMass/1.8**2)>=7?"bg-green-100 text-green-800":r(s.muscleMass/1.8**2)>=5?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r(s.muscleMass/1.8**2)>=7?"Strong":r(s.muscleMass/1.8**2)>=5?"Average":"Low"}),e.jsx("div",{className:"text-xs text-pink-600 mt-2 italic",children:"Skeletal Muscle Index - measures muscle mass relative to height"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-teal-100 p-4 rounded-lg text-center",children:[e.jsx("div",{className:"text-sm font-medium text-teal-700 mb-1",children:"WHR"}),e.jsx("div",{className:"text-2xl font-bold text-teal-600 mb-1",children:"0.86"}),e.jsx("div",{className:"text-xs text-teal-600",children:"ratio"}),e.jsx("div",{className:"text-xs mt-2 px-2 py-1 rounded-full bg-green-100 text-green-800",children:"Healthy"}),e.jsx("div",{className:"text-xs text-teal-600 mt-2 italic",children:"Waist-to-Hip Ratio - measures body fat distribution and health risks"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"üí° Key Insights"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Metabolic Rate:"})," Your BMR indicates ",r(s.basalMetabolicRate)>1800?"good muscle mass":"potential for improvement"," with strength training."]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Body Age:"})," ",r(s.bodyAge)<=25?"Excellent! Your body is in peak condition.":"Focus on consistent training and nutrition to improve."]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Muscle Quality:"})," Your SMI suggests ",r(s.muscleMass/1.8**2)>=7?"excellent muscle quality":"room for muscle development","."]})]})]})]})]}),us=({athleteBodyComp:s})=>e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"‚öñÔ∏è Body Balance Evaluation"}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-semibold text-green-700 mb-2",children:"Overall Balance Status"}),e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"Excellent"}),e.jsx("div",{className:"text-sm text-green-600",children:"Your body shows excellent symmetry and balance"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üí™"}),"Upper Body Balance"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Left Arm Strength"}),e.jsx("span",{className:"font-bold text-blue-600",children:"95.2%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Right Arm Strength"}),e.jsx("span",{className:"font-bold text-blue-600",children:"94.8%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Shoulder Symmetry"}),e.jsx("span",{className:"font-bold text-green-600",children:"98.5%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Upper Body Status"}),e.jsx("span",{className:"font-bold text-green-600",children:"Excellent"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-teal-50 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"ü¶µ"}),"Lower Body Balance"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Left Leg Strength"}),e.jsx("span",{className:"font-bold text-green-600",children:"96.1%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Right Leg Strength"}),e.jsx("span",{className:"font-bold text-green-600",children:"95.9%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Hip Alignment"}),e.jsx("span",{className:"font-bold text-green-600",children:"97.8%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Lower Body Status"}),e.jsx("span",{className:"font-bold text-green-600",children:"Excellent"})]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"üìä Balance Comparison"}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[e.jsx("span",{children:"Upper Body"}),e.jsx("span",{children:"Lower Body"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-blue-500 h-3 rounded-full",style:{width:"98%"}})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"98%"}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-green-500 h-3 rounded-full",style:{width:"97%"}})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[e.jsx("span",{children:"Left Side"}),e.jsx("span",{children:"Right Side"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-purple-500 h-3 rounded-full",style:{width:"96%"}})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"99%"}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-orange-500 h-3 rounded-full",style:{width:"95%"}})})]})]})]})})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"üí° Balance Insights"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Excellent Symmetry:"})," Your left and right sides show remarkable balance, indicating well-rounded training."]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Upper-Lower Harmony:"})," Perfect balance between upper and lower body strength prevents injury and optimizes performance."]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Muscle Coordination:"})," Your balanced development suggests excellent neuromuscular coordination and training efficiency."]})]})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"üéØ Recommendations"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Continue with your balanced training approach. Consider adding unilateral exercises to maintain this excellent symmetry."})]})]}),bs=({athleteId:s})=>{const[l,p]=k.useState(null),[f,u]=k.useState(!0),[x,n]=k.useState(null);return k.useEffect(()=>{s&&(async()=>{try{u(!0),n(null);const b=parseInt(s,10);if(isNaN(b))throw new Error("Invalid athlete ID");const c=await _e.getBodyCompositionByAthlete(b),m=Array.isArray(c)?c.filter(v=>v.measurementDate).sort((v,g)=>new Date(g.measurementDate).getTime()-new Date(v.measurementDate).getTime())[0]:null;p(m||null)}catch(b){n(b instanceof Error?b.message:"Failed to load body composition data")}finally{u(!1)}})()},[s]),e.jsxs("div",{className:"space-y-8 text-gray-900",children:[e.jsx(ns,{loading:f,error:x,hasData:!!l}),l&&e.jsxs(e.Fragment,{children:[e.jsx(is,{athleteBodyComp:l}),e.jsx(ls,{athleteBodyComp:l}),e.jsx(ds,{athleteBodyComp:l}),e.jsx(cs,{athleteBodyComp:l}),e.jsx(os,{athleteBodyComp:l}),e.jsx(xs,{athleteBodyComp:l}),e.jsx(ms,{athleteBodyComp:l}),e.jsx(gs,{athleteBodyComp:l}),e.jsx(hs,{athleteBodyComp:l}),e.jsx(us,{athleteBodyComp:l})]})]})},ps=({athleteId:s})=>{const[l,p]=k.useState([]),[f,u]=k.useState([]),[x,n]=k.useState(!0),[N,b]=k.useState(null),[c,m]=k.useState("");k.useEffect(()=>{s&&(async()=>{try{n(!0),b(null);const i=parseInt(s,10);if(isNaN(i))throw new Error("Invalid athlete ID");const y=await Q.getPharmacogenomicsByAthlete(i);p(y);const w=await Q.getGeneticProfileByAthlete(i);u(w),m(`Athlete ${s}`)}catch(i){b(i instanceof Error?i.message:"Failed to load genetic data")}finally{n(!1)}})()},[s]);const v=k.useMemo(()=>{const a=[],i=[{medication:"Ibuprofen",gene:"General",genotype:"Standard",effect:"Standard anti-inflammatory response",recommendation:"Safe for short-term use, monitor stomach",riskLevel:"low",category:"safe",athleticRelevance:"high",commonUse:"Post-training soreness",dosage:"400-800mg every 6-8 hours as needed",alternatives:["Acetaminophen","Naproxen"],interactions:["Aspirin","Blood thinners"]},{medication:"Acetaminophen",gene:"General",genotype:"Standard",effect:"Standard pain relief without anti-inflammatory effects",recommendation:"Safe for pain relief, liver-safe dosing",riskLevel:"low",category:"safe",athleticRelevance:"high",commonUse:"Headache and general pain",dosage:"500-1000mg every 4-6 hours as needed",alternatives:["Ibuprofen","Aspirin"],interactions:["Alcohol","Liver medications"]},{medication:"Caffeine",gene:"ADORA2A",genotype:"Standard",effect:"Performance enhancement through adenosine receptor",recommendation:"Effective for endurance and focus",riskLevel:"low",category:"safe",athleticRelevance:"high",commonUse:"Pre-training stimulation",dosage:"200-400mg 30-60 minutes before activity",alternatives:["Green tea extract","Guarana"],interactions:["Stimulants","Heart medications"]},{medication:"Albuterol",gene:"ADRB2",genotype:"Standard",effect:"Bronchodilation for improved breathing",recommendation:"Effective for exercise-induced bronchoconstriction",riskLevel:"low",category:"safe",athleticRelevance:"high",commonUse:"Asthma and breathing support",dosage:"2 puffs as needed before exercise",alternatives:["Levalbuterol","Ipratropium"],interactions:["Beta-blockers","Heart medications"]},{medication:"Vitamin K",gene:"VKORC1",genotype:"Standard",effect:"Can interfere with blood thinning medications",recommendation:"Monitor intake if on anticoagulants",riskLevel:"medium",category:"caution",athleticRelevance:"medium",commonUse:"Bone health supplement",dosage:"90-120mcg daily from food sources",alternatives:["Calcium","Vitamin D"],interactions:["Warfarin","Blood thinners"]}];return a.push(...i),l.length>0&&l.forEach(y=>{y.medication&&y.medication!=="Unknown Medication"&&y.medication.trim()!==""&&y.interpretation_code&&y.interpretation_code!=="Effect not specified"&&a.push({medication:y.medication,gene:y.gene||"Unknown Gene",genotype:y.genetic_call||y.known_call||"Unknown Genotype",effect:y.interpretation_code,recommendation:y.override_comment||"Monitor response and adjust as needed",riskLevel:(y.summary_flag||"medium").toLowerCase(),category:"caution",athleticRelevance:"medium",commonUse:"Genetic-specific medication response"})}),f.forEach(y=>{switch(y.gene){case"CYP2D6":y.genotype.includes("Poor")?a.push({medication:"Codeine",gene:y.gene,genotype:y.genotype,effect:"Poor metabolism - may be ineffective",recommendation:"Avoid codeine, consider alternative pain relief",riskLevel:"high",category:"avoid",athleticRelevance:"high",commonUse:"Post-injury pain relief"}):y.genotype.includes("Ultra")&&a.push({medication:"Codeine",gene:y.gene,genotype:y.genotype,effect:"Ultra-rapid metabolism - risk of toxicity",recommendation:"Avoid codeine, risk of overdose",riskLevel:"high",category:"avoid",athleticRelevance:"high",commonUse:"Post-injury pain relief"});break;case"CYP2C19":y.genotype.includes("Poor")&&a.push({medication:"Omeprazole",gene:y.gene,genotype:y.genotype,effect:"Poor metabolism - reduced effectiveness",recommendation:"Higher doses may be needed or alternative PPI",riskLevel:"medium",category:"caution",athleticRelevance:"medium",commonUse:"GERD treatment"});break;case"SLCO1B1":y.genotype==="CC"?a.push({medication:"Atorvastatin",gene:y.gene,genotype:y.genotype,effect:"Increased risk of statin-induced myopathy",recommendation:"Monitor for muscle pain, consider lower doses",riskLevel:"medium",category:"caution",athleticRelevance:"medium",commonUse:"Cholesterol management"}):(y.genotype==="CT"||y.genotype==="TT")&&a.push({medication:"Atorvastatin",gene:y.gene,genotype:y.genotype,effect:"Significantly increased risk of myopathy",recommendation:"Avoid statins or use very low doses with monitoring",riskLevel:"high",category:"avoid",athleticRelevance:"medium",commonUse:"Cholesterol management"});break;case"VKORC1":a.push({medication:"Warfarin",gene:y.gene,genotype:y.genotype,effect:"Affects warfarin sensitivity",recommendation:y.genotype==="AA"?"May require higher warfarin doses":y.genotype==="AG"?"Standard dosing appropriate":"May require lower warfarin doses",riskLevel:y.genotype==="AA"?"medium":y.genotype==="GG"?"high":"low",category:y.genotype==="GG"?"caution":"safe",athleticRelevance:"low",commonUse:"Anticoagulation therapy"});break;case"CFTR":y.genotype==="F508del/F508del"&&a.push({medication:"Ivacaftor",gene:y.gene,genotype:y.genotype,effect:"Responds well to CFTR modulator therapy",recommendation:"Ivacaftor indicated for this genotype",riskLevel:"low",category:"safe",athleticRelevance:"low",commonUse:"Cystic fibrosis treatment"});break}}),a},[l,f]);if(x)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pharmacogenomics Report"}),e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading genetic data..."})]})]})});if(N)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pharmacogenomics Report"}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-500 mb-4",children:"‚ö†Ô∏è"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Genetic Data"}),e.jsx("p",{className:"text-gray-600 mb-4",children:N}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Retry"})]})]})});const g=v.filter(a=>a.category==="safe"),h=v.filter(a=>a.category==="caution"),d=v.filter(a=>a.category==="avoid");return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Medication Safety Guide"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Genetic-based medication recommendations for ",c]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[g.length," Safe"]}),e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[h.length," Use with Caution"]}),e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[d.length," Avoid"]})]})]}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors flex items-center gap-1",title:"Refresh medication data",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),g.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),"Safe to Use (",g.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:g.map((a,i)=>e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:a.medication}),e.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800 font-medium",children:a.athleticRelevance==="high"?"High Relevance":"Medium Relevance"})]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Common Use:"})," ",a.commonUse]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Effect:"})," ",a.effect]}),a.dosage&&e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Recommended Dosage:"})," ",a.dosage]}),a.alternatives&&a.alternatives.length>0&&e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Alternatives:"})," ",a.alternatives.join(", ")]})]},i))})]}),h.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-yellow-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-2"}),"Use with Caution (",h.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:h.map((a,i)=>e.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:a.medication}),e.jsxs("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${a.riskLevel==="high"?"bg-red-100 text-red-800":a.riskLevel==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[a.riskLevel," Risk"]})]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Common Use:"})," ",a.commonUse]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Effect:"})," ",a.effect]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:[e.jsx("span",{className:"font-medium",children:"Recommendation:"})," ",a.recommendation]}),a.dosage&&e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Recommended Dosage:"})," ",a.dosage]}),a.alternatives&&a.alternatives.length>0&&e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Alternatives:"})," ",a.alternatives.join(", ")]})]},i))})]}),d.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-red-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-3 h-3 bg-red-500 rounded-full mr-2"}),"Avoid These Medications (",d.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:d.map((a,i)=>e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:a.medication}),e.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-red-100 text-red-800 font-medium",children:"High Risk"})]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Common Use:"})," ",a.commonUse]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Effect:"})," ",a.effect]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:[e.jsx("span",{className:"font-medium",children:"Recommendation:"})," ",a.recommendation]}),a.alternatives&&a.alternatives.length>0&&e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Safer Alternatives:"})," ",a.alternatives.join(", ")]})]},i))})]}),v.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-4",children:"üíä"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Significant Pharmacogenomic Interactions"}),e.jsx("p",{className:"text-gray-600",children:"Based on available genetic data, no high-risk medication interactions were detected."})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Common Athletic Scenarios"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-3",children:"Post-Injury Pain Management"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"Acetaminophen:"}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Safe"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"Ibuprofen (short-term):"}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Safe"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"Codeine:"}),e.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full",children:"Avoid"})]})]})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("h4",{className:"font-semibold text-purple-800 mb-3",children:"Performance Enhancement"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-purple-700",children:"Caffeine:"}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Safe"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-purple-700",children:"Albuterol (if prescribed):"}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Safe"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-purple-700",children:"Vitamin K (with anticoagulants):"}),e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:"Caution"})]})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),"Important Interactions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("h5",{className:"font-semibold text-orange-800 mb-2",children:"With Athletic Performance"}),e.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Caffeine may interfere with sleep medications"}),e.jsx("li",{children:"‚Ä¢ NSAIDs can reduce training adaptations if overused"}),e.jsx("li",{children:"‚Ä¢ Decongestants may cause heart rhythm issues"})]})]}),e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("h5",{className:"font-semibold text-red-800 mb-2",children:"With Other Medications"}),e.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Aspirin + blood thinners = increased bleeding risk"}),e.jsx("li",{children:"‚Ä¢ Caffeine + stimulants = heart palpitations"}),e.jsx("li",{children:"‚Ä¢ Vitamin K + warfarin = reduced effectiveness"})]})]})]})]}),e.jsxs("div",{className:"p-5 bg-blue-50 rounded-lg border border-blue-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Important Medical Disclaimer"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"This pharmacogenomic report is for informational purposes only and should not replace professional medical advice. Always consult with a healthcare provider before making any changes to medication regimens. Genetic testing can provide valuable insights but is only one factor in medication response."})]})]})})},js=({athleteId:s})=>{const[l,p]=k.useState([]),[f,u]=k.useState([]),[x,n]=k.useState(!0),[N,b]=k.useState(null),[c,m]=k.useState(""),[v,g]=k.useState(null);k.useEffect(()=>{s&&(async()=>{try{n(!0),b(null);const a=parseInt(s,10);if(isNaN(a))throw new Error("Invalid athlete ID");const[i,y]=await Promise.all([Q.getNutrigenomicsByAthlete(a),Q.getGeneticProfileByAthlete(a)]),w=Array.isArray(i)?i.map((o,j)=>({gene:o.gene||o.GeneName||`GENE_${j}`,genetic_call:o.genetic_call||o.GeneticCall||o.genotype||"Unknown",known_call:o.known_call||o.KnownCall,category:o.category||o.Category||"General",priority:o.priority||o.Priority||o.summary_flag||"medium",summary_flag:o.summary_flag||o.SummaryFlag,interpretation_code:o.interpretation_code||o.InterpretationCode||o.rationale,supplement:o.supplement||o.Supplement,dosage:o.dosage||o.Dosage,timing:o.timing||o.Timing,created_at:o.created_at||o.CreatedAt,confidence_score:o.confidence_score||o.ConfidenceScore,risk_level:o.risk_level||o.RiskLevel||(o.priority==="high"?"high":o.priority==="medium"?"medium":"low")})):[];p(w),u(y),g(new Date().toISOString()),m(`Athlete ${s}`)}catch(a){b(a instanceof Error?a.message:"Failed to load genetic data")}finally{n(!1)}})()},[s]);const h=k.useMemo(()=>{const d=[];return l.length>0&&l.forEach((a,i)=>{a.supplement&&a.gene&&d.push({supplement:a.supplement,gene:a.gene,genotype:a.genetic_call||a.known_call||"Unknown",rationale:a.interpretation_code||"Genetic-based recommendation",dosage:a.dosage||"Dosage not specified",timing:a.timing||"Timing not specified",priority:(a.priority||a.summary_flag||"medium").toLowerCase(),category:a.category||"General",confidence_score:a.confidence_score,risk_level:a.risk_level,genetic_mark_id:`mark_${i}`})}),d.length===0&&(Array.isArray(f)?f:[]).forEach(i=>{switch(i.gene){case"MTHFR":(i.genotype==="TT"||i.genotype==="CT")&&d.push({supplement:"Methylated Folate (5-MTHF)",gene:i.gene,genotype:i.genotype,rationale:"Reduced enzyme activity affects folate metabolism",dosage:"400-800 mcg daily",timing:"With breakfast for better absorption",priority:i.genotype==="TT"?"high":"medium",category:"Methylation",confidence_score:.85,risk_level:i.genotype==="TT"?"high":"medium"});break;case"VDR":(i.genotype==="FF"||i.genotype==="Ff")&&d.push({supplement:"Vitamin D3",gene:i.gene,genotype:i.genotype,rationale:"Reduced vitamin D receptor sensitivity",dosage:"2000-4000 IU daily (with blood testing)",timing:"With fat-containing meal for better absorption",priority:"high",category:"Vitamin Metabolism",confidence_score:.9,risk_level:"high"});break;case"FTO":(i.genotype==="AA"||i.genotype==="AT")&&d.push({supplement:"Green Tea Extract (EGCG)",gene:i.gene,genotype:i.genotype,rationale:"Increased risk of weight gain, enhanced fat oxidation support",dosage:"250-500 mg EGCG daily",timing:"30 minutes before exercise",priority:"medium",category:"Metabolism",confidence_score:.75,risk_level:"medium"});break;case"ACTN3":i.genotype==="XX"?d.push({supplement:"Creatine Monohydrate",gene:i.gene,genotype:i.genotype,rationale:"Reduced power/strength potential, creatine can help",dosage:"3-5g daily",timing:"Post-workout with carbohydrates",priority:"medium",category:"Performance",confidence_score:.8,risk_level:"medium"}):i.genotype==="RR"&&d.push({supplement:"Beta-Alanine",gene:i.gene,genotype:i.genotype,rationale:"Enhanced power capacity, buffering support",dosage:"3-5g daily (divided doses)",timing:"Pre-workout",priority:"medium",category:"Performance",confidence_score:.8,risk_level:"low"});break;case"PPARGC1A":i.genotype.includes("Ser")&&(d.push({supplement:"Resveratrol",gene:i.gene,genotype:i.genotype,rationale:"Enhanced mitochondrial biogenesis response",dosage:"250-500mg daily",timing:"With dinner",priority:"medium",category:"Mitochondrial Function",confidence_score:.7,risk_level:"low"}),d.push({supplement:"Coenzyme Q10",gene:i.gene,genotype:i.genotype,rationale:"Mitochondrial support for energy production",dosage:"100-200mg daily",timing:"With breakfast",priority:"medium",category:"Mitochondrial Function",confidence_score:.75,risk_level:"low"}));break;case"ADRB2":i.genotype==="Gly16Gly"&&d.push({supplement:"Caffeine (Genotype-Optimized)",gene:i.gene,genotype:i.genotype,rationale:"Reduced fat mobilization, strategic caffeine use",dosage:"100-200mg (lower than typical doses)",timing:"Pre-workout (avoid late in day)",priority:"medium",category:"Metabolism",confidence_score:.65,risk_level:"medium"});break;case"NOS3":(i.genotype==="CC"||i.genotype==="CT")&&d.push({supplement:"L-Citrulline",gene:i.gene,genotype:i.genotype,rationale:"Enhanced nitric oxide production support",dosage:"6-8g daily",timing:"30 minutes before exercise",priority:"medium",category:"Cardiovascular",confidence_score:.8,risk_level:"low"});break}}),d},[l,f]);return x?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Nutrigenomics Report"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Loading genetic marks from controllers..."})]}),e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Fetching genetic data and processing recommendations..."})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("div",{className:"inline-flex items-center text-sm text-gray-500",children:[e.jsx("div",{className:"animate-pulse mr-2",children:"‚óè"}),e.jsx("div",{className:"animate-pulse mr-2",children:"‚óè"}),e.jsx("div",{className:"animate-pulse",children:"‚óè"})]})})]})}):N?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Nutrigenomics Report"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:"Refresh"})]}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-500 mb-4 text-4xl",children:"‚ö†Ô∏è"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Genetic Data"}),e.jsx("p",{className:"text-gray-600 mb-4 max-w-md mx-auto",children:N}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Retry Loading"}),e.jsx("p",{className:"text-xs text-gray-500",children:"If the problem persists, please check your connection or contact support."})]})]})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Nutrigenomics Report"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Personalized supplement recommendations for ",c]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:l.length>0?`${l.length} genetic marks from controllers`:"Legacy genetic profiles"}),l.length>0&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Controller Data Available"})]})]}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors flex items-center gap-1",title:"Refresh genetic data",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),h.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Supplement Recommendations (",h.length,")"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[h.filter(d=>d.priority==="high").length," High Priority"]}),e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[h.filter(d=>d.priority==="medium").length," Medium Priority"]}),e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[h.filter(d=>d.priority==="low").length," Low Priority"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:h.map((d,a)=>e.jsxs("div",{className:"p-5 rounded-lg border border-gray-200 hover:border-blue-300 transition-colors bg-white shadow-sm",children:[e.jsx("div",{className:"flex justify-between items-start mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:d.supplement}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[d.gene," ‚Ä¢ ",d.genotype]}),e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d.priority==="high"?"bg-red-100 text-red-800":d.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[d.priority.charAt(0).toUpperCase()+d.priority.slice(1)," Priority"]}),d.category&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:d.category})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Rationale:"})," ",d.rationale]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 text-sm",children:"Dosage:"}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:d.dosage})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 text-sm",children:"Timing:"}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:d.timing})]})]}),d.confidence_score&&e.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-600",children:[e.jsx("span",{children:"Confidence Score:"}),e.jsxs("span",{className:`font-medium ${d.confidence_score>=.8?"text-green-600":d.confidence_score>=.6?"text-yellow-600":"text-red-600"}`,children:[(d.confidence_score*100).toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:`h-2 rounded-full ${d.confidence_score>=.8?"bg-green-500":d.confidence_score>=.6?"bg-yellow-500":"bg-red-500"}`,style:{width:`${d.confidence_score*100}%`}})})]}),d.risk_level&&e.jsx("div",{className:"pt-2 border-t border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Risk Level:"}),e.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${d.risk_level==="high"?"bg-red-100 text-red-800":d.risk_level==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:d.risk_level.charAt(0).toUpperCase()+d.risk_level.slice(1)})]})})]})]},d.genetic_mark_id||a))})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ü•ó"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Specific Genetic-Based Supplement Recommendations"}),e.jsx("p",{className:"text-gray-600",children:"Based on available genetic data, no specific supplement recommendations were identified."})]}),e.jsxs("div",{className:"mt-8 p-5 bg-blue-50 rounded-lg border border-blue-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Implementation Notes"}),e.jsxs("ul",{className:"text-blue-700 text-sm list-disc pl-5 space-y-1",children:[e.jsx("li",{children:"Start with high-priority supplements and monitor response"}),e.jsx("li",{children:"Introduce one supplement at a time to assess individual effects"}),e.jsx("li",{children:"Combine with regular blood testing to optimize dosages"}),e.jsx("li",{children:"Consult with a sports nutritionist for personalized meal planning"}),e.jsx("li",{children:"Consider interactions between supplements and any medications"})]})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Personalized Nutrition Plan"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Genetically-tailored dietary strategy for ",c]})]}),v&&e.jsxs("span",{className:"text-xs text-gray-500",children:["Plan updated: ",new Date(v).toLocaleDateString()]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Macronutrient Distribution"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-700 mb-1",children:"40%"}),e.jsx("div",{className:"text-sm text-blue-600",children:"Carbohydrates"}),e.jsx("div",{className:"text-xs text-blue-500 mt-1",children:"Focus on complex carbs for sustained energy"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-2xl font-bold text-green-700 mb-1",children:"30%"}),e.jsx("div",{className:"text-sm text-green-600",children:"Protein"}),e.jsx("div",{className:"text-xs text-green-500 mt-1",children:"High-quality sources for muscle repair"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg border border-yellow-200",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-700 mb-1",children:"30%"}),e.jsx("div",{className:"text-sm text-yellow-600",children:"Healthy Fats"}),e.jsx("div",{className:"text-xs text-yellow-500 mt-1",children:"Omega-3s and MUFAs for inflammation control"})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Optimal Meal Timing"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"w-12 text-sm font-medium text-green-700",children:"7:00 AM"}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Pre-Training Breakfast"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Complex carbs + protein for sustained energy"})]})]}),e.jsxs("div",{className:"flex items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"w-12 text-sm font-medium text-blue-700",children:"10:00 AM"}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Mid-Morning Snack"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Fruit + nuts for steady blood sugar"})]})]}),e.jsxs("div",{className:"flex items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("div",{className:"w-12 text-sm font-medium text-purple-700",children:"1:00 PM"}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Post-Training Lunch"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Balanced meal with recovery focus"})]})]}),e.jsxs("div",{className:"flex items-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("div",{className:"w-12 text-sm font-medium text-orange-700",children:"4:00 PM"}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Afternoon Snack"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Protein-focused for muscle maintenance"})]})]}),e.jsxs("div",{className:"flex items-center p-3 bg-indigo-50 rounded-lg border border-indigo-200",children:[e.jsx("div",{className:"w-12 text-sm font-medium text-indigo-700",children:"7:00 PM"}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Dinner"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Lighter meal with anti-inflammatory foods"})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Genetic-Based Food Priorities"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("h5",{className:"font-semibold text-red-800 mb-2",children:"High Priority Foods"}),e.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Leafy greens (folate-rich)"}),e.jsx("li",{children:"‚Ä¢ Fatty fish (omega-3s)"}),e.jsx("li",{children:"‚Ä¢ Berries (antioxidants)"}),e.jsx("li",{children:"‚Ä¢ Nuts and seeds"}),e.jsx("li",{children:"‚Ä¢ Grass-fed proteins"})]})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsx("h5",{className:"font-semibold text-yellow-800 mb-2",children:"Moderate Priority Foods"}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Whole grains"}),e.jsx("li",{children:"‚Ä¢ Legumes"}),e.jsx("li",{children:"‚Ä¢ Root vegetables"}),e.jsx("li",{children:"‚Ä¢ Eggs"}),e.jsx("li",{children:"‚Ä¢ Avocado"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("h5",{className:"font-semibold text-green-800 mb-2",children:"Foods to Limit"}),e.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Processed sugars"}),e.jsx("li",{children:"‚Ä¢ Trans fats"}),e.jsx("li",{children:"‚Ä¢ Excessive caffeine"}),e.jsx("li",{children:"‚Ä¢ Alcohol"}),e.jsx("li",{children:"‚Ä¢ Processed meats"})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h5",{className:"font-semibold text-blue-800 mb-2",children:"Hydration Strategy"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ 3-4L water daily"}),e.jsx("li",{children:"‚Ä¢ Electrolyte balance post-training"}),e.jsx("li",{children:"‚Ä¢ Herbal teas for recovery"}),e.jsx("li",{children:"‚Ä¢ Bone broth for minerals"})]})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full mr-2"}),"Weekly Meal Structure"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["Training Days","Rest Days","Competition Days","Recovery Days"].map((d,a)=>e.jsxs("div",{className:"p-3 bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-lg border border-indigo-200 text-center",children:[e.jsx("div",{className:"font-medium text-indigo-800 text-sm",children:d}),e.jsxs("div",{className:"text-xs text-indigo-600 mt-1",children:[d==="Training Days"&&"Higher carbs",d==="Rest Days"&&"Normal balance",d==="Competition Days"&&"Fast energy",d==="Recovery Days"&&"Anti-inflammatory"]})]},a))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),"Your Genetic Profile Impact"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:l.length>0?l.slice(0,4).map((d,a)=>e.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"font-semibold text-gray-900",children:[d.gene," (",d.genetic_call,")"]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${d.category==="Metabolism"?"bg-blue-100 text-blue-800":d.category==="Performance"?"bg-green-100 text-green-800":d.category==="Recovery"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:d.category})]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:[d.gene==="FTO"&&"Influences weight management and fat metabolism efficiency",d.gene==="ACTN3"&&"Affects muscle power and endurance capabilities",d.gene==="MTHFR"&&"Impacts folate metabolism and methylation processes",d.gene==="VDR"&&"Controls vitamin D receptor sensitivity and calcium metabolism",d.gene==="PPARGC1A"&&"Regulates mitochondrial biogenesis and energy production",d.gene==="ADRB2"&&"Affects fat mobilization and metabolic response",d.gene==="NOS3"&&"Influences nitric oxide production and blood flow",d.gene!=="FTO"&&d.gene!=="ACTN3"&&d.gene!=="MTHFR"&&d.gene!=="VDR"&&d.gene!=="PPARGC1A"&&d.gene!=="ADRB2"&&d.gene!=="NOS3"&&"Genetic variant affecting nutritional needs"]}),e.jsxs("div",{className:"text-xs text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Dietary Focus:"}),d.gene==="FTO"&&" Higher protein, controlled portions, green tea",d.gene==="ACTN3"&&" Performance carbs, creatine-rich foods",d.gene==="MTHFR"&&" Methylated folate sources, leafy greens",d.gene==="VDR"&&" Vitamin D rich foods, fatty fish, mushrooms",d.gene==="PPARGC1A"&&" Antioxidant-rich foods, resveratrol sources",d.gene==="ADRB2"&&" Moderate caffeine, balanced macros",d.gene==="NOS3"&&" Nitric oxide boosters, beetroot, citrulline",d.gene!=="FTO"&&d.gene!=="ACTN3"&&d.gene!=="MTHFR"&&d.gene!=="VDR"&&d.gene!=="PPARGC1A"&&d.gene!=="ADRB2"&&d.gene!=="NOS3"&&" Personalized nutrition strategy required"]})]},a)):e.jsxs("div",{className:"col-span-2 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[e.jsx("h5",{className:"font-semibold text-blue-800 mb-2",children:"Standard Athletic Nutrition Profile"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Based on your genetic profile, you have a standard athletic metabolism pattern. Focus on balanced nutrition with complex carbohydrates, lean proteins, and healthy fats."})]})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),"Sample Daily Meal Plan"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("h5",{className:"font-semibold text-orange-800 mb-3",children:"Training Day Example"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Breakfast (7:00 AM):"}),e.jsx("span",{className:"text-gray-600",children:"Oatmeal with berries, eggs, spinach"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Mid-Morning (10:00 AM):"}),e.jsx("span",{className:"text-gray-600",children:"Greek yogurt with almonds"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Lunch (1:00 PM):"}),e.jsx("span",{className:"text-gray-600",children:"Grilled chicken, quinoa, vegetables"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Post-Training (4:00 PM):"}),e.jsx("span",{className:"text-gray-600",children:"Protein shake with banana"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Dinner (7:00 PM):"}),e.jsx("span",{className:"text-gray-600",children:"Salmon, sweet potato, broccoli"})]})]})]})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-4 bg-teal-50 rounded-lg border border-teal-200",children:[e.jsx("h5",{className:"font-semibold text-teal-800 mb-3",children:"Rest Day Example"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Breakfast (8:00 AM):"}),e.jsx("span",{className:"text-gray-600",children:"Smoothie with kale, berries, protein"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Mid-Morning (11:00 AM):"}),e.jsx("span",{className:"text-gray-600",children:"Apple with handful of walnuts"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Lunch (2:00 PM):"}),e.jsx("span",{className:"text-gray-600",children:"Turkey salad with mixed greens"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Afternoon (5:00 PM):"}),e.jsx("span",{className:"text-gray-600",children:"Cottage cheese with tomatoes"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Dinner (8:00 PM):"}),e.jsx("span",{className:"text-gray-600",children:"Grilled fish, brown rice, asparagus"})]})]})]})})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full mr-2"}),"Key Nutrition Strategies"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-emerald-50 rounded-lg border border-emerald-200",children:[e.jsx("h6",{className:"font-semibold text-emerald-800 mb-2",children:"Metabolic Optimization"}),e.jsxs("ul",{className:"text-sm text-emerald-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Time carbs around training"}),e.jsx("li",{children:"‚Ä¢ Focus on nutrient density"}),e.jsx("li",{children:"‚Ä¢ Balance blood sugar"}),e.jsx("li",{children:"‚Ä¢ Support liver function"})]})]}),e.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:[e.jsx("h6",{className:"font-semibold text-amber-800 mb-2",children:"Recovery Enhancement"}),e.jsxs("ul",{className:"text-sm text-amber-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Anti-inflammatory foods"}),e.jsx("li",{children:"‚Ä¢ Adequate protein timing"}),e.jsx("li",{children:"‚Ä¢ Micronutrient support"}),e.jsx("li",{children:"‚Ä¢ Sleep-optimized meals"})]})]}),e.jsxs("div",{className:"p-4 bg-rose-50 rounded-lg border border-rose-200",children:[e.jsx("h6",{className:"font-semibold text-rose-800 mb-2",children:"Performance Support"}),e.jsxs("ul",{className:"text-sm text-rose-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Pre-training fuel"}),e.jsx("li",{children:"‚Ä¢ Intra-training support"}),e.jsx("li",{children:"‚Ä¢ Post-training recovery"}),e.jsx("li",{children:"‚Ä¢ Competition day strategy"})]})]})]})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-200",children:[e.jsxs("h5",{className:"font-semibold text-blue-800 mb-3 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Supplement Integration with Meals"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 mb-1",children:"Morning Integration:"}),e.jsx("div",{className:"text-gray-600",children:"Take vitamins with breakfast for optimal absorption"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 mb-1",children:"Post-Training Integration:"}),e.jsx("div",{className:"text-gray-600",children:"Protein and creatine immediately after workouts"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 mb-1",children:"Evening Integration:"}),e.jsx("div",{className:"text-gray-600",children:"Anti-inflammatory supplements with dinner"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 mb-1",children:"Pre-Bed Integration:"}),e.jsx("div",{className:"text-gray-600",children:"Magnesium and melatonin for recovery"})]})]})]})]})]})},fs=({athleteId:s})=>{const[l,p]=k.useState([]),[f,u]=k.useState([]),[x,n]=k.useState(!0),[N,b]=k.useState(null),[c,m]=k.useState("");k.useEffect(()=>{s&&(async()=>{try{n(!0),b(null);const i=parseInt(s,10);if(isNaN(i))throw new Error("Invalid athlete ID");const y=await Q.getRecoveryGeneticsByAthlete(i);p(y);const w=await Q.getGeneticProfileByAthlete(i);u(w),m(`Athlete ${s}`)}catch(i){b(i instanceof Error?i.message:"Failed to load genetic data")}finally{n(!1)}})()},[s]);const v=k.useMemo(()=>{const a=[];return l.length>0?l.forEach(i=>{a.push({gene:i.Gene||i.gene||"Unknown Gene",genotype:i.GeneticCall||i.genetic_call||i.known_call||"Unknown Genotype",category:i.Category||i.category||"Recovery",trait:i.Trait||i.trait||"Recovery Trait",impact:i.Impact||i.interpretation_code||"Impact not specified",recoveryProtocol:i.Recommendations||i.override_comment||"Recovery protocol not specified",priority:(i.Priority||i.summary_flag||"medium").toLowerCase(),score:i.Score||75,confidence:i.Confidence||80})}):f.forEach(i=>{switch(i.gene){case"IL6":a.push({gene:i.gene,genotype:i.genotype,category:"Inflammation",trait:"Inflammatory Response",impact:i.genotype==="GG"?"Higher baseline inflammation, slower recovery":i.genotype==="GC"?"Moderate inflammation response":"Lower baseline inflammation, faster recovery",recoveryProtocol:i.genotype==="GG"?"Emphasize anti-inflammatory nutrition (omega-3s, turmeric), longer recovery periods":i.genotype==="GC"?"Standard recovery protocols with attention to inflammation markers":"May recover quickly with standard protocols",priority:i.genotype==="GG"?"high":"medium",score:i.genotype==="GG"?65:i.genotype==="GC"?75:85,confidence:80});break;case"TNF":a.push({gene:i.gene,genotype:i.genotype,category:"Inflammation",trait:"Inflammatory Cytokine Production",impact:i.genotype==="AA"?"Higher TNF-alpha production, increased inflammation":i.genotype==="AG"?"Moderate TNF-alpha production":"Lower TNF-alpha production, reduced inflammation",recoveryProtocol:i.genotype==="AA"?"Prioritize anti-inflammatory interventions (cryotherapy, massage), monitor CRP levels":i.genotype==="AG"?"Standard anti-inflammatory approaches sufficient":"May require less intensive anti-inflammatory interventions",priority:i.genotype==="AA"?"high":"medium",score:i.genotype==="AA"?60:i.genotype==="AG"?75:85,confidence:80});break;case"IL10":a.push({gene:i.gene,genotype:i.genotype,category:"Anti-inflammation",trait:"Anti-inflammatory Response",impact:i.genotype==="AA"?"Higher IL-10 production, better inflammation control":i.genotype==="AC"?"Moderate IL-10 production":"Lower IL-10 production, reduced anti-inflammatory capacity",recoveryProtocol:i.genotype==="AA"?"May recover well with standard protocols":i.genotype==="AC"?"Standard recovery protocols appropriate":"Emphasize anti-inflammatory nutrition and recovery modalities",priority:i.genotype==="CC"?"high":"low",score:i.genotype==="AA"?85:i.genotype==="AC"?75:65,confidence:80});break;case"VDR":a.push({gene:i.gene,genotype:i.genotype,category:"Vitamin D",trait:"Vitamin D Receptor Sensitivity",impact:i.genotype==="FF"?"Reduced vitamin D receptor sensitivity, potential deficiency effects":i.genotype==="Ff"?"Moderate sensitivity":"Normal sensitivity",recoveryProtocol:i.genotype==="FF"?"Ensure optimal vitamin D status (supplementation if needed), supports immune function":i.genotype==="Ff"?"Monitor vitamin D levels, supplement as needed":"Maintain adequate vitamin D through sun exposure and diet",priority:i.genotype==="FF"?"high":"medium",score:i.genotype==="FF"?65:i.genotype==="Ff"?75:85,confidence:80});break;case"ADRB1":a.push({gene:i.gene,genotype:i.genotype,category:"Stress Response",trait:"Catecholamine Sensitivity",impact:i.genotype==="AA"?"Higher adrenaline sensitivity, increased stress response":i.genotype==="AG"?"Moderate sensitivity":"Lower adrenaline sensitivity, reduced stress response",recoveryProtocol:i.genotype==="AA"?"Emphasize parasympathetic activation (meditation, breathing), avoid overstimulation":i.genotype==="AG"?"Standard stress management techniques":"May tolerate higher stimulation, monitor for under-recovery",priority:i.genotype==="AA"?"high":"medium",score:i.genotype==="AA"?60:i.genotype==="AG"?75:85,confidence:80});break;case"CLOCK":a.push({gene:i.gene,genotype:i.genotype,category:"Circadian Rhythm",trait:"Circadian Rhythm Regulation",impact:i.genotype==="AA"?"Enhanced circadian sensitivity, strict schedule benefits":i.genotype==="AG"?"Moderate circadian sensitivity":"Reduced circadian sensitivity, more flexible timing",recoveryProtocol:i.genotype==="AA"?"Maintain strict sleep/wake times, minimize blue light exposure 2h before bed":i.genotype==="AG"?"Consistent schedule beneficial but some flexibility allowed":"More adaptable to schedule changes, but still prioritize consistency",priority:i.genotype==="AA"?"high":"medium",score:i.genotype==="AA"?70:i.genotype==="AG"?75:80,confidence:80});break;case"HSD11B1":a.push({gene:i.gene,genotype:i.genotype,category:"Cortisol",trait:"Cortisol Regeneration",impact:i.genotype==="TT"?"Higher cortisol regeneration, increased stress response":i.genotype==="TC"?"Moderate cortisol regeneration":"Lower cortisol regeneration, reduced stress response",recoveryProtocol:i.genotype==="TT"?"Prioritize stress management, cortisol-lowering interventions (adaptogens, meditation)":i.genotype==="TC"?"Standard stress management sufficient":"May be more resilient to stress, but still monitor recovery markers",priority:i.genotype==="TT"?"high":"medium",score:i.genotype==="TT"?60:i.genotype==="TC"?75:85,confidence:80});break;case"COMT":a.push({gene:i.gene,genotype:i.genotype,category:"Stress Response",trait:"Catecholamine Breakdown",impact:i.genotype==="AA"?"Slower breakdown of adrenaline/noradrenaline, prolonged stress response":i.genotype==="AG"?"Moderate breakdown rate":"Faster breakdown, quicker return to baseline",recoveryProtocol:i.genotype==="AA"?"Emphasize parasympathetic activation, longer recovery periods after high-stress sessions":i.genotype==="AG"?"Standard recovery protocols appropriate":"May recover quickly but monitor for under-recovery from overtraining",priority:i.genotype==="AA"?"high":"medium",score:i.genotype==="AA"?60:i.genotype==="AG"?75:85,confidence:80});break}}),a},[l,f]),g=v.filter(a=>a.priority==="high").length;v.filter(a=>a.priority==="medium").length;const h=k.useMemo(()=>{const a=[];if(l.length>0){const i=l.filter(o=>(o.Gene==="IL6"||o.Gene==="TNF"||o.Gene==="IL10")&&(o.Category||o.category)==="recovery"),y=l.filter(o=>(o.Gene==="COMT"||o.Gene==="ADRB1"||o.Gene==="HSD11B1")&&(o.Category||o.category)==="recovery"),w=l.filter(o=>(o.Gene==="CLOCK"||o.Gene==="PER3")&&(o.Category||o.category)==="recovery");if(i.length>0){const o=i.reduce((j,A)=>j+(A.Score||75),0)/i.length;a.push({category:"Inflammation Management",title:"Inflammatory Response Optimization",description:`Analysis of ${i.length} inflammation-related genetic markers indicates specific recovery protocols for optimal inflammatory response.`,score:o,recommendations:[i.some(j=>j.Gene==="IL6"&&(j.GeneticCall||j.genetic_call)?.includes("GG"))?"IL6 GG genotype: Prioritize omega-3 supplementation and anti-inflammatory nutrition":"Standard inflammatory response - maintain balanced nutrition protocols",i.some(j=>j.Gene==="TNF"&&(j.GeneticCall||j.genetic_call)?.includes("AA"))?"TNF AA genotype: Enhanced anti-inflammatory interventions recommended":"TNF genotype supports standard recovery protocols",i.some(j=>j.Gene==="IL10"&&(j.GeneticCall||j.genetic_call)?.includes("CC"))?"IL10 CC genotype: May need additional anti-inflammatory support":"IL10 genotype supports good anti-inflammatory capacity"],geneticMarkers:i.map(j=>j.Gene||j.gene),priority:o<70?"high":o<80?"medium":"low"})}if(y.length>0){const o=y.reduce((j,A)=>j+(A.Score||75),0)/y.length;a.push({category:"Stress Recovery",title:"Stress Response & Recovery",description:`Analysis of ${y.length} stress-related genetic markers reveals catecholamine processing and stress recovery capacity.`,score:o,recommendations:[y.some(j=>j.Gene==="COMT"&&(j.GeneticCall||j.genetic_call)?.includes("AA"))?"COMT AA genotype: Slower catecholamine breakdown - emphasize parasympathetic activation":"COMT genotype supports standard catecholamine processing",y.some(j=>j.Gene==="ADRB1"&&(j.GeneticCall||j.genetic_call)?.includes("AA"))?"ADRB1 AA genotype: Higher adrenaline sensitivity - prioritize stress management":"ADRB1 genotype indicates balanced stress response",y.some(j=>j.Gene==="HSD11B1"&&(j.GeneticCall||j.genetic_call)?.includes("TT"))?"HSD11B1 TT genotype: Higher cortisol regeneration - implement cortisol-lowering protocols":"HSD11B1 genotype supports normal cortisol regulation"],geneticMarkers:y.map(j=>j.Gene||j.gene),priority:o<70?"high":o<80?"medium":"low"})}if(w.length>0){const o=w.reduce((j,A)=>j+(A.Score||75),0)/w.length;a.push({category:"Circadian Rhythm",title:"Sleep & Circadian Optimization",description:`Analysis of ${w.length} circadian-related genetic markers indicates chronotype and sleep recovery patterns.`,score:o,recommendations:[w.some(j=>j.Gene==="CLOCK"&&(j.GeneticCall||j.genetic_call)?.includes("AA"))?"CLOCK AA genotype: Strict sleep schedule critical for optimal recovery":"CLOCK genotype supports flexible sleep timing","Maintain consistent sleep/wake times aligned with genetic chronotype","Minimize blue light exposure 2 hours before bedtime","Consider chronotype-specific training timing for optimal recovery"],geneticMarkers:w.map(j=>j.Gene||j.gene),priority:o<70?"high":o<80?"medium":"low"})}}return a},[l]),d=k.useMemo(()=>h.length===0?0:h.reduce((a,i)=>a+i.score,0)/h.length,[h]);return x?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Recovery Gene Panel"}),e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading genetic data..."})]})]})}):N?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Recovery Gene Panel"}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-500 mb-4",children:"‚ö†Ô∏è"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Genetic Data"}),e.jsx("p",{className:"text-gray-600 mb-4",children:N}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Retry"})]})]})}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-4xl font-bold text-white-900 mb-3",children:"üß¨ Advanced Recovery Gene Panel"}),e.jsxs("p",{className:"text-xl text-gray-600 mb-2",children:["Comprehensive genetic analysis for ",l.length," recovery-related markers"]}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-100 to-blue-100 rounded-full",children:[e.jsx("span",{className:"text-purple-700 font-medium",children:"Overall Recovery Score:"}),e.jsxs("span",{className:`text-2xl font-bold ${d>75?"text-green-600":d>60?"text-yellow-600":"text-red-600"}`,children:[d.toFixed(0),"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:l.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Genetic Markers"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Analyzed for Recovery"})]}),e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsx("div",{className:`text-3xl font-bold mb-2 ${g>0?"text-red-600":"text-green-600"}`,children:g}),e.jsx("div",{className:"text-sm text-gray-600",children:"High Priority"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Critical Recovery Genes"})]}),e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:h.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Recovery Categories"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"AI-Generated Insights"})]}),e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsx("div",{className:`text-3xl font-bold mb-2 ${d>75?"text-green-600":d>60?"text-yellow-600":"text-red-600"}`,children:d.toFixed(0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Recovery Score"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Genetic + Biometric"})]})]}),h.length>0&&e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"bg-gradient-to-r from-purple-100 to-blue-100 p-2 rounded-full text-purple-700",children:"ü§ñ"}),"AI-Generated Recovery Insights"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:h.map((a,i)=>e.jsxs("div",{className:`card-enhanced p-6 border-l-4 ${a.priority==="high"?"border-l-red-500 bg-red-50":a.priority==="medium"?"border-l-yellow-500 bg-yellow-50":"border-l-green-500 bg-green-50"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-1",children:a.title}),e.jsx("p",{className:"text-sm text-gray-600",children:a.category})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-2xl font-bold ${a.score>75?"text-green-600":a.score>60?"text-yellow-600":"text-red-600"}`,children:a.score.toFixed(0)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Score"})]})]}),e.jsx("p",{className:"text-gray-700 mb-4 text-sm leading-relaxed",children:a.description}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Genetic Markers Analyzed:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.geneticMarkers.map((y,w)=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-white text-gray-700 border",children:y},w))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Recommended Protocols:"}),e.jsx("ul",{className:"space-y-2",children:a.recommendations.map((y,w)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${a.priority==="high"?"bg-red-500":a.priority==="medium"?"bg-yellow-500":"bg-green-500"}`}),e.jsx("span",{className:"text-sm text-gray-700",children:y})]},w))})]})]},i))})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"bg-gradient-to-r from-green-100 to-blue-100 p-2 rounded-full text-green-700",children:"üî¨"}),"Individual Genetic Marker Analysis"]}),v.length>0?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:v.map((a,i)=>e.jsxs("div",{className:`card-enhanced p-6 border-l-4 ${a.priority==="high"?"border-l-red-500":a.priority==="medium"?"border-l-yellow-500":"border-l-green-500"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-1",children:a.gene}),e.jsxs("p",{className:"text-sm text-gray-600",children:[a.category," ‚Ä¢ ",a.trait]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-2xl font-bold ${a.score>75?"text-green-600":a.score>60?"text-yellow-600":"text-red-600"}`,children:a.score}),e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Score"}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${a.priority==="high"?"bg-red-100 text-red-800":a.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:a.priority.toUpperCase()})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Genotype"}),e.jsx("span",{className:"text-sm font-bold text-gray-900 bg-gray-100 px-2 py-1 rounded",children:a.genotype})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${a.score>75?"bg-green-500":a.score>60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${a.score}%`}})})]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h5",{className:"font-medium text-blue-800 mb-2 text-sm",children:"Recovery Impact"}),e.jsx("p",{className:"text-sm text-blue-700 leading-relaxed",children:a.impact})]}),e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("h5",{className:"font-medium text-green-800 mb-2 text-sm",children:"Recommended Protocol"}),e.jsx("p",{className:"text-sm text-green-700 leading-relaxed",children:a.recoveryProtocol})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Confidence: ",a.confidence,"%"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${a.score>75?"bg-green-500":a.score>60?"bg-yellow-500":"bg-red-500"}`}),e.jsx("span",{className:"text-xs font-medium text-gray-600",children:a.score>75?"Excellent":a.score>60?"Good":"Needs Attention"})]})]})]})]},i))}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-6",children:"üß¨"}),e.jsx("h4",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"No Recovery Gene Data Available"}),e.jsx("p",{className:"text-gray-600 max-w-lg mx-auto leading-relaxed",children:"Comprehensive genetic testing is required to unlock personalized recovery protocols and optimization strategies."})]})]}),h.length>0&&e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"bg-gradient-to-r from-indigo-100 to-purple-100 p-2 rounded-full text-indigo-700",children:"üìä"}),"Recovery Intelligence Dashboard"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üìà"}),"Recovery Categories"]}),e.jsx("div",{className:"space-y-3",children:h.map((a,i)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:a.category}),e.jsxs("div",{className:"text-xs text-gray-500",children:[a.geneticMarkers.length," markers"]})]}),e.jsx("div",{className:`text-lg font-bold ${a.score>75?"text-green-600":a.score>60?"text-yellow-600":"text-red-600"}`,children:a.score.toFixed(0)})]},i))})]}),e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üéØ"}),"Priority Actions"]}),e.jsx("div",{className:"space-y-3",children:h.filter(a=>a.priority==="high").length>0?h.filter(a=>a.priority==="high").slice(0,3).map((a,i)=>e.jsxs("div",{className:"p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("div",{className:"font-medium text-red-800 text-sm mb-1",children:a.category}),e.jsx("div",{className:"text-xs text-red-600",children:a.recommendations[0]})]},i)):h.length>0?h.filter(a=>a.priority==="medium").slice(0,3).map((a,i)=>e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsx("div",{className:"font-medium text-yellow-800 text-sm mb-1",children:a.category}),e.jsx("div",{className:"text-xs text-yellow-600",children:a.recommendations[0]})]},i)):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("div",{className:"text-sm",children:"No priority actions available"}),e.jsx("div",{className:"text-xs mt-1",children:"Complete genetic testing to unlock personalized recommendations"})]})})]}),e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"‚è∞"}),"Implementation Timeline"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-red-50 rounded",children:[e.jsx("span",{className:"text-red-500 font-bold",children:"Week 1"}),e.jsx("span",{className:"text-red-700",children:"Implement high-priority protocols"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-yellow-50 rounded",children:[e.jsx("span",{className:"text-yellow-600 font-bold",children:"Week 2-3"}),e.jsx("span",{className:"text-yellow-700",children:"Monitor biometric response"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-green-50 rounded",children:[e.jsx("span",{className:"text-green-600 font-bold",children:"Week 4+"}),e.jsx("span",{className:"text-green-700",children:"Optimize based on results"})]})]})]})]})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"bg-gradient-to-r from-blue-100 to-indigo-100 p-2 rounded-full text-blue-700",children:"üìã"}),"Implementation Strategy & Monitoring"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Protocol Implementation"}),e.jsx("div",{className:"space-y-3",children:[{step:"1",title:"High-Priority Focus",desc:"Implement protocols for high-priority genetic markers first"},{step:"2",title:"One Change at a Time",desc:"Modify one protocol to clearly assess individual impact"},{step:"3",title:"Biometric Monitoring",desc:"Track HRV, resting HR, and sleep quality for validation"},{step:"4",title:"Response Assessment",desc:"Evaluate effectiveness after 2-3 weeks of implementation"}].map((a,i)=>e.jsxs("div",{className:"flex items-start gap-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:a.step}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:a.title}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:a.desc})]})]},i))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Success Metrics"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Primary Metrics"}),e.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[e.jsxs("div",{children:["‚Ä¢ HRV improvement ",">"," 5ms"]}),e.jsxs("div",{children:["‚Ä¢ Resting HR reduction ",">"," 3bpm"]}),e.jsxs("div",{children:["‚Ä¢ Sleep duration increase ",">"," 30min"]})]})]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"font-medium text-blue-800 mb-1",children:"Secondary Metrics"}),e.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[e.jsxs("div",{children:["‚Ä¢ Training readiness score ",">"," 75%"]}),e.jsx("div",{children:"‚Ä¢ Reduced perceived soreness"}),e.jsx("div",{children:"‚Ä¢ Improved training quality"})]})]}),e.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("div",{className:"font-medium text-purple-800 mb-1",children:"Timeline"}),e.jsxs("div",{className:"text-sm text-purple-700 space-y-1",children:[e.jsx("div",{children:"‚Ä¢ Initial assessment: 2 weeks"}),e.jsx("div",{children:"‚Ä¢ Protocol optimization: 4-6 weeks"}),e.jsx("div",{children:"‚Ä¢ Full adaptation: 8-12 weeks"})]})]})]})]})]})]})]})},ge=s=>{const l=s.reduce((u,x)=>u+x,0)/s.length,f=s.map(u=>Math.pow(u-l,2)).reduce((u,x)=>u+x,0)/s.length;return Math.sqrt(f)},Ns=(s,l)=>s-l,ys=(s,l)=>{const p=s.map(n=>{const[N,b]=n.split(":").map(Number);return N*60+b}),f=l.map(n=>{const[N,b]=n.split(":").map(Number);return N*60+b}),u=ge(p),x=ge(f);return(u+x)/2},vs=s=>s<=15?"High":s<=45?"Moderate":"Low",ws=s=>s<=15?"#10B981":s<=45?"#F59E0B":"#EF4444",he=s=>{const l=Math.floor(s/60),p=s%60;return`${l.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`},ks=(s,l)=>l>0?s/l*100:0,Ms=(s,l)=>{const[p]=s.split(":").map(Number);return l.split(":").map(Number),p>=23||p>=0&&p<=5?"Evening Type":p>=21&&p<=22?"Intermediate":"Morning Type"},As=(s,l)=>!0,Rs=(s,l,p)=>[{name:"Deep Sleep",value:s},{name:"REM Sleep",value:l},{name:"Light Sleep",value:p}],Ss=s=>{const l=[];return s.forEach(p=>{p.sleep_duration_h<6&&l.push("Fragmented Sleep"),p.hrv_night<40&&l.push("HRV Suppression"),p.resting_hr>70&&l.push("Elevated Resting HR"),p.deep_sleep_pct<15&&l.push("Low Deep Sleep"),p.rem_sleep_pct<15&&l.push("Low REM Sleep")}),l},_s=({biometricData:s,athleteId:l})=>{const[p,f]=k.useState("30d"),u=p==="7d"?s.slice(-7):s.slice(-30);u.forEach((o,j)=>{});const x=u.map(o=>{const A=Ns(o.sleep_duration_h,8),t=G=>{if(!G||G==="00:00"||G==="")return null;const[K,P]=G.split(":").map(Number);return isNaN(K)||isNaN(P)?null:K*60+P},R=t(o.sleep_onset_time||""),S=t(o.wake_time||"");let F=0;if(R!==null&&S!==null){let G=S-R;G<0&&(G+=24*60),F=G/60}else F=o.sleep_duration_h+.5;return{date:o.date,sleepDebt:A,sleepDuration:o.sleep_duration_h,recommendedSleep:8,deepSleep:o.deep_sleep_pct,remSleep:o.rem_sleep_pct,lightSleep:o.light_sleep_pct,sleepEfficiency:(()=>ks(o.sleep_duration_h,F))(),sleepOnsetTime:o.sleep_onset_time||"00:00",wakeTime:o.wake_time||"00:00",chronotype:o.sleep_onset_time&&o.sleep_onset_time!=="00:00"&&o.wake_time&&o.wake_time!=="00:00"?Ms(o.sleep_onset_time,o.wake_time):"Unknown (Missing timing data)",sleepStressIndicators:Ss([o])}}),n=u.filter(o=>o.sleep_onset_time&&o.sleep_onset_time!=="00:00"&&o.wake_time&&o.wake_time!=="00:00");let N=0,b="Unknown",c="#9CA3AF";if(n.length>=2){const o=n.map(A=>A.sleep_onset_time),j=n.map(A=>A.wake_time);N=ys(o,j),b=vs(N),c=ws(N)}else b="Insufficient Data";const m=u.reduce((o,j)=>o+j.deep_sleep_pct,0)/u.length,v=u.reduce((o,j)=>o+j.rem_sleep_pct,0)/u.length,g=u.reduce((o,j)=>o+j.light_sleep_pct,0)/u.length,h=Rs(m,v,g),d=["#0088FE","#00C49F","#FFBB28"],a=x.map(o=>({date:o.date,sleepDebt:o.sleepDebt})),i=x.map(o=>({date:o.date,sleepDuration:o.sleepDuration,recommendedSleep:o.recommendedSleep})),y=x.map(o=>({date:o.date,sleepEfficiency:o.sleepEfficiency}));x.map(o=>({date:o.date,deepSleep:o.deepSleep,remSleep:o.remSleep,lightSleep:o.lightSleep}));const w=x.map(o=>{const j=F=>{if(!F||F==="00:00"||F==="")return null;const[G,K]=F.split(":").map(Number);return isNaN(G)||isNaN(K)?null:G*60+K},A=j(o.sleepOnsetTime),t=j(o.wakeTime),R=A!==null?A:o.sleepDuration>=8?1320:o.sleepDuration>=7?1380:1440,S=t!==null?t:R+o.sleepDuration*60;return{date:o.date,sleepOnset:R,wakeTime:S%1440,hasRealTimingData:A!==null&&t!==null}});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"üåô Sleep Metrics"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>f("7d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${p==="7d"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"7 Days"}),e.jsx("button",{onClick:()=>f("30d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${p==="30d"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"30 Days"})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üìä Sleep Debt"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"relative w-48 h-48 mx-auto",children:e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#e5e7eb",strokeWidth:"8"}),e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:x.length>0?x[x.length-1].sleepDebt>0?"#10B981":"#EF4444":"#9CA3AF",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${Math.abs(x.length>0?x[x.length-1].sleepDebt:0)*10}, 1000`,transform:"rotate(-90 50 50)"}),e.jsx("text",{x:"50",y:"50",textAnchor:"middle",dominantBaseline:"middle",className:"text-2xl font-bold",children:x.length>0?x[x.length-1].sleepDebt.toFixed(1):"0.0"}),e.jsx("text",{x:"50",y:"60",textAnchor:"middle",dominantBaseline:"middle",className:"text-sm text-gray-600",children:"Hours"})]})})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Current Sleep Debt"}),e.jsxs("p",{className:"text-2xl font-bold mt-1  text-gray-900",children:[x.length>0?x[x.length-1].sleepDebt.toFixed(1):"0.0"," hours"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.length>0&&x[x.length-1].sleepDebt>0?"You are in debt - need more sleep":"You are catching up - good job!"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Sleep Consistency"}),e.jsxs("p",{className:"text-2xl font-bold mt-1  text-gray-900",children:[N.toFixed(1)," min"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Standard deviation of bed/wake times"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full mr-2",style:{backgroundColor:c}}),e.jsxs("span",{className:"text-sm font-medium",children:[b," Consistency"]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Chronotype"}),e.jsx("p",{className:"text-2xl font-bold mt-1",children:x.length>0?x[x.length-1].chronotype:"Unknown"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.length>0&&!x[x.length-1].chronotype.includes("Unknown")&&As(x[x.length-1].chronotype)?"Within optimal window":x[x.length-1]?.chronotype.includes("Unknown")?"Insufficient timing data":"Outside optimal window"})]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üìà Sleep Duration Trend"}),e.jsx(T,{width:"100%",height:300,children:e.jsxs(V,{data:i,children:[e.jsx(C,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(E,{dataKey:"date",stroke:"#6b7280"}),e.jsx(L,{stroke:"#6b7280"}),e.jsx(I,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(W,{}),e.jsx(_,{type:"monotone",dataKey:"sleepDuration",name:"Actual Sleep (h)",stroke:"#3b82f6",strokeWidth:3,dot:{r:4}}),e.jsx(_,{type:"monotone",dataKey:"recommendedSleep",name:"Recommended (8h)",stroke:"#94a3b8",strokeWidth:2,strokeDasharray:"5 5",dot:!1})]})})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üìâ Sleep Debt Trend"}),e.jsx(T,{width:"100%",height:300,children:e.jsxs(Re,{data:a,children:[e.jsx(C,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(E,{dataKey:"date",stroke:"#6b7280"}),e.jsx(L,{stroke:"#6b7280"}),e.jsx(I,{formatter:o=>[`${Number(o).toFixed(1)} hours`,"Sleep Debt"],contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(W,{}),e.jsx(te,{dataKey:"sleepDebt",name:"Sleep Debt (hours)",fill:a.length>0&&a[a.length-1].sleepDebt>0?"#EF4444":"#10B981"})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["üìä Sleep Efficiency",x.some(o=>!o.sleepOnsetTime||o.sleepOnsetTime==="00:00"||!o.wakeTime||o.wakeTime==="00:00")&&e.jsx("span",{className:"text-sm font-normal text-gray-600 ml-2",children:"(estimated where timing data unavailable)"})]}),e.jsx(T,{width:"100%",height:300,children:e.jsxs(V,{data:y,children:[e.jsx(C,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(E,{dataKey:"date",stroke:"#6b7280"}),e.jsx(L,{stroke:"#6b7280",domain:[0,100],tickFormatter:o=>`${Number(o).toFixed(1)}%`}),e.jsx(I,{formatter:o=>[`${Number(o).toFixed(1)}%`,"Efficiency"],contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(W,{}),e.jsx(_,{type:"monotone",dataKey:"sleepEfficiency",name:"Efficiency (%)",stroke:"#8b5cf6",strokeWidth:3,dot:{r:4}})]})})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üåô Sleep Stage Distribution"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsx("div",{className:"flex-1",children:e.jsx(T,{width:"100%",height:300,children:e.jsxs(Me,{children:[e.jsx(Ae,{data:h,cx:"50%",cy:"50%",labelLine:!0,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:o,percent:j})=>`${o}: ${(j?j*100:0).toFixed(0)}%`,children:h.map((o,j)=>e.jsx(le,{fill:d[j%d.length]},`cell-${j}`))}),e.jsx(I,{formatter:o=>[`${o}%`,"Percentage"],contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(W,{})]})})}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"space-y-3",children:h.map((o,j)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 rounded-full mr-3",style:{backgroundColor:d[j%d.length]}}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:o.name}),e.jsxs("div",{className:"text-sm text-gray-600",children:[o.value.toFixed(1),"%"]})]})]},o.name))})})]})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["‚è∞ Sleep Timing",w.some(o=>!o.hasRealTimingData)&&e.jsx("span",{className:"text-sm font-normal text-gray-600 ml-2",children:"(estimated times where data unavailable)"})]}),e.jsx(T,{width:"100%",height:300,children:e.jsxs(V,{data:w,children:[e.jsx(C,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(E,{dataKey:"date",stroke:"#6b7280"}),e.jsx(L,{stroke:"#6b7280",domain:[0,1440],tickFormatter:o=>he(o)}),e.jsx(I,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"},formatter:(o,j,A)=>{const t=he(Number(o)),R=!A.payload.hasRealTimingData;return[`${t}${R?" (estimated)":""}`,j]},labelFormatter:o=>`Date: ${new Date(o).toLocaleDateString()}`}),e.jsx(W,{}),e.jsx(_,{type:"monotone",dataKey:"sleepOnset",name:"Bed Time",stroke:"#10B981",strokeWidth:3,dot:{r:4},activeDot:{r:6}}),e.jsx(_,{type:"monotone",dataKey:"wakeTime",name:"Wake Time",stroke:"#F59E0B",strokeWidth:3,dot:{r:4},activeDot:{r:6}})]})})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"‚ö†Ô∏è High Sleep Stress Indicators"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:x.length>0&&x[x.length-1].sleepStressIndicators.length>0?x[x.length-1].sleepStressIndicators.map((o,j)=>e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center",children:e.jsx("span",{className:"text-red-600",children:"‚ö†Ô∏è"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-red-800",children:o}),e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[o==="Fragmented Sleep"&&"Frequent wake-ups during the night",o==="HRV Suppression"&&"Low HRV during sleep indicates stress",o==="Elevated Resting HR"&&"High resting heart rate at night",o==="Low Deep Sleep"&&"Insufficient deep sleep for recovery",o==="Low REM Sleep"&&"Insufficient REM sleep for cognitive recovery"]})]})]})},j)):e.jsxs("div",{className:"col-span-3 text-center py-8 text-gray-600",children:[e.jsx("p",{children:"No sleep stress indicators detected"}),e.jsx("p",{className:"text-sm mt-2",children:"Great job maintaining healthy sleep patterns!"})]})})]})]})};function Fs(s){return s<55?{status:"Optimal",color:"text-green-500",message:"Excellent cardiovascular fitness"}:s<65?{status:"Good",color:"text-green-500",message:"Healthy resting heart rate"}:s<75?{status:"Elevated",color:"text-yellow-500",message:"Slightly elevated, monitor trends"}:{status:"High",color:"text-red-500",message:"Significantly elevated, potential stress/fatigue"}}function Gs(s,l){const p=l<25?60:l<35?55:50;return s>p+10?{status:"Excellent",color:"text-green-500",message:"Strong parasympathetic activity"}:s>p?{status:"Good",color:"text-green-500",message:"Healthy HRV levels"}:s>p-10?{status:"Moderate",color:"text-yellow-500",message:"Moderately reduced HRV, monitor trends"}:{status:"Low",color:"text-red-500",message:"Reduced HRV, potential stress/fatigue"}}function J(s,l,p){const f=Math.max(0,Math.min(1,(s-40)/60)),u=p<25?60:p<35?55:50,x=Math.max(0,Math.min(1,l/(u*1.5)));return(f*.6+(1-x)*.4)*100}function ue(s){return s<30?{level:"Low",color:"text-green-500",bgColor:"bg-green-500",message:"Low stress levels, good recovery"}:s<60?{level:"Moderate",color:"text-yellow-500",bgColor:"bg-yellow-500",message:"Moderate stress, monitor recovery"}:{level:"High",color:"text-red-500",bgColor:"bg-red-500",message:"High stress levels, prioritize recovery"}}function Ds(s,l=7){if(s.length<l*2)return{acuteStress:0,chronicStress:0,stressBalance:0};const p=s.slice(-l),f=p.reduce((v,g)=>v+g.resting_hr,0)/p.length,u=p.reduce((v,g)=>v+g.hrv_night,0)/p.length,x=f/70*50+(1-u/60)*50,n=s.slice(-(l*2),-l),N=n.reduce((v,g)=>v+g.resting_hr,0)/n.length,b=n.reduce((v,g)=>v+g.hrv_night,0)/n.length,c=N/70*50+(1-b/60)*50,m=c-x;return{acuteStress:x,chronicStress:c,stressBalance:m}}function Ls(s,l,p,f,u){if(s.length<3)return 50;const x=Math.max(0,100-Math.abs(l)*10),n=Math.max(0,Math.min(100,50+p*2)),N=Math.max(0,100-(f-50)*2),b=u>85?100-(u-85)*2:u<40?100-(40-u)*1.5:100;return x*.25+n*.25+N*.25+b*.25}function be(s,l=7){if(s.length<l)return 0;const p=s.slice(-l),f=s.slice(-(l*2),-l);if(p.length===0||f.length===0)return 0;const u=p.reduce((n,N)=>n+N.hrv_night,0)/p.length,x=f.reduce((n,N)=>n+N.hrv_night,0)/f.length;return u-x}const Ps=({athleteId:s,biometricData:l})=>{const[p,f]=k.useState("7d"),[u,x]=k.useState("24h"),[n,N]=k.useState(void 0),[b,c]=k.useState(!0),[m,v]=k.useState(null);k.useEffect(()=>{s&&(async()=>{try{c(!0),v(null);const D=typeof s=="string"?parseInt(s,10):s,$=await B.getAthleteData(D);N($.athlete),!l.length&&$.biometricData.length}catch{v("Failed to load athlete data")}finally{c(!1)}})()},[s,l.length]);const g=n?.age||25,h=k.useMemo(()=>{if(!l||l.length===0)return[];const M=p==="7d"?7:30;return l.slice(-M).map($=>{const O=J($.resting_hr,$.hrv_night,g),Y=ue(O).level,ee=be(l,7),ae=Ls(l,0,ee,$.resting_hr,$.training_load_pct);return{date:$.date,restingHR:$.resting_hr,hrv:$.hrv_night,strainIndex:O,stressLevel:Y,recoveryReadiness:ae,trainingLoad:$.training_load_pct}})},[l,p,g]),d=h.length>0?h[h.length-1]:null,a=d?Fs(d.restingHR):null,i=d?Gs(d.hrv,g):null,y=d?d.strainIndex:0,w=d?ue(y):null,o=Ds(l,7),j=be(l,7),A=k.useMemo(()=>d?J(d.restingHR,d.hrv,g):0,[d,g]),t=k.useMemo(()=>{if(h.length<2)return 0;const M=h[h.length-2];return J(M.restingHR,M.hrv,g)},[h,g]),R=A-t,S=R>=0?`‚Üë ${R.toFixed(1)}`:`‚Üì ${Math.abs(R).toFixed(1)}`,F=k.useMemo(()=>{if(l.length===0)return[];if(u==="24h"){const M=l.slice(-24);return M.map((D,$)=>{const O=J(D.resting_hr,D.hrv_night,g),Y=M.length-1-$;return{time:Y===0?"Now":`${Y}h ago`,heartRate:D.resting_hr,stressLevel:O}})}else{const M={};return l.forEach($=>{const O=$.date;M[O]||(M[O]=[]),M[O].push($)}),Object.keys(M).sort().slice(-7).map($=>{const O=M[$],Y=O.reduce((re,ne)=>re+ne.resting_hr,0)/O.length,ee=O.reduce((re,ne)=>re+ne.hrv_night,0)/O.length,ae=J(Y,ee,g);return{time:new Date($).toLocaleDateString("en-US",{weekday:"short"}),heartRate:Math.round(Y),stressLevel:ae}})}},[l,u,g]),G=k.useMemo(()=>l.length===0?[{id:5,name:"ZONE 5",range:"90‚Äì100%",percentage:0,duration:"0:00:00",color:"#EF4444",bgColor:"bg-red-500"},{id:4,name:"ZONE 4",range:"80‚Äì90%",percentage:0,duration:"0:00:00",color:"#F97316",bgColor:"bg-orange-500"},{id:3,name:"ZONE 3",range:"70‚Äì80%",percentage:0,duration:"0:00:00",color:"#EAB308",bgColor:"bg-yellow-500"},{id:2,name:"ZONE 2",range:"50‚Äì70%",percentage:0,duration:"0:00:00",color:"#22C55E",bgColor:"bg-green-500"},{id:1,name:"ZONE 1",range:"0‚Äì50%",percentage:0,duration:"0:00:00",color:"#3B82F6",bgColor:"bg-blue-500"}]:[{id:5,name:"ZONE 5",range:"90‚Äì100%",percentage:10,duration:"0:15:22",color:"#EF4444",bgColor:"bg-red-500"},{id:4,name:"ZONE 4",range:"80‚Äì90%",percentage:20,duration:"0:30:45",color:"#F97316",bgColor:"bg-orange-500"},{id:3,name:"ZONE 3",range:"70‚Äì80%",percentage:30,duration:"0:45:10",color:"#EAB308",bgColor:"bg-yellow-500"},{id:2,name:"ZONE 2",range:"50‚Äì70%",percentage:25,duration:"0:37:33",color:"#22C55E",bgColor:"bg-green-500"},{id:1,name:"ZONE 1",range:"0‚Äì50%",percentage:15,duration:"0:22:10",color:"#3B82F6",bgColor:"bg-blue-500"}],[l]),K=M=>new Date(M).toLocaleDateString("en-US",{month:"short",day:"numeric"}),P=M=>M;return b?e.jsx("div",{className:"space-y-8",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),e.jsx("p",{className:"text-white",children:"Loading athlete data..."})]})})}):m?e.jsx("div",{className:"space-y-8",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-4xl mb-4",children:"‚ö†Ô∏è"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Failed to Load Athlete Data"}),e.jsx("p",{className:"text-gray-300 mb-4",children:m}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Retry"})]})})}):n?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"üßò Stress Management"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>f("7d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${p==="7d"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"7 Days"}),e.jsx("button",{onClick:()=>f("30d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${p==="30d"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"30 Days"})]})]}),e.jsx("div",{className:"card-enhanced p-6",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`text-6xl font-bold mb-2 ${w?.level==="High"?"text-red-500":w?.level==="Moderate"?"text-yellow-500":w?.level==="Low"?"text-green-500":"text-gray-500"}`,children:A.toFixed(1)}),e.jsx("div",{className:"text-lg text-gray-300 mb-1",children:"STRESS SCORE"}),e.jsxs("div",{className:`text-sm font-medium ${R>=0?"text-red-400":"text-green-400"}`,children:[S," from previous"]})]})}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Stress Level Indicator"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsx("div",{className:"flex-1 flex justify-center",children:e.jsxs("div",{className:"relative w-48 h-48",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-gray-200"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-transparent",style:{borderTopColor:w?.bgColor.replace("bg-","")==="bg-green-500"?"#10B981":w?.bgColor.replace("bg-","")==="bg-yellow-500"?"#F59E0B":"#EF4444",borderRightColor:w?.bgColor.replace("bg-","")==="bg-green-500"?"#10B981":w?.bgColor.replace("bg-","")==="bg-yellow-500"?"#F59E0B":"#EF4444",transform:"rotate(45deg)",clipPath:`inset(0 ${100-y/100*100}% 0 0)`}}),e.jsx("div",{className:"absolute inset-8 rounded-full bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-3xl font-bold ${w?.color||"text-gray-500"}`,children:y?Math.round(y):"--"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Stress Index"})]})})]})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Current Stress Level"}),e.jsx("p",{className:`text-2xl font-bold mt-1 ${w?.color||"text-gray-500"}`,children:w?.level||"Unknown"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w?.message||"No data available"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Resting Heart Rate"}),e.jsx("p",{className:`text-2xl font-bold mt-1 ${a?.color||"text-gray-500"}`,children:d?`${d.restingHR} bpm`:"--"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a?.message||"No data available"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Heart Rate Variability"}),e.jsx("p",{className:`text-2xl font-bold mt-1 ${i?.color||"text-gray-500"}`,children:d?`${d.hrv} ms`:"--"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:i?.message||"No data available"})]})]})})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:u==="24h"?"HEART RATE TODAY":"HEART RATE THIS WEEK"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Monitor your heart rate patterns throughout the day to understand stress and recovery."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>x("24h"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${u==="24h"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"24 Hours"}),e.jsx("button",{onClick:()=>x("7d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${u==="7d"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"7 Days"})]})]}),e.jsx("div",{className:"h-64",children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(We,{data:F,margin:{top:5,right:20,left:10,bottom:5},children:[e.jsx(C,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(E,{dataKey:"time",stroke:"#9CA3AF",tickFormatter:P}),e.jsx(L,{stroke:"#9CA3AF",domain:[40,180]}),e.jsx(I,{contentStyle:{backgroundColor:"#1F2937",borderColor:"#374151",borderRadius:"0.5rem",color:"#F9FAFB"},formatter:(M,D)=>D==="heartRate"?[`${M} bpm`,"Heart Rate"]:D==="stressLevel"?[`${Number(M).toFixed(1)}`,"Stress Level"]:[M,D]}),e.jsx(Oe,{type:"monotone",dataKey:"heartRate",name:"Heart Rate",stroke:"#3B82F6",fill:"url(#colorHeartRate)",strokeWidth:2}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorHeartRate",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:.1})]})})]})})}),e.jsx("div",{className:"mt-4 text-sm text-gray-400",children:e.jsx("p",{children:"Heart rate range: 100‚Äì175 bpm"})})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"STRESS ZONES"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Distribution of time spent in different heart rate zones indicates training intensity and stress levels."})]}),e.jsx("div",{className:"space-y-4",children:G.map(M=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-900 mr-2",children:M.name}),e.jsxs("span",{className:"text-gray-400",children:["(",M.range,")"]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("span",{className:"text-gray-900",children:[M.percentage,"%"]}),e.jsx("span",{className:"text-gray-400",children:M.duration})]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:e.jsx("div",{className:"h-2.5 rounded-full",style:{width:`${M.percentage}%`,backgroundColor:M.color}})})]},M.id))})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"HRV Trend (7/30 Days)"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Heart Rate Variability (HRV) is a key indicator of stress and recovery. Higher HRV values indicate better recovery and parasympathetic nervous system activity."}),e.jsx("div",{className:"h-80",children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(V,{data:h,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(C,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(E,{dataKey:"date",tickFormatter:K,stroke:"#6b7280"}),e.jsx(L,{stroke:"#6b7280"}),e.jsx(I,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"},formatter:(M,D)=>D==="hrv"?[`${typeof M=="number"?Math.round(M):M} ms`,"HRV"]:D==="restingHR"?[`${typeof M=="number"?Math.round(M):M} bpm`,"Resting HR"]:[typeof M=="number"?Math.round(M):M,D],labelFormatter:M=>`Date: ${new Date(M).toLocaleDateString()}`}),e.jsx(W,{}),e.jsx(_,{type:"monotone",dataKey:"hrv",name:"HRV (ms)",stroke:"#10B981",strokeWidth:3,dot:{r:4},activeDot:{r:6}}),e.jsx(_,{type:"monotone",dataKey:"restingHR",name:"Resting HR (bpm)",stroke:"#EF4444",strokeWidth:3,dot:{r:4},activeDot:{r:6}}),e.jsx(H,{y:j>0?Math.min(...h.map(M=>M.hrv)):Math.max(...h.map(M=>M.hrv)),stroke:j>0?"#10B981":"#EF4444",strokeDasharray:"3 3"})]})})}),e.jsx("div",{className:"mt-4 text-sm text-gray-600",children:e.jsxs("p",{children:["HRV Trend (7 days):",e.jsxs("span",{className:j>0?"text-green-600 font-medium":j<0?"text-red-600 font-medium":"text-gray-600",children:[" ",j>0?"+":"",j.toFixed(1)," ms"]})," ","| Daily Stress Load:",e.jsxs("span",{className:o.stressBalance>0?"text-green-600 font-medium":o.stressBalance<0?"text-red-600 font-medium":"text-gray-600",children:[" ",o.stressBalance>0?"+":"",Math.round(o.stressBalance)]})]})})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Training Load vs Recovery Readiness"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This chart shows the relationship between training load and recovery readiness. Optimal performance occurs when training load and recovery are balanced."}),e.jsx("div",{className:"h-80",children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(Re,{data:h,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(C,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(E,{dataKey:"date",tickFormatter:K,stroke:"#6b7280"}),e.jsx(L,{yAxisId:"left",orientation:"left",stroke:"#6b7280"}),e.jsx(L,{yAxisId:"right",orientation:"right",stroke:"#6b7280"}),e.jsx(I,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"},formatter:(M,D)=>D==="trainingLoad"?[`${typeof M=="number"?Math.round(M):M}%`,"Training Load"]:D==="recoveryReadiness"?[`${typeof M=="number"?Math.round(M):M}%`,"Recovery Readiness"]:[typeof M=="number"?Math.round(M):M,D]}),e.jsx(W,{}),e.jsx(te,{yAxisId:"left",dataKey:"trainingLoad",name:"Training Load (%)",fill:"#3B82F6",radius:[4,4,0,0]}),e.jsx(_,{yAxisId:"right",type:"monotone",dataKey:"recoveryReadiness",name:"Recovery Readiness (%)",stroke:"#10B981",strokeWidth:3,dot:{r:4},activeDot:{r:6}})]})})}),e.jsx("div",{className:"mt-4 text-sm text-gray-600",children:e.jsxs("p",{children:["Recovery Readiness:",e.jsxs("span",{className:d?.recoveryReadiness&&d.recoveryReadiness>70?"text-green-600 font-medium":d?.recoveryReadiness&&d.recoveryReadiness>40?"text-yellow-600 font-medium":"text-red-600 font-medium",children:[" ",d?.recoveryReadiness?Math.round(d.recoveryReadiness):"--","%"]})," ","| Chronic Stress:",e.jsxs("span",{className:o.chronicStress<40?"text-green-600 font-medium":o.chronicStress<60?"text-yellow-600 font-medium":"text-red-600 font-medium",children:[" ",Math.round(o.chronicStress)]})]})})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Stress Insights"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[e.jsx("h4",{className:"font-medium text-blue-800",children:"Acute Stress Load"}),e.jsx("p",{className:"text-2xl font-bold mt-1 text-blue-600",children:Math.round(o.acuteStress)}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Last 7 days average"})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[e.jsx("h4",{className:"font-medium text-purple-800",children:"Chronic Stress Load"}),e.jsx("p",{className:"text-2xl font-bold mt-1 text-purple-600",children:Math.round(o.chronicStress)}),e.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"Previous 7 days average"})]}),e.jsxs("div",{className:`${o.stressBalance>0?"bg-green-50 border-green-100":o.stressBalance<0?"bg-red-50 border-red-100":"bg-gray-50 border-gray-100"} p-4 rounded-lg border`,children:[e.jsx("h4",{className:`font-medium ${o.stressBalance>0?"text-green-800":o.stressBalance<0?"text-red-800":"text-gray-800"}`,children:"Stress Balance"}),e.jsxs("p",{className:`text-2xl font-bold mt-1 ${o.stressBalance>0?"text-green-600":o.stressBalance<0?"text-red-600":"text-gray-600"}`,children:[o.stressBalance>0?"+":"",Math.round(o.stressBalance)]}),e.jsx("p",{className:"text-sm mt-1",style:{color:o.stressBalance>0?"#059669":o.stressBalance<0?"#DC2626":"#6B7280"},children:o.stressBalance>0?"Improving trend":o.stressBalance<0?"Worsening trend":"Stable"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Stress Management Recommendations"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm text-gray-600",children:[w?.level==="High"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Prioritize sleep hygiene and aim for 7-9 hours of quality sleep"}),e.jsx("li",{children:"Consider active recovery or rest days to allow stress markers to normalize"}),e.jsx("li",{children:"Practice stress-reduction techniques like meditation or breathing exercises"})]}),w?.level==="Moderate"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Maintain consistent sleep schedule and monitor sleep quality"}),e.jsx("li",{children:"Balance training load with adequate recovery periods"}),e.jsx("li",{children:"Stay hydrated and maintain proper nutrition to support recovery"})]}),w?.level==="Low"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"You're in a good recovery state - maintain current healthy habits"}),e.jsx("li",{children:"Continue monitoring trends to prevent stress accumulation"}),e.jsx("li",{children:"Optimize training timing for peak performance windows"})]}),!w&&e.jsx("li",{children:"Insufficient data to provide specific recommendations. Continue monitoring metrics."})]})]})]})]}):e.jsx("div",{className:"space-y-8",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-400 text-4xl mb-4",children:"üë§"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Athlete Not Found"}),e.jsx("p",{className:"text-gray-300",children:"No athlete data available for the selected athlete."})]})})})},Se=({athleteId:s})=>{const[l,p]=k.useState([]),[f,u]=k.useState(!0),[x,n]=k.useState(null);k.useEffect(()=>{(async()=>{try{u(!0),n(null);const m=typeof s=="string"?parseInt(s,10):s,v=await B.getAthleteData(m,!0);if(!v.bloodResults||v.bloodResults.length===0){p([]);return}const g=v.bloodResults.filter(d=>d.cortisol_nmol_l!==void 0&&d.cortisol_nmol_l!==null&&d.testosterone!==void 0&&d.testosterone!==null&&d.date);if(g.length===0){p([]);return}const h=g.map(d=>{const a=new Date(d.date),i=a.getTime(),y=d.testosterone,w=Math.min(...g.map(A=>A.testosterone)),o=Math.max(...g.map(A=>A.testosterone)),j=20+(y-w)/(o-w)*80;return{date:i,dateString:a.toLocaleDateString(),cortisol:d.cortisol_nmol_l,testosterone:y,size:j}});h.sort((d,a)=>d.date-a.date),p(h)}catch{n("Failed to load hormone balance data. Please try again.")}finally{u(!1)}})()},[s]);const N=({active:c,payload:m})=>{if(c&&m&&m.length){const v=m[0].payload;return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-lg",children:[e.jsx("p",{className:"text-white font-medium",children:`Date: ${v.dateString}`}),e.jsx("p",{className:"text-blue-400",children:`Cortisol: ${v.cortisol.toFixed(1)} nmol/L`}),e.jsx("p",{className:"text-green-400",children:`Testosterone: ${v.testosterone.toFixed(1)} nmol/L`})]})}return null},b=c=>c<8.4?"#ef4444":c>28.7?"#10b981":"#3b82f6";return f?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Loading hormone balance data..."})]})}):x?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Z,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-400 font-medium text-lg",children:"Error loading hormone balance data"}),e.jsx("p",{className:"text-gray-400 mt-2",children:x})]})}):l.length===0?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(q,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 font-medium text-lg",children:"No hormone balance data available"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Hormone balance data requires blood test results with both cortisol and testosterone measurements."})]})}):l.length<2?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(q,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),e.jsx("p",{className:"text-yellow-400 font-medium text-lg",children:"Insufficient data for hormone balance chart"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"At least 2 data points with both cortisol and testosterone measurements are required."})]})}):e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Hormone Balance Chart"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Cortisol vs Testosterone levels over time. Bubble size represents testosterone concentration."}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("span",{children:"Low Testosterone (< 8.4 nmol/L)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Normal Testosterone"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{children:"High Testosterone (> 28.7 nmol/L)"})]})]})]}),e.jsx("div",{className:"h-96",children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(je,{data:l,margin:{top:20,right:20,bottom:20,left:20},children:[e.jsx(C,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(E,{type:"number",dataKey:"date",domain:["dataMin","dataMax"],tickFormatter:c=>new Date(c).toLocaleDateString(),stroke:"#9ca3af"}),e.jsx(L,{type:"number",dataKey:"cortisol",domain:["dataMin - 10","dataMax + 10"],label:{value:"Cortisol (nmol/L)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#9ca3af"}},stroke:"#9ca3af"}),e.jsx(I,{content:e.jsx(N,{})}),e.jsx(fe,{dataKey:"cortisol",fill:"#8884d8",children:l.map((c,m)=>e.jsx(le,{fill:b(c.testosterone),r:c.size/10},`cell-${m}`))})]})})}),e.jsxs("div",{className:"mt-4 text-center text-sm text-gray-500",children:[l.length," data point",l.length!==1?"s":""," ‚Ä¢ Last updated: ",l[l.length-1]?.dateString]})]})},Ts=({athleteId:s})=>{const[l,p]=k.useState([]),[f,u]=k.useState(!0),[x,n]=k.useState(null);k.useEffect(()=>{(async()=>{try{u(!0),n(null);const c=typeof s=="string"?parseInt(s,10):s,m=await B.getAthleteData(c,!0);if(!m.bloodResults||m.bloodResults.length===0){p([]);return}const v=m.bloodResults.filter(h=>h.fasting_glucose!==void 0&&h.fasting_glucose!==null||h.hba1c!==void 0&&h.hba1c!==null||h.estimated_average_glucose!==void 0&&h.estimated_average_glucose!==null);if(v.length===0){p([]);return}const g=v.filter(h=>h.date).map(h=>{const d=new Date(h.date);return{date:d.getTime(),dateString:d.toLocaleDateString(),glucose:h.fasting_glucose||0,hba1c:h.hba1c||0,estimatedGlucose:h.estimated_average_glucose}});g.sort((h,d)=>h.date-d.date),p(g)}catch{n("Failed to load metabolic health data. Please try again.")}finally{u(!1)}})()},[s]);const N=({active:b,payload:c,label:m})=>{if(b&&c&&c.length){const v=c[0].payload;return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-lg",children:[e.jsx("p",{className:"text-white font-medium",children:`Date: ${v.dateString}`}),c.map((g,h)=>e.jsx("p",{style:{color:g.color},children:`${g.name}: ${g.value?.toFixed(1)} ${g.dataKey==="glucose"?"mmol/L":"%"}`},h))]})}return null};return f?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Loading metabolic health data..."})]})}):x?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Z,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-400 font-medium text-lg",children:"Error loading metabolic health data"}),e.jsx("p",{className:"text-gray-400 mt-2",children:x})]})}):l.length===0?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(q,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 font-medium text-lg",children:"No metabolic health data available"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Metabolic health data requires blood test results with glucose or HbA1c measurements."})]})}):e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Metabolic Health Trends"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Glucose and HbA1c levels over time. Monitor metabolic health and diabetes risk."}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Fasting Glucose (3.9-5.6 mmol/L)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{children:"HbA1c (4.0-6.0%)"})]})]})]}),e.jsx("div",{className:"h-96",children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(V,{data:l,margin:{top:20,right:30,bottom:20,left:20},children:[e.jsx(C,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(E,{type:"number",dataKey:"date",domain:["dataMin","dataMax"],tickFormatter:b=>new Date(b).toLocaleDateString(),stroke:"#9ca3af"}),e.jsx(L,{yAxisId:"glucose",orientation:"left",domain:["dataMin - 0.5","dataMax + 0.5"],label:{value:"Glucose (mmol/L)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#9ca3af"}},stroke:"#3b82f6"}),e.jsx(L,{yAxisId:"hba1c",orientation:"right",domain:["dataMin - 0.2","dataMax + 0.2"],label:{value:"HbA1c (%)",angle:90,position:"insideRight",style:{textAnchor:"middle",fill:"#9ca3af"}},stroke:"#10b981"}),e.jsx(I,{content:e.jsx(N,{})}),e.jsx(W,{}),e.jsx(H,{yAxisId:"glucose",y:3.9,stroke:"#ef4444",strokeDasharray:"5 5",label:"Low Glucose"}),e.jsx(H,{yAxisId:"glucose",y:5.6,stroke:"#ef4444",strokeDasharray:"5 5",label:"High Glucose"}),e.jsx(H,{yAxisId:"hba1c",y:4,stroke:"#f59e0b",strokeDasharray:"5 5",label:"Low HbA1c"}),e.jsx(H,{yAxisId:"hba1c",y:6,stroke:"#f59e0b",strokeDasharray:"5 5",label:"High HbA1c"}),e.jsx(_,{yAxisId:"glucose",type:"monotone",dataKey:"glucose",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",strokeWidth:2,r:4},name:"Fasting Glucose",connectNulls:!1}),e.jsx(_,{yAxisId:"hba1c",type:"monotone",dataKey:"hba1c",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",strokeWidth:2,r:4},name:"HbA1c",connectNulls:!1})]})})}),e.jsxs("div",{className:"mt-4 text-center text-sm text-gray-500",children:[l.length," data point",l.length!==1?"s":""," ‚Ä¢ Last updated: ",l[l.length-1]?.dateString]})]})},Is=({athleteId:s})=>{const[l,p]=k.useState([]),[f,u]=k.useState(!0),[x,n]=k.useState(null);k.useEffect(()=>{(async()=>{try{u(!0),n(null);const c=typeof s=="string"?parseInt(s,10):s,m=await B.getAthleteData(c,!0);if(!m.bloodResults||m.bloodResults.length===0){p([]);return}const v=m.bloodResults.filter(h=>h.c_reactive_protein!==void 0&&h.c_reactive_protein!==null||h.esr!==void 0&&h.esr!==null||h.leucocyte_count!==void 0&&h.leucocyte_count!==null||h.nlr!==void 0&&h.nlr!==null);if(v.length===0){p([]);return}const g=v.filter(h=>h.date).map(h=>{const d=new Date(h.date);return{date:d.getTime(),dateString:d.toLocaleDateString(),crp:h.c_reactive_protein||0,esr:h.esr||0,wbc:h.leucocyte_count||0,nlr:h.nlr||0}});g.sort((h,d)=>h.date-d.date),p(g)}catch{n("Failed to load inflammation data. Please try again.")}finally{u(!1)}})()},[s]);const N=({active:b,payload:c,label:m})=>{if(b&&c&&c.length){const v=c[0].payload;return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-lg",children:[e.jsx("p",{className:"text-white font-medium",children:`Date: ${v.dateString}`}),c.map((g,h)=>{let d="";return g.dataKey==="crp"?d=" mg/L":g.dataKey==="esr"?d=" mm/hr":g.dataKey==="wbc"?d=" √ó10‚Åπ/L":g.dataKey==="nlr"&&(d=""),e.jsx("p",{style:{color:g.color},children:`${g.name}: ${g.value?.toFixed(1)}${d}`},h)})]})}return null};return f?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Loading inflammation data..."})]})}):x?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Z,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-400 font-medium text-lg",children:"Error loading inflammation data"}),e.jsx("p",{className:"text-gray-400 mt-2",children:x})]})}):l.length===0?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(q,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 font-medium text-lg",children:"No inflammation data available"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Inflammation data requires blood test results with CRP, ESR, WBC, or NLR measurements."})]})}):e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Inflammation & Immune Response"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Track inflammation markers and immune system activity over time."}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("span",{children:"CRP (<3.0 mg/L)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),e.jsx("span",{children:"ESR (<20 mm/hr)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{children:"WBC (4.0-11.0 √ó10‚Åπ/L)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),e.jsx("span",{children:"NLR (<3.0)"})]})]})]}),e.jsx("div",{className:"h-96",children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(ie,{data:l,margin:{top:20,right:30,bottom:20,left:20},children:[e.jsx(C,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(E,{type:"number",dataKey:"date",domain:["dataMin","dataMax"],tickFormatter:b=>new Date(b).toLocaleDateString(),stroke:"#9ca3af"}),e.jsx(L,{yAxisId:"inflammation",orientation:"left",domain:["dataMin","dataMax"],label:{value:"Inflammation Markers",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#9ca3af"}},stroke:"#9ca3af"}),e.jsx(L,{yAxisId:"immune",orientation:"right",domain:["dataMin","dataMax"],label:{value:"Immune Cells",angle:90,position:"insideRight",style:{textAnchor:"middle",fill:"#9ca3af"}},stroke:"#9ca3af"}),e.jsx(I,{content:e.jsx(N,{})}),e.jsx(W,{}),e.jsx(H,{yAxisId:"inflammation",y:3,stroke:"#ef4444",strokeDasharray:"5 5",label:"CRP Normal"}),e.jsx(H,{yAxisId:"inflammation",y:20,stroke:"#f59e0b",strokeDasharray:"5 5",label:"ESR Normal"}),e.jsx(H,{yAxisId:"immune",y:4,stroke:"#3b82f6",strokeDasharray:"5 5",label:"WBC Low"}),e.jsx(H,{yAxisId:"immune",y:11,stroke:"#3b82f6",strokeDasharray:"5 5",label:"WBC High"}),e.jsx(H,{yAxisId:"immune",y:3,stroke:"#8b5cf6",strokeDasharray:"5 5",label:"NLR Normal"}),e.jsx(_,{yAxisId:"inflammation",type:"monotone",dataKey:"crp",stroke:"#ef4444",strokeWidth:2,dot:{fill:"#ef4444",strokeWidth:2,r:4},name:"C-Reactive Protein",connectNulls:!1}),e.jsx(_,{yAxisId:"inflammation",type:"monotone",dataKey:"esr",stroke:"#f59e0b",strokeWidth:2,dot:{fill:"#f59e0b",strokeWidth:2,r:4},name:"ESR",connectNulls:!1}),e.jsx(te,{yAxisId:"immune",dataKey:"wbc",fill:"#3b82f6",name:"White Blood Cells",opacity:.7}),e.jsx(_,{yAxisId:"immune",type:"monotone",dataKey:"nlr",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",strokeWidth:2,r:4},name:"Neutrophil-Lymphocyte Ratio",connectNulls:!1})]})})}),e.jsxs("div",{className:"mt-4 text-center text-sm text-gray-500",children:[l.length," data point",l.length!==1?"s":""," ‚Ä¢ Last updated: ",l[l.length-1]?.dateString]})]})},$s=({athleteId:s})=>{const[l,p]=k.useState([]),[f,u]=k.useState(!0),[x,n]=k.useState(null);k.useEffect(()=>{(async()=>{try{u(!0),n(null);const c=typeof s=="string"?parseInt(s,10):s,m=await B.getAthleteData(c,!0);if(!m.bloodResults||m.bloodResults.length===0){p([]);return}const v=m.bloodResults.filter(h=>h.s_alanine_transaminase!==void 0&&h.s_alanine_transaminase!==null||h.s_aspartate_transaminase!==void 0&&h.s_aspartate_transaminase!==null||h.s_glutamyl_transferase!==void 0&&h.s_glutamyl_transferase!==null||h.creatinine!==void 0&&h.creatinine!==null||h.egfr!==void 0&&h.egfr!==null);if(v.length===0){p([]);return}const g=v.filter(h=>h.date).map(h=>{const d=new Date(h.date);return{date:d.getTime(),dateString:d.toLocaleDateString(),alt:h.s_alanine_transaminase||0,ast:h.s_aspartate_transaminase||0,ggt:h.s_glutamyl_transferase||0,creatinine:h.creatinine||0,egfr:h.egfr||0}});g.sort((h,d)=>h.date-d.date),p(g)}catch{n("Failed to load organ function data. Please try again.")}finally{u(!1)}})()},[s]);const N=({active:b,payload:c,label:m})=>{if(b&&c&&c.length){const v=c[0].payload;return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-lg",children:[e.jsx("p",{className:"text-white font-medium",children:`Date: ${v.dateString}`}),c.map((g,h)=>{let d=" U/L";return g.dataKey==="creatinine"?d=" ¬µmol/L":g.dataKey==="egfr"&&(d=" mL/min/1.73m¬≤"),e.jsx("p",{style:{color:g.color},children:`${g.name}: ${g.value?.toFixed(1)}${d}`},h)})]})}return null};return f?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Loading organ function data..."})]})}):x?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Z,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-400 font-medium text-lg",children:"Error loading organ function data"}),e.jsx("p",{className:"text-gray-400 mt-2",children:x})]})}):l.length===0?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(q,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 font-medium text-lg",children:"No organ function data available"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Organ function data requires blood test results with liver or kidney markers."})]})}):e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Liver & Kidney Function Trends"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Monitor liver enzymes (ALT, AST, GGT) and kidney function (creatinine, eGFR) over time."}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{children:"Liver Enzymes (ALT <56, AST <40, GGT <48 U/L)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Kidney Function (Creatinine 60-110 ¬µmol/L, eGFR >90)"})]})]})]}),e.jsx("div",{className:"h-96",children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(V,{data:l,margin:{top:20,right:30,bottom:20,left:20},children:[e.jsx(C,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(E,{type:"number",dataKey:"date",domain:["dataMin","dataMax"],tickFormatter:b=>new Date(b).toLocaleDateString(),stroke:"#9ca3af"}),e.jsx(L,{yAxisId:"liver",orientation:"left",domain:["dataMin","dataMax"],label:{value:"Liver Enzymes (U/L)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#9ca3af"}},stroke:"#10b981"}),e.jsx(L,{yAxisId:"kidney",orientation:"right",domain:["dataMin","dataMax"],label:{value:"Kidney Markers",angle:90,position:"insideRight",style:{textAnchor:"middle",fill:"#9ca3af"}},stroke:"#3b82f6"}),e.jsx(I,{content:e.jsx(N,{})}),e.jsx(W,{}),e.jsx(H,{yAxisId:"liver",y:56,stroke:"#ef4444",strokeDasharray:"5 5",label:"ALT Normal"}),e.jsx(H,{yAxisId:"liver",y:40,stroke:"#f59e0b",strokeDasharray:"5 5",label:"AST Normal"}),e.jsx(H,{yAxisId:"liver",y:48,stroke:"#8b5cf6",strokeDasharray:"5 5",label:"GGT Normal"}),e.jsx(H,{yAxisId:"kidney",y:60,stroke:"#3b82f6",strokeDasharray:"5 5",label:"Creatinine Low"}),e.jsx(H,{yAxisId:"kidney",y:110,stroke:"#3b82f6",strokeDasharray:"5 5",label:"Creatinine High"}),e.jsx(H,{yAxisId:"kidney",y:90,stroke:"#10b981",strokeDasharray:"5 5",label:"eGFR Normal"}),e.jsx(_,{yAxisId:"liver",type:"monotone",dataKey:"alt",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",strokeWidth:2,r:4},name:"ALT",connectNulls:!1}),e.jsx(_,{yAxisId:"liver",type:"monotone",dataKey:"ast",stroke:"#f59e0b",strokeWidth:2,dot:{fill:"#f59e0b",strokeWidth:2,r:4},name:"AST",connectNulls:!1}),e.jsx(_,{yAxisId:"liver",type:"monotone",dataKey:"ggt",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",strokeWidth:2,r:4},name:"GGT",connectNulls:!1}),e.jsx(_,{yAxisId:"kidney",type:"monotone",dataKey:"creatinine",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",strokeWidth:2,r:4},name:"Creatinine",connectNulls:!1}),e.jsx(_,{yAxisId:"kidney",type:"monotone",dataKey:"egfr",stroke:"#ef4444",strokeWidth:2,dot:{fill:"#ef4444",strokeWidth:2,r:4},name:"eGFR",connectNulls:!1})]})})}),e.jsxs("div",{className:"mt-4 text-center text-sm text-gray-500",children:[l.length," data point",l.length!==1?"s":""," ‚Ä¢ Last updated: ",l[l.length-1]?.dateString]})]})},Es=({athleteId:s})=>{const[l,p]=k.useState([]),[f,u]=k.useState(!0),[x,n]=k.useState(null);k.useEffect(()=>{(async()=>{try{u(!0),n(null);const g=typeof s=="string"?parseInt(s,10):s,h=await Fe.getBloodResultsByAthlete(g);p(h)}catch{n("Failed to load blood results data. Please try again.")}finally{u(!1)}})()},[s]);const N=(v,g=2)=>v==null?"N/A":v.toFixed(g),b=(v,g)=>v==null||!g?e.jsx(Xe,{className:"w-4 h-4 text-gray-400"}):v<g.min?e.jsx(Qe,{className:"w-4 h-4 text-blue-500"}):v>g.max?e.jsx(Ze,{className:"w-4 h-4 text-red-500"}):e.jsx(ce,{className:"w-4 h-4 text-green-500"}),c=(v,g)=>v==null||!g?"text-gray-400":v<g.min||v>g.max?"text-red-600 bg-red-50":"text-green-600 bg-green-50";if(f)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Loading blood results..."})]})});if(x)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Z,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-400 font-medium text-lg",children:"Error loading blood results"}),e.jsx("p",{className:"text-gray-400 mt-2",children:x})]})});if(l.length===0)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(q,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 font-medium text-lg",children:"No blood results available"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Blood test results will appear here once uploaded."})]})});const m=l[l.length-1];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-red-500/5 to-transparent"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-pink-500/5 to-transparent"}),e.jsxs("div",{className:"relative z-10 p-8 space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-red-500 to-pink-500 rounded-full mb-4 shadow-lg animate-pulse",children:e.jsx(Ve,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-white via-red-200 to-pink-200 bg-clip-text text-transparent mb-2",children:"Blood Results"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Comprehensive blood analysis from PostgreSQL database"}),e.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:[l.length," test result",l.length!==1?"s":""," available"]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(ze,{className:"w-6 h-6"}),"Test Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Test Date"}),e.jsx("div",{className:"text-lg font-semibold text-white",children:m.date?new Date(m.date).toLocaleDateString():"N/A"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Lab Name"}),e.jsx("div",{className:"text-lg font-semibold text-white",children:m.lab_name||"N/A"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Test Method"}),e.jsx("div",{className:"text-lg font-semibold text-white",children:m.test_method||"N/A"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Status"}),e.jsx("div",{className:"text-lg font-semibold text-white flex items-center gap-2",children:m.is_abnormal?e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"w-5 h-5 text-red-500"}),"Abnormal"]}):e.jsxs(e.Fragment,{children:[e.jsx(ce,{className:"w-5 h-5 text-green-500"}),"Normal"]})})]})]}),m.notes&&e.jsxs("div",{className:"mt-4 bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Notes"}),e.jsx("div",{className:"text-white",children:m.notes})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(Ue,{className:"w-6 h-6"}),"Hormones"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Cortisol"}),b(m.cortisol_nmol_l,{min:100,max:600})]}),e.jsxs("div",{className:`text-2xl font-bold ${c(m.cortisol_nmol_l,{min:100,max:600})}`,children:[N(m.cortisol_nmol_l)," nmol/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Testosterone"}),b(m.testosterone,{min:8.4,max:28.7})]}),e.jsxs("div",{className:`text-2xl font-bold ${c(m.testosterone,{min:8.4,max:28.7})}`,children:[N(m.testosterone)," nmol/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Vitamin D"}),b(m.vitamin_d,{min:50,max:150})]}),e.jsxs("div",{className:`text-2xl font-bold ${c(m.vitamin_d,{min:50,max:150})}`,children:[N(m.vitamin_d)," nmol/L"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(q,{className:"w-6 h-6"}),"Metabolic & Muscle Markers"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Creatine Kinase"}),b(m.ck,{min:30,max:200})]}),e.jsxs("div",{className:`text-2xl font-bold ${c(m.ck,{min:30,max:200})}`,children:[N(m.ck)," U/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Fasting Glucose"}),b(m.fasting_glucose,{min:3.9,max:5.6})]}),e.jsxs("div",{className:`text-2xl font-bold ${c(m.fasting_glucose,{min:3.9,max:5.6})}`,children:[N(m.fasting_glucose)," mmol/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"HbA1c"}),b(m.hba1c,{min:4,max:6})]}),e.jsxs("div",{className:`text-2xl font-bold ${c(m.hba1c,{min:4,max:6})}`,children:[N(m.hba1c)," %"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(oe,{className:"w-6 h-6"}),"Kidney Function"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Urea"}),b(m.urea,{min:2.5,max:7.8})]}),e.jsxs("div",{className:`text-2xl font-bold ${c(m.urea,{min:2.5,max:7.8})}`,children:[N(m.urea)," mmol/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Creatinine"}),b(m.creatinine,{min:60,max:110})]}),e.jsxs("div",{className:`text-2xl font-bold ${c(m.creatinine,{min:60,max:110})}`,children:[N(m.creatinine)," ¬µmol/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"eGFR"}),b(m.egfr,{min:90,max:120})]}),e.jsxs("div",{className:`text-2xl font-bold ${c(m.egfr,{min:90,max:120})}`,children:[N(m.egfr)," mL/min/1.73m¬≤"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Uric Acid"}),b(m.uric_acid,{min:150,max:420})]}),e.jsxs("div",{className:`text-2xl font-bold ${c(m.uric_acid,{min:150,max:420})}`,children:[N(m.uric_acid)," ¬µmol/L"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(q,{className:"w-6 h-6"}),"Liver Function"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"ALT"}),b(m.s_alanine_transaminase,{min:7,max:56})]}),e.jsxs("div",{className:`text-2xl font-bold ${c(m.s_alanine_transaminase,{min:7,max:56})}`,children:[N(m.s_alanine_transaminase)," U/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"AST"}),b(m.s_aspartate_transaminase,{min:10,max:40})]}),e.jsxs("div",{className:`text-2xl font-bold ${c(m.s_aspartate_transaminase,{min:10,max:40})}`,children:[N(m.s_aspartate_transaminase)," U/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"GGT"}),b(m.s_glutamyl_transferase,{min:9,max:48})]}),e.jsxs("div",{className:`text-2xl font-bold ${c(m.s_glutamyl_transferase,{min:9,max:48})}`,children:[N(m.s_glutamyl_transferase)," U/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"LDH"}),b(m.lactate_dehydrogenase,{min:125,max:220})]}),e.jsxs("div",{className:`text-2xl font-bold ${c(m.lactate_dehydrogenase,{min:125,max:220})}`,children:[N(m.lactate_dehydrogenase)," U/L"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(q,{className:"w-6 h-6"}),"Complete Blood Count"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Hemoglobin"}),b(m.hemoglobin,{min:130,max:170})]}),e.jsxs("div",{className:`text-2xl font-bold ${c(m.hemoglobin,{min:130,max:170})}`,children:[N(m.hemoglobin)," g/dL"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"White Blood Cells"}),b(m.leucocyte_count,{min:4,max:11})]}),e.jsxs("div",{className:`text-2xl font-bold ${c(m.leucocyte_count,{min:4,max:11})}`,children:[N(m.leucocyte_count)," √ó10‚Åπ/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Platelets"}),b(m.platelets,{min:150,max:400})]}),e.jsxs("div",{className:`text-2xl font-bold ${c(m.platelets,{min:150,max:400})}`,children:[N(m.platelets)," √ó10‚Åπ/L"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(oe,{className:"w-6 h-6"}),"Inflammation & Minerals"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"C-Reactive Protein"}),b(m.c_reactive_protein,{min:0,max:3})]}),e.jsxs("div",{className:`text-2xl font-bold ${c(m.c_reactive_protein,{min:0,max:3})}`,children:[N(m.c_reactive_protein)," mg/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"ESR"}),b(m.esr,{min:1,max:20})]}),e.jsxs("div",{className:`text-2xl font-bold ${c(m.esr,{min:1,max:20})}`,children:[N(m.esr)," mm/hr"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Calcium"}),b(m.calcium_adjusted,{min:2.15,max:2.55})]}),e.jsxs("div",{className:`text-2xl font-bold ${c(m.calcium_adjusted,{min:2.15,max:2.55})}`,children:[N(m.calcium_adjusted)," mmol/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Magnesium"}),b(m.magnesium,{min:.7,max:1})]}),e.jsxs("div",{className:`text-2xl font-bold ${c(m.magnesium,{min:.7,max:1})}`,children:[N(m.magnesium)," mmol/L"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(qe,{className:"w-6 h-6"}),"Summary"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:l.length}),e.jsx("div",{className:"text-sm text-gray-400",children:"Total Tests"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:m.date?new Date(m.date).toLocaleDateString():"N/A"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Latest Test Date"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:m.is_abnormal?"‚ö†Ô∏è":"‚úÖ"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Overall Status"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(Ye,{className:"w-6 h-6"}),"Blood Results Trends"]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(Se,{athleteId:s}),e.jsx(Ts,{athleteId:s}),e.jsx(Is,{athleteId:s}),e.jsx($s,{athleteId:s})]})]})]})]})})},pe=s=>{if(s.length===0)return 0;s[s.length-1];let l=100;const p=s.map(d=>d.sleep_onset_time||"00:00"),f=s.map(d=>d.wake_time||"00:00"),u=se(p.map(d=>{const[a,i]=d.split(":").map(Number);return a*60+i})),x=se(f.map(d=>{const[a,i]=d.split(":").map(Number);return a*60+i})),n=(u+x)/2,N=Math.min(n/2,30),b=s.reduce((d,a)=>d+a.sleep_duration_h,0)/s.length,c=b<7?(7-b)*5:0,m=s.reduce((d,a)=>d+a.deep_sleep_pct,0)/s.length,v=m<20?(20-m)*2:0,g=s.reduce((d,a)=>d+a.hrv_night,0)/s.length,h=g<50?(50-g)*.5:0;return l-=N+c+v+h,Math.max(0,Math.min(100,l))},se=s=>{const l=s.reduce((u,x)=>u+x,0)/s.length,f=s.map(u=>Math.pow(u-l,2)).reduce((u,x)=>u+x,0)/s.length;return Math.sqrt(f)},Hs=(s,l)=>{const p=s.find(x=>x.gene==="PER3"),f=s.find(x=>x.gene==="CLOCK");let u="Intermediate";if(p?u=p.genotype==="long"?"Evening Type":"Morning Type":f&&(u=f.genotype==="AA"?"Morning Type":"Evening Type"),l.length>0){const x=l.reduce((n,N)=>{const[b]=(N.sleep_onset_time||"00:00").split(":").map(Number);return n+b},0)/l.length;return x>=23||x<=5?"Evening Type":x<=22&&x>=21?"Intermediate":"Morning Type"}return u},Cs=s=>{const l=[];if(s.length<2)return l;const p=s.map(b=>{const[c,m]=(b.sleep_onset_time||"00:00").split(":").map(Number);return c*60+m});return se(p)>60&&l.push("Irregular Sleep Schedule"),s.reduce((b,c)=>b+c.sleep_duration_h,0)/s.length<7&&l.push("Chronic Sleep Deprivation"),s.reduce((b,c)=>b+c.deep_sleep_pct,0)/s.length<15&&l.push("Insufficient Deep Sleep"),s.reduce((b,c)=>b+c.resting_hr,0)/s.length>65&&l.push("Elevated Nighttime Heart Rate"),s.reduce((b,c)=>b+c.hrv_night,0)/s.length<40&&l.push("Poor Nighttime Recovery"),l},Ks=(s,l,p,f)=>{const u=[];s==="Morning Type"?(u.push("Maintain consistent early bedtime (9-10 PM) and wake time (5-6 AM)"),u.push("Schedule high-intensity training in the morning when cortisol is naturally higher"),u.push("Avoid late-night screen time and bright lights after sunset")):s==="Evening Type"?(u.push("Allow flexible scheduling but maintain consistent sleep duration"),u.push("Consider later training sessions when energy levels are higher"),u.push("Use morning sunlight exposure to help regulate circadian rhythm")):(u.push("Aim for 10-11 PM bedtime and 6-7 AM wake time as a balanced approach"),u.push("Monitor energy levels throughout the day to optimize training timing")),l.includes("Irregular Sleep Schedule")&&(u.push("Establish a consistent sleep schedule, even on weekends"),u.push("Use alarm clocks for both bedtime and wake time")),l.includes("Chronic Sleep Deprivation")&&(u.push("Prioritize 7-9 hours of sleep nightly"),u.push("Consider naps (20-30 minutes) if sleep debt accumulates")),l.includes("Insufficient Deep Sleep")&&(u.push("Maintain cooler bedroom temperature (65-68¬∞F/18-20¬∞C)"),u.push("Avoid alcohol and heavy meals 3 hours before bedtime")),l.includes("Elevated Nighttime Heart Rate")&&(u.push("Incorporate evening relaxation techniques (meditation, light stretching)"),u.push("Reduce screen time and blue light exposure 1 hour before bed")),s==="Morning Type"?(u.push("Stop caffeine consumption by 2 PM to avoid sleep interference"),u.push("Optimal caffeine timing: 8-11 AM when cortisol is naturally elevated")):s==="Evening Type"?(u.push("Stop caffeine consumption by 4 PM to prevent delayed sleep onset"),u.push("Limit caffeine to morning hours only (before 12 PM)")):(u.push("Stop caffeine consumption by 3 PM for balanced circadian rhythm"),u.push("Monitor individual response and adjust caffeine cutoff time accordingly")),f.length>0&&(f.reduce((b,c)=>{const[m]=(c.sleep_onset_time||"00:00").split(":").map(Number);return b+m},0)/f.length<23?u.push("Early sleep onset detected - stop caffeine 6-8 hours before bedtime"):u.push("Later sleep onset - stop caffeine 4-6 hours before bedtime"));const x=p.find(N=>N.gene==="CLOCK");x&&(x.genotype==="AA"?u.push("Strong circadian drive - maintain strict sleep consistency"):u.push("Flexible circadian rhythm - use time-restricted eating (10-hour window)"));const n=p.find(N=>N.gene==="PER3");return n&&(n.genotype==="long"?(u.push("Evening chronotype - consider magnesium glycinate for better sleep onset"),u.push("Evening types: Stop caffeine by 3 PM to avoid sleep disruption")):(u.push("Morning chronotype - optimize with morning sunlight exposure"),u.push("Morning types: Can consume caffeine until 2 PM without major sleep impact"))),u},Ws=({biometricData:s,geneticData:l,athleteId:p})=>{const[f,u]=k.useState("30d"),x=f==="7d"?s.slice(-7):s.slice(-30),n=pe(x),N=Hs(l,x),b=Cs(x),c=Ks(N,b,l,x),m=x.map(g=>({date:g.date,sleepDuration:g.sleep_duration_h,deepSleep:g.deep_sleep_pct,hrvNight:g.hrv_night,restingHr:g.resting_hr,circadianScore:pe([g])})),v=[{name:"Sleep Duration",value:x.length>0?x.reduce((g,h)=>g+h.sleep_duration_h,0)/x.length:0,max:10},{name:"Deep Sleep %",value:x.length>0?x.reduce((g,h)=>g+h.deep_sleep_pct,0)/x.length:0,max:30},{name:"Night HRV",value:x.length>0?x.reduce((g,h)=>g+h.hrv_night,0)/x.length:0,max:100},{name:"Resting HR",value:x.length>0?100-x.reduce((g,h)=>g+h.resting_hr,0)/x.length:0,max:100},{name:"Sleep Consistency",value:100-Math.min(se(x.map(g=>{const[h]=(g.sleep_onset_time||"00:00").split(":").map(Number);return h}))*5,100),max:100}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"‚è∞ Circadian Rhythm Analysis"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>u("7d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="7d"?"bg-blue-600 text-gray-900":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"7 Days"}),e.jsx("button",{onClick:()=>u("30d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="30d"?"bg-blue-600 text-gray-900":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"30 Days"})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üïê Daily Circadian Rhythm"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"relative w-64 h-64 mx-auto",children:e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 120 120",children:[e.jsx("circle",{cx:"60",cy:"60",r:"55",fill:"none",stroke:"#e5e7eb",strokeWidth:"2"}),Array.from({length:24},(g,h)=>{const d=h*15-90,a=60+45*Math.cos(d*Math.PI/180),i=60+45*Math.sin(d*Math.PI/180),y=60+50*Math.cos(d*Math.PI/180),w=60+50*Math.sin(d*Math.PI/180);return e.jsx("line",{x1:a,y1:i,x2:y,y2:w,stroke:"#6b7280",strokeWidth:h%6===0?"2":"1"},h)}),[6,12,18,24].map(g=>{const h=g*15-90,d=60+38*Math.cos(h*Math.PI/180),a=60+38*Math.sin(h*Math.PI/180);return e.jsx("text",{x:d,y:a,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs font-medium fill-gray-600",children:g===24?"0":g},g)}),N==="Morning Type"&&e.jsx("path",{d:"M 60,60 Q 45,30 30,55 Q 45,80 60,60",fill:"none",stroke:"#F59E0B",strokeWidth:"3",opacity:"0.8"}),N==="Evening Type"&&e.jsx("path",{d:"M 60,60 Q 45,40 30,65 Q 45,90 60,60",fill:"none",stroke:"#F59E0B",strokeWidth:"3",opacity:"0.8"}),N==="Intermediate"&&e.jsx("path",{d:"M 60,60 Q 45,35 30,60 Q 45,85 60,60",fill:"none",stroke:"#F59E0B",strokeWidth:"3",opacity:"0.8"}),x.length>0&&e.jsx("path",{d:`M 60,60 Q ${75+(x[0].sleep_duration_h<7?5:0)},${35-(x[0].deep_sleep_pct>20?5:0)} ${90+(x[0].sleep_duration_h<7?5:0)},${60-(x[0].deep_sleep_pct>20?10:0)} Q ${75+(x[0].sleep_duration_h<7?5:0)},${85+(x[0].deep_sleep_pct>20?5:0)} 60,60`,fill:"none",stroke:"#8B5CF6",strokeWidth:"3",opacity:"0.8"}),x.length>0&&e.jsx("path",{d:`M 30,${70-(x[0].temp_trend_c>36.5?5:0)} Q 45,${65-(x[0].temp_trend_c>36.5?3:0)} 60,${60-(x[0].temp_trend_c>36.5?0:5)} Q 75,${55-(x[0].temp_trend_c>36.5?0:3)} 90,${70-(x[0].temp_trend_c>36.5?5:0)}`,fill:"none",stroke:"#EF4444",strokeWidth:"2",opacity:"0.7"}),x.length>0&&e.jsx("path",{d:`M 35,${75-(n>70?15:n>50?10:5)} Q 50,${50-(n>70?10:n>50?5:0)} 65,${45-(n>70?5:0)} Q 80,${50-(n>70?10:n>50?5:0)} 95,${75-(n>70?15:n>50?10:5)}`,fill:"none",stroke:"#10B981",strokeWidth:"2",opacity:"0.7"})]})})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),e.jsx("span",{className:"font-medium text-orange-800",children:"Cortisol"})]}),e.jsx("p",{className:"text-sm text-orange-700",children:"Peaks in morning, drives wakefulness and energy"})]}),e.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),e.jsx("span",{className:"font-medium text-purple-800",children:"Melatonin"})]}),e.jsx("p",{className:"text-sm text-purple-700",children:"Rises in evening, promotes sleep and recovery"})]}),e.jsxs("div",{className:"bg-red-50 p-3 rounded-lg border border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("span",{className:"font-medium text-red-800",children:"Body Temperature"})]}),e.jsx("p",{className:"text-sm text-red-700",children:"Lowest at night, peaks in afternoon/evening"})]}),e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"font-medium text-green-800",children:"Energy Levels"})]}),e.jsx("p",{className:"text-sm text-green-700",children:"Highest mid-morning to early afternoon"})]})]})})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-2xl mb-1",children:"üåÖ"}),e.jsx("div",{className:"font-medium text-blue-800",children:N==="Morning Type"?"5-8 AM":N==="Evening Type"?"7-10 AM":"6-9 AM"}),e.jsx("div",{className:"text-sm text-blue-600",children:n>70?"High-Intensity Training":"Light Exercise"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-2xl mb-1",children:"‚ö°"}),e.jsx("div",{className:"font-medium text-green-800",children:N==="Morning Type"?"9 AM-1 PM":N==="Evening Type"?"11 AM-3 PM":"10 AM-2 PM"}),e.jsxs("div",{className:"text-sm text-green-600",children:["Peak Performance ",n>70?"(Optimal)":"(Moderate)"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("div",{className:"text-2xl mb-1",children:"üßò"}),e.jsx("div",{className:"font-medium text-orange-800",children:N==="Morning Type"?"2-5 PM":N==="Evening Type"?"4-7 PM":"3-6 PM"}),e.jsxs("div",{className:"text-sm text-orange-600",children:["Recovery & ",x[0]?.training_load_pct>80?"Active Rest":"Skill Work"]})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("div",{className:"text-2xl mb-1",children:"üò¥"}),e.jsx("div",{className:"font-medium text-purple-800",children:x.length>0&&x[0].sleep_onset_time?(()=>{const g=parseInt(x[0].sleep_onset_time.split(":")[0]),h=Math.floor((g+(x[0].sleep_duration_h||8))%24);return`${g>12?g-12:g} ${g>=12?"PM":"AM"}-${h>12?h-12:h===0?12:h} ${h>=12&&h!==0?"PM":"AM"}`})():"10 PM-6 AM"}),e.jsxs("div",{className:"text-sm text-purple-600",children:["Sleep (",x[0]?.sleep_duration_h.toFixed(1)||"8.0","h avg)"]})]})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üìä Circadian Rhythm Score"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"relative w-48 h-48 mx-auto",children:e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#e5e7eb",strokeWidth:"8"}),e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:n>70?"#10B981":n>50?"#F59E0B":"#EF4444",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${n*2.83}, 1000`,transform:"rotate(-90 50 50)"}),e.jsx("text",{x:"50",y:"50",textAnchor:"middle",dominantBaseline:"middle",className:"text-2xl font-bold",children:n.toFixed(0)}),e.jsx("text",{x:"50",y:"60",textAnchor:"middle",dominantBaseline:"middle",className:"text-sm text-gray-600",children:"Score"})]})})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Chronotype"}),e.jsx("p",{className:"text-2xl font-bold mt-1 text-gray-900",children:N}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[N==="Morning Type"&&"Early riser, peaks in morning",N==="Evening Type"&&"Night owl, peaks in evening",N==="Intermediate"&&"Balanced sleep pattern"]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Genetic Influence"}),e.jsxs("div",{className:"space-y-2 mt-2",children:[l.filter(g=>["CLOCK","PER3","ARNTL"].includes(g.gene)).map((g,h)=>e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsxs("span",{className:"font-medium text-gray-900",children:[g.gene,":"]})," ",e.jsx("span",{className:"text-gray-700",children:g.genotype})]},h)),l.filter(g=>["CLOCK","PER3","ARNTL"].includes(g.gene)).length===0&&e.jsx("p",{className:"text-sm text-gray-700",children:"No circadian-related genetic data available"})]})]})]})})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üéØ Circadian Rhythm Markers"}),e.jsx(T,{width:"100%",height:400,children:e.jsxs(Ne,{data:v,children:[e.jsx(ye,{stroke:"#e5e7eb"}),e.jsx(ve,{dataKey:"name",tick:{fontSize:12}}),e.jsx(we,{angle:90,domain:[0,"dataMax"],tick:{fontSize:10},tickFormatter:g=>`${g}`}),e.jsx(ke,{name:"Circadian Health",dataKey:"value",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3,strokeWidth:2}),e.jsx(I,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üìà Sleep Duration & Quality"}),e.jsx(T,{width:"100%",height:300,children:e.jsxs(V,{data:m,children:[e.jsx(C,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(E,{dataKey:"date",stroke:"#6b7280"}),e.jsx(L,{yAxisId:"left",stroke:"#6b7280"}),e.jsx(L,{yAxisId:"right",orientation:"right",stroke:"#6b7280"}),e.jsx(I,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(W,{}),e.jsx(_,{yAxisId:"left",type:"monotone",dataKey:"sleepDuration",name:"Sleep Duration (h)",stroke:"#3b82f6",strokeWidth:3,dot:{r:4}}),e.jsx(_,{yAxisId:"right",type:"monotone",dataKey:"deepSleep",name:"Deep Sleep (%)",stroke:"#10B981",strokeWidth:3,dot:{r:4}})]})})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"‚ù§Ô∏è Nighttime Recovery"}),e.jsx(T,{width:"100%",height:300,children:e.jsxs(V,{data:m,children:[e.jsx(C,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(E,{dataKey:"date",stroke:"#6b7280"}),e.jsx(L,{yAxisId:"left",stroke:"#6b7280"}),e.jsx(L,{yAxisId:"right",orientation:"right",stroke:"#6b7280"}),e.jsx(I,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(W,{}),e.jsx(_,{yAxisId:"left",type:"monotone",dataKey:"hrvNight",name:"Night HRV (ms)",stroke:"#8b5cf6",strokeWidth:3,dot:{r:4}}),e.jsx(_,{yAxisId:"right",type:"monotone",dataKey:"restingHr",name:"Resting HR (bpm)",stroke:"#EF4444",strokeWidth:3,dot:{r:4}})]})})]})]}),b.length>0&&e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"‚ö†Ô∏è Circadian Disruptions"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.map((g,h)=>e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center",children:e.jsx("span",{className:"text-red-600",children:"‚ö†Ô∏è"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-red-800",children:g}),e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[g==="Irregular Sleep Schedule"&&"Inconsistent bed/wake times disrupt circadian rhythm",g==="Chronic Sleep Deprivation"&&"Insufficient sleep duration affects hormone regulation",g==="Insufficient Deep Sleep"&&"Reduced deep sleep impairs physical recovery",g==="Elevated Nighttime Heart Rate"&&"High stress levels preventing proper recovery",g==="Poor Nighttime Recovery"&&"Low HRV indicates inadequate parasympathetic activity"]})]})]})},h))})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üí° Personalized Recommendations"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map((g,h)=>e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600",children:"üí°"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-blue-800",children:g})})]})},h))})]})]})},Os=({athlete:s,biometricData:l,geneticProfiles:p})=>{const[f,u]=k.useState([]),[x,n]=k.useState(""),[N,b]=k.useState(!1),[c,m]=k.useState(!1),v=k.useRef(null);l.length>0&&l[0];const g=l.length>0&&l.some(w=>w.hrv_night&&w.hrv_night>0),h=()=>{v.current?.scrollIntoView({behavior:"smooth"})};k.useEffect(()=>{h()},[f]);const d=()=>{const w=l.slice(-7),o=p.reduce((A,t)=>(A[t.gene]=t.genotype,A),{}),j={name:s.name,sport:s.sport,age:s.age,team:s.team,biometricHistory:w.map(A=>({HrvNight:A.hrv_night,RestingHr:A.resting_hr,DeepSleepPct:A.deep_sleep_pct,RemSleepPct:A.rem_sleep_pct,SleepDurationH:A.sleep_duration_h,Spo2Night:A.spo2_night,TrainingLoadPct:A.training_load_pct,Date:A.date})),latestBiometrics:w[w.length-1]?{HrvNight:w[w.length-1].hrv_night,RestingHr:w[w.length-1].resting_hr,DeepSleepPct:w[w.length-1].deep_sleep_pct,RemSleepPct:w[w.length-1].rem_sleep_pct,SleepDurationH:w[w.length-1].sleep_duration_h,Spo2Night:w[w.length-1].spo2_night,TrainingLoadPct:w[w.length-1].training_load_pct,Date:w[w.length-1].date}:null,geneticProfile:o,totalBiometricRecords:l.length,totalGeneticMarkers:p.length};return j.latestBiometrics,j},a=async()=>{if(!x.trim()||N)return;const w={id:Date.now().toString(),role:"user",content:x.trim(),timestamp:new Date};if(u(o=>[...o,w]),n(""),b(!0),c){const o=d(),j=y(x,o),A={id:(Date.now()+1).toString(),role:"assistant",content:j,timestamp:new Date};u(t=>[...t,A]),b(!1);return}try{const o=d(),j=await Ge.askAI(w.content,o),A={id:(Date.now()+1).toString(),role:"assistant",content:j.response,timestamp:new Date};u(t=>[...t,A])}catch{const j=d(),A=y(x,j),t={id:(Date.now()+1).toString(),role:"assistant",content:`${A}

‚ö†Ô∏è **AI Service Unavailable** - Using intelligent offline analysis based on ${s.name}'s actual biometric and genetic data. (Online mode available in Azure production deployment)`,timestamp:new Date};u(R=>[...R,t])}finally{b(!1)}},i=w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),a())},y=(w,o)=>{const j=w.toLowerCase();if(j.includes("training")||j.includes("workout")||j.includes("exercise")){const A=o.latestBiometrics?.TrainingLoadPct||0;return A>85?`Based on ${s.name}'s current training load (${A}%), I recommend focusing on recovery today. Consider light technique work or active recovery sessions. High-intensity training might lead to overtraining given the current load.`:`${s.name} shows moderate training load (${A}%). This is a good day for quality training sessions. Focus on sport-specific skills and maintain good form.`}if(j.includes("sleep")||j.includes("rest")){const A=o.latestBiometrics?.SleepDurationH||0,t=o.latestBiometrics?.DeepSleepPct||0;return`Sleep analysis for ${s.name}: ${A} hours total with ${t}% deep sleep. ${A>=7?"Good sleep duration - recovery should be optimal.":"Sleep duration is below recommended 7+ hours. Consider adjusting bedtime routine."} Deep sleep percentage is ${t>20?"excellent":"moderate"}.`}if(j.includes("recovery")||j.includes("hrv")||j.includes("heart rate")){const A=o.latestBiometrics?.HrvNight||0,t=o.latestBiometrics?.RestingHr||0;return`Recovery status for ${s.name}: HRV at ${A}ms and resting HR at ${t}bpm. ${A>50?"Good recovery capacity detected.":"Recovery may need attention."} ${t<60?"Resting heart rate is optimal.":"Resting heart rate is elevated - monitor stress levels."}`}return j.includes("nutrition")||j.includes("diet")||j.includes("food")?`For ${s.name}'s ${s.sport} training, focus on: adequate protein (1.6-2.2g/kg body weight), complex carbohydrates for sustained energy, and proper hydration. Consider their genetic profile for personalized nutrition strategies.`:`I can help you analyze ${s.name}'s performance data including training load, sleep quality, recovery status, and nutrition recommendations. Ask me about specific aspects like "How is the training load today?" or "What does the sleep data show?"`};return e.jsxs("div",{className:"flex flex-col h-[600px] bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-purple-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ü§ñ"}),"AI Assistant for ",s.name]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:()=>m(!c),className:`px-3 py-1 text-xs rounded-full transition-colors ${c?"bg-green-100 text-green-700 border border-green-300":"bg-blue-100 text-blue-700 border border-blue-300"}`,children:c?"üì± Offline":"üåê Azure"})})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[c?"üì± AI Assistant using intelligent analysis of athlete data":"üåê AI service available in Azure production deployment",g&&e.jsx("span",{className:"block text-xs text-green-600 mt-1",children:"‚úÖ Connected to real biometric data from Current Metrics, Sleep Metrics, and other tabs"}),!g&&e.jsx("span",{className:"block text-xs text-yellow-600 mt-1",children:"‚ö†Ô∏è No biometric data available - check Current Metrics tab for data"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[f.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("div",{className:"text-4xl mb-3",children:"ü§ñ"}),e.jsxs("p",{className:"font-medium mb-2",children:["AI Assistant for ",s.name]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-sm text-green-800 font-medium mb-2",children:"ü§ñ AI Assistant Active"}),e.jsxs("p",{className:"text-xs text-green-700",children:["Connected to AI service with access to ",s.name,"'s biometric data from Current Metrics, Sleep Metrics, and other tabs."]})]}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsx("p",{className:"font-medium",children:"Ask me about:"}),e.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Training recommendations based on current load"}),e.jsx("li",{children:"‚Ä¢ Sleep analysis and recovery status"}),e.jsx("li",{children:"‚Ä¢ HRV and heart rate trends"}),e.jsxs("li",{children:["‚Ä¢ Nutrition advice for ",s.sport]}),e.jsx("li",{children:"‚Ä¢ Performance optimization strategies"})]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-3",children:'üí° Try: "How is the training load today?" or "What does the sleep data show?"'})]}),f.map(w=>e.jsx("div",{className:`flex ${w.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] p-3 rounded-lg ${w.role==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:w.content}),e.jsx("p",{className:`text-xs mt-2 ${w.role==="user"?"text-blue-100":"text-gray-500"}`,children:w.timestamp.toLocaleTimeString()})]})},w.id)),N&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-gray-100 p-3 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),e.jsx("span",{className:"text-sm text-gray-600",children:"AI is thinking..."})]})})}),e.jsx("div",{ref:v})]}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("textarea",{value:x,onChange:w=>n(w.target.value),onKeyPress:i,placeholder:"Ask about training, recovery, nutrition...",className:"flex-1 p-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 bg-white",rows:2,disabled:N}),e.jsxs("button",{onClick:a,disabled:!x.trim()||N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors duration-200 flex items-center gap-2",children:[e.jsx("span",{children:"Send"}),e.jsx("span",{children:"üì§"})]})]})})]})},at=()=>{const{id:s}=De(),l=Le(),p=parseInt(s||"0"),[f,u]=k.useState("metrics"),x=k.useRef(null);k.useState(null);const[n,N]=k.useState([]),{athlete:b,biometricData:c,geneticProfiles:m,loading:v}=Ee(p,!0),{biometricData:g}=He(!0);if(k.useEffect(()=>{p&&(async()=>{try{const R=await Q.getGeneticSummaryByAthlete(p);N(R)}catch{}})()},[p]),v)return e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-600",children:"Loading athlete data..."})});if(!b)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-600",children:"Athlete not found"}),e.jsx("button",{onClick:()=>l("/"),className:"mt-4 text-blue-600 hover:text-blue-800",children:"‚Üê Back to Team Overview"})]});const h=Te(b?.athlete_id||p.toString(),c,m),d=Ce(c),a=de(d),i=Ke(c),y=a?Ie(a):0,w=$e(m),j=(Array.isArray(m)?m:[]).reduce((t,R)=>(t[R.gene]=R.genotype,t),{}),A=[{id:"metrics",label:"Current Metrics",icon:"üìä",count:c.length>0?9:0},{id:"bloodResults",label:"Blood Results",icon:"ü©∏",count:1},{id:"circadian",label:"Circadian Rhythm",icon:"‚è∞",count:1},{id:"trends",label:"Trends & Analysis",icon:"üìà",count:c.length},{id:"insights",label:"Predictive Insights",icon:"üß†",count:n.length>0?n.length:w.length},{id:"scaleReport",label:"Scale Report",icon:"‚öñÔ∏è",count:1},{id:"digitalTwin",label:"Digital Twin",icon:"üåê",count:1},{id:"trainingLoad",label:"Training Load",icon:"üî•",count:c.length},{id:"recoveryTimeline",label:"Recovery Timeline",icon:"üìÖ",count:c.length},{id:"pharmacogenomics",label:"Pharmacogenomics",icon:"üíä",count:n.filter(t=>t.category==="pharmacogenomics").length||m.length},{id:"nutrigenomics",label:"Nutrigenomics",icon:"ü•ó",count:n.filter(t=>t.category==="nutrigenomics").length||m.length},{id:"recoveryGenes",label:"Recovery Genes",icon:"üß¨",count:n.filter(t=>t.category==="recovery").length||m.length},{id:"sleep",label:"Sleep Metrics",icon:"üåô",count:c.length},{id:"stress",label:"Stress Management",icon:"üßò",count:c.length},{id:"weather",label:"Weather Impact",icon:"üå§Ô∏è",count:1},{id:"chatAI",label:"Chat With AI",icon:"ü§ñ",count:1}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("button",{onClick:()=>l("/"),className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors duration-200 mb-4",children:[e.jsx(Je,{className:"w-5 h-5 mr-2"}),"Back to Team Overview"]})}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2 text-gray-900",children:b.name}),e.jsx("p",{className:"text-xl text-gray-700 mb-1",children:b.sport}),e.jsxs("p",{className:"text-gray-600",children:["Age ",b.age," | ",b.team]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900",children:"üß¨ Genetic Profile"}),n.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.slice(0,10).map((t,R)=>e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsxs("strong",{children:[t.Gene||t.gene||"Unknown",":"]})," ",t.GeneticCall||t.genetic_call||"Unknown",e.jsx("div",{className:"text-xs text-gray-500",children:t.Category||t.category||"Unknown"})]},R))}),n.length>10&&e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Showing top 10 of ",n.length," genetic markers"]})]}):Object.entries(j).length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(j).slice(0,10).map(([t,R],S)=>e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsxs("strong",{children:[t||"Unknown",":"]})," ",R||"Unknown"]},t))}),Object.entries(j).length>10&&e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Showing top 10 of ",Object.entries(j).length," genes"]})]}):e.jsx("div",{className:"text-sm text-gray-500",children:"No genetic data available"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold mb-2 text-gray-900",children:a?`${y.toFixed(0)}%`:"N/A"}),e.jsx("div",{className:"text-gray-600",children:"Readiness Score"}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:a?"Based on HRV, RHR, Sleep & SpO‚ÇÇ":"No biometric data available"})]})]})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-1 sm:gap-0",children:A.map(t=>{const R=f===t.id;return e.jsxs("button",{onClick:()=>{u(t.id),x.current&&x.current.scrollIntoView({behavior:"smooth",block:"start"})},className:`flex items-center justify-start sm:justify-center gap-2 px-4 py-3 sm:py-2 text-sm font-medium transition-all duration-200 relative group
                  ${R?"text-blue-600 bg-blue-50":"text-gray-600 hover:text-blue-600 hover:bg-gray-50"}`,children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{children:t.icon}),e.jsx("span",{className:"sm:hidden",children:t.label}),e.jsx("span",{className:"hidden sm:inline",children:t.label})]}),t.count>0&&e.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 text-xs font-semibold rounded-full
                      ${R?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 group-hover:bg-gray-300"}`,children:t.count}),R&&e.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500"})]},t.id)})})}),e.jsxs("div",{ref:x,className:"mt-6",children:[f==="bloodResults"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"ü©∏ Blood Results"}),e.jsx(Es,{athleteId:p}),e.jsx("div",{className:"mt-8",children:e.jsx(Se,{athleteId:p})})]}),f==="metrics"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"üìä Current Readiness Metrics"}),a&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-100 px-3 py-1.5 rounded-full",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${y>75?"bg-green-500":y>50?"bg-yellow-500":"bg-red-500"}`}),b.name.split(" ")[0]," is"," ",y>75?"ready":y>50?"recovering":"fatigued"]})]}),a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:[e.jsx(U,{title:"HRV (Night)",value:a.hrv_night||0,unit:"ms",icon:"‚ù§Ô∏è",subtitle:y>75?"Excellent recovery":"Moderate recovery",trend:y>75?"up":"down",data:i.slice(-7).map(t=>({date:t.date,value:t.hrv_night||0})),teamAverage:z("hrv_night",b?.athlete_id||"",g),goalValue:50,goalLabel:"Target"}),e.jsx(U,{title:"Resting HR",value:a.resting_hr||0,unit:"bpm",icon:"‚ù§Ô∏è",subtitle:(a.resting_hr||0)<60?"Optimal":(a.resting_hr||0)<65?"Good":"Elevated",trend:(a.resting_hr||0)<60?"up":"down",data:i.slice(-7).map(t=>({date:t.date,value:t.resting_hr||0})),teamAverage:z("resting_hr",b?.athlete_id||"",g),goalValue:60,goalLabel:"Ideal"}),e.jsx(U,{title:"Deep Sleep",value:a.deep_sleep_pct||0,unit:"%",icon:"üí§",subtitle:(a.deep_sleep_pct||0)>20?"Restorative":"Low",trend:(a.deep_sleep_pct||0)>20?"up":"down",data:i.slice(-7).map(t=>({date:t.date,value:t.deep_sleep_pct||0})),teamAverage:z("deep_sleep_pct",b?.athlete_id||"",g),goalValue:20,goalLabel:"Min"}),e.jsx(U,{title:"REM Sleep",value:a.rem_sleep_pct||0,unit:"%",icon:"üß†",subtitle:(a.rem_sleep_pct||0)>18?"Cognitive recovery":"Below ideal",trend:(a.rem_sleep_pct||0)>18?"up":"down",data:i.slice(-7).map(t=>({date:t.date,value:t.rem_sleep_pct||0})),teamAverage:z("rem_sleep_pct",b?.athlete_id||"",g),goalValue:18,goalLabel:"Target"}),e.jsx(U,{title:"Sleep Duration",value:a.sleep_duration_h||0,unit:"h",icon:"üåô",subtitle:(a.sleep_duration_h||0)>=7?"Adequate":"Short",trend:(a.sleep_duration_h||0)>=7?"up":"down",data:i.slice(-7).map(t=>({date:t.date,value:t.sleep_duration_h||0})),teamAverage:z("sleep_duration_h",b?.athlete_id||"",g),goalValue:7,goalLabel:"Recommended"}),e.jsx(U,{title:"SpO‚ÇÇ (Night)",value:a.spo2_night||0,unit:"%",icon:"ü´Å",subtitle:(a.spo2_night||0)>96?"Normal":"Monitor",trend:(a.spo2_night||0)>96?"up":"down",data:i.slice(-7).map(t=>({date:t.date,value:t.spo2_night||0})),teamAverage:z("spo2_night",b?.athlete_id||"",g),goalValue:96,goalLabel:"Healthy"}),e.jsx(U,{title:"Respiratory Rate",value:a.resp_rate_night||0,unit:"/min",icon:"üå¨Ô∏è",subtitle:(a.resp_rate_night||0)<=16?"Normal":"Elevated",trend:(a.resp_rate_night||0)<=16?"up":"down",data:i.slice(-7).map(t=>({date:t.date,value:t.resp_rate_night||0})),teamAverage:z("resp_rate_night",b?.athlete_id||"",g),goalValue:16,goalLabel:"Max"}),e.jsx(U,{title:"Body Temp",value:a.temp_trend_c||0,unit:"¬∞C",icon:"üå°Ô∏è",subtitle:Math.abs((a.temp_trend_c||0)-36.8)<.3?"Stable":"Elevated",trend:Math.abs((a.temp_trend_c||0)-36.8)<.3?"up":"down",data:i.slice(-7).map(t=>({date:t.date,value:t.temp_trend_c||0})),teamAverage:z("temp_trend_c",b?.athlete_id||"",g),goalValue:36.8,goalLabel:"Normal"}),e.jsx(U,{title:"Training Load",value:a.training_load_pct||0,unit:"%",icon:"üí™",subtitle:(a.training_load_pct||0)>85?"High":"Moderate",trend:"neutral",data:i.slice(-7).map(t=>({date:t.date,value:t.training_load_pct||0})),teamAverage:z("training_load_pct",b?.athlete_id||"",g),goalValue:85,goalLabel:"Optimal"})]}),e.jsxs("div",{className:"mt-8 card-enhanced p-5",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"üìã Readiness Summary"}),e.jsx("p",{className:"text-gray-700 text-sm",children:y>75?`${b.name.split(" ")[0]} shows strong recovery markers. Ready for high-intensity training.`:y>50?"Recovery is moderate. Consider active recovery or technique work.":"Fatigue detected. Prioritize sleep, hydration, and low-intensity sessions."})]})]}):e.jsxs("div",{className:"text-center py-12 card-enhanced rounded-xl",children:[e.jsx("p",{className:"text-gray-600 mb-2",children:"üìä No biometric data available"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Biometric data is required to display readiness metrics. Please ensure wearable data is being collected and synced."})]})]}),f==="circadian"&&e.jsx(Ws,{biometricData:c,geneticData:m,athleteId:p.toString()}),f==="trends"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Performance Trends"}),c.length>=2?e.jsx(rs,{data:c.map(t=>({...t,hrv_night:t.hrv_night||0,resting_hr:t.resting_hr||0,spo2_night:t.spo2_night||0,resp_rate_night:t.resp_rate_night||0,deep_sleep_pct:t.deep_sleep_pct||0,rem_sleep_pct:t.rem_sleep_pct||0,light_sleep_pct:t.light_sleep_pct||0,sleep_duration_h:t.sleep_duration_h||0,temp_trend_c:t.temp_trend_c||0,training_load_pct:t.training_load_pct||0}))}):e.jsxs("div",{className:"text-center py-12 card-enhanced rounded-xl",children:[e.jsx("p",{className:"text-gray-600 mb-2",children:"üìä Insufficient data for trend analysis"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Need at least 2 days of data. Current data points: ",c.length]})]})]}),f==="insights"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white-900 mb-2",children:"üß† Advanced Predictive Insights"}),e.jsxs("p",{className:"text-gray-600 text-lg",children:["AI-powered analysis combining ",n.length," genetic markers with biometric trends"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:n.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Genetic Markers"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Analyzed"})]}),e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsxs("div",{className:`text-3xl font-bold mb-2 ${y>75?"text-green-600":y>50?"text-yellow-600":"text-red-600"}`,children:[y.toFixed(0),"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Current Readiness"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Based on biometrics"})]}),e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:w.length>0?w.length:"N/A"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Key Genetic Insights"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Performance factors"})]}),e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-indigo-600 mb-2",children:c.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Biometric Records"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Historical data"})]})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-3 text-black",children:[e.jsx("span",{className:"bg-purple-100 p-2 rounded-full text-purple-700",children:"üîç"}),"Current Status Analysis"]}),e.jsx(as,{alert:h})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-3 text-black",children:[e.jsx("span",{className:"bg-green-100 p-2 rounded-full text-black-700",children:"üß¨"}),"Advanced Genetic Performance Analysis"]}),n.length>0?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Performance Genetics"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"card-enhanced p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h5",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"üí™"}),"Power Performance"]}),e.jsxs("span",{className:`text-sm px-2 py-1 rounded-full ${n.filter(t=>["ACTN3","ACE","PPARGC1A","MSTN","IGF1","NOS3","BDKRB2"].includes(t.Gene||t.gene)).length>0?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-600"}`,children:[n.filter(t=>["ACTN3","ACE","PPARGC1A","MSTN","IGF1","NOS3","BDKRB2"].includes(t.Gene||t.gene)).length," markers"]})]}),e.jsxs("div",{className:"space-y-4",children:[n.filter(t=>t.Gene==="ACTN3").map((t,R)=>{const S=t.GeneticCall||t.genetic_call,F=S?.includes("RR");return e.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-orange-800",children:"ACTN3 (Sprint/Power)"}),e.jsx("span",{className:`font-bold ${F?"text-orange-600":"text-gray-500"}`,children:S})]}),e.jsx("div",{className:"w-full bg-orange-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${F?"bg-orange-500":"bg-orange-300"}`,style:{width:F?"100%":"60%"}})}),e.jsx("p",{className:"text-xs text-orange-700",children:F?"Elite power athlete genetics - exceptional sprint and strength capacity":"Standard power capacity - focus on technique and explosive training"})]},R)}),n.filter(t=>t.Gene==="ACE").map((t,R)=>{const S=t.GeneticCall||t.genetic_call,F=S?.includes("DD");return e.jsxs("div",{className:"p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-red-800",children:"ACE (Power/Endurance)"}),e.jsx("span",{className:`font-bold ${F?"text-red-600":"text-blue-600"}`,children:S})]}),e.jsx("div",{className:"w-full bg-red-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${F?"bg-red-500":"bg-blue-500"}`,style:{width:F?"85%":"90%"}})}),e.jsx("p",{className:"text-xs text-red-700",children:F?"DD genotype favors power - enhanced strength and anaerobic capacity":"II genotype favors endurance - superior cardiovascular efficiency"})]},R)}),n.filter(t=>t.Gene==="PPARGC1A").map((t,R)=>{const S=t.GeneticCall||t.genetic_call;return e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-green-800",children:"PPARGC1A (Mitochondrial)"}),e.jsx("span",{className:"font-bold text-green-600",children:S})]}),e.jsx("div",{className:"w-full bg-green-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full bg-green-500 transition-all duration-300",style:{width:"88%"}})}),e.jsx("p",{className:"text-xs text-green-700",children:"Influences mitochondrial biogenesis and muscle fiber composition"})]},R)}),n.filter(t=>t.Gene==="MSTN").map((t,R)=>{const S=t.GeneticCall||t.genetic_call;return e.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-purple-800",children:"MSTN (Muscle Growth)"}),e.jsx("span",{className:"font-bold text-purple-600",children:S})]}),e.jsx("div",{className:"w-full bg-purple-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full bg-purple-500 transition-all duration-300",style:{width:"92%"}})}),e.jsx("p",{className:"text-xs text-purple-700",children:"Myostatin regulation affects muscle mass and strength potential"})]},R)}),n.filter(t=>t.Gene==="IGF1").map((t,R)=>{const S=t.GeneticCall||t.genetic_call;return e.jsxs("div",{className:"p-3 bg-indigo-50 rounded-lg border border-indigo-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-indigo-800",children:"IGF1 (Growth Factor)"}),e.jsx("span",{className:"font-bold text-indigo-600",children:S})]}),e.jsx("div",{className:"w-full bg-indigo-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full bg-indigo-500 transition-all duration-300",style:{width:"87%"}})}),e.jsx("p",{className:"text-xs text-indigo-700",children:"Insulin-like growth factor influences muscle development and recovery"})]},R)}),n.filter(t=>t.Gene==="NOS3").map((t,R)=>{const S=t.GeneticCall||t.genetic_call;return e.jsxs("div",{className:"p-3 bg-pink-50 rounded-lg border border-pink-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-pink-800",children:"NOS3 (Nitric Oxide)"}),e.jsx("span",{className:"font-bold text-pink-600",children:S})]}),e.jsx("div",{className:"w-full bg-pink-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full bg-pink-500 transition-all duration-300",style:{width:"85%"}})}),e.jsx("p",{className:"text-xs text-pink-700",children:"Endothelial nitric oxide synthase affects blood flow and oxygen delivery"})]},R)}),n.filter(t=>t.Gene==="BDKRB2").map((t,R)=>{const S=t.GeneticCall||t.genetic_call;return e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-yellow-800",children:"BDKRB2 (Bradykinin)"}),e.jsx("span",{className:"font-bold text-yellow-600",children:S})]}),e.jsx("div",{className:"w-full bg-yellow-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full bg-yellow-500 transition-all duration-300",style:{width:"83%"}})}),e.jsx("p",{className:"text-xs text-yellow-700",children:"Bradykinin receptor affects cardiovascular response to exercise"})]},R)})]})]}),e.jsxs("div",{className:"card-enhanced p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h5",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"üèÉ"}),"Endurance Performance"]}),e.jsxs("span",{className:`text-sm px-2 py-1 rounded-full ${n.some(t=>t.Gene==="ACE"&&(t.GeneticCall||t.genetic_call)?.includes("II")||t.Gene==="PPARA"&&(t.GeneticCall||t.genetic_call)?.includes("GG"))?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:[n.filter(t=>t.Gene==="ACE"||t.Gene==="PPARA").length," markers"]})]}),n.filter(t=>t.Gene==="ACE"||t.Gene==="PPARA").slice(0,2).map((t,R)=>{const S=t.Gene||t.gene,F=t.GeneticCall||t.genetic_call,G=S==="ACE"&&F?.includes("II")||S==="PPARA"&&F?.includes("GG");return e.jsxs("div",{className:"mb-3 last:mb-0",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[S," Genotype"]}),e.jsx("span",{className:`text-sm font-bold ${G?"text-blue-600":"text-gray-500"}`,children:F})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${G?"bg-blue-500":"bg-gray-400"}`,style:{width:G?"100%":"60%"}})}),e.jsx("p",{className:"text-xs text-gray-600",children:S==="ACE"&&F?.includes("II")?"Superior cardiovascular efficiency - ideal for endurance sports":S==="PPARA"&&F?.includes("GG")?"Enhanced fat metabolism - improved endurance capacity":"Standard endurance capacity - maintain aerobic training"})]},R)})]})]}),e.jsxs("div",{className:"card-enhanced p-4 mt-4",children:[e.jsxs("h5",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üéØ"}),"Genetic-Based Training Recommendations"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[n.some(t=>t.Gene==="ACTN3"&&(t.GeneticCall||t.genetic_call)?.includes("RR"))&&e.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("div",{className:"font-medium text-orange-800 mb-1",children:"Power Athlete Profile"}),e.jsxs("div",{className:"text-xs text-orange-600",children:["ACTN3 RR genotype suggests excellent power capacity. Prioritize:",e.jsx("br",{}),"‚Ä¢ High-intensity interval training",e.jsx("br",{}),"‚Ä¢ Strength and power development",e.jsx("br",{}),"‚Ä¢ Sprint and explosive movements"]})]}),n.some(t=>t.Gene==="ACE"&&(t.GeneticCall||t.genetic_call)?.includes("II"))&&e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"font-medium text-blue-800 mb-1",children:"Endurance Athlete Profile"}),e.jsxs("div",{className:"text-xs text-blue-600",children:["ACE II genotype indicates superior cardiovascular efficiency. Focus on:",e.jsx("br",{}),"‚Ä¢ Long-duration aerobic training",e.jsx("br",{}),"‚Ä¢ Cardiovascular endurance development",e.jsx("br",{}),"‚Ä¢ Steady-state cardio protocols"]})]}),n.some(t=>t.Gene==="PPARA"&&(t.GeneticCall||t.genetic_call)?.includes("GG"))&&e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Metabolic Efficiency Profile"}),e.jsxs("div",{className:"text-xs text-green-600",children:["PPARA GG genotype suggests enhanced fat metabolism. Benefits from:",e.jsx("br",{}),"‚Ä¢ Longer training sessions",e.jsx("br",{}),"‚Ä¢ Carbohydrate-focused nutrition",e.jsx("br",{}),"‚Ä¢ Endurance-based activities"]})]}),n.some(t=>t.Gene==="COL5A1"&&!(t.GeneticCall||t.genetic_call)?.includes("TT"))&&e.jsxs("div",{className:"p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("div",{className:"font-medium text-red-800 mb-1",children:"Injury Risk Profile"}),e.jsxs("div",{className:"text-xs text-red-600",children:["COL5A1 variant detected - higher soft tissue injury risk. Implement:",e.jsx("br",{}),"‚Ä¢ Enhanced flexibility protocols",e.jsx("br",{}),"‚Ä¢ Regular mobility work",e.jsx("br",{}),"‚Ä¢ Progressive loading strategies"]})]})]})]})]})}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Enhanced Genetic Performance Matrix"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[{trait:"Sprint/Power",genes:n.filter(t=>t.Gene==="ACTN3"),icon:"üí™",color:"orange",description:"Explosive power & sprint capacity"},{trait:"Strength",genes:n.filter(t=>t.Gene==="MSTN"||t.Gene==="IGF1"),icon:"üèãÔ∏è",color:"red",description:"Muscle strength & development"},{trait:"Endurance",genes:n.filter(t=>t.Gene==="ACE"||t.Gene==="PPARA"),icon:"üèÉ",color:"blue",description:"Cardiovascular efficiency"},{trait:"Mitochondrial",genes:n.filter(t=>t.Gene==="PPARGC1A"),icon:"‚ö°",color:"green",description:"Energy production capacity"},{trait:"Recovery",genes:n.filter(t=>t.Gene==="PPARA"||t.Gene==="BDNF"),icon:"üîÑ",color:"purple",description:"Recovery & adaptation rate"},{trait:"Injury Risk",genes:n.filter(t=>t.Gene==="COL5A1"||t.Gene==="ADRB2"),icon:"üõ°Ô∏è",color:"gray",description:"Injury susceptibility"}].map((t,R)=>e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"text-2xl mb-2",children:t.icon}),e.jsx("div",{className:"font-semibold text-gray-900 text-sm mb-1",children:t.trait}),e.jsx("div",{className:`text-lg font-bold mb-1 text-${t.color}-600`,children:t.genes.length}),e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"markers"}),e.jsx("div",{className:"text-xs text-gray-400 leading-tight",children:t.description})]},R))}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"card-enhanced p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:Math.round(n.filter(t=>t.Gene==="ACTN3"&&(t.GeneticCall||t.genetic_call)?.includes("RR")).length*25+n.filter(t=>t.Gene==="ACE"&&(t.GeneticCall||t.genetic_call)?.includes("DD")).length*20+n.filter(t=>t.Gene==="MSTN").length*15+n.filter(t=>t.Gene==="IGF1").length*15)}),e.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:"Power Score"}),e.jsx("div",{className:"text-xs text-gray-500",children:"/100"})]}),e.jsxs("div",{className:"card-enhanced p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:Math.round(n.filter(t=>t.Gene==="ACE"&&(t.GeneticCall||t.genetic_call)?.includes("II")).length*25+n.filter(t=>t.Gene==="PPARA"&&(t.GeneticCall||t.genetic_call)?.includes("GG")).length*20+n.filter(t=>t.Gene==="PPARGC1A").length*18+n.filter(t=>t.Gene==="NOS3").length*15)}),e.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:"Endurance Score"}),e.jsx("div",{className:"text-xs text-gray-500",children:"/100"})]}),e.jsxs("div",{className:"card-enhanced p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:Math.round(n.filter(t=>t.Gene==="PPARA"&&(t.GeneticCall||t.genetic_call)?.includes("GG")).length*20+n.filter(t=>t.Gene==="BDNF"&&(t.GeneticCall||t.genetic_call)?.includes("Val/Val")).length*15+(a&&(a.sleep_duration_h||0)>=7?10:0)+(a&&(a.hrv_night||0)>50?10:0))}),e.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:"Recovery Score"}),e.jsx("div",{className:"text-xs text-gray-500",children:"/100"})]})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üß¨"}),e.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Genetic Analysis Unavailable"}),e.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Comprehensive genetic data is required for advanced performance insights and personalized recommendations."})]})]}),c.length>=3&&a&&e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-3 text-black",children:[e.jsx("span",{className:"bg-indigo-100 p-2 rounded-full text-indigo-700",children:"üîÆ"}),"AI-Powered Performance Forecast"]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-blue-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-blue-100 p-1.5 rounded-full text-blue-700",children:"üìà"}),"Biometric Trends"]}),e.jsx("div",{className:"space-y-3 text-sm",children:[{label:"HRV Recovery",value:a.hrv_night||0,unit:"ms",trend:"up",desc:"Heart rate variability",icon:"‚ù§Ô∏è"},{label:"Resting HR",value:a.resting_hr||0,unit:"bpm",trend:"down",desc:"Cardiac stress level",icon:"üíì"},{label:"Sleep Duration",value:a.sleep_duration_h||0,unit:"h",trend:"up",desc:"Recovery quality",icon:"üò¥"},{label:"SpO‚ÇÇ Level",value:a.spo2_night||0,unit:"%",trend:"up",desc:"Oxygen saturation",icon:"ü´Å"}].map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-lg",children:t.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-700",children:t.label}),e.jsx("div",{className:"text-xs text-gray-500",children:t.desc})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-gray-900",children:[t.value.toFixed(1)," ",t.unit]}),e.jsxs("div",{className:`text-xs font-medium ${t.trend==="up"?t.value>(t.label==="HRV Recovery"?50:t.label==="Sleep Duration"?7:95)?"text-green-600":"text-red-600":t.value<(t.label==="Resting HR"?65:0)?"text-green-600":"text-red-600"}`,children:[t.trend==="up"?"‚Üó":"‚Üò"," ",t.trend==="up"?t.value>(t.label==="HRV Recovery"?50:t.label==="Sleep Duration"?7:95)?"Good":"Low":t.value<(t.label==="Resting HR"?65:0)?"Optimal":"High"]})]})]},t.label))})]}),e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-purple-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-purple-100 p-1.5 rounded-full text-purple-700",children:"üß¨‚ö°"}),"Genetic Performance Integration"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-orange-800",children:"Power Genetic Score"}),e.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[Math.round(n.filter(t=>t.Gene==="ACTN3"&&(t.GeneticCall||t.genetic_call)?.includes("RR")).length*25+n.filter(t=>t.Gene==="ACE"&&(t.GeneticCall||t.genetic_call)?.includes("DD")).length*20+n.filter(t=>t.Gene==="MSTN").length*15+n.filter(t=>t.Gene==="IGF1").length*15+n.filter(t=>t.Gene==="NOS3").length*13+n.filter(t=>t.Gene==="BDKRB2").length*12),"/100"]})]}),e.jsx("div",{className:"w-full bg-orange-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full bg-orange-500 transition-all duration-300",style:{width:`${Math.min(100,n.filter(t=>t.Gene==="ACTN3"&&(t.GeneticCall||t.genetic_call)?.includes("RR")).length*25+n.filter(t=>t.Gene==="ACE"&&(t.GeneticCall||t.genetic_call)?.includes("DD")).length*20+n.filter(t=>t.Gene==="MSTN").length*15+n.filter(t=>t.Gene==="IGF1").length*15+n.filter(t=>t.Gene==="NOS3").length*13+n.filter(t=>t.Gene==="BDKRB2").length*12)}%`}})}),e.jsxs("p",{className:"text-xs text-orange-700",children:["Based on ",n.filter(t=>["ACTN3","ACE","MSTN","IGF1","NOS3","BDKRB2"].includes(t.Gene||t.gene)).length," power-related genetic markers"]})]}),e.jsxs("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-blue-800",children:"Endurance Genetic Score"}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[Math.round(n.filter(t=>t.Gene==="ACE"&&(t.GeneticCall||t.genetic_call)?.includes("II")).length*25+n.filter(t=>t.Gene==="PPARGC1A").length*20+n.filter(t=>t.Gene==="PPARA"&&(t.GeneticCall||t.genetic_call)?.includes("GG")).length*18+n.filter(t=>t.Gene==="NOS3").length*15+n.filter(t=>t.Gene==="BDKRB2").length*12+n.filter(t=>t.Gene==="IGF1").length*10),"/100"]})]}),e.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full bg-blue-500 transition-all duration-300",style:{width:`${Math.min(100,n.filter(t=>t.Gene==="ACE"&&(t.GeneticCall||t.genetic_call)?.includes("II")).length*25+n.filter(t=>t.Gene==="PPARGC1A").length*20+n.filter(t=>t.Gene==="PPARA"&&(t.GeneticCall||t.genetic_call)?.includes("GG")).length*18+n.filter(t=>t.Gene==="NOS3").length*15+n.filter(t=>t.Gene==="BDKRB2").length*12+n.filter(t=>t.Gene==="IGF1").length*10)}%`}})}),e.jsxs("p",{className:"text-xs text-blue-700",children:["Based on ",n.filter(t=>["ACE","PPARGC1A","PPARA","NOS3","BDKRB2","IGF1"].includes(t.Gene||t.gene)).length," endurance-related genetic markers"]})]})]})]}),e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-green-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-green-100 p-1.5 rounded-full text-green-700",children:"üéØ"}),"Training Optimization Forecast"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-3 text-sm",children:"7-Day Performance Forecast"}),e.jsx("div",{className:"space-y-2",children:Array.from({length:7},(t,R)=>{const S=new Date;S.setDate(S.getDate()+R);const F=S.toLocaleDateString("en-US",{weekday:"short"}),G=Math.min(100,n.filter(P=>P.Gene==="ACTN3"&&(P.GeneticCall||P.genetic_call)?.includes("RR")).length*25+n.filter(P=>P.Gene==="ACE"&&(P.GeneticCall||P.genetic_call)?.includes("DD")).length*20+((a.hrv_night||0)>50?15:0)+((a.resting_hr||0)<65?10:0)),K=Math.min(100,n.filter(P=>P.Gene==="ACE"&&(P.GeneticCall||P.genetic_call)?.includes("II")).length*25+n.filter(P=>P.Gene==="PPARA"&&(P.GeneticCall||P.genetic_call)?.includes("GG")).length*18+((a.sleep_duration_h||0)>=7?15:0)+((a.spo2_night||0)>96?10:0));return e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-xs",children:[e.jsx("span",{className:"font-medium text-gray-700",children:F}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`font-bold ${G>70?"text-orange-600":"text-gray-500"}`,children:G.toFixed(0)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Power"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`font-bold ${K>70?"text-blue-600":"text-gray-500"}`,children:K.toFixed(0)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Endurance"})]})]})]},R)})})]}),e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("h5",{className:"font-medium text-green-800 mb-2 text-sm",children:"Optimal Training This Week"}),e.jsxs("div",{className:"space-y-2 text-xs text-green-700",children:[n.some(t=>t.Gene==="ACTN3"&&(t.GeneticCall||t.genetic_call)?.includes("RR"))&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),e.jsx("span",{children:"Power-focused sessions: Mon, Wed, Fri"})]}),n.some(t=>t.Gene==="ACE"&&(t.GeneticCall||t.genetic_call)?.includes("II"))&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Endurance sessions: Tue, Thu, Sat"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{children:"Recovery focus: Sun"})]})]})]})]})]})]}),e.jsxs("div",{className:"mt-6 card-enhanced p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Comprehensive Readiness Assessment"}),e.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered analysis combining biometrics and genetics"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-4xl font-bold mb-1 ${y>75?"text-green-600":y>50?"text-yellow-600":"text-red-600"}`,children:[y.toFixed(0),"%"]}),e.jsx("div",{className:`text-sm font-medium ${y>75?"text-green-600":y>50?"text-yellow-600":"text-red-600"}`,children:y>75?"Excellent":y>50?"Good":"Needs Attention"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-4",children:[e.jsxs("h5",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"bg-blue-100 p-1 rounded-full text-blue-700",children:"üìä"}),"Biometric Assessment"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",style:{backgroundColor:"rgba(59, 130, 246, 0.1)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"‚ù§Ô∏è"}),e.jsx("span",{className:"text-black",children:"HRV Recovery"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold ${(a.hrv_night||0)>50?"text-green-600":"text-red-600"}`,children:[(a.hrv_night||0).toFixed(0),"ms"]}),e.jsx("div",{className:`text-xs ${(a.hrv_night||0)>50?"text-green-600":"text-red-600"}`,children:(a.hrv_night||0)>50?"Optimal":"Low"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",style:{backgroundColor:"rgba(59, 130, 246, 0.1)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üíì"}),e.jsx("span",{className:"text-black",children:"Resting HR"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold ${(a.resting_hr||0)<65?"text-green-600":"text-red-600"}`,children:[(a.resting_hr||0).toFixed(0),"bpm"]}),e.jsx("div",{className:`text-xs ${(a.resting_hr||0)<65?"text-green-600":"text-red-600"}`,children:(a.resting_hr||0)<65?"Normal":"Elevated"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",style:{backgroundColor:"rgba(59, 130, 246, 0.1)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üò¥"}),e.jsx("span",{className:"text-black",children:"Sleep Quality"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold ${(a.sleep_duration_h||0)>=7?"text-green-600":"text-red-600"}`,children:[(a.sleep_duration_h||0).toFixed(1),"h"]}),e.jsx("div",{className:`text-xs ${(a.sleep_duration_h||0)>=7?"text-green-600":"text-red-600"}`,children:(a.sleep_duration_h||0)>=7?"Adequate":"Insufficient"})]})]})]})]}),e.jsxs("div",{className:"card-enhanced p-4",children:[e.jsxs("h5",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"bg-purple-100 p-1 rounded-full text-purple-700",children:"üß¨"}),"Genetic Assessment"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",style:{backgroundColor:"rgba(147, 51, 234, 0.1)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üí™"}),e.jsx("span",{className:"text-black",children:"Power Genetics"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`font-bold ${n.some(t=>t.Gene==="ACTN3")?"text-purple-600":"text-gray-400"}`,children:n.filter(t=>t.Gene==="ACTN3").length}),e.jsx("div",{className:`text-xs ${n.some(t=>t.Gene==="ACTN3")?"text-purple-600":"text-gray-400"}`,children:"markers"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",style:{backgroundColor:"rgba(147, 51, 234, 0.1)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üèÉ"}),e.jsx("span",{className:"text-black",children:"Endurance Genetics"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`font-bold ${n.some(t=>t.Gene==="ACE"||t.Gene==="PPARA")?"text-purple-600":"text-gray-400"}`,children:n.filter(t=>t.Gene==="ACE"||t.Gene==="PPARA").length}),e.jsx("div",{className:`text-xs ${n.some(t=>t.Gene==="ACE"||t.Gene==="PPARA")?"text-purple-600":"text-gray-400"}`,children:"markers"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",style:{backgroundColor:"rgba(147, 51, 234, 0.1)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üõ°Ô∏è"}),e.jsx("span",{className:"text-black",children:"Injury Resistance"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`font-bold ${n.some(t=>t.Gene==="COL5A1")?"text-purple-600":"text-gray-400"}`,children:n.filter(t=>t.Gene==="COL5A1").length}),e.jsx("div",{className:`text-xs ${n.some(t=>t.Gene==="COL5A1")?"text-purple-600":"text-gray-400"}`,children:"markers"})]})]})]})]}),e.jsxs("div",{className:"card-enhanced p-4",children:[e.jsxs("h5",{className:"font-medium text-green-700 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"bg-green-100 p-1 rounded-full",children:"üéØ"}),"Combined Insights"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"p-3 bg-gradient-to-r from-green-50 to-green-100 rounded-lg border border-green-200",children:[e.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Training Capacity"}),e.jsx("div",{className:"text-xs text-green-600",children:n.some(t=>t.Gene==="ACTN3"&&(t.GeneticCall||t.genetic_call)?.includes("RR"))&&(a.hrv_night||0)>50?"High-intensity training optimal":n.some(t=>t.Gene==="ACE"&&(t.GeneticCall||t.genetic_call)?.includes("II"))?"Endurance training recommended":"Monitor recovery before increasing load"})]}),e.jsxs("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"font-medium text-blue-800 mb-1",children:"Recovery Strategy"}),e.jsx("div",{className:"text-xs text-blue-600",children:n.some(t=>t.Gene==="PPARA"&&(t.GeneticCall||t.genetic_call)?.includes("GG"))?"Enhanced fat metabolism - carb-focused recovery":(a.sleep_duration_h||0)>=7?"Good sleep foundation - maintain current protocols":"Prioritize sleep optimization"})]}),e.jsxs("div",{className:"p-3 bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg border border-orange-200",children:[e.jsx("div",{className:"font-medium text-orange-800 mb-1",children:"Risk Management"}),e.jsx("div",{className:"text-xs text-orange-600",children:n.some(t=>t.Gene==="COL5A1"&&!(t.GeneticCall||t.genetic_call)?.includes("TT"))?"Soft tissue risk - implement preventive measures":(a.resting_hr||0)>70?"Monitor cardiac stress indicators":"Standard protocols appropriate"})]})]})]})]})]})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"bg-rose-100 p-2 rounded-full text-rose-700",children:"üí°"}),"AI-Powered Recovery Intelligence"]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-purple-100 p-1.5 rounded-full text-purple-700",children:"üß¨"}),"Genetic Recovery Profile"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-700 mb-1",children:n.filter(t=>t.Gene==="PPARA"&&(t.GeneticCall||t.genetic_call)?.includes("GG")||t.Gene==="BDNF"&&(t.GeneticCall||t.genetic_call)?.includes("Val/Val")).length}),e.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Fast Recovery Markers"})]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-700 mb-1",children:n.filter(t=>t.Gene==="ACTN3"&&(t.GeneticCall||t.genetic_call)?.includes("XX")||t.Gene==="COMT"&&(t.GeneticCall||t.genetic_call)?.includes("Met/Met")).length}),e.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"Extended Recovery Markers"})]})]}),e.jsxs("div",{className:"space-y-3",children:[n.filter(t=>t.Gene==="ACTN3"||t.Gene==="PPARA"||t.Gene==="BDNF"||t.Gene==="COMT").slice(0,4).map((t,R)=>{const S=t.Gene||t.gene,F=t.GeneticCall||t.genetic_call;let G="",K="üß¨",P="bg-purple-50",M="border-purple-200",D="text-purple-800";return S==="ACTN3"&&F?.includes("XX")?(G="Endurance genotype: May need extended recovery periods between high-intensity sessions",K="üèÉ",P="bg-blue-50",M="border-blue-200",D="text-blue-800"):S==="PPARA"&&F?.includes("GG")?(G="Enhanced fat metabolism: Omega-3 supplementation may accelerate recovery processes",K="ü•ó",P="bg-green-50",M="border-green-200",D="text-green-800"):S==="BDNF"&&F?.includes("Met")?(G="Neuroplasticity focus: Cognitive training during recovery may enhance adaptation",K="üß†",P="bg-indigo-50",M="border-indigo-200",D="text-indigo-800"):S==="COMT"&&F?.includes("Met/Met")&&(G="Stress-sensitive genotype: Prioritize stress management for optimal recovery",K="üßò",P="bg-amber-50",M="border-amber-200",D="text-amber-800"),G?e.jsx("div",{className:`p-3 bg-gradient-to-r from-${P.split("-")[1]}-50 to-${P.split("-")[1]}-100 rounded-lg border ${M}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-lg",children:K}),e.jsxs("div",{children:[e.jsxs("div",{className:`font-medium ${D} text-sm`,children:[S,": ",F]}),e.jsx("div",{className:`text-xs ${D.replace("800","600")} mt-1`,children:G})]})]})},R):null}),n.filter(t=>t.Gene==="ACTN3"||t.Gene==="PPARA"||t.Gene==="BDNF"||t.Gene==="COMT").length===0&&e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-lg",children:"üìã"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 text-sm",children:"Standard Recovery Profile"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"No specific recovery genetics identified. Follow standard recovery protocols based on training load and biometric indicators."})]})]})})]}),e.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg border border-purple-200",children:[e.jsx("h5",{className:"font-medium text-purple-800 mb-2",children:"Recovery Protocol Recommendations"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{className:"text-purple-700",children:n.some(t=>t.Gene==="PPARA"&&(t.GeneticCall||t.genetic_call)?.includes("GG"))?"Omega-3 supplementation for enhanced recovery":"Standard protein supplementation protocol"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{className:"text-purple-700",children:n.some(t=>t.Gene==="COMT"&&(t.GeneticCall||t.genetic_call)?.includes("Met/Met"))?"Stress management essential for recovery":"Standard stress management protocols"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{className:"text-purple-700",children:n.some(t=>t.Gene==="ACTN3"&&(t.GeneticCall||t.genetic_call)?.includes("XX"))?"Extended recovery between sessions":"Standard recovery timing"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{className:"text-purple-700",children:n.some(t=>t.Gene==="BDNF"&&(t.GeneticCall||t.genetic_call)?.includes("Met"))?"Include cognitive training in recovery":"Focus on physical recovery modalities"})]})]})]})]})]})]}),e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-blue-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-blue-100 p-1.5 rounded-full text-blue-700",children:"üìä"}),"Current Recovery Status"]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"‚ù§Ô∏è"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:"HRV Recovery"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Heart rate variability"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold text-lg ${a&&(a.hrv_night||0)>50?"text-green-600":"text-red-600"}`,children:[a?(a.hrv_night||0).toFixed(0):"0","ms"]}),e.jsx("div",{className:`text-xs ${a&&(a.hrv_night||0)>50?"text-green-600":"text-red-600"}`,children:a&&(a.hrv_night||0)>50?"Good":"Needs work"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"üò¥"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:"Sleep Quality"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Duration & deep sleep"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold text-lg ${a&&(a.sleep_duration_h||0)>=7?"text-green-600":"text-red-600"}`,children:[a?(a.sleep_duration_h||0).toFixed(1):"0.0","h"]}),e.jsx("div",{className:`text-xs ${a&&(a.sleep_duration_h||0)>=7?"text-green-600":"text-red-600"}`,children:a&&(a.sleep_duration_h||0)>=7?"Adequate":"Insufficient"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"üí™"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:"Training Stress"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Current load vs capacity"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold text-lg ${a&&(a.training_load_pct||0)<80?"text-green-600":"text-orange-600"}`,children:[a?(a.training_load_pct||0).toFixed(0):"0","%"]}),e.jsx("div",{className:`text-xs ${a&&(a.training_load_pct||0)<80?"text-green-600":"text-orange-600"}`,children:a&&(a.training_load_pct||0)<80?"Manageable":"High"})]})]})]})})]}),e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-green-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-green-100 p-1.5 rounded-full text-green-700",children:"üéØ"}),"Personalized Recovery Plan"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Priority Actions"}),e.jsxs("div",{className:"space-y-2",children:[a&&(a.sleep_duration_h||0)<6&&e.jsxs("div",{className:"flex items-start gap-3 p-2 bg-red-50 rounded-lg border-l-4 border-red-500",children:[e.jsx("span",{className:"text-red-500 mt-0.5",children:"üî¥"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-red-800 text-sm",children:"Sleep Priority"}),e.jsx("div",{className:"text-xs text-red-600",children:"Extend sleep duration to 7-9 hours"})]})]}),a&&(a.hrv_night||0)<40&&e.jsxs("div",{className:"flex items-start gap-3 p-2 bg-orange-50 rounded-lg border-l-4 border-orange-500",children:[e.jsx("span",{className:"text-orange-500 mt-0.5",children:"üü†"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-orange-800 text-sm",children:"HRV Recovery"}),e.jsx("div",{className:"text-xs text-orange-600",children:"Include active recovery and stress reduction"})]})]}),n.some(t=>t.Gene==="COL5A1"&&!(t.GeneticCall||t.genetic_call)?.includes("TT"))&&e.jsxs("div",{className:"flex items-start gap-3 p-2 bg-blue-50 rounded-lg border-l-4 border-blue-500",children:[e.jsx("span",{className:"text-blue-500 mt-0.5",children:"üîµ"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-blue-800 text-sm",children:"Soft Tissue Care"}),e.jsx("div",{className:"text-xs text-blue-600",children:"Genetic risk - focus on flexibility and mobility"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Recovery Timeline"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"flex justify-between items-center p-2 bg-green-50 rounded",children:[e.jsx("span",{className:"text-green-800",children:"Today"}),e.jsx("span",{className:"font-medium text-green-700",children:y>75?"Full training capacity":"Modified training load"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-blue-50 rounded",children:[e.jsx("span",{className:"text-blue-800",children:"Next 48h"}),e.jsx("span",{className:"font-medium text-blue-700",children:n.some(t=>t.Gene==="PPARA")?"Enhanced recovery expected":"Standard recovery protocols"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-purple-50 rounded",children:[e.jsx("span",{className:"text-purple-800",children:"This Week"}),e.jsx("span",{className:"font-medium text-purple-700",children:"Monitor genetic risk factors"})]})]})]})]})]})]})]}),e.jsx("section",{className:"card-enhanced p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("span",{className:"text-3xl",children:"üí°"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-rose-700 mb-2",children:"Daily Recovery Intelligence"}),e.jsx("p",{className:"text-rose-600 text-sm leading-relaxed",children:(()=>{const t=["Hydration impacts HRV. Aim for 35ml/kg body weight daily.","Blue light after 9 PM suppresses melatonin. Use night mode.","Cold exposure post-training can delay muscle recovery in ACTN3 XX carriers.","Magnesium glycinate may improve deep sleep in PER3 long genotype athletes.","Morning sunlight resets circadian rhythm ‚Äî get 10 mins upon waking.","Omega-3s may enhance recovery in BDNF Met carriers.","Caffeine clearance is slower in evening types (PER3 long) ‚Äî avoid after 2 PM."];return n.some(R=>R.Gene==="ACTN3")?"Power athletes (ACTN3 RR) benefit from protein-rich recovery meals within 30 minutes post-training.":n.some(R=>R.Gene==="PPARA")?"Endurance genetics (PPARA GG) respond well to carbohydrate-focused recovery nutrition.":n.some(R=>R.Gene==="COL5A1")?"Soft tissue injury risk detected - incorporate regular flexibility and mobility work.":t[(b?.athlete_id||"").charCodeAt((b?.athlete_id||"").length-1)%t.length]})()})]})]})})]}),f==="scaleReport"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"‚öñÔ∏è Scale Report"}),e.jsx(bs,{athleteId:p.toString()})]}),f==="digitalTwin"&&e.jsx(Pe,{athleteId:p.toString()}),f==="trainingLoad"&&e.jsx(Be,{}),f==="recoveryTimeline"&&e.jsx(es,{athleteId:p.toString()}),f==="pharmacogenomics"&&e.jsx(ps,{athleteId:p.toString()}),f==="nutrigenomics"&&e.jsx(js,{athleteId:p.toString()}),f==="recoveryGenes"&&e.jsx(fs,{athleteId:p.toString()}),f==="predictive"&&e.jsx(ss,{athleteId:p.toString()}),f==="sleep"&&e.jsx(_s,{biometricData:c,athleteId:p.toString()}),f==="stress"&&e.jsx(Ps,{athleteId:p.toString(),biometricData:c}),f==="weather"&&e.jsx(ts,{athleteId:p.toString(),geneticData:m}),f==="chatAI"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"ü§ñ Chat With AI"}),e.jsxs("div",{className:"mb-4 p-4 bg-gray-100 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Data Status:"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Athlete: ",b?.name]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Biometric Data Count: ",c.length]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Genetic Profiles Count: ",m.length]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Athlete ID: ",b?.athlete_id]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Latest Biometric Date: ",de(c)?.date||"None"]}),c.length===0&&e.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"‚ö†Ô∏è No biometric data available. Check Current Metrics tab for data."})]}),e.jsx(Os,{athlete:b,biometricData:c,geneticProfiles:m})]})]})]})};export{at as AthleteProfile};
