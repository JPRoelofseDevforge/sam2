import{r as d,a as Ho,c as Ar}from"./vendor-c778fe58.js";import{C as Le,V as ie,S as Wr,F as Kr,P as Vr,W as qr,E as Gr,R as Jr,U as Xr,a as Yr,b as Qr,A as Zr,D as en,c as kt,G as tn,M as Ze,d as Ie,e as rn,f as nn,g as on,L as Ke,B as Dt,h as Ve,i as an,O as sn,j as ln,k as cn,l as un,m as dn}from"./three-f2a0a5ce.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var Un={exports:{}},Kt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wo=d,Ko=Symbol.for("react.element"),Vo=Symbol.for("react.fragment"),qo=Object.prototype.hasOwnProperty,Go=Wo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jo={key:!0,ref:!0,__self:!0,__source:!0};function zn(e,t,r){var n,o={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)qo.call(t,n)&&!Jo.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:Ko,type:e,key:a,ref:s,props:o,_owner:Go.current}}Kt.Fragment=Vo;Kt.jsx=zn;Kt.jsxs=zn;Un.exports=Kt;var h=Un.exports,Hn,fn=Ho;Hn=fn.createRoot,fn.hydrateRoot;const Xo="modulepreload",Yo=function(e){return"/"+e},hn={},Ee=function(t,r,n){if(!r||r.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=Yo(a),a in hn)return;hn[a]=!0;const s=a.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(!!n)for(let u=o.length-1;u>=0;u--){const f=o[u];if(f.href===a&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${i}`))return;const l=document.createElement("link");if(l.rel=s?"stylesheet":Xo,s||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),s)return new Promise((u,f)=>{l.addEventListener("load",u),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})};var pn="popstate";function Qo(e={}){function t(n,o){let{pathname:a,search:s,hash:i}=n.location;return mr("",{pathname:a,search:s,hash:i},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:_t(o)}return ea(t,r,null,e)}function q(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Te(e,t){if(!e)try{throw new Error(t)}catch{}}function Zo(){return Math.random().toString(36).substring(2,10)}function mn(e,t){return{usr:e.state,key:e.key,idx:t}}function mr(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ot(t):t,state:r,key:t&&t.key||n||Zo()}}function _t({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ot(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function ea(e,t,r,n={}){let{window:o=document.defaultView,v5Compat:a=!1}=n,s=o.history,i="POP",c=null,l=u();l==null&&(l=0,s.replaceState({...s.state,idx:l},""));function u(){return(s.state||{idx:null}).idx}function f(){i="POP";let y=u(),v=y==null?null:y-l;l=y,c&&c({action:i,location:x.location,delta:v})}function b(y,v){i="PUSH";let _=mr(x.location,y,v);r&&r(_,y),l=u()+1;let A=mn(_,l),$=x.createHref(_);try{s.pushState(A,"",$)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;o.location.assign($)}a&&c&&c({action:i,location:x.location,delta:1})}function g(y,v){i="REPLACE";let _=mr(x.location,y,v);r&&r(_,y),l=u();let A=mn(_,l),$=x.createHref(_);s.replaceState(A,"",$),a&&c&&c({action:i,location:x.location,delta:0})}function m(y){return ta(y)}let x={get action(){return i},get location(){return e(o,s)},listen(y){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(pn,f),c=y,()=>{o.removeEventListener(pn,f),c=null}},createHref(y){return t(o,y)},createURL:m,encodeLocation(y){let v=m(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:b,replace:g,go(y){return s.go(y)}};return x}function ta(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),q(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:_t(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Wn(e,t,r="/"){return ra(e,t,r,!1)}function ra(e,t,r,n){let o=typeof t=="string"?ot(t):t,a=Fe(o.pathname||"/",r);if(a==null)return null;let s=Kn(e);na(s);let i=null;for(let c=0;i==null&&c<s.length;++c){let l=pa(a);i=fa(s[c],l,n)}return i}function Kn(e,t=[],r=[],n="",o=!1){let a=(s,i,c=o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&c)return;q(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let f=Be([n,u.relativePath]),b=r.concat(u);s.children&&s.children.length>0&&(q(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Kn(s.children,t,b,f,c)),!(s.path==null&&!s.index)&&t.push({path:f,score:ua(f,s.index),routesMeta:b})};return e.forEach((s,i)=>{if(s.path===""||!s.path?.includes("?"))a(s,i);else for(let c of Vn(s.path))a(s,i,!0,c)}),t}function Vn(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return o?[a,""]:[a];let s=Vn(n.join("/")),i=[];return i.push(...s.map(c=>c===""?a:[a,c].join("/"))),o&&i.push(...s),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function na(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:da(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var oa=/^:[\w-]+$/,aa=3,sa=2,ia=1,la=10,ca=-2,gn=e=>e==="*";function ua(e,t){let r=e.split("/"),n=r.length;return r.some(gn)&&(n+=ca),t&&(n+=sa),r.filter(o=>!gn(o)).reduce((o,a)=>o+(oa.test(a)?aa:a===""?ia:la),n)}function da(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function fa(e,t,r=!1){let{routesMeta:n}=e,o={},a="/",s=[];for(let i=0;i<n.length;++i){let c=n[i],l=i===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",f=Ft({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),b=c.route;if(!f&&l&&r&&!n[n.length-1].route.index&&(f=Ft({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(o,f.params),s.push({params:o,pathname:Be([a,f.pathname]),pathnameBase:wa(Be([a,f.pathnameBase])),route:b}),f.pathnameBase!=="/"&&(a=Be([a,f.pathnameBase]))}return s}function Ft(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=ha(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let a=o[0],s=a.replace(/(.)\/+$/,"$1"),i=o.slice(1);return{params:n.reduce((l,{paramName:u,isOptional:f},b)=>{if(u==="*"){let m=i[b]||"";s=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const g=i[b];return f&&!g?l[u]=void 0:l[u]=(g||"").replace(/%2F/g,"/"),l},{}),pathname:a,pathnameBase:s,pattern:e}}function ha(e,t=!1,r=!0){Te(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,i,c)=>(n.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function pa(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Te(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Fe(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function ma(e,t="/"){let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?ot(e):e;return{pathname:r?r.startsWith("/")?r:ga(r,t):t,search:ba(n),hash:xa(o)}}function ga(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function lr(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ya(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Tr(e){let t=ya(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Er(e,t,r,n=!1){let o;typeof e=="string"?o=ot(e):(o={...e},q(!o.pathname||!o.pathname.includes("?"),lr("?","pathname","search",o)),q(!o.pathname||!o.pathname.includes("#"),lr("#","pathname","hash",o)),q(!o.search||!o.search.includes("#"),lr("#","search","hash",o)));let a=e===""||o.pathname==="",s=a?"/":o.pathname,i;if(s==null)i=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let b=s.split("/");for(;b[0]==="..";)b.shift(),f-=1;o.pathname=b.join("/")}i=f>=0?t[f]:"/"}let c=ma(o,i),l=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}var Be=e=>e.join("/").replace(/\/\/+/g,"/"),wa=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ba=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xa=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _a(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var qn=["POST","PUT","PATCH","DELETE"];new Set(qn);var va=["GET",...qn];new Set(va);var at=d.createContext(null);at.displayName="DataRouter";var Vt=d.createContext(null);Vt.displayName="DataRouterState";d.createContext(!1);var Gn=d.createContext({isTransitioning:!1});Gn.displayName="ViewTransition";var Ra=d.createContext(new Map);Ra.displayName="Fetchers";var Sa=d.createContext(null);Sa.displayName="Await";var Ce=d.createContext(null);Ce.displayName="Navigation";var Rt=d.createContext(null);Rt.displayName="Location";var ke=d.createContext({outlet:null,matches:[],isDataRoute:!1});ke.displayName="Route";var Cr=d.createContext(null);Cr.displayName="RouteError";function Aa(e,{relative:t}={}){q(st(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=d.useContext(Ce),{hash:o,pathname:a,search:s}=St(e,{relative:t}),i=a;return r!=="/"&&(i=a==="/"?r:Be([r,a])),n.createHref({pathname:i,search:s,hash:o})}function st(){return d.useContext(Rt)!=null}function Ue(){return q(st(),"useLocation() may be used only in the context of a <Router> component."),d.useContext(Rt).location}var Jn="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xn(e){d.useContext(Ce).static||d.useLayoutEffect(e)}function kr(){let{isDataRoute:e}=d.useContext(ke);return e?Ia():Ta()}function Ta(){q(st(),"useNavigate() may be used only in the context of a <Router> component.");let e=d.useContext(at),{basename:t,navigator:r}=d.useContext(Ce),{matches:n}=d.useContext(ke),{pathname:o}=Ue(),a=JSON.stringify(Tr(n)),s=d.useRef(!1);return Xn(()=>{s.current=!0}),d.useCallback((c,l={})=>{if(Te(s.current,Jn),!s.current)return;if(typeof c=="number"){r.go(c);return}let u=Er(c,JSON.parse(a),o,l.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Be([t,u.pathname])),(l.replace?r.replace:r.push)(u,l.state,l)},[t,r,a,o,e])}d.createContext(null);function El(){let{matches:e}=d.useContext(ke),t=e[e.length-1];return t?t.params:{}}function St(e,{relative:t}={}){let{matches:r}=d.useContext(ke),{pathname:n}=Ue(),o=JSON.stringify(Tr(r));return d.useMemo(()=>Er(e,JSON.parse(o),n,t==="path"),[e,o,n,t])}function Ea(e,t){return Yn(e,t)}function Yn(e,t,r,n,o){q(st(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=d.useContext(Ce),{matches:s}=d.useContext(ke),i=s[s.length-1],c=i?i.params:{},l=i?i.pathname:"/",u=i?i.pathnameBase:"/",f=i&&i.route;{let _=f&&f.path||"";Qn(l,!f||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let b=Ue(),g;if(t){let _=typeof t=="string"?ot(t):t;q(u==="/"||_.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${_.pathname}" was given in the \`location\` prop.`),g=_}else g=b;let m=g.pathname||"/",x=m;if(u!=="/"){let _=u.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=Wn(e,{pathname:x});Te(f||y!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Te(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=Pa(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},c,_.params),pathname:Be([u,a.encodeLocation?a.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:Be([u,a.encodeLocation?a.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,r,n,o);return t&&v?d.createElement(Rt.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},v):v}function Ca(){let e=Oa(),t=_a(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return s=d.createElement(d.Fragment,null,d.createElement("p",null,"💿 Hey developer 👋"),d.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",d.createElement("code",{style:a},"ErrorBoundary")," or"," ",d.createElement("code",{style:a},"errorElement")," prop on your route.")),d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),r?d.createElement("pre",{style:o},r):null,s)}var ka=d.createElement(Ca,null),Da=class extends d.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError&&this.props.unstable_onError(e,t)}render(){return this.state.error!==void 0?d.createElement(ke.Provider,{value:this.props.routeContext},d.createElement(Cr.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function La({routeContext:e,match:t,children:r}){let n=d.useContext(at);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),d.createElement(ke.Provider,{value:e},r)}function Pa(e,t=[],r=null,n=null,o=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,s=r?.errors;if(s!=null){let l=a.findIndex(u=>u.route.id&&s?.[u.route.id]!==void 0);q(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,l+1))}let i=!1,c=-1;if(r)for(let l=0;l<a.length;l++){let u=a[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=l),u.route.id){let{loaderData:f,errors:b}=r,g=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!b||b[u.route.id]===void 0);if(u.route.lazy||g){i=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((l,u,f)=>{let b,g=!1,m=null,x=null;r&&(b=s&&u.route.id?s[u.route.id]:void 0,m=u.route.errorElement||ka,i&&(c<0&&f===0?(Qn("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,x=null):c===f&&(g=!0,x=u.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,f+1)),v=()=>{let _;return b?_=m:g?_=x:u.route.Component?_=d.createElement(u.route.Component,null):u.route.element?_=u.route.element:_=l,d.createElement(La,{match:u,routeContext:{outlet:l,matches:y,isDataRoute:r!=null},children:_})};return r&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?d.createElement(Da,{location:r.location,revalidation:r.revalidation,component:m,error:b,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0},unstable_onError:n}):v()},null)}function Dr(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Na(e){let t=d.useContext(at);return q(t,Dr(e)),t}function ja(e){let t=d.useContext(Vt);return q(t,Dr(e)),t}function Ma(e){let t=d.useContext(ke);return q(t,Dr(e)),t}function Lr(e){let t=Ma(e),r=t.matches[t.matches.length-1];return q(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function $a(){return Lr("useRouteId")}function Oa(){let e=d.useContext(Cr),t=ja("useRouteError"),r=Lr("useRouteError");return e!==void 0?e:t.errors?.[r]}function Ia(){let{router:e}=Na("useNavigate"),t=Lr("useNavigate"),r=d.useRef(!1);return Xn(()=>{r.current=!0}),d.useCallback(async(o,a={})=>{Te(r.current,Jn),r.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...a}))},[e,t])}var yn={};function Qn(e,t,r){!t&&!yn[e]&&(yn[e]=!0,Te(!1,r))}d.memo(Ba);function Ba({routes:e,future:t,state:r,unstable_onError:n}){return Yn(e,void 0,r,n,t)}function Zn({to:e,replace:t,state:r,relative:n}){q(st(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=d.useContext(Ce);Te(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=d.useContext(ke),{pathname:s}=Ue(),i=kr(),c=Er(e,Tr(a),s,n==="path"),l=JSON.stringify(c);return d.useEffect(()=>{i(JSON.parse(l),{replace:t,state:r,relative:n})},[i,l,n,t,r]),null}function ue(e){q(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Fa({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:o,static:a=!1}){q(!st(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),i=d.useMemo(()=>({basename:s,navigator:o,static:a,future:{}}),[s,o,a]);typeof r=="string"&&(r=ot(r));let{pathname:c="/",search:l="",hash:u="",state:f=null,key:b="default"}=r,g=d.useMemo(()=>{let m=Fe(c,s);return m==null?null:{location:{pathname:m,search:l,hash:u,state:f,key:b},navigationType:n}},[s,c,l,u,f,b,n]);return Te(g!=null,`<Router basename="${s}"> is not able to match the URL "${c}${l}${u}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:d.createElement(Ce.Provider,{value:i},d.createElement(Rt.Provider,{children:t,value:g}))}function eo({children:e,location:t}){return Ea(gr(e),t)}function gr(e,t=[]){let r=[];return d.Children.forEach(e,(n,o)=>{if(!d.isValidElement(n))return;let a=[...t,o];if(n.type===d.Fragment){r.push.apply(r,gr(n.props.children,a));return}q(n.type===ue,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),q(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=gr(n.props.children,a)),r.push(s)}),r}var Nt="get",jt="application/x-www-form-urlencoded";function qt(e){return e!=null&&typeof e.tagName=="string"}function Ua(e){return qt(e)&&e.tagName.toLowerCase()==="button"}function za(e){return qt(e)&&e.tagName.toLowerCase()==="form"}function Ha(e){return qt(e)&&e.tagName.toLowerCase()==="input"}function Wa(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ka(e,t){return e.button===0&&(!t||t==="_self")&&!Wa(e)}var Lt=null;function Va(){if(Lt===null)try{new FormData(document.createElement("form"),0),Lt=!1}catch{Lt=!0}return Lt}var qa=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cr(e){return e!=null&&!qa.has(e)?(Te(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jt}"`),null):e}function Ga(e,t){let r,n,o,a,s;if(za(e)){let i=e.getAttribute("action");n=i?Fe(i,t):null,r=e.getAttribute("method")||Nt,o=cr(e.getAttribute("enctype"))||jt,a=new FormData(e)}else if(Ua(e)||Ha(e)&&(e.type==="submit"||e.type==="image")){let i=e.form;if(i==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||i.getAttribute("action");if(n=c?Fe(c,t):null,r=e.getAttribute("formmethod")||i.getAttribute("method")||Nt,o=cr(e.getAttribute("formenctype"))||cr(i.getAttribute("enctype"))||jt,a=new FormData(i,e),!Va()){let{name:l,type:u,value:f}=e;if(u==="image"){let b=l?`${l}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else l&&a.append(l,f)}}else{if(qt(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Nt,n=null,o=jt,s=e}return a&&o==="text/plain"&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:o,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ja(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Fe(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Xa(e,t){if(e.id in t)return t[e.id];try{let r=await Ee(()=>import(e.module),[]);return t[e.id]=r,r}catch{return window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ya(e){return e!=null&&typeof e.page=="string"}function Qa(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Za(e,t,r){let n=await Promise.all(e.map(async o=>{let a=t.routes[o.route.id];if(a){let s=await Xa(a,r);return s.links?s.links():[]}return[]}));return ns(n.flat(1).filter(Qa).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wn(e,t,r,n,o,a){let s=(c,l)=>r[l]?c.route.id!==r[l].route.id:!0,i=(c,l)=>r[l].pathname!==c.pathname||r[l].route.path?.endsWith("*")&&r[l].params["*"]!==c.params["*"];return a==="assets"?t.filter((c,l)=>s(c,l)||i(c,l)):a==="data"?t.filter((c,l)=>{let u=n.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(s(c,l)||i(c,l))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function es(e,t,{includeHydrateFallback:r}={}){return ts(e.map(n=>{let o=t.routes[n.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function ts(e){return[...new Set(e)]}function rs(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function ns(e,t){let r=new Set,n=new Set(t);return e.reduce((o,a)=>{if(t&&!Ya(a)&&a.as==="script"&&a.href&&n.has(a.href))return o;let i=JSON.stringify(rs(a));return r.has(i)||(r.add(i),o.push({key:i,link:a})),o},[])}function to(){let e=d.useContext(at);return Pr(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function os(){let e=d.useContext(Vt);return Pr(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Nr=d.createContext(void 0);Nr.displayName="FrameworkContext";function ro(){let e=d.useContext(Nr);return Pr(e,"You must render this element inside a <HydratedRouter> element"),e}function as(e,t){let r=d.useContext(Nr),[n,o]=d.useState(!1),[a,s]=d.useState(!1),{onFocus:i,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:f}=t,b=d.useRef(null);d.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let x=v=>{v.forEach(_=>{s(_.isIntersecting)})},y=new IntersectionObserver(x,{threshold:.5});return b.current&&y.observe(b.current),()=>{y.disconnect()}}},[e]),d.useEffect(()=>{if(n){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[n]);let g=()=>{o(!0)},m=()=>{o(!1),s(!1)};return r?e!=="intent"?[a,b,{}]:[a,b,{onFocus:wt(i,g),onBlur:wt(c,m),onMouseEnter:wt(l,g),onMouseLeave:wt(u,m),onTouchStart:wt(f,g)}]:[!1,b,{}]}function wt(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function ss({page:e,...t}){let{router:r}=to(),n=d.useMemo(()=>Wn(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?d.createElement(ls,{page:e,matches:n,...t}):null}function is(e){let{manifest:t,routeModules:r}=ro(),[n,o]=d.useState([]);return d.useEffect(()=>{let a=!1;return Za(e,t,r).then(s=>{a||o(s)}),()=>{a=!0}},[e,t,r]),n}function ls({page:e,matches:t,...r}){let n=Ue(),{manifest:o,routeModules:a}=ro(),{basename:s}=to(),{loaderData:i,matches:c}=os(),l=d.useMemo(()=>wn(e,t,c,o,n,"data"),[e,t,c,o,n]),u=d.useMemo(()=>wn(e,t,c,o,n,"assets"),[e,t,c,o,n]),f=d.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let m=new Set,x=!1;if(t.forEach(v=>{let _=o.routes[v.route.id];!_||!_.hasLoader||(!l.some(A=>A.route.id===v.route.id)&&v.route.id in i&&a[v.route.id]?.shouldRevalidate||_.hasClientLoader?x=!0:m.add(v.route.id))}),m.size===0)return[];let y=Ja(e,s,"data");return x&&m.size>0&&y.searchParams.set("_routes",t.filter(v=>m.has(v.route.id)).map(v=>v.route.id).join(",")),[y.pathname+y.search]},[s,i,n,o,l,t,e,a]),b=d.useMemo(()=>es(u,o),[u,o]),g=is(u);return d.createElement(d.Fragment,null,f.map(m=>d.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...r})),b.map(m=>d.createElement("link",{key:m,rel:"modulepreload",href:m,...r})),g.map(({key:m,link:x})=>d.createElement("link",{key:m,nonce:r.nonce,...x})))}function cs(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var no=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{no&&(window.__reactRouterVersion="7.9.1")}catch{}function us({basename:e,children:t,window:r}){let n=d.useRef();n.current==null&&(n.current=Qo({window:r,v5Compat:!0}));let o=n.current,[a,s]=d.useState({action:o.action,location:o.location}),i=d.useCallback(c=>{d.startTransition(()=>s(c))},[s]);return d.useLayoutEffect(()=>o.listen(i),[o,i]),d.createElement(Fa,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o})}var oo=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oe=d.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:o,reloadDocument:a,replace:s,state:i,target:c,to:l,preventScrollReset:u,viewTransition:f,...b},g){let{basename:m}=d.useContext(Ce),x=typeof l=="string"&&oo.test(l),y,v=!1;if(typeof l=="string"&&x&&(y=l,no))try{let K=new URL(window.location.href),xe=l.startsWith("//")?new URL(K.protocol+l):new URL(l),ct=Fe(xe.pathname,m);xe.origin===K.origin&&ct!=null?l=ct+xe.search+xe.hash:v=!0}catch{Te(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=Aa(l,{relative:o}),[A,$,j]=as(n,b),W=ps(l,{replace:s,state:i,target:c,preventScrollReset:u,relative:o,viewTransition:f});function H(K){t&&t(K),K.defaultPrevented||W(K)}let ce=d.createElement("a",{...b,...j,href:y||_,onClick:v||a?t:H,ref:cs(g,$),target:c,"data-discover":!x&&r==="render"?"true":void 0});return A&&!x?d.createElement(d.Fragment,null,ce,d.createElement(ss,{page:_})):ce});oe.displayName="Link";var ds=d.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:o=!1,style:a,to:s,viewTransition:i,children:c,...l},u){let f=St(s,{relative:l.relative}),b=Ue(),g=d.useContext(Vt),{navigator:m,basename:x}=d.useContext(Ce),y=g!=null&&bs(f)&&i===!0,v=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,_=b.pathname,A=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(_=_.toLowerCase(),A=A?A.toLowerCase():null,v=v.toLowerCase()),A&&x&&(A=Fe(A,x)||A);const $=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let j=_===v||!o&&_.startsWith(v)&&_.charAt($)==="/",W=A!=null&&(A===v||!o&&A.startsWith(v)&&A.charAt(v.length)==="/"),H={isActive:j,isPending:W,isTransitioning:y},ce=j?t:void 0,K;typeof n=="function"?K=n(H):K=[n,j?"active":null,W?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let xe=typeof a=="function"?a(H):a;return d.createElement(oe,{...l,"aria-current":ce,className:K,ref:u,style:xe,to:s,viewTransition:i},typeof c=="function"?c(H):c)});ds.displayName="NavLink";var fs=d.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:o,state:a,method:s=Nt,action:i,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:f,...b},g)=>{let m=ys(),x=ws(i,{relative:l}),y=s.toLowerCase()==="get"?"get":"post",v=typeof i=="string"&&oo.test(i),_=A=>{if(c&&c(A),A.defaultPrevented)return;A.preventDefault();let $=A.nativeEvent.submitter,j=$?.getAttribute("formmethod")||s;m($||A.currentTarget,{fetcherKey:t,method:j,navigate:r,replace:o,state:a,relative:l,preventScrollReset:u,viewTransition:f})};return d.createElement("form",{ref:g,method:y,action:x,onSubmit:n?c:_,...b,"data-discover":!v&&e==="render"?"true":void 0})});fs.displayName="Form";function hs(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ao(e){let t=d.useContext(at);return q(t,hs(e)),t}function ps(e,{target:t,replace:r,state:n,preventScrollReset:o,relative:a,viewTransition:s}={}){let i=kr(),c=Ue(),l=St(e,{relative:a});return d.useCallback(u=>{if(Ka(u,t)){u.preventDefault();let f=r!==void 0?r:_t(c)===_t(l);i(e,{replace:f,state:n,preventScrollReset:o,relative:a,viewTransition:s})}},[c,i,l,r,n,t,e,o,a,s])}var ms=0,gs=()=>`__${String(++ms)}__`;function ys(){let{router:e}=ao("useSubmit"),{basename:t}=d.useContext(Ce),r=$a();return d.useCallback(async(n,o={})=>{let{action:a,method:s,encType:i,formData:c,body:l}=Ga(n,t);if(o.navigate===!1){let u=o.fetcherKey||gs();await e.fetch(u,r,o.action||a,{preventScrollReset:o.preventScrollReset,formData:c,body:l,formMethod:o.method||s,formEncType:o.encType||i,flushSync:o.flushSync})}else await e.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:c,body:l,formMethod:o.method||s,formEncType:o.encType||i,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,r])}function ws(e,{relative:t}={}){let{basename:r}=d.useContext(Ce),n=d.useContext(ke);q(n,"useFormAction must be used inside a RouteContext");let[o]=n.matches.slice(-1),a={...St(e||".",{relative:t})},s=Ue();if(e==null){a.search=s.search;let i=new URLSearchParams(a.search),c=i.getAll("index");if(c.some(u=>u==="")){i.delete("index"),c.filter(f=>f).forEach(f=>i.append("index",f));let u=i.toString();a.search=u?`?${u}`:""}}return(!e||e===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Be([r,a.pathname])),_t(a)}function bs(e,{relative:t}={}){let r=d.useContext(Gn);q(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=ao("useViewTransitionState"),o=St(e,{relative:t});if(!r.isTransitioning)return!1;let a=Fe(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Fe(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ft(o.pathname,s)!=null||Ft(o.pathname,a)!=null}const M={renderCount:0,lastRenderTime:Date.now(),authStateChanges:[],logAuthChange:(e,t)=>{const r=Date.now();M.authStateChanges.push({timestamp:r,action:e,details:t}),M.authStateChanges.length>50&&(M.authStateChanges=M.authStateChanges.slice(-50))},logRender:e=>{M.renderCount++;const t=Date.now();t-M.lastRenderTime,M.lastRenderTime=t},getStats:()=>({totalRenders:M.renderCount,authChanges:M.authStateChanges.length,recentChanges:M.authStateChanges.slice(-10)})};window.authPerformanceMonitor=M;const so=d.createContext(void 0),xs=({children:e})=>{M.logRender("AuthProvider");const[t,r]=d.useState(!1),[n,o]=d.useState(null),[a,s]=d.useState(null),[i,c]=d.useState(!1),l=d.useCallback(w=>{const D=typeof w=="function"?w(t):w;D!==t&&(M.logAuthChange("setIsAuthenticated",{from:t,to:D}),r(D))},[t]),u=d.useCallback(w=>{const D=typeof w=="function"?w(n):w;JSON.stringify(D)!==JSON.stringify(n)&&(M.logAuthChange("setUser",{from:n,to:D}),o(D))},[n]),f=d.useCallback(w=>{const D=typeof w=="function"?w(a):w;D!==a&&(M.logAuthChange("setToken",{from:a?a.substring(0,10)+"...":null,to:D?D.substring(0,10)+"...":null}),s(D))},[a]),b=d.useCallback(w=>{const D=typeof w=="function"?w(i):w;D!==i&&(M.logAuthChange("setIsRefreshing",{from:i,to:D}),c(D))},[i]),g=d.useRef(null),m=d.useRef(null),x=d.useRef(0),y=3,v=1e3,A=(()=>"https://samintelligeneapi.azurewebsites.net/api")(),$={getItem:w=>{try{return localStorage.getItem(w)}catch{return null}},setItem:(w,D)=>{try{return localStorage.setItem(w,D),!0}catch{return!1}},removeItem:w=>{try{return localStorage.removeItem(w),!0}catch{return!1}}},j=w=>w&&typeof w=="object"&&typeof w.token=="string"&&w.token.length>0&&w.user&&typeof w.user=="object"&&typeof w.user.user_id=="number"&&typeof w.user.username=="string"&&typeof w.expiresAt=="number"&&w.expiresAt>Date.now(),W=d.useCallback(()=>{M.logAuthChange("clearAuthState",{reason:"manual_clear"}),l(!1),u(null),f(null),$.removeItem("authToken"),$.removeItem("user"),$.removeItem("authData"),g.current&&(clearInterval(g.current),g.current=null),m.current&&(clearTimeout(m.current),m.current=null)},[]),H=d.useCallback((w,D,L=36e5)=>{const I=Date.now()+L,R={token:w,user:D,expiresAt:I},P=$.setItem("authData",JSON.stringify(R));return P&&($.setItem("authToken",w),$.setItem("user",JSON.stringify(D))),P},[]),ce=d.useCallback(w=>{g.current&&(clearInterval(g.current),g.current=null);const D=Math.max(0,w-Date.now()-3e5);M.logAuthChange("startTokenRefreshMonitoring",{expiresAt:w,timeUntilRefresh:D,willRefresh:D>0}),D>0&&(g.current=setTimeout(async()=>{if(M.logAuthChange("tokenRefresh timeout triggered",{tokenExists:!!a,isRefreshing:i}),a&&!i){if(i)return!1;M.logAuthChange("refreshToken started from timeout",{token:a.substring(0,10)+"..."}),b(!0);try{const L=`${A}/auth/refresh`,I=await fetch(L,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(I.ok){const R=await I.json();if(R&&typeof R=="object"&&"Code"in R&&"Info"in R){if(R.Code===1&&R.Data?.Token){const P=R.Data.Token,G=n||R.Data.User;return M.logAuthChange("refreshToken success from timeout",{newToken:P.substring(0,10)+"...",hasUser:!!G}),f(P),G&&(u(G),H(P,G),ce(Date.now()+36e5)),!0}}else if(R.token){const P=R.token,G=R.user||n;if(M.logAuthChange("refreshToken success from timeout (legacy)",{newToken:P.substring(0,10)+"...",hasUser:!!G}),f(P),G){u(G),H(P,G);const ae=Date.now()+36e5;g.current&&(clearInterval(g.current),g.current=null);const qe=Math.max(0,ae-Date.now()-3e5);qe>0&&(g.current=setTimeout(async()=>{P&&!i&&await K(P)},qe))}return!0}}M.logAuthChange("refreshToken failed from timeout",{status:I.status})}catch(L){M.logAuthChange("refreshToken error from timeout",{error:L instanceof Error?L.message:String(L)})}finally{b(!1)}}else i&&M.logAuthChange("tokenRefresh skipped",{reason:"already_refreshing_in_timeout"})},D))},[a,i,A,n,H,b,f,u]),K=d.useCallback(async w=>{if(i)return M.logAuthChange("refreshToken skipped",{reason:"already_refreshing"}),!1;M.logAuthChange("refreshToken started",{token:w.substring(0,10)+"..."}),b(!0);try{const D=`${A}/auth/refresh`,L=await fetch(D,{method:"POST",headers:{Authorization:`Bearer ${w}`,"Content-Type":"application/json"}});if(L.ok){const I=await L.json();if(I&&typeof I=="object"&&"Code"in I&&"Info"in I){if(I.Code===1&&I.Data?.Token){const R=I.Data.Token,P=n||I.Data.User;if(M.logAuthChange("refreshToken success",{newToken:R.substring(0,10)+"...",hasUser:!!P}),f(R),P){u(P),H(R,P);const G=Date.now()+36e5;g.current&&(clearInterval(g.current),g.current=null);const ae=Math.max(0,G-Date.now()-3e5);ae>0&&(g.current=setTimeout(async()=>{R&&!i&&await K(R)},ae))}return!0}}else if(I.token){const R=I.token,P=I.user||n;return M.logAuthChange("refreshToken success (legacy)",{newToken:R.substring(0,10)+"...",hasUser:!!P}),f(R),P&&(u(P),H(R,P),ce(Date.now()+36e5)),!0}}M.logAuthChange("refreshToken failed",{status:L.status})}catch(D){M.logAuthChange("refreshToken error",{error:D instanceof Error?D.message:String(D)})}finally{b(!1)}return!1},[A,i,n,H]),xe=d.useCallback(async(w,D,L=1)=>{try{const I=`${A}/auth/verify`,R=await fetch(I,{headers:{Authorization:`Bearer ${w}`}});if(R.ok){const P=await R.json();if(P&&typeof P=="object"&&"Code"in P&&"Info"in P){if(P.Code===1&&P.Data?.user){M.logAuthChange("verifyTokenWithRetry success",{userId:P.Data.user.user_id}),f(w),u(P.Data.user),l(!0),H(w,P.Data.user);const G=Date.now()+36e5;g.current&&(clearInterval(g.current),g.current=null);const ae=Math.max(0,G-Date.now()-3e5);ae>0&&(g.current=setTimeout(async()=>{w&&!i&&await K(w)},ae)),x.current=0;return}}else{M.logAuthChange("verifyTokenWithRetry success (legacy)",{userId:(P.user||D).user_id}),f(w),u(P.user||D),l(!0),H(w,P.user||D);const G=Date.now()+36e5;g.current&&(clearInterval(g.current),g.current=null);const ae=Math.max(0,G-Date.now()-3e5);ae>0&&(g.current=setTimeout(async()=>{w&&!i&&await K(w)},ae)),x.current=0;return}}throw new Error(`Verification failed with status: ${R.status}`)}catch{L<y?(x.current=L,m.current=setTimeout(()=>{xe(w,D,L+1)},v*L)):(W(),x.current=0)}},[A,y,v,H,W]);d.useEffect(()=>{(async()=>{try{const D=$.getItem("authData");if(D)try{const R=JSON.parse(D);if(j(R))if(R.expiresAt>Date.now()+3e5){M.logAuthChange("initializeAuth restored",{userId:R.user.user_id,expiresAt:R.expiresAt}),f(R.token),u(R.user),l(!0),ce(R.expiresAt);return}else{M.logAuthChange("initializeAuth token_expired",{userId:R.user.user_id}),await K(R.token);return}}catch{}const L=$.getItem("authToken"),I=$.getItem("user");if(L&&I)try{const R=JSON.parse(I);R&&typeof R=="object"&&await xe(L,R)}catch{W()}}catch{W()}})()},[W,H,l,u,f,K]);const ct=d.useCallback(async(w,D)=>{try{const L=`${A}/auth/login`,I=await fetch(L,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:w,password:D})});if(!I.ok)try{const R=await I.text();if(I.status===404){const P=A.includes("/api")?L.replace("/api/auth/login","/auth/login"):L.replace("/auth/login","/api/auth/login")}}catch{}if(I.ok){const R=await I.json();if(R&&typeof R=="object"&&"Code"in R&&"Info"in R){if(R.Code===1&&R.Data?.Token){const P=Array.isArray(R.Data.Roles)?R.Data.Roles:[],G={user_id:R.Data.UserId,username:R.Data.Username,email:R.Data.Email,first_name:R.Data.Username,last_name:"",role_name:P[0]||"user",is_admin:P.includes("admin")||!1};if(M.logAuthChange("login success",{userId:G.user_id}),f(R.Data.Token),u(G),l(!0),H(R.Data.Token,G,36e5)){const qe=Date.now()+36e5;g.current&&(clearInterval(g.current),g.current=null);const ut=Math.max(0,qe-Date.now()-3e5);ut>0&&(g.current=setTimeout(async()=>{R.Data.Token&&!i&&await K(R.Data.Token)},ut))}return!0}}else if(R.token&&R.user){if(M.logAuthChange("login success (legacy)",{userId:R.user.user_id}),f(R.token),u(R.user),l(!0),H(R.token,R.user,36e5)){const G=Date.now()+36e5;g.current&&(clearInterval(g.current),g.current=null);const ae=Math.max(0,G-Date.now()-3e5);ae>0&&(g.current=setTimeout(async()=>{R.token&&!i&&await K(R.token)},ae))}return!0}}return!1}catch{return!1}},[A,H,f,u,l,i,K]),ze=d.useCallback(()=>{W()},[W]);d.useEffect(()=>()=>{g.current&&clearInterval(g.current),m.current&&clearTimeout(m.current)},[]);const _e=d.useCallback(()=>n?.is_admin||!1,[n?.is_admin]),rr=Ar.useMemo(()=>({isAuthenticated:t,user:n,token:a,login:ct,logout:ze,isAdmin:_e}),[t,n,a]);return h.jsx(so.Provider,{value:rr,children:e})},jr=()=>{const e=d.useContext(so);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},io=Ar.memo(()=>{const[e,t]=d.useState(""),[r,n]=d.useState(""),[o,a]=d.useState(""),{login:s}=jr(),i=kr(),c=async f=>{f.preventDefault(),a(""),await s(e,r)?i("/",{replace:!0}):a("Invalid username or password")},l=d.useCallback(f=>{t(f.target.value)},[]),u=d.useCallback(f=>{n(f.target.value)},[]);return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:h.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-2xl p-8 w-full max-w-md border border-white/20",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"SAM Recovery Intelligence V1"}),h.jsx("p",{className:"text-white/80",children:"Please sign in to access the dashboard"})]}),h.jsxs("form",{onSubmit:c,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-white/90 mb-2",children:"Username"}),h.jsx("input",{id:"username",type:"text",value:e,onChange:l,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-sm",placeholder:"Enter your username",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white/90 mb-2",children:"Password"}),h.jsx("input",{id:"password",type:"password",value:r,onChange:u,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-sm",placeholder:"Enter your password",required:!0})]}),o&&h.jsx("div",{className:"text-red-300 text-sm bg-red-500/20 p-3 rounded-lg",children:o}),h.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-300 transform hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:"Sign In"})]})]})})}),_s=({isMobileMenuOpen:e,setIsMobileMenuOpen:t})=>{const{logout:r}=jr(),n=Ue(),o=c=>{t(!1)},a=()=>{r(),t(!1)},s=c=>`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${n.pathname===c?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,i=c=>`mobile-menu-item block pl-3 pr-4 py-2 border-l-4 text-base font-medium w-full text-left ${n.pathname===c?"mobile-menu-item active bg-blue-50 border-blue-500 text-blue-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`;return h.jsxs("nav",{className:"bg-white/90 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-10",children:[h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between h-16",children:[h.jsx("div",{className:"flex items-center md:hidden",children:h.jsxs("button",{onClick:()=>t(!e),className:"mobile-menu-button inline-flex items-center justify-center p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500","aria-expanded":"false",children:[h.jsx("span",{className:"sr-only",children:"Open main menu"}),h.jsx("svg",{className:`${e?"hidden":"block"} h-6 w-6`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})}),h.jsx("svg",{className:`${e?"block":"hidden"} h-6 w-6`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})}),h.jsxs("div",{className:"hidden md:flex md:space-x-8",children:[h.jsx(oe,{to:"/",className:s("/"),children:"Team Overview"}),h.jsx(oe,{to:"/comparison",className:s("/comparison"),children:"Team Comparison"}),h.jsx(oe,{to:"/training-load",className:s("/training-load"),children:"Training Load"}),h.jsx(oe,{to:"/recovery-timeline",className:s("/recovery-timeline"),children:"Recovery Timeline"}),h.jsx(oe,{to:"/predictive",className:s("/predictive"),children:"Predictive Analytics"}),h.jsx(oe,{to:"/pharma-watchlist",className:s("/pharma-watchlist"),children:"Pharma Interactions"}),h.jsx(oe,{to:"/body-composition",className:s("/body-composition"),children:"Body Composition"}),h.jsx(oe,{to:"/user-management",className:s("/user-management"),children:"User Management"}),h.jsx("button",{onClick:r,className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Logout"})]})]})}),h.jsx("div",{className:`${e?"block":"hidden"} md:hidden mobile-menu`,children:h.jsxs("div",{className:"pt-2 pb-3 space-y-1",children:[h.jsx(oe,{to:"/",onClick:()=>o(),className:i("/"),children:"Team Overview"}),h.jsx(oe,{to:"/comparison",onClick:()=>o(),className:i("/comparison"),children:"Team Comparison"}),h.jsx(oe,{to:"/training-load",onClick:()=>o(),className:i("/training-load"),children:"Training Load"}),h.jsx(oe,{to:"/recovery-timeline",onClick:()=>o(),className:i("/recovery-timeline"),children:"Recovery Timeline"}),h.jsx(oe,{to:"/predictive",onClick:()=>o(),className:i("/predictive"),children:"Predictive Analytics"}),h.jsx(oe,{to:"/pharma-watchlist",onClick:()=>o(),className:i("/pharma-watchlist"),children:"Pharma Interactions"}),h.jsx(oe,{to:"/body-composition",onClick:()=>o(),className:i("/body-composition"),children:"Body Composition"}),h.jsx(oe,{to:"/user-management",onClick:()=>o(),className:i("/user-management"),children:"User Management"}),h.jsx("button",{onClick:a,className:"block w-full text-left pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-red-600 hover:bg-red-50",children:"Logout"})]})})]})},vs=d.memo(_s);function lo(e,t){return function(){return e.apply(t,arguments)}}const{toString:Rs}=Object.prototype,{getPrototypeOf:Mr}=Object,{iterator:Gt,toStringTag:co}=Symbol,Jt=(e=>t=>{const r=Rs.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),De=e=>(e=e.toLowerCase(),t=>Jt(t)===e),Xt=e=>t=>typeof t===e,{isArray:it}=Array,vt=Xt("undefined");function At(e){return e!==null&&!vt(e)&&e.constructor!==null&&!vt(e.constructor)&&pe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const uo=De("ArrayBuffer");function Ss(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&uo(e.buffer),t}const As=Xt("string"),pe=Xt("function"),fo=Xt("number"),Tt=e=>e!==null&&typeof e=="object",Ts=e=>e===!0||e===!1,Mt=e=>{if(Jt(e)!=="object")return!1;const t=Mr(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(co in e)&&!(Gt in e)},Es=e=>{if(!Tt(e)||At(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Cs=De("Date"),ks=De("File"),Ds=De("Blob"),Ls=De("FileList"),Ps=e=>Tt(e)&&pe(e.pipe),Ns=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||pe(e.append)&&((t=Jt(e))==="formdata"||t==="object"&&pe(e.toString)&&e.toString()==="[object FormData]"))},js=De("URLSearchParams"),[Ms,$s,Os,Is]=["ReadableStream","Request","Response","Headers"].map(De),Bs=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Et(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),it(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{if(At(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let i;for(n=0;n<s;n++)i=a[n],t.call(null,e[i],i,e)}}function ho(e,t){if(At(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,o;for(;n-- >0;)if(o=r[n],t===o.toLowerCase())return o;return null}const et=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),po=e=>!vt(e)&&e!==et;function yr(){const{caseless:e}=po(this)&&this||{},t={},r=(n,o)=>{const a=e&&ho(t,o)||o;Mt(t[a])&&Mt(n)?t[a]=yr(t[a],n):Mt(n)?t[a]=yr({},n):it(n)?t[a]=n.slice():t[a]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&Et(arguments[n],r);return t}const Fs=(e,t,r,{allOwnKeys:n}={})=>(Et(t,(o,a)=>{r&&pe(o)?e[a]=lo(o,r):e[a]=o},{allOwnKeys:n}),e),Us=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),zs=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Hs=(e,t,r,n)=>{let o,a,s;const i={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)s=o[a],(!n||n(s,e,t))&&!i[s]&&(t[s]=e[s],i[s]=!0);e=r!==!1&&Mr(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Ws=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Ks=e=>{if(!e)return null;if(it(e))return e;let t=e.length;if(!fo(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Vs=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Mr(Uint8Array)),qs=(e,t)=>{const n=(e&&e[Gt]).call(e);let o;for(;(o=n.next())&&!o.done;){const a=o.value;t.call(e,a[0],a[1])}},Gs=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Js=De("HTMLFormElement"),Xs=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),bn=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Ys=De("RegExp"),mo=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Et(r,(o,a)=>{let s;(s=t(o,a,e))!==!1&&(n[a]=s||o)}),Object.defineProperties(e,n)},Qs=e=>{mo(e,(t,r)=>{if(pe(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(pe(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Zs=(e,t)=>{const r={},n=o=>{o.forEach(a=>{r[a]=!0})};return it(e)?n(e):n(String(e).split(t)),r},ei=()=>{},ti=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function ri(e){return!!(e&&pe(e.append)&&e[co]==="FormData"&&e[Gt])}const ni=e=>{const t=new Array(10),r=(n,o)=>{if(Tt(n)){if(t.indexOf(n)>=0)return;if(At(n))return n;if(!("toJSON"in n)){t[o]=n;const a=it(n)?[]:{};return Et(n,(s,i)=>{const c=r(s,o+1);!vt(c)&&(a[i]=c)}),t[o]=void 0,a}}return n};return r(e,0)},oi=De("AsyncFunction"),ai=e=>e&&(Tt(e)||pe(e))&&pe(e.then)&&pe(e.catch),go=((e,t)=>e?setImmediate:t?((r,n)=>(et.addEventListener("message",({source:o,data:a})=>{o===et&&a===r&&n.length&&n.shift()()},!1),o=>{n.push(o),et.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",pe(et.postMessage)),si=typeof queueMicrotask<"u"?queueMicrotask.bind(et):typeof process<"u"&&process.nextTick||go,ii=e=>e!=null&&pe(e[Gt]),p={isArray:it,isArrayBuffer:uo,isBuffer:At,isFormData:Ns,isArrayBufferView:Ss,isString:As,isNumber:fo,isBoolean:Ts,isObject:Tt,isPlainObject:Mt,isEmptyObject:Es,isReadableStream:Ms,isRequest:$s,isResponse:Os,isHeaders:Is,isUndefined:vt,isDate:Cs,isFile:ks,isBlob:Ds,isRegExp:Ys,isFunction:pe,isStream:Ps,isURLSearchParams:js,isTypedArray:Vs,isFileList:Ls,forEach:Et,merge:yr,extend:Fs,trim:Bs,stripBOM:Us,inherits:zs,toFlatObject:Hs,kindOf:Jt,kindOfTest:De,endsWith:Ws,toArray:Ks,forEachEntry:qs,matchAll:Gs,isHTMLForm:Js,hasOwnProperty:bn,hasOwnProp:bn,reduceDescriptors:mo,freezeMethods:Qs,toObjectSet:Zs,toCamelCase:Xs,noop:ei,toFiniteNumber:ti,findKey:ho,global:et,isContextDefined:po,isSpecCompliantForm:ri,toJSONObject:ni,isAsyncFn:oi,isThenable:ai,setImmediate:go,asap:si,isIterable:ii};function N(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}p.inherits(N,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:p.toJSONObject(this.config),code:this.code,status:this.status}}});const yo=N.prototype,wo={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{wo[e]={value:e}});Object.defineProperties(N,wo);Object.defineProperty(yo,"isAxiosError",{value:!0});N.from=(e,t,r,n,o,a)=>{const s=Object.create(yo);return p.toFlatObject(e,s,function(c){return c!==Error.prototype},i=>i!=="isAxiosError"),N.call(s,e.message,t,r,n,o),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const li=null;function wr(e){return p.isPlainObject(e)||p.isArray(e)}function bo(e){return p.endsWith(e,"[]")?e.slice(0,-2):e}function xn(e,t,r){return e?e.concat(t).map(function(o,a){return o=bo(o),!r&&a?"["+o+"]":o}).join(r?".":""):t}function ci(e){return p.isArray(e)&&!e.some(wr)}const ui=p.toFlatObject(p,{},null,function(t){return/^is[A-Z]/.test(t)});function Yt(e,t,r){if(!p.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=p.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,y){return!p.isUndefined(y[x])});const n=r.metaTokens,o=r.visitor||u,a=r.dots,s=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&p.isSpecCompliantForm(t);if(!p.isFunction(o))throw new TypeError("visitor must be a function");function l(m){if(m===null)return"";if(p.isDate(m))return m.toISOString();if(p.isBoolean(m))return m.toString();if(!c&&p.isBlob(m))throw new N("Blob is not supported. Use a Buffer instead.");return p.isArrayBuffer(m)||p.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,x,y){let v=m;if(m&&!y&&typeof m=="object"){if(p.endsWith(x,"{}"))x=n?x:x.slice(0,-2),m=JSON.stringify(m);else if(p.isArray(m)&&ci(m)||(p.isFileList(m)||p.endsWith(x,"[]"))&&(v=p.toArray(m)))return x=bo(x),v.forEach(function(A,$){!(p.isUndefined(A)||A===null)&&t.append(s===!0?xn([x],$,a):s===null?x:x+"[]",l(A))}),!1}return wr(m)?!0:(t.append(xn(y,x,a),l(m)),!1)}const f=[],b=Object.assign(ui,{defaultVisitor:u,convertValue:l,isVisitable:wr});function g(m,x){if(!p.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(m),p.forEach(m,function(v,_){(!(p.isUndefined(v)||v===null)&&o.call(t,v,p.isString(_)?_.trim():_,x,b))===!0&&g(v,x?x.concat(_):[_])}),f.pop()}}if(!p.isObject(e))throw new TypeError("data must be an object");return g(e),t}function _n(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function $r(e,t){this._pairs=[],e&&Yt(e,this,t)}const xo=$r.prototype;xo.append=function(t,r){this._pairs.push([t,r])};xo.toString=function(t){const r=t?function(n){return t.call(this,n,_n)}:_n;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function di(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _o(e,t,r){if(!t)return e;const n=r&&r.encode||di;p.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let a;if(o?a=o(t,r):a=p.isURLSearchParams(t)?t.toString():new $r(t,r).toString(n),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class fi{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){p.forEach(this.handlers,function(n){n!==null&&t(n)})}}const vn=fi,vo={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hi=typeof URLSearchParams<"u"?URLSearchParams:$r,pi=typeof FormData<"u"?FormData:null,mi=typeof Blob<"u"?Blob:null,gi={isBrowser:!0,classes:{URLSearchParams:hi,FormData:pi,Blob:mi},protocols:["http","https","file","blob","url","data"]},Or=typeof window<"u"&&typeof document<"u",br=typeof navigator=="object"&&navigator||void 0,yi=Or&&(!br||["ReactNative","NativeScript","NS"].indexOf(br.product)<0),wi=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),bi=Or&&window.location.href||"http://localhost",xi=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Or,hasStandardBrowserEnv:yi,hasStandardBrowserWebWorkerEnv:wi,navigator:br,origin:bi},Symbol.toStringTag,{value:"Module"})),le={...xi,...gi};function _i(e,t){return Yt(e,new le.classes.URLSearchParams,{visitor:function(r,n,o,a){return le.isNode&&p.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function vi(e){return p.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ri(e){const t={},r=Object.keys(e);let n;const o=r.length;let a;for(n=0;n<o;n++)a=r[n],t[a]=e[a];return t}function Ro(e){function t(r,n,o,a){let s=r[a++];if(s==="__proto__")return!0;const i=Number.isFinite(+s),c=a>=r.length;return s=!s&&p.isArray(o)?o.length:s,c?(p.hasOwnProp(o,s)?o[s]=[o[s],n]:o[s]=n,!i):((!o[s]||!p.isObject(o[s]))&&(o[s]=[]),t(r,n,o[s],a)&&p.isArray(o[s])&&(o[s]=Ri(o[s])),!i)}if(p.isFormData(e)&&p.isFunction(e.entries)){const r={};return p.forEachEntry(e,(n,o)=>{t(vi(n),o,r,0)}),r}return null}function Si(e,t,r){if(p.isString(e))try{return(t||JSON.parse)(e),p.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Ir={transitional:vo,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,a=p.isObject(t);if(a&&p.isHTMLForm(t)&&(t=new FormData(t)),p.isFormData(t))return o?JSON.stringify(Ro(t)):t;if(p.isArrayBuffer(t)||p.isBuffer(t)||p.isStream(t)||p.isFile(t)||p.isBlob(t)||p.isReadableStream(t))return t;if(p.isArrayBufferView(t))return t.buffer;if(p.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return _i(t,this.formSerializer).toString();if((i=p.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Yt(i?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||o?(r.setContentType("application/json",!1),Si(t)):t}],transformResponse:[function(t){const r=this.transitional||Ir.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(p.isResponse(t)||p.isReadableStream(t))return t;if(t&&p.isString(t)&&(n&&!this.responseType||o)){const s=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(i){if(s)throw i.name==="SyntaxError"?N.from(i,N.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:le.classes.FormData,Blob:le.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};p.forEach(["delete","get","head","post","put","patch"],e=>{Ir.headers[e]={}});const Br=Ir,Ai=p.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ti=e=>{const t={};let r,n,o;return e&&e.split(`
`).forEach(function(s){o=s.indexOf(":"),r=s.substring(0,o).trim().toLowerCase(),n=s.substring(o+1).trim(),!(!r||t[r]&&Ai[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Rn=Symbol("internals");function bt(e){return e&&String(e).trim().toLowerCase()}function $t(e){return e===!1||e==null?e:p.isArray(e)?e.map($t):String(e)}function Ei(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Ci=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ur(e,t,r,n,o){if(p.isFunction(n))return n.call(this,t,r);if(o&&(t=r),!!p.isString(t)){if(p.isString(n))return t.indexOf(n)!==-1;if(p.isRegExp(n))return n.test(t)}}function ki(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Di(e,t){const r=p.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(o,a,s){return this[n].call(this,t,o,a,s)},configurable:!0})})}let Qt=class{constructor(t){t&&this.set(t)}set(t,r,n){const o=this;function a(i,c,l){const u=bt(c);if(!u)throw new Error("header name must be a non-empty string");const f=p.findKey(o,u);(!f||o[f]===void 0||l===!0||l===void 0&&o[f]!==!1)&&(o[f||c]=$t(i))}const s=(i,c)=>p.forEach(i,(l,u)=>a(l,u,c));if(p.isPlainObject(t)||t instanceof this.constructor)s(t,r);else if(p.isString(t)&&(t=t.trim())&&!Ci(t))s(Ti(t),r);else if(p.isObject(t)&&p.isIterable(t)){let i={},c,l;for(const u of t){if(!p.isArray(u))throw TypeError("Object iterator must return a key-value pair");i[l=u[0]]=(c=i[l])?p.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}s(i,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=bt(t),t){const n=p.findKey(this,t);if(n){const o=this[n];if(!r)return o;if(r===!0)return Ei(o);if(p.isFunction(r))return r.call(this,o,n);if(p.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=bt(t),t){const n=p.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||ur(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let o=!1;function a(s){if(s=bt(s),s){const i=p.findKey(n,s);i&&(!r||ur(n,n[i],i,r))&&(delete n[i],o=!0)}}return p.isArray(t)?t.forEach(a):a(t),o}clear(t){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const a=r[n];(!t||ur(this,this[a],a,t,!0))&&(delete this[a],o=!0)}return o}normalize(t){const r=this,n={};return p.forEach(this,(o,a)=>{const s=p.findKey(n,a);if(s){r[s]=$t(o),delete r[a];return}const i=t?ki(a):String(a).trim();i!==a&&delete r[a],r[i]=$t(o),n[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return p.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=t&&p.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[Rn]=this[Rn]={accessors:{}}).accessors,o=this.prototype;function a(s){const i=bt(s);n[i]||(Di(o,s),n[i]=!0)}return p.isArray(t)?t.forEach(a):a(t),this}};Qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);p.reduceDescriptors(Qt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});p.freezeMethods(Qt);const Ae=Qt;function dr(e,t){const r=this||Br,n=t||r,o=Ae.from(n.headers);let a=n.data;return p.forEach(e,function(i){a=i.call(r,a,o.normalize(),t?t.status:void 0)}),o.normalize(),a}function So(e){return!!(e&&e.__CANCEL__)}function lt(e,t,r){N.call(this,e??"canceled",N.ERR_CANCELED,t,r),this.name="CanceledError"}p.inherits(lt,N,{__CANCEL__:!0});function Ao(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new N("Request failed with status code "+r.status,[N.ERR_BAD_REQUEST,N.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Li(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Pi(e,t){e=e||10;const r=new Array(e),n=new Array(e);let o=0,a=0,s;return t=t!==void 0?t:1e3,function(c){const l=Date.now(),u=n[a];s||(s=l),r[o]=c,n[o]=l;let f=a,b=0;for(;f!==o;)b+=r[f++],f=f%e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),l-s<t)return;const g=u&&l-u;return g?Math.round(b*1e3/g):void 0}}function Ni(e,t){let r=0,n=1e3/t,o,a;const s=(l,u=Date.now())=>{r=u,o=null,a&&(clearTimeout(a),a=null),e(...l)};return[(...l)=>{const u=Date.now(),f=u-r;f>=n?s(l,u):(o=l,a||(a=setTimeout(()=>{a=null,s(o)},n-f)))},()=>o&&s(o)]}const Ut=(e,t,r=3)=>{let n=0;const o=Pi(50,250);return Ni(a=>{const s=a.loaded,i=a.lengthComputable?a.total:void 0,c=s-n,l=o(c),u=s<=i;n=s;const f={loaded:s,total:i,progress:i?s/i:void 0,bytes:c,rate:l||void 0,estimated:l&&i&&u?(i-s)/l:void 0,event:a,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(f)},r)},Sn=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},An=e=>(...t)=>p.asap(()=>e(...t)),ji=le.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,le.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(le.origin),le.navigator&&/(msie|trident)/i.test(le.navigator.userAgent)):()=>!0,Mi=le.hasStandardBrowserEnv?{write(e,t,r,n,o,a){const s=[e+"="+encodeURIComponent(t)];p.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),p.isString(n)&&s.push("path="+n),p.isString(o)&&s.push("domain="+o),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $i(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Oi(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function To(e,t,r){let n=!$i(t);return e&&(n||r==!1)?Oi(e,t):t}const Tn=e=>e instanceof Ae?{...e}:e;function rt(e,t){t=t||{};const r={};function n(l,u,f,b){return p.isPlainObject(l)&&p.isPlainObject(u)?p.merge.call({caseless:b},l,u):p.isPlainObject(u)?p.merge({},u):p.isArray(u)?u.slice():u}function o(l,u,f,b){if(p.isUndefined(u)){if(!p.isUndefined(l))return n(void 0,l,f,b)}else return n(l,u,f,b)}function a(l,u){if(!p.isUndefined(u))return n(void 0,u)}function s(l,u){if(p.isUndefined(u)){if(!p.isUndefined(l))return n(void 0,l)}else return n(void 0,u)}function i(l,u,f){if(f in t)return n(l,u);if(f in e)return n(void 0,l)}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:i,headers:(l,u,f)=>o(Tn(l),Tn(u),f,!0)};return p.forEach(Object.keys({...e,...t}),function(u){const f=c[u]||o,b=f(e[u],t[u],u);p.isUndefined(b)&&f!==i||(r[u]=b)}),r}const Eo=e=>{const t=rt({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:a,headers:s,auth:i}=t;t.headers=s=Ae.from(s),t.url=_o(To(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&s.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):"")));let c;if(p.isFormData(r)){if(le.hasStandardBrowserEnv||le.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[l,...u]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];s.setContentType([l||"multipart/form-data",...u].join("; "))}}if(le.hasStandardBrowserEnv&&(n&&p.isFunction(n)&&(n=n(t)),n||n!==!1&&ji(t.url))){const l=o&&a&&Mi.read(a);l&&s.set(o,l)}return t},Ii=typeof XMLHttpRequest<"u",Bi=Ii&&function(e){return new Promise(function(r,n){const o=Eo(e);let a=o.data;const s=Ae.from(o.headers).normalize();let{responseType:i,onUploadProgress:c,onDownloadProgress:l}=o,u,f,b,g,m;function x(){g&&g(),m&&m(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(o.method.toUpperCase(),o.url,!0),y.timeout=o.timeout;function v(){if(!y)return;const A=Ae.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),j={data:!i||i==="text"||i==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:A,config:e,request:y};Ao(function(H){r(H),x()},function(H){n(H),x()},j),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(n(new N("Request aborted",N.ECONNABORTED,e,y)),y=null)},y.onerror=function(){n(new N("Network Error",N.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let $=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const j=o.transitional||vo;o.timeoutErrorMessage&&($=o.timeoutErrorMessage),n(new N($,j.clarifyTimeoutError?N.ETIMEDOUT:N.ECONNABORTED,e,y)),y=null},a===void 0&&s.setContentType(null),"setRequestHeader"in y&&p.forEach(s.toJSON(),function($,j){y.setRequestHeader(j,$)}),p.isUndefined(o.withCredentials)||(y.withCredentials=!!o.withCredentials),i&&i!=="json"&&(y.responseType=o.responseType),l&&([b,m]=Ut(l,!0),y.addEventListener("progress",b)),c&&y.upload&&([f,g]=Ut(c),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",g)),(o.cancelToken||o.signal)&&(u=A=>{y&&(n(!A||A.type?new lt(null,e,y):A),y.abort(),y=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const _=Li(o.url);if(_&&le.protocols.indexOf(_)===-1){n(new N("Unsupported protocol "+_+":",N.ERR_BAD_REQUEST,e));return}y.send(a||null)})},Fi=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,o;const a=function(l){if(!o){o=!0,i();const u=l instanceof Error?l:this.reason;n.abort(u instanceof N?u:new lt(u instanceof Error?u.message:u))}};let s=t&&setTimeout(()=>{s=null,a(new N(`timeout ${t} of ms exceeded`,N.ETIMEDOUT))},t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(a):l.removeEventListener("abort",a)}),e=null)};e.forEach(l=>l.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>p.asap(i),c}},Ui=Fi,zi=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let n=0,o;for(;n<r;)o=n+t,yield e.slice(n,o),n=o},Hi=async function*(e,t){for await(const r of Wi(e))yield*zi(r,t)},Wi=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},En=(e,t,r,n)=>{const o=Hi(e,t);let a=0,s,i=c=>{s||(s=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:l,value:u}=await o.next();if(l){i(),c.close();return}let f=u.byteLength;if(r){let b=a+=f;r(b)}c.enqueue(new Uint8Array(u))}catch(l){throw i(l),l}},cancel(c){return i(c),o.return()}},{highWaterMark:2})},Zt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Co=Zt&&typeof ReadableStream=="function",Ki=Zt&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),ko=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Vi=Co&&ko(()=>{let e=!1;const t=new Request(le.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Cn=64*1024,xr=Co&&ko(()=>p.isReadableStream(new Response("").body)),zt={stream:xr&&(e=>e.body)};Zt&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!zt[t]&&(zt[t]=p.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new N(`Response type '${t}' is not supported`,N.ERR_NOT_SUPPORT,n)})})})(new Response);const qi=async e=>{if(e==null)return 0;if(p.isBlob(e))return e.size;if(p.isSpecCompliantForm(e))return(await new Request(le.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(p.isArrayBufferView(e)||p.isArrayBuffer(e))return e.byteLength;if(p.isURLSearchParams(e)&&(e=e+""),p.isString(e))return(await Ki(e)).byteLength},Gi=async(e,t)=>{const r=p.toFiniteNumber(e.getContentLength());return r??qi(t)},Ji=Zt&&(async e=>{let{url:t,method:r,data:n,signal:o,cancelToken:a,timeout:s,onDownloadProgress:i,onUploadProgress:c,responseType:l,headers:u,withCredentials:f="same-origin",fetchOptions:b}=Eo(e);l=l?(l+"").toLowerCase():"text";let g=Ui([o,a&&a.toAbortSignal()],s),m;const x=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let y;try{if(c&&Vi&&r!=="get"&&r!=="head"&&(y=await Gi(u,n))!==0){let j=new Request(t,{method:"POST",body:n,duplex:"half"}),W;if(p.isFormData(n)&&(W=j.headers.get("content-type"))&&u.setContentType(W),j.body){const[H,ce]=Sn(y,Ut(An(c)));n=En(j.body,Cn,H,ce)}}p.isString(f)||(f=f?"include":"omit");const v="credentials"in Request.prototype;m=new Request(t,{...b,signal:g,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:v?f:void 0});let _=await fetch(m,b);const A=xr&&(l==="stream"||l==="response");if(xr&&(i||A&&x)){const j={};["status","statusText","headers"].forEach(K=>{j[K]=_[K]});const W=p.toFiniteNumber(_.headers.get("content-length")),[H,ce]=i&&Sn(W,Ut(An(i),!0))||[];_=new Response(En(_.body,Cn,H,()=>{ce&&ce(),x&&x()}),j)}l=l||"text";let $=await zt[p.findKey(zt,l)||"text"](_,e);return!A&&x&&x(),await new Promise((j,W)=>{Ao(j,W,{data:$,headers:Ae.from(_.headers),status:_.status,statusText:_.statusText,config:e,request:m})})}catch(v){throw x&&x(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new N("Network Error",N.ERR_NETWORK,e,m),{cause:v.cause||v}):N.from(v,v&&v.code,e,m)}}),_r={http:li,xhr:Bi,fetch:Ji};p.forEach(_r,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const kn=e=>`- ${e}`,Xi=e=>p.isFunction(e)||e===null||e===!1,Do={getAdapter:e=>{e=p.isArray(e)?e:[e];const{length:t}=e;let r,n;const o={};for(let a=0;a<t;a++){r=e[a];let s;if(n=r,!Xi(r)&&(n=_r[(s=String(r)).toLowerCase()],n===void 0))throw new N(`Unknown adapter '${s}'`);if(n)break;o[s||"#"+a]=n}if(!n){const a=Object.entries(o).map(([i,c])=>`adapter ${i} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=t?a.length>1?`since :
`+a.map(kn).join(`
`):" "+kn(a[0]):"as no adapter specified";throw new N("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:_r};function fr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new lt(null,e)}function Dn(e){return fr(e),e.headers=Ae.from(e.headers),e.data=dr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Do.getAdapter(e.adapter||Br.adapter)(e).then(function(n){return fr(e),n.data=dr.call(e,e.transformResponse,n),n.headers=Ae.from(n.headers),n},function(n){return So(n)||(fr(e),n&&n.response&&(n.response.data=dr.call(e,e.transformResponse,n.response),n.response.headers=Ae.from(n.response.headers))),Promise.reject(n)})}const Lo="1.11.0",er={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{er[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Ln={};er.transitional=function(t,r,n){function o(a,s){return"[Axios v"+Lo+"] Transitional option '"+a+"'"+s+(n?". "+n:"")}return(a,s,i)=>{if(t===!1)throw new N(o(s," has been removed"+(r?" in "+r:"")),N.ERR_DEPRECATED);return r&&!Ln[s]&&(Ln[s]=!0),t?t(a,s,i):!0}};er.spelling=function(t){return(r,n)=>!0};function Yi(e,t,r){if(typeof e!="object")throw new N("options must be an object",N.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const a=n[o],s=t[a];if(s){const i=e[a],c=i===void 0||s(i,a,e);if(c!==!0)throw new N("option "+a+" must be "+c,N.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new N("Unknown option "+a,N.ERR_BAD_OPTION)}}const Ot={assertOptions:Yi,validators:er},Pe=Ot.validators;let Ht=class{constructor(t){this.defaults=t||{},this.interceptors={request:new vn,response:new vn}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=rt(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:a}=r;n!==void 0&&Ot.assertOptions(n,{silentJSONParsing:Pe.transitional(Pe.boolean),forcedJSONParsing:Pe.transitional(Pe.boolean),clarifyTimeoutError:Pe.transitional(Pe.boolean)},!1),o!=null&&(p.isFunction(o)?r.paramsSerializer={serialize:o}:Ot.assertOptions(o,{encode:Pe.function,serialize:Pe.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ot.assertOptions(r,{baseUrl:Pe.spelling("baseURL"),withXsrfToken:Pe.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=a&&p.merge(a.common,a[r.method]);a&&p.forEach(["delete","get","head","post","put","patch","common"],m=>{delete a[m]}),r.headers=Ae.concat(s,a);const i=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,i.unshift(x.fulfilled,x.rejected))});const l=[];this.interceptors.response.forEach(function(x){l.push(x.fulfilled,x.rejected)});let u,f=0,b;if(!c){const m=[Dn.bind(this),void 0];for(m.unshift(...i),m.push(...l),b=m.length,u=Promise.resolve(r);f<b;)u=u.then(m[f++],m[f++]);return u}b=i.length;let g=r;for(f=0;f<b;){const m=i[f++],x=i[f++];try{g=m(g)}catch(y){x.call(this,y);break}}try{u=Dn.call(this,g)}catch(m){return Promise.reject(m)}for(f=0,b=l.length;f<b;)u=u.then(l[f++],l[f++]);return u}getUri(t){t=rt(this.defaults,t);const r=To(t.baseURL,t.url,t.allowAbsoluteUrls);return _o(r,t.params,t.paramsSerializer)}};p.forEach(["delete","get","head","options"],function(t){Ht.prototype[t]=function(r,n){return this.request(rt(n||{},{method:t,url:r,data:(n||{}).data}))}});p.forEach(["post","put","patch"],function(t){function r(n){return function(a,s,i){return this.request(rt(i||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}Ht.prototype[t]=r(),Ht.prototype[t+"Form"]=r(!0)});const It=Ht;let Qi=class Po{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(o=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](o);n._listeners=null}),this.promise.then=o=>{let a;const s=new Promise(i=>{n.subscribe(i),a=i}).then(o);return s.cancel=function(){n.unsubscribe(a)},s},t(function(a,s,i){n.reason||(n.reason=new lt(a,s,i),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Po(function(o){t=o}),cancel:t}}};const Zi=Qi;function el(e){return function(r){return e.apply(null,r)}}function tl(e){return p.isObject(e)&&e.isAxiosError===!0}const vr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(vr).forEach(([e,t])=>{vr[t]=e});const rl=vr;function No(e){const t=new It(e),r=lo(It.prototype.request,t);return p.extend(r,It.prototype,t,{allOwnKeys:!0}),p.extend(r,t,null,{allOwnKeys:!0}),r.create=function(o){return No(rt(e,o))},r}const ee=No(Br);ee.Axios=It;ee.CanceledError=lt;ee.CancelToken=Zi;ee.isCancel=So;ee.VERSION=Lo;ee.toFormData=Yt;ee.AxiosError=N;ee.Cancel=ee.CanceledError;ee.all=function(t){return Promise.all(t)};ee.spread=el;ee.isAxiosError=tl;ee.mergeConfig=rt;ee.AxiosHeaders=Ae;ee.formToJSON=e=>Ro(p.isHTMLForm(e)?new FormData(e):e);ee.getAdapter=Do.getAdapter;ee.HttpStatusCode=rl;ee.default=ee;const tr=ee,{Axios:Dl,AxiosError:nl,CanceledError:Ll,isCancel:Pl,CancelToken:Nl,VERSION:jl,all:Ml,Cancel:$l,isAxiosError:Ol,spread:Il,toFormData:Bl,AxiosHeaders:Fl,HttpStatusCode:Ul,formToJSON:zl,getAdapter:Hl,mergeConfig:Wl}=tr;class Wt extends Error{constructor(t){super(t),this.name="AuthError"}}class xt extends Error{constructor(t){super(t),this.name="ApiError"}}const ol="https://jcringapi.azurewebsites.net",de=tr.create({baseURL:ol,headers:{"Content-Type":"application/json"}});let Pn=localStorage.getItem("token");Pn&&(de.defaults.headers.common.Authorization=`Bearer ${Pn}`);de.interceptors.response.use(e=>e,async e=>{const t=e.config;if(e.response?.status===401&&!t._retry){t._retry=!0;try{return await al(),t.headers.Authorization=`Bearer ${localStorage.getItem("token")}`,de(t)}catch(r){return tt.logout(),Promise.reject(r)}}else if(e.response?.status&&e.response.status>=500)return Promise.reject(new xt("Server error occurred"));return Promise.reject(e)});const al=async()=>{try{const e=localStorage.getItem("token");if(!e)throw new Wt("No token to refresh");const t=await de.get("/userv3/user/refreshUserToken",{headers:{Authorization:`Bearer ${e}`}}),{token:r,unionId:n}=t.data;localStorage.setItem("token",r),n&&localStorage.setItem("unionId",n),de.defaults.headers.common.Authorization=`Bearer ${r}`}catch{throw tt.logout(),new Wt("Token refresh failed")}},tt={async login(e,t){try{const r=await de.post("/userv3/user/login",{phone:e,userpwd:t}),{token:n,unionId:o}=r.data;return localStorage.setItem("token",n),localStorage.setItem("unionId",o),de.defaults.headers.common.Authorization=`Bearer ${n}`,{token:n,unionId:o}}catch{return tt.logout(),null}},async getUserInfo(){try{return(await de.get("/userv3/userInfo/queryAll")).data}catch{return null}},async refreshToken(){try{const e=localStorage.getItem("token");if(!e)throw new Wt("No token to refresh");const t=await de.get("/userv3/user/refreshUserToken",{headers:{Authorization:`Bearer ${e}`}}),{token:r,unionId:n}=t.data;localStorage.setItem("token",r),n&&localStorage.setItem("unionId",n),de.defaults.headers.common.Authorization=`Bearer ${r}`}catch{throw tt.logout(),new Wt("Token refresh failed")}},async logout(){localStorage.removeItem("token"),localStorage.removeItem("unionId"),delete de.defaults.headers.common.Authorization}},Nn=e=>{const t=r=>{if(!r)return 0;const n=new Date(r),o=new Date;let a=o.getFullYear()-n.getFullYear();const s=o.getMonth()-n.getMonth();return(s<0||s===0&&o.getDate()<n.getDate())&&a--,a};return e.map(r=>({id:r.Id||r.$id||r.id,athlete_id:(r.UnionId||r.unionId)?.toString()||"",name:`${r.FirstName||""} ${r.LastName||""}`.trim()||r.FullName||r.fullName||"Athlete Unknown",age:r.Age||r.age||t(r.DateOfBirth||r.dateOfBirth),sport:r.SportName||r.sportName||"General",team:"Default Team",baseline_start_date:void 0,date_of_birth:r.DateOfBirth||r.dateOfBirth,latestSteps:r.LatestSteps||r.latestSteps,latestCalories:r.LatestCalories||r.latestCalories,latestDistanceKm:r.LatestDistanceKm||r.latestDistanceKm,avgHeartRate7Days:r.AvgHeartRate7Days||r.avgHeartRate7Days,latestRestingHeartRate:r.LatestRestingHeartRate||r.latestRestingHeartRate,latestSpO2:r.LatestSpO2||r.latestSpO2,latestBodyTemperature:r.LatestBodyTemperature||r.latestBodyTemperature,recoveryScore:r.RecoveryScore||r.recoveryScore,gender:r.Gender||r.gender}))},hr=e=>e.map(t=>{const r=(f,b=0)=>{if(f==null||f==="")return b;const g=Number(f);return isNaN(g)?b:g},n=r(t.HeartRateVariability??t.HRV??t.Hrv??t.heart_rate_variability??t.hrv_night??t.HRVNight??t.HrvNight),o=n<10?n*10:n,a=r(t.RestingHeartRate??t.RHR??t.Rhr??t.resting_heart_rate??t.resting_hr??t.RestingHR??t.RestingHr),s=r(t.SleepQuality??t.Sleep??t.sleep_duration??t.sleep_hours??t.SleepDuration??t.sleep_duration_h??t.SleepDurationH);r(t.RecoveryScore??t.Recovery??t.recovery_score??t.RecoveryScore);let i=t.FatigueLevel??t.Fatigue??t.fatigue_level??t.fatigueLevel??t.training_load_pct??t.TrainingLoadPct??t.trainingLoadPct??t.training_load??t.TrainingLoad??t.trainingLoad??t.Training_Load??t.TrainingLoadPercentage??t.trainingLoadPercentage??t.load_percentage??t.LoadPercentage??t.intensity??t.Intensity??t.workload??t.Workload??t.effort??t.Effort,c=0;if(i!=null&&i!==""){const f=Number(i);isNaN(f)||(t.FatigueLevel!==void 0||t.Fatigue!==void 0||t.fatigue_level!==void 0||t.fatigueLevel!==void 0?c=f*10:c=f>10?f:f*10)}else c=0;return{athlete_id:t.union_id?.toString()||t.UnionId?.toString()||t.AthleteId?.toString()||t.athlete_id?.toString()||t.athleteId?.toString()||t.Athlete?.UnionId?.toString()||t.Athlete?.Id?.toString()||"",date:t.Date||t.date||"",hrv_night:o,resting_hr:a,spo2_night:r(t.SpO2??t.SPO2??t.SpO2Night??t.Spo2Night,0),resp_rate_night:r(t.RespiratoryRate??t.RespRate??t.RespiratoryRateNight??t.RespRateNight,0),deep_sleep_pct:r(t.DeepSleep??t.DeepSleepPct??t.DeepSleepPercent??t.DeepSleepPct,0),rem_sleep_pct:r(t.RemSleep??t.RemSleepPct??t.RemSleepPercent??t.RemSleepPct,0),light_sleep_pct:r(t.LightSleep??t.LightSleepPct??t.LightSleepPercent??t.LightSleepPct,0),sleep_duration_h:s,temp_trend_c:r(t.BodyTemperature??t.Temperature??t.BodyTemp??t.TempTrendC,0),training_load_pct:c,sleep_onset_time:t.SleepOnsetTime??t.SleepOnset,wake_time:t.WakeTime??t.WakeUpTime,avg_heart_rate:r(t.avg_heart_rate??t.avg_heart_rate??t.AvgHeartRate,0),blood_pressure_systolic:r(t.SystolicBP??t.BloodPressureSystolic??t.BPSystolic??t.systolic_bp,0),blood_pressure_diastolic:r(t.DiastolicBP??t.BloodPressureDiastolic??t.BPDiastolic??t.diastolic_bp,0)}}),jn=e=>e.filter(t=>!t.$ref&&(t.AthleteId||t.UnionId||t.GeneName||t.Gene||t.Variant||t.Genotype)).map(t=>({athlete_id:t.AthleteId?.toString()||t.UnionId||"",gene:t.GeneName||t.Gene||"",genotype:t.Variant||t.Genotype||""})),pr=e=>e.map(t=>{const r={id:t.Id,AthleteId:t.athlete_id,name:t.athlete_name||"",code:t.BloodTestTypeId,date:t.date,created_at:t.created_at,lab_name:t.lab_name,test_method:t.test_method,reference_ranges:t.reference_ranges,notes:t.Notes,is_abnormal:t.is_abnormal,flagged_values:t.flagged_values};return["cortisol_nmol_l","vitamin_d","testosterone","ck","fasting_glucose","hba1c","hba1c_ifcc","estimated_average_glucose","urea","creatinine","egfr","uric_acid","s_glutamyl_transferase","s_alanine_transaminase","s_aspartate_transaminase","lactate_dehydrogenase","calcium_adjusted","calcium_measured","magnesium","albumin_bcg","c_reactive_protein","total_protein","esr","erythrocyte_count","hemoglobin","hematocrit","mcv","mch","mchc","rdw","leucocyte_count","neutrophils_pct","neutrophil_absolute_count","lymphocytes_pct","lymphocytes_absolute_count","monocytes_pct","monocytes_absolute_count","eosinophils_pct","eosinophils_absolute_count","basophils_pct","basophils_absolute_count","nlr","platelets"].forEach(o=>{t[o]!==void 0&&t[o]!==null&&(r[o]=t[o])}),t.Markers&&t.Markers.$values&&Array.isArray(t.Markers.$values)&&t.Markers.$values.forEach(o=>{const a=o.MarkerName?.toLowerCase().replace(/[^a-z0-9_]/g,"_");if(a){const i={cortisol:"cortisol_nmol_l",vitamin_d:"vitamin_d",testosterone:"testosterone",creatine_kinase:"ck",ck:"ck",fasting_glucose:"fasting_glucose",glucose:"fasting_glucose",hba1c:"hba1c",hba1c_ifcc:"hba1c_ifcc",estimated_average_glucose:"estimated_average_glucose",urea:"urea",creatinine:"creatinine",egfr:"egfr",uric_acid:"uric_acid",ggt:"s_glutamyl_transferase",glutamyl_transferase:"s_glutamyl_transferase",alt:"s_alanine_transaminase",alanine_transaminase:"s_alanine_transaminase",ast:"s_aspartate_transaminase",aspartate_transaminase:"s_aspartate_transaminase",ldh:"lactate_dehydrogenase",lactate_dehydrogenase:"lactate_dehydrogenase",calcium_adjusted:"calcium_adjusted",calcium_measured:"calcium_measured",magnesium:"magnesium",albumin:"albumin_bcg",crp:"c_reactive_protein",c_reactive_protein:"c_reactive_protein",total_protein:"total_protein",esr:"esr",erythrocyte_count:"erythrocyte_count",rbc:"erythrocyte_count",hemoglobin:"hemoglobin",hematocrit:"hematocrit",mcv:"mcv",mch:"mch",mchc:"mchc",rdw:"rdw",leucocyte_count:"leucocyte_count",wbc:"leucocyte_count",neutrophils_pct:"neutrophils_pct",neutrophil_absolute_count:"neutrophil_absolute_count",lymphocytes_pct:"lymphocytes_pct",lymphocytes_absolute_count:"lymphocytes_absolute_count",monocytes_pct:"monocytes_pct",monocytes_absolute_count:"monocytes_absolute_count",eosinophils_pct:"eosinophils_pct",eosinophils_absolute_count:"eosinophils_absolute_count",basophils_pct:"basophils_pct",basophils_absolute_count:"basophils_absolute_count",nlr:"nlr",platelets:"platelets"}[a]||a;r[i]=o.Value}}),r}),Bt=e=>e.filter(t=>t.$ref?!1:t.Id&&t.AthleteId&&t.MeasurementDate).map(t=>{const r=(a,s=0)=>{if(a==null||a==="")return s;const i=Number(a);return isNaN(i)?s:i},n=a=>{if(!a)return"";try{let s=a.toString();s=s.replace(/([+-]\d{2}):?(\d{2})?$/,"");const i=new Date(s);return isNaN(i.getTime())?"":a}catch{return""}};return{id:t.Id,athleteId:t.AthleteId,measurementDate:n(t.MeasurementDate),weight:r(t.Weight),bodyFat:r(t.BodyFat),muscleMass:r(t.MuscleMass),boneDensity:r(t.BoneDensity),targetWeight:r(t.TargetWeight),weightRangeMin:r(t.WeightRangeMin),weightRangeMax:r(t.WeightRangeMax),bmi:r(t.BMI),visceralFatGrade:r(t.VisceralFatGrade),basalMetabolicRate:r(t.BasalMetabolicRate),subcutaneousFatPercent:r(t.SubcutaneousFatPercent),bodyAge:r(t.BodyAge),smi:r(t.SMI),armMassRightKg:r(t.ArmMassRightKg),armMassLeftKg:r(t.ArmMassLeftKg),legMassRightKg:r(t.LegMassRightKg),legMassLeftKg:r(t.LegMassLeftKg),trunkMassKg:r(t.TrunkMassKg),ArmMassRightFatKg:r(t.ArmMassRightFatKg),ArmMassLeftFatKg:r(t.ArmMassLeftFatKg),LegMassRightFatKg:r(t.LegMassRightFatKg),LegMassLeftFatKg:r(t.LegMassLeftFatKg),TrunkMassFatKg:r(t.TrunkMassFatKg),athlete:t.Athlete||null}}),jo="https://samintelligeneapi.azurewebsites.net/api",sl=()=>{const e=new Date,t=new Date;return t.setDate(e.getDate()-90),{startDate:t.toISOString().split("T")[0],endDate:e.toISOString().split("T")[0]}},U=tr.create({baseURL:jo,headers:{"Content-Type":"application/json"}}),Mn=tr.create({baseURL:jo});U.interceptors.request.use(e=>e,e=>Promise.reject(e));U.interceptors.response.use(e=>e,e=>Promise.reject(e));const Rr={async getAllAthletes(e=1,t=50,r){const n=new URLSearchParams;n.append("page",e.toString()),n.append("limit",t.toString()),r&&n.append("sportId",r.toString());const a=(await U.get(`/athletes?${n.toString()}`)).data.Data;let s=[];if(a&&typeof a=="object")if(a.athletes)Array.isArray(a.athletes)?s=a.athletes:a.athletes.$values&&Array.isArray(a.athletes.$values)&&(s=a.athletes.$values);else if(a.Value&&Array.isArray(a.Value))s=a.Value;else if(a.$values&&Array.isArray(a.$values))s=a.$values;else if(Array.isArray(a))s=a;else{const i=Object.values(a).filter(c=>Array.isArray(c));i.length>0&&(s=i[0])}else Array.isArray(a)&&(s=a);return{athletes:Nn(s)}},async getAthleteById(e){const t=await U.get(`/athletes/${e}`);let r=null;const n=t.data;if(n&&typeof n=="object"&&(n.Data?Array.isArray(n.Data)?r=n.Data[0]||null:n.Data.$values&&Array.isArray(n.Data.$values)?r=n.Data.$values[0]||null:r=n.Data:Array.isArray(n)?r=n[0]||null:n.$values&&Array.isArray(n.$values)?r=n.$values[0]||null:r=n),!r||typeof r!="object")throw new Error(`Athlete with ID ${e} not found`);return Nn([r])[0]},async getAthletesByTeam(e){return(await U.get(`/organizations/${e}/athletes`)).data.Data}},Sr={async getAllBiometricData(e,t,r,n=1,o=50){try{const a=new URLSearchParams;t&&a.append("startDate",t),r&&a.append("endDate",r),a.append("dataType","all"),a.append("page",n.toString()),a.append("limit",o.toString());const s=`/Wearable/biometric/${e}?${a.toString()}`,i=await Mn.get(s);let c=i.data?.data||i.data||[];c&&typeof c=="object"&&c.$values&&Array.isArray(c.$values)&&(c=c.$values);let l=Array.isArray(c)?hr(c):[];(t||r)&&(l=l.filter(b=>{const g=b.date;return!(!g||t&&g<t||r&&g>r)}));const u=(n-1)*o,f=u+o;return l=l.slice(u,f),l.map(b=>({...b,athlete_id:e.toString()}))}catch(a){return a instanceof nl&&a.response?.status===404?[]:[]}},async getAllAthletesBiometricData(e,t,r=1,n=1e3){try{const o=new URLSearchParams;e&&o.append("startDate",e),t&&o.append("endDate",t),o.append("dataType","all"),o.append("page",r.toString()),o.append("limit",n.toString());const a=`/Wearable/biometric/all?${o.toString()}`,s=await Mn.get(a);let i=[];s.data&&(s.data.Data&&Array.isArray(s.data.Data)?i=s.data.Data:s.data.data&&Array.isArray(s.data.data)?i=s.data.data:Array.isArray(s.data)?i=s.data:s.data.$values&&Array.isArray(s.data.$values)?i=s.data.$values:i=[]);const c=Array.isArray(i)?hr(i):[];let l=c;(e||t)&&(l=c.filter(g=>{const m=g.date;return!(!m||e&&m<e||t&&m>t)}));const u=(r-1)*n,f=u+n;return l.slice(u,f)}catch{return[]}},async getBiometricDataByAthlete(e,t,r){try{const n=["heartrate","hrv","sleep","spo2","temperature","trainingload","steps","respiratory"],o=await Promise.all(n.map(async c=>{try{const l=new URLSearchParams;t&&l.append("startDate",t),r&&l.append("endDate",r),l.append("page","1"),l.append("limit","100");const u=`/Wearable/biometric/${e}?dataType=${c}&${l.toString()}`,f=await U.get(u);return{dataType:c,data:f.data||[]}}catch{return{dataType:c,data:[]}}})),a=[];o.forEach(({dataType:c,data:l})=>{l&&Array.isArray(l)&&hr(l).forEach(f=>{const b={date:f.date,athlete_id:e.toString()};Object.keys(f).forEach(g=>{if(g!=="date"&&g!=="athlete_id"){const m=f[g];m!=null&&(typeof m!="number"||m!==0)&&(typeof m!="string"||m!=="")&&(b[g]=m)}}),Object.keys(b).length>2&&a.push(b)})});const s=[],i=new Map;return a.forEach(c=>{const l=c.date;if(!i.has(l))i.set(l,{date:l,athlete_id:e.toString(),...c});else{const u=i.get(l);Object.assign(u,c)}}),Array.from(i.values()).map(c=>({...c,resting_hr:Number(c.resting_hr)||0,hrv_night:Number(c.hrv_night)||0,sleep_duration_h:Number(c.sleep_duration_h)||0,deep_sleep_pct:Number(c.deep_sleep_pct)||0,rem_sleep_pct:Number(c.rem_sleep_pct)||0,light_sleep_pct:Number(c.light_sleep_pct)||0,spo2_night:Number(c.spo2_night)||0,resp_rate_night:Number(c.resp_rate_night)||0,temp_trend_c:Number(c.temp_trend_c)||0,training_load_pct:Number(c.training_load_pct)||0}))}catch{return[]}},async getLatestBiometricData(e){try{const{startDate:t,endDate:r}=sl();return await Sr.getAllBiometricData(parseInt(e),t,r,1,50)}catch{return[]}},async saveBiometricData(e,t){await U.post(`/athletes/${e}/biometric-data`,t)}},$n={async getAllGeneticProfiles(e=1,t=50){try{const r=new URLSearchParams;r.append("page",e.toString()),r.append("limit",t.toString());const o=(await U.get(`/genetic-profiles?${r.toString()}`)).data?.Data||[];return Array.isArray(o)?jn(o):[]}catch{return[]}},async getGeneticProfileByAthlete(e){try{const t=await U.get(`/genetic-profiles/athletes/${e}`);let r=t.data.Data||t.data,n=[];return r&&typeof r=="object"&&!Array.isArray(r)?r.profiles&&r.profiles.$values&&Array.isArray(r.profiles.$values)?n=r.profiles.$values:r.profiles&&Array.isArray(r.profiles)?n=r.profiles:r.$values&&Array.isArray(r.$values)?n=r.$values:Array.isArray(r)&&(n=r):Array.isArray(r)&&(n=r),jn(n)}catch{return[]}},async getGeneticProfilesByCategory(e){return(await U.get(`/genetic-profiles/category/${e}`)).data.Data},async getSpecificGenes(e){return(await U.post("/genetic-profiles/search",{genes:e})).data.Data},async getAvailableGenes(){return(await U.get("/genes")).data.Data},async getGeneticSummaryByAthlete(e){try{let r=(await U.get(`/GeneticsAthletes/summary/${e}`)).data||[];return r&&typeof r=="object"&&r.$values&&Array.isArray(r.$values)&&(r=r.$values),Array.isArray(r)?r:[]}catch{return[]}},async getGeneticCellularByAthlete(e){try{let r=(await U.get(`/GeneticsAthletes/cellular/${e}`)).data||[];return r&&typeof r=="object"&&r.$values&&Array.isArray(r.$values)&&(r=r.$values),Array.isArray(r)?r:[]}catch{return[]}},async getPharmacogenomicsByAthlete(e){try{let r=(await U.get(`/GeneticsAthletes/pharmacogenomics/${e}`)).data||[];return r&&typeof r=="object"&&r.$values&&Array.isArray(r.$values)&&(r=r.$values),Array.isArray(r)?r:[]}catch{return[]}},async getNutrigenomicsByAthlete(e){try{let r=(await U.get(`/GeneticsAthletes/nutrigenomics/${e}`)).data||[];return r&&typeof r=="object"&&r.$values&&Array.isArray(r.$values)&&(r=r.$values),Array.isArray(r)?r:[]}catch{return[]}},async getRecoveryGeneticsByAthlete(e){try{let r=(await U.get(`/GeneticsAthletes/recovery/${e}`)).data||[];return r&&typeof r=="object"&&r.$values&&Array.isArray(r.$values)&&(r=r.$values),Array.isArray(r)?r:[]}catch{return[]}},async getAllGeneticDataByAthlete(e){try{let r=(await U.get(`/GeneticsAthletes/all/${e}`)).data||{geneticSummary:[],geneticCellular:[]};return r&&typeof r=="object"&&(r.geneticSummary&&r.geneticSummary.$values&&Array.isArray(r.geneticSummary.$values)&&(r.geneticSummary=r.geneticSummary.$values),r.geneticCellular&&r.geneticCellular.$values&&Array.isArray(r.geneticCellular.$values)&&(r.geneticCellular=r.geneticCellular.$values)),r}catch{return{geneticSummary:[],geneticCellular:[]}}}},On={async getAllBodyComposition(e,t,r=1,n=50){try{const o=new URLSearchParams;e&&o.append("startDate",e),t&&o.append("endDate",t),o.append("page",r.toString()),o.append("limit",n.toString());const s=(await U.get(`/body-composition?${o.toString()}`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})).data.Data;return Array.isArray(s)?Bt(s):[]}catch{return[]}},async getBodyCompositionByAthlete(e,t,r){try{const n=new URLSearchParams;t&&n.append("startDate",t),r&&n.append("endDate",r);const a=(await U.get(`/body-composition?${n.toString()}`)).data.Data;let s=[];a&&(Array.isArray(a)?s=a:a.records&&a.records.$values&&Array.isArray(a.records.$values)?s=a.records.$values:a.$values&&Array.isArray(a.$values)&&(s=a.$values));const i=s.filter(l=>l&&l.AthleteId===e);return Bt(i)}catch{return[]}},async getLatestBodyComposition(){try{const t=(await U.get("/body-composition/latest")).data?.Data;let r=[];return t&&(Array.isArray(t)?r=t:t.records&&t.records.$values&&Array.isArray(t.records.$values)?r=t.records.$values:t.$values&&Array.isArray(t.$values)?r=t.$values:typeof t=="object"&&(r=Object.values(t).filter(o=>typeof o=="object"&&o!==null))),Array.isArray(r)?Bt(r):[]}catch{return[]}},async saveBodyComposition(e,t){await U.post(`/athletes/${e}/body-composition`,t)},async deleteBodyComposition(e,t){t?await U.delete(`/body-composition/${t}/${e}`):await U.delete(`/body-composition/${e}`)},async getAllAthletes(e=1,t=50){return(await Rr.getAllAthletes(e,t)).athletes||[]}},In={async getAllBloodResults(e=1,t=50){try{const r=new URLSearchParams;r.append("page",e.toString()),r.append("limit",t.toString());const o=(await U.get(`/blood-results?${r.toString()}`)).data.Data,a=o?.$values||o||[];return Array.isArray(a)?pr(a):[]}catch{return[]}},async getBloodResultsByAthlete(e){try{const r=(await U.get(`/blood-results/athlete/${e}`)).data.Data,n=r?.$values||r||[];return Array.isArray(n)?pr(n):[]}catch{return[]}},async getLatestBloodResults(){try{const t=(await U.get("/blood-results/latest")).data.Data,r=t?.$values||t||[];return Array.isArray(r)?pr(r):[]}catch{return[]}},async saveBloodResults(e,t){await U.post(`/blood-results/athletes/${e}/blood-results`,t)}},Bn={async getDashboardData(){try{const t=(await Rr.getAllAthletes(1,50)).athletes||[];let r=[];try{r=await Sr.getAllAthletesBiometricData(void 0,void 0,1,1e3)}catch{r=[]}let n=[];try{const s=await On.getAllBodyComposition(void 0,void 0,1,2e3);Array.isArray(s)?n=Bt(s):n=s||[]}catch{n=[]}let o=[];try{o=await $n.getAllGeneticProfiles(1,1e3)}catch{o=[]}let a=[];try{a=await In.getLatestBloodResults()}catch{a=[]}return{athletes:t,biometricData:r,geneticProfiles:o,bodyComposition:n,bloodResults:a}}catch{return{athletes:[],biometricData:[],geneticProfiles:[],bodyComposition:[],bloodResults:[]}}},async getAthleteAllData(e,t,r){try{const n=await Rr.getAthleteById(e);if(!n)return{athlete:void 0,biometricData:[],geneticProfile:[],bodyComposition:[],bloodResults:[]};let o=[];try{o=await Sr.getAllBiometricData(e,void 0,void 0,1,1e3)}catch{o=[]}let a=[];try{a=await $n.getGeneticProfileByAthlete(e)}catch{a=[]}let s=[];try{s=await On.getBodyCompositionByAthlete(e)}catch{s=[]}let i=[];try{i=await In.getBloodResultsByAthlete(e)}catch{i=[]}return{athlete:n,biometricData:o,geneticProfile:a,bodyComposition:s,bloodResults:i}}catch{return{athlete:void 0,biometricData:[],geneticProfile:[],bodyComposition:[],bloodResults:[]}}}},il={async getData(e=!0){if(e)try{return await Bn.getDashboardData()}catch{return{athletes:[],biometricData:[],geneticProfiles:[],bodyComposition:[],bloodResults:[]}}else return{athletes:[],biometricData:[],geneticProfiles:[],bodyComposition:[],bloodResults:[]}},async getAthleteData(e,t=!0){if(t)try{return await Bn.getAthleteAllData(e)}catch{return{athlete:void 0,biometricData:[],geneticProfile:[],bodyComposition:[],bloodResults:[]}}else return{athlete:void 0,biometricData:[],geneticProfile:[],bodyComposition:[],bloodResults:[]}},async getWomenHealthRecords(e,t){try{const r=await tt.getUserInfo();if(!r||r.length===0)return[];const n=parseInt(r[0].athlete_id||"0");if(!n)return[];const o=await U.get(`/Wearable/women-health/${n}?start=${e}&end=${t}`);return!o||!Array.isArray(o)?[]:o.map(a=>({day:a.Day||"",flowRate:Number(a.FlowRate)||0,symptoms:JSON.parse(a.Symptoms||"[]")}))}catch{return[]}},async getGpsData(e,t=1,r=50){try{const n=await tt.getUserInfo();if(!n)return[];const o=n[0]?.unionId||"";if(!o)throw new xt("No unionId found");const a=await de.get(`/wearableblev3/ring/queryBind?unionId=${o}`);if(!a.data||a.data.length===0)throw new xt("No MAC found");const s=a.data[0].mac||"",i=new URLSearchParams({unionId:o,mac:s,dataType:"gpsData",deviceType:"2026",page:t.toString(),limit:r.toString()});e&&i.append("start",e);const c=await de.get(`/wearablequeryv3/ring/queryByPage?${i.toString()}`);return!c.data||!Array.isArray(c.data)?[]:c.data.map(l=>({gpsDate:l.gpsDate||l.date||"",latitude:Number(l.latitude||l.lat)||0,longitude:Number(l.longitude||l.lon)||0}))}catch{return[]}},async getApneaRecords(e=1,t=500){try{const r=await tt.getUserInfo();if(!r)return[];const n=r[0]?.unionId||"";if(!n)throw new xt("No unionId found");const o=await de.get(`/wearableblev3/ring/queryBind?unionId=${n}`);if(!o.data||o.data.length===0)throw new xt("No MAC found");const a=o.data[0].mac||"",s=new FormData;s.append("mac",a),s.append("page",e.toString()),s.append("limit",t.toString());const i=await de.post("/wearableblev3/data/getSleepBreathPause",s,{headers:{"Content-Type":"multipart/form-data"}});return!i.data||!Array.isArray(i.data)?[]:i.data.map(c=>({id:Number(c.id)||0,mac:c.mac||"",day:c.day||c.date||""}))}catch{return[]}}},Kl={async askAI(e,t){try{return(await U.post("/chat-ai/ask",{message:e,context:t})).data}catch(r){throw r}}},Fn="/models/3d_human_body_wireframe_model.glb";let Pt=class extends Ar.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,r){}render(){return this.state.hasError?this.props.fallback:this.props.children}};const ql=({athleteId:e})=>{const t=d.useRef(null),r=d.useRef(null),n=d.useRef(null),o=d.useRef(null),a=d.useRef(null),s=d.useRef(null),i=d.useRef(null),c=d.useRef(null),l=d.useRef([]),u=d.useRef(null),f=d.useRef(null),b=d.useRef(null),g=d.useRef(null),m=d.useRef(null),x=d.useRef(null),y=d.useRef(null),v=d.useRef(null),_=d.useRef([]),A=d.useRef(0),$=d.useRef(0),j=d.useRef([]),W=d.useRef(null),[H,ce]=d.useState(!1),[K,xe]=d.useState(!1),[ct,ze]=d.useState(""),[_e,rr]=d.useState(void 0),[w,D]=d.useState(void 0),[L,I]=d.useState(void 0),[R,P]=d.useState([]),[G,ae]=d.useState(!0),[qe,ut]=d.useState(null),[Q,Mo]=d.useState(void 0),[se,$o]=d.useState(void 0),[ve,nr]=d.useState("side-by-side"),Oo=()=>{if(!w||!L||!_e)return;const T={...w,bodyFat:Math.max(6,Math.min(15,w.bodyFat*.8)),muscleMass:w.muscleMass*1.15,armMassLeftKg:Math.max(w.armMassLeftKg||0,w.armMassRightKg||0),armMassRightKg:Math.max(w.armMassLeftKg||0,w.armMassRightKg||0),legMassLeftKg:Math.max(w.legMassLeftKg||0,w.legMassRightKg||0),legMassRightKg:Math.max(w.legMassLeftKg||0,w.legMassRightKg||0)},E={...L,resting_hr:Math.max(45,Math.min(60,(L.resting_hr||60)*.9)),hrv_night:Math.min(100,(L.hrv_night||60)*1.2),training_load_pct:Math.min(85,(L.training_load_pct||80)*.95),spo2_night:Math.min(100,(L.spo2_night||97)*1.02),temp_trend_c:36.8,sleep_duration_h:Math.min(9,(L.sleep_duration_h||7.5)*1.1)};Mo(T),$o(E)};d.useEffect(()=>{Oo()},[w,L,_e]),d.useEffect(()=>{e&&(async()=>{try{ae(!0),ut(null);const E=typeof e=="string"?parseInt(e,10):e,S=await il.getAthleteData(E);if(rr(S.athlete),P(S.biometricData),S.bodyComposition.length>0){const O=S.bodyComposition.sort((B,Y)=>new Date(Y.measurementDate||"").getTime()-new Date(B.measurementDate||"").getTime())[0];D(O)}if(S.biometricData.length>0){const O=S.biometricData.sort((B,Y)=>new Date(Y.date).getTime()-new Date(B.date).getTime())[0];I(O)}}catch{ut("Failed to load athlete data")}finally{ae(!1)}})()},[e]);const Fr=L?.resting_hr||60,Ur=L?.hrv_night||60,nt=L?.training_load_pct||80,Ct=L?.spo2_night||97,dt=L?.temp_trend_c||37,or=L?.sleep_duration_h||7.5,Ne=Math.max(10,Ur*(1-nt/150)),Io=Ne>55?"#00ff88":Ne>45?"#ffcc00":"#ff4757";new Le().lerpColors(new Le(255),new Le(16711680),1-Ne/80);const Bo=new Le().lerpColors(new Le(255),new Le(16711680),(dt-36)/2),Ge=Math.round(Ne/80*40+or/9*30+(1-nt/100)*30),Fo=Ge>80?"#00ff88":Ge>50?"#ffcc00":"#ff4757";d.useEffect(()=>{Ge<60?nt>90?ze("High training load – consider rest"):or<7?ze("Low sleep duration"):Ne<45?ze("Low HRV – recovery impaired"):dt>37.2?ze("Elevated body temperature"):ze("Multiple stressors affecting recovery"):ze("Optimal recovery state")},[Ge,nt,or,Ne,dt]),d.useMemo(()=>{if(!R.length)return Array.from({length:7},(S,O)=>({date:new Date(Date.now()-(6-O)*864e5).toLocaleDateString("en",{month:"short",day:"numeric"}),temp:36.8+Math.random()*.4}));const T=new Date(Date.now()-7*24*60*60*1e3),E=R.filter(S=>S.athlete_id===e&&new Date(S.date)>=T).sort((S,O)=>new Date(S.date).getTime()-new Date(O.date).getTime()).map(S=>({date:new Date(S.date).toLocaleDateString("en",{month:"short",day:"numeric"}),temp:parseFloat((S.temp_trend_c||0).toFixed(1))}));return E.length>0?E:Array.from({length:7},(S,O)=>({date:new Date(Date.now()-(6-O)*864e5).toLocaleDateString("en",{month:"short",day:"numeric"}),temp:36.8+Math.random()*.4}))},[R,e]);const zr=()=>{const T=[];for(let E=-.2;E<=0;E+=.02){const S=.1*Math.exp(-((E+.1)**2)*100);T.push(E,S,0)}for(let E=0;E<=.04;E+=.01)T.push(E,E<.02?-.1:.3,0);for(let E=.04;E<=.2;E+=.02){const S=.15*Math.exp(-((E-.12)**2)*50);T.push(E,S,0)}return T},Uo=()=>{const T=performance.now()/1e3,E=j.current.filter(B=>B.time>T-60);if(E.length<2)return Fr;const S=E[E.length-1].time-E[0].time;return(E.length-1)/S*60},ft=d.useMemo(()=>{if(!w||!_e||!L)return[];const T=Uo(),E=[{id:"muscle",text:`Muscle: ${w.muscleMass?.toFixed(1)||"0.0"}kg`,position:"chest",color:"#00ff88",value:w.muscleMass||0,unit:"kg"},{id:"fat",text:`Fat: ${w.bodyFat?.toFixed(1)||"0.0"}%`,position:"trunk",color:"#ff6b6b",value:w.bodyFat||0,unit:"%"},{id:"armLeft",text:`L Arm: ${w.armMassLeftKg?.toFixed(1)||"0.0"}kg`,position:"leftArm",color:(w.armMassLeftKg||0)<(w.armMassRightKg||0)?"#ffcc00":"#00ff88",value:w.armMassLeftKg||0,unit:"kg"},{id:"armRight",text:`R Arm: ${w.armMassRightKg?.toFixed(1)||"0.0"}kg`,position:"rightArm",color:(w.armMassRightKg||0)<(w.armMassLeftKg||0)?"#ffcc00":"#00ff88",value:w.armMassRightKg||0,unit:"kg"},{id:"legLeft",text:`L Leg: ${w.legMassLeftKg?.toFixed(1)||"0.0"}kg`,position:"leftLeg",color:(w.legMassLeftKg||0)<(w.legMassRightKg||0)?"#ffcc00":"#00ff88",value:w.legMassLeftKg||0,unit:"kg"},{id:"legRight",text:`R Leg: ${w.legMassRightKg?.toFixed(1)||"0.0"}kg`,position:"rightLeg",color:(w.legMassRightKg||0)<(w.legMassLeftKg||0)?"#ffcc00":"#00ff88",value:w.legMassRightKg||0,unit:"kg"},{id:"bpm",text:`${Math.round(T)} BPM`,position:"heartRate",color:Io,value:T,unit:"BPM"},{id:"ecg",text:"",position:"ecg",color:"#00d8ff",value:0,unit:""},{id:"ecgTooltip",text:`HRV: ${Math.round(Ne)} ms`,position:"ecgTooltip",color:"#00d8ff",value:Ne,unit:"ms"},{id:"recovery",text:`Recovery: ${Ge}/100`,position:"head",color:Fo,value:Ge,unit:""}];return Ct<95&&E.push({id:"spo2Warning",text:`⚠️ Low O₂: ${Ct.toFixed(1)}%`,position:"trunk",color:"#ff4757",value:Ct,unit:"%"}),E},[w,_e,L,Ur,nt,Ct,Ge]),ht=d.useMemo(()=>{if(!Q||!se)return[];const T=se.resting_hr||60,E=se.hrv_night||60,S=se.training_load_pct||80,O=se.spo2_night||97;se.temp_trend_c;const B=se.sleep_duration_h||7.5,Y=Math.max(10,E*(1-S/150)),Re=Y>55?"#00ff88":Y>45?"#ffcc00":"#ff4757",X=Math.round(Y/80*40+B/9*30+(1-S/100)*30),pt=X>80?"#00ff88":X>50?"#ffcc00":"#ff4757",He=[{id:"muscle",text:`Muscle: ${Q.muscleMass?.toFixed(1)||"0.0"}kg`,position:"chest",color:"#00ff88",value:Q.muscleMass||0,unit:"kg"},{id:"fat",text:`Fat: ${Q.bodyFat?.toFixed(1)||"0.0"}%`,position:"trunk",color:"#00ff88",value:Q.bodyFat||0,unit:"%"},{id:"armLeft",text:`L Arm: ${Q.armMassLeftKg?.toFixed(1)||"0.0"}kg`,position:"leftArm",color:"#00ff88",value:Q.armMassLeftKg||0,unit:"kg"},{id:"armRight",text:`R Arm: ${Q.armMassRightKg?.toFixed(1)||"0.0"}kg`,position:"rightArm",color:"#00ff88",value:Q.armMassRightKg||0,unit:"kg"},{id:"legLeft",text:`L Leg: ${Q.legMassLeftKg?.toFixed(1)||"0.0"}kg`,position:"leftLeg",color:"#00ff88",value:Q.legMassLeftKg||0,unit:"kg"},{id:"legRight",text:`R Leg: ${Q.legMassRightKg?.toFixed(1)||"0.0"}kg`,position:"rightLeg",color:"#00ff88",value:Q.legMassRightKg||0,unit:"kg"},{id:"bpm",text:`${Math.round(T)} BPM`,position:"heartRate",color:Re,value:T,unit:"BPM"},{id:"ecg",text:"",position:"ecg",color:"#00ff88",value:0,unit:""},{id:"ecgTooltip",text:`HRV: ${Math.round(Y)} ms`,position:"ecgTooltip",color:"#00ff88",value:Y,unit:"ms"},{id:"recovery",text:`Recovery: ${X}/100`,position:"head",color:pt,value:X,unit:""}];return O<95&&He.push({id:"spo2Warning",text:`⚠️ Low O₂: ${O.toFixed(1)}%`,position:"trunk",color:"#ff4757",value:O,unit:"%"}),He},[Q,se]);d.useEffect(()=>{!l.current.length||!ft||l.current.forEach((T,E)=>{const S=ft[E];S&&T.element.textContent!==S.text&&(T.element.textContent=S.text,T.element.style.borderColor=S.color,T.element.style.color=S.color,T.element.style.textShadow=`0 0 4px ${S.color}`,T.element.style.fontSize=window.innerWidth<768?"10px":"12px",T.element.style.padding=window.innerWidth<768?"2px 4px":"4px 6px",T.element.style.whiteSpace="nowrap",S.id==="recovery"&&(T.element.style.fontSize=window.innerWidth<768?"11px":"14px",T.element.style.fontWeight="bold"))})},[ft]),d.useEffect(()=>{!_.current.length||!ht||_.current.forEach((T,E)=>{const S=ht[E];S&&T.element.textContent!==S.text&&(T.element.textContent=S.text,T.element.style.borderColor=S.color,T.element.style.color=S.color,T.element.style.textShadow=`0 0 4px ${S.color}`,T.element.style.fontSize=window.innerWidth<768?"10px":"12px",T.element.style.padding=window.innerWidth<768?"2px 4px":"4px 6px",T.element.style.whiteSpace="nowrap",S.id==="recovery"&&(T.element.style.fontSize=window.innerWidth<768?"11px":"14px",T.element.style.fontWeight="bold"))})},[ht]);const Hr={chest:new ie(0,1.15,.4),head:new ie(0,2.3,.3),leftArm:new ie(-.8,1.3,.2),rightArm:new ie(.8,1.3,.2),leftLeg:new ie(-.6,-.3,.3),rightLeg:new ie(.6,-.3,.3),trunk:new ie(0,.7,.4),heartRate:new ie(0,1.9,.5),ecg:new ie(0,1.15,.5),ecgTooltip:new ie(0,1.7,.5),recovery:new ie(0,2.3,.3),spo2Warning:new ie(0,0,.4)};return d.useEffect(()=>{if(!t.current||!_e)return;const T=()=>t.current?.clientWidth||400,E=()=>t.current?.clientHeight||600,S=new Wr;S.background=new Le(657962),S.fog=new Kr(17,5,15),r.current=S;const O=new Vr(45,T()/E(),.1,1e3);O.position.z=window.innerWidth<768?12:10,O.position.y=.5,O.lookAt(0,0,0),n.current=O;const B=new qr({antialias:!0,alpha:!0});B.setSize(T(),E()),B.setClearColor(657962),B.outputColorSpace="srgb",B.setPixelRatio(window.devicePixelRatio),t.current.appendChild(B.domElement),o.current=B;const Y=new Gr(B);Y.addPass(new Jr(S,O));const Re=new Xr(new Yr(T(),E()),1.8,.4,.85);Re.threshold=.2,Re.strength=.7,Re.radius=.7,Y.addPass(Re),a.current=Y;const X=new Qr;X.setSize(T(),E()),X.domElement.style.position="absolute",X.domElement.style.top="0px",X.domElement.style.pointerEvents="none",t.current.appendChild(X.domElement),c.current=X;const pt=new Zr(4210752,.4);S.add(pt);const He=new en(16777215,.8);He.position.set(1,2,3),S.add(He);const mt=new kt(55551,1.5,10);mt.position.set(0,2,0),S.add(mt);const me=new kt(16711680,0,0);me.decay=2,S.add(me),new tn().load(Fn,re=>{const C=re.scene,Je=window.innerWidth<768?1.8:2.5,Me=window.innerWidth<768?1.2:1.4;C.scale.set(Me,Je,Me),C.position.set(0,window.innerWidth<768?-.3:-.5,0),C.rotation.y=Math.PI,S.add(C),i.current=C;const We=new Ze({color:Bo,transparent:!0,opacity:.3,wireframe:!0});C.traverse(k=>{k instanceof Ie&&(k.name.toLowerCase().includes("eye")?k.material=new rn({color:55551,emissive:55551,emissiveIntensity:2,metalness:.8,roughness:.2,transparent:!0,opacity:.9}):k.material=We)}),me.position.set(0,.8,.4),me.parent=C;const Xe=new nn(.075,32,32),$e=new Ze({color:16711680,transparent:!0,opacity:.8}),z=new Ie(Xe,$e);z.position.set(0,.8,.4),C.add(z),S.userData.heartGlow=z;const Z=new on;Z.position.set(0,1.15,.5);for(let k=-3;k<=3;k+=.5){const we=new Ke(new Dt().setFromPoints([new ie(k,-.1,0),new ie(k,.3,0)]),new Ve({color:3359829,transparent:!0,opacity:.4}));Z.add(we)}C.add(Z),S.userData.ecgGrid=Z;const fe=300,V=new Dt,F=new Float32Array(fe*3);for(let k=0;k<fe;k++){const we=k/(fe-1)*6-3;F[k*3]=we,F[k*3+1]=0,F[k*3+2]=0}V.setAttribute("position",new an(F,3));const he=new Ve({color:16711680,linewidth:3}),ge=new Ke(V,he);ge.position.set(0,1.15,.5),C.add(ge);const ne=new Ve({color:16711680,linewidth:2,transparent:!0,opacity:.7}),ye=new Ke(V.clone(),ne);ye.position.set(0,1.15,.51),C.add(ye);const Ye=new Ve({color:16724787,linewidth:1,transparent:!0,opacity:.5}),Se=new Ke(V.clone(),Ye);Se.position.set(0,1.15,.49),C.add(Se),S.userData.ecgLine=ge;const Oe=[];ft.forEach(k=>{const we=Hr[k.position],be=new sn;be.position.copy(we),C.add(be);const J=document.createElement("div");J.className="font-bold text-xs px-2 py-1 rounded border bg-black/70 text-white pointer-events-none",J.textContent=k.text,J.style.borderColor=k.color,J.style.color=k.color,J.style.textShadow=`0 0 4px ${k.color}`,J.style.whiteSpace="nowrap",J.style.fontSize=window.innerWidth<768?"10px":"12px",J.style.padding=window.innerWidth<768?"2px 4px":"4px 6px",k.id==="recovery"&&(J.style.fontSize=window.innerWidth<768?"11px":"14px",J.style.fontWeight="bold");const Qe=new ln(J);Qe.center.set(.5,.5),be.add(Qe),Oe.push(Qe)}),l.current=Oe,ce(!0)},re=>{},re=>{});const te=new cn(O,B.domElement);te.enableDamping=!0,te.dampingFactor=.1,te.rotateSpeed=window.innerWidth<768?.5:.8,te.zoomSpeed=window.innerWidth<768?.8:1,te.minDistance=window.innerWidth<768?8:10,te.maxDistance=window.innerWidth<768?20:25,te.enablePan=!1,s.current=te;const ar=new un(1,1.2,32),sr=new Ze({color:55551,transparent:!0,opacity:.3,side:dn}),je=new Ie(ar,sr);je.rotation.x=Math.PI/2,je.position.y=-1.6,S.add(je);const gt=()=>{const C=performance.now()/1e3;if(te.update(),i.current){A.current+=.016*2;const z=1+.03*Math.sin(A.current*5);i.current.traverse(Z=>{Z instanceof Ie&&Z.name.toLowerCase().includes("chest")&&Z.scale.set(z,z,z)})}const Je=60/Fr,Me=(70-Ne)/100,We=(Math.random()*2-1)*Me*(nt/100),Xe=Je+We;if(C-$.current>Xe){$.current=C,j.current.push({time:C,wave:zr()}),j.current=j.current.filter(Z=>Z.time>C-60);const z=S.userData.heartGlow;z&&(z.scale.set(1.8,1.8,1.8),z.material.opacity=1,setTimeout(()=>{z.scale.set(1,1,1),z.material.opacity=.8},100)),me.intensity=8,setTimeout(()=>{me.intensity=0},100)}const $e=S.userData.ecgLine;if($e?.geometry){const z=$e.geometry.attributes.position.array,Z=6,fe=300;for(let V=0;V<fe;V++){const F=V/(fe-1)*6-3;z[V*3]=F,z[V*3+1]*=.95}j.current.forEach(V=>{const F=C-V.time;if(F>=0&&F<=Z){const he=Math.round(F/Z*fe);V.wave.forEach((ge,ne)=>{if(ne%3===1){const ye=V.wave[ne-1],Ye=V.wave[ne],Se=he-Math.round(ye*50);Se>=0&&Se<fe&&(z[Se*3+1]=Math.max(z[Se*3+1],Ye))}})}}),$e.geometry.attributes.position.needsUpdate=!0}i.current&&i.current.traverse(z=>{z instanceof Ie&&z.material instanceof Ze&&!z.name.toLowerCase().includes("eye")&&z.material.color.lerpColors(new Le(255),new Le(16711680),(dt-36)/2)}),je.rotation.z+=.005,Y.render(),X.render(S,O),W.current=requestAnimationFrame(gt)};gt();const ir=()=>{if(!t.current)return;const re=T(),C=E();O.aspect=re/C,O.updateProjectionMatrix(),B.setSize(re,C),Y.setSize(re,C),X.setSize(re,C)},yt=new ResizeObserver(ir);return yt.observe(t.current),()=>{W.current&&cancelAnimationFrame(W.current),yt.disconnect(),t.current?.contains(B.domElement)&&t.current.removeChild(B.domElement),c.current?.domElement&&t.current?.contains(c.current.domElement)&&t.current.removeChild(c.current.domElement),a.current?.dispose(),o.current?.dispose(),r.current?.clear()}},[e,_e,ft,dt,w,L]),d.useEffect(()=>{if(!u.current||!_e||!Q||!se)return;const T=()=>u.current?.clientWidth||400,E=()=>u.current?.clientHeight||600,S=new Wr;S.background=new Le(657962),S.fog=new Kr(17,5,15),f.current=S;const O=new Vr(45,T()/E(),.1,1e3);O.position.z=window.innerWidth<768?12:10,O.position.y=.5,O.lookAt(0,0,0),b.current=O;const B=new qr({antialias:!0,alpha:!0});B.setSize(T(),E()),B.setClearColor(657962),B.outputColorSpace="srgb",B.setPixelRatio(window.devicePixelRatio),u.current.appendChild(B.domElement),g.current=B;const Y=new Gr(B);Y.addPass(new Jr(S,O));const Re=new Xr(new Yr(T(),E()),1.8,.4,.85);Re.threshold=.2,Re.strength=.7,Re.radius=.7,Y.addPass(Re),m.current=Y;const X=new Qr;X.setSize(T(),E()),X.domElement.style.position="absolute",X.domElement.style.top="0px",X.domElement.style.pointerEvents="none",u.current.appendChild(X.domElement),v.current=X;const pt=new Zr(4210752,.4);S.add(pt);const He=new en(16777215,.8);He.position.set(1,2,3),S.add(He);const mt=new kt(65416,1.5,10);mt.position.set(0,2,0),S.add(mt);const me=new kt(16711680,0,0);me.decay=2,S.add(me),new tn().load(Fn,re=>{const C=re.scene,Je=window.innerWidth<768?1.8:2.5,Me=window.innerWidth<768?1.2:1.4;C.scale.set(Me,Je,Me),C.position.set(0,window.innerWidth<768?-.3:-.5,0),C.rotation.y=Math.PI,S.add(C),y.current=C;const We=new Ze({color:65416,transparent:!0,opacity:.3,wireframe:!0});C.traverse(k=>{k instanceof Ie&&(k.name.toLowerCase().includes("eye")?k.material=new rn({color:65416,emissive:65416,emissiveIntensity:2,metalness:.8,roughness:.2,transparent:!0,opacity:.9}):k.material=We)}),me.position.set(0,.8,.4),me.parent=C;const Xe=new nn(.075,32,32),$e=new Ze({color:16711680,transparent:!0,opacity:.8}),z=new Ie(Xe,$e);z.position.set(0,.8,.4),C.add(z),S.userData.heartGlow=z;const Z=new on;Z.position.set(0,1.15,.5);for(let k=-3;k<=3;k+=.5){const we=new Ke(new Dt().setFromPoints([new ie(k,-.1,0),new ie(k,.3,0)]),new Ve({color:3359829,transparent:!0,opacity:.4}));Z.add(we)}C.add(Z),S.userData.ecgGrid=Z;const fe=300,V=new Dt,F=new Float32Array(fe*3);for(let k=0;k<fe;k++){const we=k/(fe-1)*6-3;F[k*3]=we,F[k*3+1]=0,F[k*3+2]=0}V.setAttribute("position",new an(F,3));const he=new Ve({color:16711680,linewidth:3}),ge=new Ke(V,he);ge.position.set(0,1.15,.5),C.add(ge);const ne=new Ve({color:16711680,linewidth:2,transparent:!0,opacity:.7}),ye=new Ke(V.clone(),ne);ye.position.set(0,1.15,.51),C.add(ye);const Ye=new Ve({color:16724787,linewidth:1,transparent:!0,opacity:.5}),Se=new Ke(V.clone(),Ye);Se.position.set(0,1.15,.49),C.add(Se),S.userData.ecgLine=ge;const Oe=[];ht.forEach(k=>{const we=Hr[k.position],be=new sn;be.position.copy(we),C.add(be);const J=document.createElement("div");J.className="font-bold text-xs px-2 py-1 rounded border bg-black/70 text-white pointer-events-none",J.textContent=k.text,J.style.borderColor=k.color,J.style.color=k.color,J.style.textShadow=`0 0 4px ${k.color}`,J.style.whiteSpace="nowrap",J.style.fontSize=window.innerWidth<768?"10px":"12px",J.style.padding=window.innerWidth<768?"2px 4px":"4px 6px",k.id==="recovery"&&(J.style.fontSize=window.innerWidth<768?"11px":"14px",J.style.fontWeight="bold");const Qe=new ln(J);Qe.center.set(.5,.5),be.add(Qe),Oe.push(Qe)}),_.current=Oe,xe(!0)},re=>{},re=>{});const te=new cn(O,B.domElement);te.enableDamping=!0,te.dampingFactor=.1,te.rotateSpeed=window.innerWidth<768?.5:.8,te.zoomSpeed=window.innerWidth<768?.8:1,te.minDistance=window.innerWidth<768?8:10,te.maxDistance=window.innerWidth<768?20:25,te.enablePan=!1,x.current=te;const ar=new un(1,1.2,32),sr=new Ze({color:65416,transparent:!0,opacity:.3,side:dn}),je=new Ie(ar,sr);je.rotation.x=Math.PI/2,je.position.y=-1.6,S.add(je);const gt=()=>{const C=performance.now()/1e3;if(te.update(),y.current){A.current+=.016*2;const F=1+.03*Math.sin(A.current*5);y.current.traverse(he=>{he instanceof Ie&&he.name.toLowerCase().includes("chest")&&he.scale.set(F,F,F)})}const Je=se.resting_hr||60,Me=se.hrv_night||60,We=se.training_load_pct||80,Xe=Math.max(10,Me*(1-We/150)),$e=60/Je,z=(70-Xe)/100,Z=(Math.random()*2-1)*z*(We/100),fe=$e+Z;if(C-$.current>fe){$.current=C,j.current.push({time:C,wave:zr()}),j.current=j.current.filter(he=>he.time>C-60);const F=S.userData.heartGlow;F&&(F.scale.set(1.8,1.8,1.8),F.material.opacity=1,setTimeout(()=>{F.scale.set(1,1,1),F.material.opacity=.8},100)),me.intensity=8,setTimeout(()=>{me.intensity=0},100)}const V=S.userData.ecgLine;if(V?.geometry){const F=V.geometry.attributes.position.array,he=6,ge=300;for(let ne=0;ne<ge;ne++){const ye=ne/(ge-1)*6-3;F[ne*3]=ye,F[ne*3+1]*=.95}j.current.forEach(ne=>{const ye=C-ne.time;if(ye>=0&&ye<=he){const Ye=Math.round(ye/he*ge);ne.wave.forEach((Se,Oe)=>{if(Oe%3===1){const k=ne.wave[Oe-1],we=ne.wave[Oe],be=Ye-Math.round(k*50);be>=0&&be<ge&&(F[be*3+1]=Math.max(F[be*3+1],we))}})}}),V.geometry.attributes.position.needsUpdate=!0}je.rotation.z+=.005,Y.render(),X.render(S,O),requestAnimationFrame(gt)};gt();const ir=()=>{if(!u.current)return;const re=T(),C=E();O.aspect=re/C,O.updateProjectionMatrix(),B.setSize(re,C),Y.setSize(re,C),X.setSize(re,C)},yt=new ResizeObserver(ir);return yt.observe(u.current),()=>{yt.disconnect(),u.current?.contains(B.domElement)&&u.current.removeChild(B.domElement),v.current?.domElement&&u.current?.contains(v.current.domElement)&&u.current.removeChild(v.current.domElement),m.current?.dispose(),g.current?.dispose(),f.current?.clear()}},[e,_e,Q,se,ht]),G?h.jsx(Pt,{fallback:h.jsx("div",{className:"text-red-500 p-4",children:"Something went wrong with the 3D twin."}),children:h.jsx("div",{className:"relative w-full h-full bg-indigo-900 flex items-center justify-center min-h-[800px]",children:h.jsxs("div",{className:"text-white text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),h.jsx("p",{children:"Loading athlete data..."})]})})}):qe?h.jsx(Pt,{fallback:h.jsx("div",{className:"text-red-500 p-4",children:"Something went wrong with the 3D twin."}),children:h.jsx("div",{className:"relative w-full h-full bg-indigo-900 flex items-center justify-center min-h-[800px]",children:h.jsxs("div",{className:"text-white text-center",children:[h.jsx("div",{className:"text-red-500 text-4xl mb-4",children:"⚠️"}),h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Failed to Load Data"}),h.jsx("p",{className:"text-gray-300 mb-4",children:qe}),h.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Retry"})]})})}):_e?h.jsx(Pt,{fallback:h.jsx("div",{className:"text-red-500 p-4",children:"Something went wrong with the 3D twin."}),children:h.jsxs("div",{className:"relative w-full h-full bg-indigo-900 flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-center p-4 bg-indigo-800",children:[h.jsx("h2",{className:"text-white text-xl font-bold",children:"Digital Twin Comparison"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:()=>nr("side-by-side"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${ve==="side-by-side"?"bg-blue-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:"Side by Side"}),h.jsx("button",{onClick:()=>nr("current-only"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${ve==="current-only"?"bg-blue-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:"Current"}),h.jsx("button",{onClick:()=>nr("target-only"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${ve==="target-only"?"bg-green-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:"Target"})]})]}),h.jsxs("div",{className:`flex-1 min-h-[800px] ${ve==="side-by-side"?"flex flex-col lg:flex-row":""}`,children:[(ve==="side-by-side"||ve==="current-only")&&h.jsxs("div",{className:`${ve==="side-by-side"?"flex-1":"w-full"} relative bg-indigo-900 p-4`,children:[h.jsxs("div",{className:"text-center mb-4",children:[h.jsx("h3",{className:"text-white text-lg font-semibold",children:"Current State"}),h.jsx("p",{className:"text-gray-300 text-sm",children:"Current biometric and body composition data"})]}),h.jsx("div",{ref:t,className:"w-full h-[600px] lg:h-[700px] rounded-lg overflow-hidden",style:{minHeight:"600px"}})]}),(ve==="side-by-side"||ve==="target-only")&&h.jsxs("div",{className:`${ve==="side-by-side"?"flex-1":"w-full"} relative bg-indigo-900 p-4`,children:[h.jsxs("div",{className:"text-center mb-4",children:[h.jsx("h3",{className:"text-green-400 text-lg font-semibold",children:"Target State"}),h.jsx("p",{className:"text-gray-300 text-sm",children:"Optimal biometric and body composition goals"})]}),h.jsx("div",{ref:u,className:"w-full h-[600px] lg:h-[700px] rounded-lg overflow-hidden",style:{minHeight:"600px"}})]})]}),Q&&se&&ve==="side-by-side"&&h.jsxs("div",{className:"p-4 bg-indigo-800 border-t border-indigo-700",children:[h.jsx("h4",{className:"text-white text-md font-semibold mb-2",children:"Key Improvements Needed:"}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"text-red-400 font-semibold",children:[((w?.bodyFat||0)-(Q?.bodyFat||0)).toFixed(1),"%"]}),h.jsx("div",{className:"text-gray-300",children:"Body Fat Reduction"})]}),h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"text-green-400 font-semibold",children:["+",(Q?.muscleMass||0)-(w?.muscleMass||0)>=0?"+":"",((Q?.muscleMass||0)-(w?.muscleMass||0)).toFixed(1),"kg"]}),h.jsx("div",{className:"text-gray-300",children:"Muscle Gain"})]}),h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"text-blue-400 font-semibold",children:["-",((L?.resting_hr||60)-(se?.resting_hr||60)).toFixed(0)," BPM"]}),h.jsx("div",{className:"text-gray-300",children:"Resting HR"})]}),h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"text-purple-400 font-semibold",children:["+",((se?.hrv_night||60)-(L?.hrv_night||60)).toFixed(0),"ms"]}),h.jsx("div",{className:"text-gray-300",children:"HRV Improvement"})]})]})]})]})}):h.jsx(Pt,{fallback:h.jsx("div",{className:"text-red-500 p-4",children:"Something went wrong with the 3D twin."}),children:h.jsx("div",{className:"relative w-full h-full bg-indigo-900 flex items-center justify-center min-h-[800px]",children:h.jsxs("div",{className:"text-white text-center",children:[h.jsx("div",{className:"text-gray-400 text-4xl mb-4",children:"👤"}),h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Athlete Not Found"}),h.jsx("p",{className:"text-gray-300",children:"No data available for the selected athlete."})]})})})};class ll extends d.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx("svg",{className:"h-8 w-8 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),h.jsx("div",{className:"ml-3",children:h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Something went wrong"})})]}),h.jsx("div",{className:"mb-4",children:h.jsx("p",{className:"text-sm text-gray-600",children:"An unexpected error occurred. Please try refreshing the page."})}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Refresh Page"}),h.jsx("button",{onClick:()=>this.setState({hasError:!1,error:void 0,errorInfo:void 0}),className:"flex-1 bg-gray-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Try Again"})]}),!1]})}):this.props.children}}function cl(e){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}cl(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);const ul=d.lazy(()=>Ee(()=>import("./TeamOverview-8b899696.js"),["assets/TeamOverview-8b899696.js","assets/athleteUtils-dce2dd12.js","assets/vendor-c778fe58.js","assets/weatherUtils-fe320b1d.js","assets/analytics-f7964037.js","assets/three-f2a0a5ce.js"]).then(e=>({default:e.TeamOverview}))),dl=d.lazy(()=>Ee(()=>import("./AthleteProfile-c791a20a.js"),["assets/AthleteProfile-c791a20a.js","assets/vendor-c778fe58.js","assets/analytics-f7964037.js","assets/athleteUtils-dce2dd12.js","assets/ui-663f839f.js","assets/TrainingLoadHeatmap-a4fb2b3f.js","assets/three-f2a0a5ce.js","assets/RecoveryTimeline-57ff2452.js","assets/WeatherImpact-298ff690.js","assets/weatherUtils-fe320b1d.js","assets/PredictiveAnalytics-57bd6b44.js"]).then(e=>({default:e.AthleteProfile}))),fl=d.lazy(()=>Ee(()=>import("./TeamComparisonDashboard-e806f02a.js"),["assets/TeamComparisonDashboard-e806f02a.js","assets/vendor-c778fe58.js","assets/analytics-f7964037.js","assets/ui-663f839f.js","assets/three-f2a0a5ce.js"]).then(e=>({default:e.TeamComparisonDashboard}))),hl=d.lazy(()=>Ee(()=>import("./TrainingLoadHeatmap-a4fb2b3f.js"),["assets/TrainingLoadHeatmap-a4fb2b3f.js","assets/vendor-c778fe58.js","assets/three-f2a0a5ce.js"]).then(e=>({default:e.TrainingLoadHeatmap}))),pl=d.lazy(()=>Ee(()=>import("./RecoveryTimeline-57ff2452.js"),["assets/RecoveryTimeline-57ff2452.js","assets/vendor-c778fe58.js","assets/analytics-f7964037.js","assets/ui-663f839f.js","assets/three-f2a0a5ce.js"]).then(e=>({default:e.RecoveryTimeline}))),ml=d.lazy(()=>Ee(()=>import("./PredictiveAnalytics-57bd6b44.js"),["assets/PredictiveAnalytics-57bd6b44.js","assets/vendor-c778fe58.js","assets/ui-663f839f.js","assets/three-f2a0a5ce.js"]).then(e=>({default:e.PredictiveAnalytics}))),gl=d.lazy(()=>Ee(()=>import("./AdminDashboard-ec60ca41.js"),["assets/AdminDashboard-ec60ca41.js","assets/vendor-c778fe58.js","assets/three-f2a0a5ce.js"]).then(e=>({default:e.AdminDashboard}))),yl=d.lazy(()=>Ee(()=>import("./WeatherImpactTest-3c60bc65.js"),["assets/WeatherImpactTest-3c60bc65.js","assets/vendor-c778fe58.js","assets/WeatherImpact-298ff690.js","assets/weatherUtils-fe320b1d.js","assets/ui-663f839f.js","assets/three-f2a0a5ce.js"]).then(e=>({default:e.WeatherImpactTest}))),wl=d.lazy(()=>Ee(()=>import("./BodyCompositionManagement-2c7fa7a3.js"),["assets/BodyCompositionManagement-2c7fa7a3.js","assets/vendor-c778fe58.js","assets/three-f2a0a5ce.js"]).then(e=>({default:e.BodyCompositionManagement}))),bl=d.lazy(()=>Ee(()=>import("./PharmaCoWatchlist-b530f67c.js"),["assets/PharmaCoWatchlist-b530f67c.js","assets/vendor-c778fe58.js","assets/ui-663f839f.js","assets/three-f2a0a5ce.js"])),xl=()=>h.jsx("div",{className:"flex items-center justify-center h-screen",children:h.jsx("div",{className:"text-white text-2xl",children:"Loading..."})}),_l=({children:e})=>{const{isAuthenticated:t}=jr();return t?h.jsx(h.Fragment,{children:e}):h.jsx(Zn,{to:"/login",replace:!0})},vl=()=>{const[e,t]=d.useState(!1);return h.jsxs("div",{className:"app-container",children:[h.jsx("div",{className:"background-gradient"}),h.jsx("div",{className:"background-rings"}),h.jsx(vs,{isMobileMenuOpen:e,setIsMobileMenuOpen:t}),h.jsx("div",{className:"main-content",children:h.jsx(ll,{children:h.jsx(d.Suspense,{fallback:h.jsx(xl,{}),children:h.jsxs(eo,{children:[h.jsx(ue,{path:"/",element:h.jsx(ul,{})}),h.jsx(ue,{path:"/comparison",element:h.jsx(fl,{})}),h.jsx(ue,{path:"/training-load",element:h.jsx(hl,{})}),h.jsx(ue,{path:"/recovery-timeline",element:h.jsx(pl,{})}),h.jsx(ue,{path:"/predictive",element:h.jsx(ml,{})}),h.jsx(ue,{path:"/user-management",element:h.jsx(gl,{})}),h.jsx(ue,{path:"/weather-test",element:h.jsx(yl,{})}),h.jsx(ue,{path:"/body-composition",element:h.jsx(wl,{})}),h.jsx(ue,{path:"/pharma-watchlist",element:h.jsx(bl,{})}),h.jsx(ue,{path:"/athlete/:id",element:h.jsx(dl,{})}),h.jsx(ue,{path:"/login",element:h.jsx(io,{})}),h.jsx(ue,{path:"*",element:h.jsx(Zn,{to:"/",replace:!0})})]})})})})]})};function Rl(){return h.jsx(us,{children:h.jsxs(eo,{children:[h.jsx(ue,{path:"/login",element:h.jsx(io,{})}),h.jsx(ue,{path:"/*",element:h.jsx(_l,{children:h.jsx(vl,{})})})]})})}const Sl=Hn(document.getElementById("root"));Sl.render(h.jsx(d.StrictMode,{children:h.jsx(xs,{children:h.jsx(Rl,{})})}));export{ql as D,In as a,On as b,Kl as c,il as d,El as e,Rr as f,$n as g,Sr as h,jr as i,h as j,kr as u};
