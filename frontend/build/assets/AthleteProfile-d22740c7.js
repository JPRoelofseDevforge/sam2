import{j as e,b as hl,d as et,g as Ve,a as ul,c as xl,e as gl,u as fl,D as pl}from"./index-436f242b.js";import{r as A}from"./vendor-c778fe58.js";import{g as bl,c as yl,a as jl,b as fe}from"./analytics-f7964037.js";import{c as vl,u as Nl,f as wl,d as _n,e as Al}from"./athleteUtils-be02baea.js";import{R as K,L as ge,X as q,Y as H,T as B,a as Y,b as V,C as bs,c as Z,d as te,B as Wt,S as ma,e as ha,f as ua,P as xa,g as ga,h as fa,i as pa,j as ba,k as ya,l as Bs,m as Sl,A as Ml,n as xe,o as kn,V as Tl,p as Rl,q as Me,H as Dt,G as _l,r as kl,D as Yt,s as Dn,t as Zt,u as Dl,v as Pl,w as Pn,Z as Ln,M as Ll,x as El,W as Cl,y as ys,z as ja,E as va,F as Fl,I as Il,J as Gl,K as Ol,N as En,O as Vl,Q as Hl,U as $l,_ as Kl,$ as Ul}from"./ui-bab03d6d.js";import{T as Wl,n as js,o as Na,p as Bl,q as mt,r as wa,C as Te,s as ve,t as zl,c as Xl,D as Pt,M as ct,u as Ze,v as le,a as zs,w as Gt,V as Ke,I as ql,x as Yl,O as Aa,y as Zl,z as Ql,i as Qt,H as Jl,J as vs,K as Sa,N as Ns,Q as Ma,X as eo,Y as Jt,h as to,e as Ta,m as so,Z as no,B as io,_ as ao,d as $e,$ as ro,L as lo,a0 as oo,a1 as co,g as Lt,P as Ra,a2 as mo,a3 as ho,a4 as uo,a5 as xo,a6 as go,a7 as _a,a8 as fo,a9 as ka,aa as po,ab as bo,ac as yo,ad as jo,ae as vo,af as No,ag as wo,ah as Ao,ai as Cn,aj as Fn,ak as In,al as Gn,am as So,an as Mo,ao as To,S as Ro,F as _o,W as ko,ap as Do,aq as Po,f as Lo,A as Eo,ar as Co}from"./three-83fa84b5.js";import{TrainingLoadHeatmap as Fo}from"./TrainingLoadHeatmap-deff4d45.js";import{RecoveryTimeline as Io}from"./RecoveryTimeline-7746539e.js";import{PredictiveAnalytics as Go}from"./PredictiveAnalytics-32eea203.js";import{W as Oo}from"./WeatherImpact-b155c3c5.js";import"./weatherUtils-fe320b1d.js";const pe=({title:t,value:s,unit:n,icon:i,subtitle:r,trend:l,data:a=[],teamAverage:o,goalValue:c,goalLabel:d="Goal"})=>{const m=s??0,u=l==="up"?"text-green-600":l==="down"?"text-red-600":"text-gray-500",x=[...a].sort((j,S)=>new Date(j.date).getTime()-new Date(S.date).getTime()),f=x.map((j,S)=>({...j,index:S,name:new Date(j.date).toLocaleDateString("en",{month:"short",day:"numeric"})})),g=[...x.map(j=>j.value),m,o,c].filter(Boolean),p=Math.min(...g)*.98,b=Math.max(...g)*1.02,w=(()=>m>=c?"good":m>=c*.85?"warning":"alert")(),N=w==="good"?"bg-green-500":w==="warning"?"bg-yellow-500":"bg-red-500";return e.jsxs("div",{className:"card-enhanced p-5 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-2xl",children:i}),e.jsx("div",{className:`w-3 h-3 rounded-full ${N}`,title:`Status: ${w}`})]}),e.jsxs("div",{className:"flex items-baseline mb-2",children:[e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:m.toFixed(1)}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:n})]}),e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:t}),e.jsx("div",{className:"flex-1 min-h-[70px] mb-3",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(ge,{data:f,margin:{top:4,right:8,left:0,bottom:4},children:[e.jsx(q,{hide:!0,dataKey:"name"}),e.jsx(H,{hide:!0,domain:[p,b]}),e.jsx(B,{content:({active:j,payload:S,label:R})=>{if(j&&S&&S.length){const T=S[0].payload,_=new Date(T.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}),k={"HRV (Night)":"ms","Resting HR":"bpm","Avg Heart Rate":"bpm","SpO‚ÇÇ (Night)":"%","Sleep Duration":"h","Deep Sleep":"%","REM Sleep":"%","Respiratory Rate":"/min","Body Temp":"¬∞C","Training Load":"%"},C=S[0].name||"Metric",L=k[C]||"",P=S[0].value;return e.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[e.jsx("p",{className:"font-medium text-gray-900 mb-1",children:_}),e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsxs("span",{className:"font-medium",children:[C,":"]})," ",P?.toFixed(1)," ",L]})]})}return null}}),c&&e.jsx(Y,{y:c,stroke:"#6c00ff",strokeDasharray:"3 3",label:{value:d,position:"left",fill:"#6c00ff",fontSize:10,offset:5}}),o&&e.jsx(Y,{y:o,stroke:"#38bdf8",strokeDasharray:"4 2",label:{value:"Team Avg",position:"right",fill:"#38bdf8",fontSize:10,offset:5}}),e.jsx(V,{type:"monotone",dataKey:"value",stroke:l==="up"?"#10b981":l==="down"?"#ef4444":"#6b7280",strokeWidth:2,dot:!1,animationDuration:600,isAnimationActive:!0})]})})}),(c&&d||o)&&e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500 mt-1",children:[c&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-0.5 bg-[#6c00ff] mr-1 border-dashed"}),e.jsx("span",{children:d})]}),o&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-0.5 bg-[#38bdf8] mr-1 border-dashed border-0.5"}),e.jsx("span",{children:"Team Avg"})]})]}),r&&e.jsxs("p",{className:`text-xs ${u} flex items-center mt-auto`,children:[l==="up"&&e.jsx("span",{children:"‚Üë"}),l==="down"&&e.jsx("span",{children:"‚Üì"}),l==="neutral"&&e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{className:"ml-1",children:r})]})]})},Vo=({alert:t})=>{const s=()=>{switch(t.type){case"inflammation":case"airway":return"bg-red-50 border-red-200 text-red-800";case"circadian":case"nutrition":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"green":return"bg-green-50 border-green-200 text-green-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},n=()=>{switch(t.type){case"inflammation":return"üî•";case"circadian":return"üåô";case"nutrition":return"ü•ó";case"airway":return"üå¨Ô∏è";case"green":return"‚úÖ";default:return"üìä"}};return e.jsx("div",{className:`card-enhanced p-5 rounded-xl border-l-4 ${s()} mb-4`,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-2xl mr-3 mt-1",children:n()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:t.title}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"font-medium mb-1",children:"Cause:"}),e.jsx("p",{className:"text-sm opacity-90",children:t.cause})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium mb-1",children:"Recommendation:"}),e.jsx("p",{className:"text-sm opacity-90",children:t.rec})]})]})]})})},Ee=t=>new Date(t),On=t=>Ee(t).toLocaleDateString("en",{month:"short",day:"numeric"}),Vn=t=>{const s=((t.hrv_night||0)-40)/30,n=(70-(t.resting_hr||70))/20,i=(t.sleep_duration_h||6)/9,r=((t.spo2_night||95)-90)/10;return Math.max(0,Math.min(100,(s+n+i+r)*25))},Ho=({data:t,bodyCompData:s=[],geneticData:n=[]})=>{if(!t||t.length===0)return e.jsx("div",{className:"text-center py-8 text-gray-600",children:"No biometric data available"});const i=[...t].filter(d=>d.date&&!isNaN(Ee(d.date).getTime())).sort((d,m)=>Ee(d.date).getTime()-Ee(m.date).getTime()).map(d=>({...d,readiness:Vn(d),dateLabel:On(d.date),dayOfWeek:Ee(d.date).getDay()})),r=s&&s.length>0,l=r?[...s].sort((d,m)=>Ee(d.date).getTime()-Ee(m.date).getTime()):[],a={ACTN3:0,PPARGC1A:0,PER3:0,CLOCK:0,BDNF:0,ADRB2:0};n.forEach(d=>{switch(d.gene){case"ACTN3":a[d.gene]=d.genotype==="RR"?1:d.genotype==="RX"?.6:.3;break;case"PPARGC1A":a[d.gene]=d.genotype.includes("Gly")?.9:.4;break;case"PER3":a[d.gene]=d.genotype==="long"?.8:.3;break;case"CLOCK":a[d.gene]=d.genotype==="AA"?.9:d.genotype==="AG"?.6:.3;break;case"BDNF":a[d.gene]=d.genotype==="Val66Val"?.9:d.genotype==="Val/Met"?.6:.3;break;case"ADRB2":a[d.gene]=d.genotype==="Arg16Arg"?.9:d.genotype==="Gly16Gly"?.4:.6;break}});const o=Object.entries(a).map(([d,m])=>({subject:d,A:m,fullMark:1})),c=new Date;return Array.from({length:49},(d,m)=>{const u=new Date(c);u.setDate(c.getDate()-48+m);const x=u.toISOString().split("T")[0],f=i.find(p=>p.date===x),g=f?Math.round(Vn(f)):null;return{date:x,value:g}}),e.jsxs("div",{className:"space-y-12 py-6 px-2",children:[e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üìä Key Performance Metrics"}),e.jsx(K,{width:"100%",height:300,children:e.jsxs(bs,{data:i,margin:{top:10,right:30,left:0,bottom:0},children:[e.jsx(Z,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(q,{dataKey:"dateLabel",stroke:"#6b7280"}),e.jsx(H,{yAxisId:"left",stroke:"#6b7280"}),e.jsx(H,{yAxisId:"right",orientation:"right",stroke:"#6b7280"}),e.jsx(B,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(te,{}),e.jsx(V,{yAxisId:"left",type:"monotone",dataKey:"hrv_night",name:"HRV (ms)",stroke:"#6366f1",strokeWidth:3}),e.jsx(V,{yAxisId:"left",type:"monotone",dataKey:"resting_hr",name:"RHR (bpm)",stroke:"#10b981",strokeWidth:3}),e.jsx(V,{yAxisId:"right",type:"monotone",dataKey:"sleep_duration_h",name:"Sleep (h)",stroke:"#3b82f6",strokeWidth:3}),e.jsx(V,{yAxisId:"left",type:"monotone",dataKey:"spo2_night",name:"SpO‚ÇÇ (%)",stroke:"#f97316",strokeWidth:3}),e.jsx(V,{yAxisId:"right",type:"monotone",dataKey:"training_load_pct",name:"Load (%)",stroke:"#8b5cf6",strokeWidth:3,dot:!1})]})})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üåô Sleep Stage Breakdown"}),e.jsx(K,{width:"100%",height:300,children:e.jsxs(ge,{data:i,children:[e.jsx(Z,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(q,{dataKey:"dateLabel",stroke:"#6b7280"}),e.jsx(H,{domain:[0,100],stroke:"#6b7280"}),e.jsx(B,{formatter:d=>`${d.toFixed(1)}%`,contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(te,{}),e.jsx(V,{type:"monotone",dataKey:"deep_sleep_pct",name:"Deep Sleep",stroke:"#059669",strokeWidth:4,dot:{r:4}}),e.jsx(V,{type:"monotone",dataKey:"rem_sleep_pct",name:"REM Sleep",stroke:"#7c3aed",strokeWidth:4,dot:{r:4}}),e.jsx(V,{type:"monotone",dataKey:"light_sleep_pct",name:"Light Sleep",stroke:"#d97706",strokeWidth:4,strokeDasharray:"5 5",dot:!1})]})})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üîÅ Recovery vs. Training Load"}),e.jsx(K,{width:"100%",height:300,children:e.jsxs(bs,{data:i,children:[e.jsx(Z,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(q,{dataKey:"dateLabel",stroke:"#6b7280",label:{value:"Date",position:"insideBottom",offset:-5}}),e.jsx(H,{yAxisId:"left",stroke:"#6b7280",label:{value:"Training Load (%)",angle:-90,position:"insideLeft"}}),e.jsx(H,{yAxisId:"right",orientation:"right",stroke:"#6b7280",label:{value:"HRV (ms)",angle:90,position:"insideRight"}}),e.jsx(Wt,{yAxisId:"left",dataKey:"training_load_pct",name:"Training Load",fill:"#e74c3c"}),e.jsx(V,{yAxisId:"right",type:"monotone",dataKey:"hrv_night",name:"HRV (Recovery)",stroke:"#2ecc71",strokeWidth:4})]})}),e.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[e.jsx("p",{children:"This chart shows the relationship between training load and recovery (measured by HRV):"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1 mt-2",children:[e.jsx("li",{children:"Higher training loads should ideally be followed by higher HRV values (better recovery)"}),e.jsx("li",{children:"Consistently low HRV despite high training loads may indicate overtraining"}),e.jsx("li",{children:"Optimal performance occurs when training load and recovery are balanced"})]})]})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"üîÑ HRV vs. Resting HR (Recovery State)"}),e.jsx(K,{width:"100%",height:350,children:e.jsxs(ma,{margin:{top:20,right:30,left:0,bottom:0},children:[e.jsx(Z,{}),e.jsx(q,{type:"number",dataKey:"hrv_night",name:"HRV",unit:"ms",domain:[30,70]}),e.jsx(H,{type:"number",dataKey:"resting_hr",name:"RHR",unit:"bpm",reversed:!0,domain:[40,80]}),e.jsx(B,{cursor:{strokeDasharray:"3 3"},content:({active:d,payload:m,label:u})=>{if(d&&m&&m.length){const x=m[0].payload;return e.jsxs("div",{className:"bg-white border border-gray-200 p-3 rounded shadow-sm",children:[e.jsx("p",{className:"font-semibold text-gray-800",children:"Recovery State"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["HRV: ",x.hrv_night," ms"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["RHR: ",x.resting_hr," bpm"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",x.dateLabel]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["SpO2: ",x.spo2_night?`${x.spo2_night}%`:"N/A"]})]})}return null}}),e.jsx(ha,{name:"Recovery State",data:i,fill:"#3498db",shape:"circle"})]})}),e.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[e.jsx("p",{className:"mb-2",children:"This chart shows the relationship between Heart Rate Variability (HRV) and Resting Heart Rate (RHR):"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[e.jsx("li",{children:"Higher HRV (right) indicates better recovery and parasympathetic nervous system activity"}),e.jsx("li",{children:"Lower RHR (top) indicates better cardiovascular fitness and recovery"}),e.jsx("li",{children:"Points in the top-right quadrant represent optimal recovery state"}),e.jsx("li",{children:"Points in the bottom-left quadrant may indicate fatigue or overtraining"})]})]})]}),r&&e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"‚öñÔ∏è Body Composition Over Time"}),e.jsx(K,{width:"100%",height:300,children:e.jsxs(ge,{data:l,children:[e.jsx(Z,{strokeDasharray:"3 3"}),e.jsx(q,{dataKey:"date",tickFormatter:d=>On(d)}),e.jsx(H,{yAxisId:"left",label:{value:"Weight (kg)",angle:-90,position:"insideLeft"}}),e.jsx(H,{yAxisId:"right",orientation:"right",label:{value:"Mass (kg)",angle:90,position:"insideRight"}}),e.jsx(B,{}),e.jsx(te,{}),e.jsx(V,{yAxisId:"left",type:"monotone",dataKey:"weight_kg",name:"Weight",stroke:"#3498db",strokeWidth:3}),e.jsx(V,{yAxisId:"right",type:"monotone",dataKey:"muscle_mass_kg",name:"Muscle Mass",stroke:"#2ecc71",strokeWidth:3}),e.jsx(V,{yAxisId:"right",type:"monotone",dataKey:"fat_mass_kg",name:"Fat Mass",stroke:"#e67e22",strokeWidth:3,strokeDasharray:"5 5"})]})})]}),n.length>0&&e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"üß¨ Genetic Predisposition Profile"}),e.jsx(K,{width:"100%",height:400,children:e.jsxs(ua,{outerRadius:"80%",data:o,children:[e.jsx(xa,{}),e.jsx(ga,{dataKey:"subject"}),e.jsx(fa,{angle:30,domain:[0,1],tickFormatter:d=>d.toFixed(1)}),e.jsx(pa,{name:"Athlete",dataKey:"A",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6}),e.jsx(B,{formatter:d=>[`${(d*100).toFixed(0)}%`,"Predisposition"]})]})})]})]})},$o=({loading:t,error:s,hasData:n})=>t?e.jsxs("div",{className:"space-y-8 text-gray-900",children:[e.jsx("h1",{className:"text-3xl font-bold text-center text-white mb-8",children:"‚öñÔ∏è Body Composition Analysis"}),e.jsxs("div",{className:"text-center py-12 card-enhanced rounded-xl",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading body composition data..."})]})]}):s?e.jsxs("div",{className:"space-y-8 text-gray-900",children:[e.jsx("h1",{className:"text-3xl font-bold text-center text-white mb-8",children:"‚öñÔ∏è Body Composition Analysis"}),e.jsxs("div",{className:"text-center py-12 card-enhanced rounded-xl",children:[e.jsx("p",{className:"text-red-600 mb-2",children:"‚ö†Ô∏è Error loading data"}),e.jsx("p",{className:"text-sm text-gray-500",children:s})]})]}):n?e.jsx("div",{className:"space-y-8 text-gray-900",children:e.jsx("h1",{className:"text-3xl font-bold text-center text-white mb-8",children:"‚öñÔ∏è Body Composition Analysis"})}):e.jsxs("div",{className:"space-y-8 text-gray-900",children:[e.jsx("h1",{className:"text-3xl font-bold text-center text-white mb-8",children:"‚öñÔ∏è Body Composition Analysis"}),e.jsxs("div",{className:"text-center py-12 card-enhanced rounded-xl",children:[e.jsx("p",{className:"text-gray-600 mb-2",children:"‚öñÔ∏è No body composition data available"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Please ensure body composition measurements are recorded"})]})]}),v=t=>typeof t=="number"&&!isNaN(t)?t:0,Ko=({athleteBodyComp:t})=>{const s=parseFloat(v(t.bodyFat).toFixed(1)),n=parseFloat((v(t.muscleMass)/v(t.weight)*100).toFixed(1)),i=parseFloat((v(t.muscleMass+t.boneDensity)/v(t.weight)*100-v(t.bodyFat)).toFixed(1)),r=parseFloat((v(t.muscleMass)*.2/v(t.weight)*100).toFixed(1)),l=15,a=s+n+i+r+l,o=s/a*100,c=n/a*100,d=i/a*100,m=r/a*100,u=l/a*100,x=[{name:"Fat Mass",value:o,weight:`${(v(t.weight)*v(t.bodyFat)/100).toFixed(1)}kg`},{name:"Muscle Mass",value:c,weight:`${v(t.muscleMass).toFixed(1)}kg`},{name:"Water Weight",value:d,weight:`${v(t.muscleMass+t.boneDensity).toFixed(1)}kg`},{name:"Protein Mass",value:m,weight:`${(v(t.muscleMass)*.2).toFixed(1)}kg`},{name:"Bone Mass",value:u,weight:`${(v(t.weight)*.15).toFixed(1)}kg`}],f=["#f97316","#10b981","#3b82f6","#8b5cf6","#f59e0b"];return e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"üìà Body Composition Breakdown"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(K,{width:"100%",height:300,children:e.jsxs(ba,{children:[e.jsx(ya,{data:x,cx:"50%",cy:"50%",labelLine:!0,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:g,percent:p})=>`${g}: ${(p?p*100:0).toFixed(0)}%`,children:x.map((g,p)=>e.jsx(Bs,{fill:f[p%f.length]},`cell-${p}`))}),e.jsx(B,{formatter:(g,p,b)=>[`${Number(g).toFixed(1)}% (${b.payload.weight})`,p],contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(te,{})]})})})]})},Uo=({athleteBodyComp:t})=>e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"üìà Muscle Fat Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-600 mb-4",children:"‚öñÔ∏è Weight Analysis"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Current:"}),e.jsxs("span",{className:"font-bold text-purple-600",children:[v(t.weight).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Target Weight:"}),e.jsx("span",{className:"font-bold text-green-600",children:t.targetWeight?v(t.targetWeight).toFixed(1)+" kg":"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Healthy Range:"}),e.jsx("span",{className:"font-bold text-blue-600",children:t.weightRangeMin&&t.weightRangeMax?`${v(t.weightRangeMin)}-${v(t.weightRangeMax)} kg`:"N/A"})]})]}),e.jsxs("div",{className:"mt-4 relative",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-purple-500 transition-all duration-300",style:{width:`${t.weightRangeMin&&t.weightRangeMax&&t.weightRangeMax!==t.weightRangeMin?Math.min(100,Math.max(0,(v(t.weight)-v(t.weightRangeMin))/(v(t.weightRangeMax)-v(t.weightRangeMin))*100)):50}%`}})}),e.jsx("div",{className:"absolute top-0 w-0 h-0",style:{left:`${t.weightRangeMin&&t.weightRangeMax&&t.weightRangeMax!==t.weightRangeMin?Math.min(100,Math.max(0,(v(t.weight)-v(t.weightRangeMin))/(v(t.weightRangeMax)-v(t.weightRangeMin))*100)):50}%`,transform:"translateX(-50%)"},children:e.jsx("div",{className:"w-0 h-0 border-l-2 border-r-2 border-b-3 border-l-transparent border-r-transparent border-b-purple-600 mx-auto"})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:t.weightRangeMin?`${v(t.weightRangeMin)}kg`:"N/A"}),e.jsx("span",{children:t.weightRangeMax?`${v(t.weightRangeMax)}kg`:"N/A"})]})]}),e.jsxs("div",{className:"mt-3 p-2 bg-purple-50 rounded text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Status"}),e.jsx("div",{className:`text-sm font-semibold ${t.weightRangeMin&&t.weightRangeMax&&t.weight>=t.weightRangeMin&&t.weight<=t.weightRangeMax?"text-green-600":"text-orange-600"}`,children:t.weightRangeMin&&t.weightRangeMax&&t.weight>=t.weightRangeMin&&t.weight<=t.weightRangeMax?"Optimal":"Needs Adjustment"})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-600 mb-4",children:"üí™ Skeletal Muscle Analysis"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Current:"}),e.jsxs("span",{className:"font-bold text-green-600",children:[v(t.muscleMass).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Standard Range:"}),e.jsx("span",{className:"font-bold text-blue-600",children:"30.2-37.0 kg"})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Muscle Mass:"}),e.jsxs("span",{className:"font-bold text-green-600",children:[v(t.muscleMass).toFixed(1)," kg"]})]})]}),e.jsxs("div",{className:"mt-4 relative",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 transition-all duration-300",style:{width:`${Math.min(100,(v(t.muscleMass)-30.2)/(37-30.2)*100)}%`}})}),e.jsx("div",{className:"absolute top-0 w-0 h-0",style:{left:`${Math.min(100,Math.max(0,(v(t.muscleMass)-30.2)/(37-30.2)*100))}%`,transform:"translateX(-50%)"},children:e.jsx("div",{className:"w-0 h-0 border-l-2 border-r-2 border-b-3 border-l-transparent border-r-transparent border-b-green-600 mx-auto"})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"30.2kg"}),e.jsx("span",{children:"37.0kg"})]})]}),e.jsxs("div",{className:"mt-3 p-2 bg-green-50 rounded text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Muscle Status"}),e.jsx("div",{className:`text-sm font-semibold ${t.muscleMass>=30.2&&t.muscleMass<=37?"text-green-600":"text-orange-600"}`,children:t.muscleMass>=30.2&&t.muscleMass<=37?"Excellent":"Needs Work"})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-600 mb-4",children:"üî• Fat Mass Analysis"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Current:"}),e.jsxs("span",{className:"font-bold text-orange-600",children:[(v(t.weight)*v(t.bodyFat)/100).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Body Fat %:"}),e.jsxs("span",{className:"font-bold text-orange-600",children:[v(t.bodyFat).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Healthy Range:"}),e.jsx("span",{className:"font-bold text-blue-600",children:"8-20%"})]})]}),e.jsxs("div",{className:"mt-4 relative",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-orange-500 transition-all duration-300",style:{width:`${Math.min(100,v(t.bodyFat)/20*100)}%`}})}),e.jsx("div",{className:"absolute top-0 w-0 h-0",style:{left:`${Math.min(100,Math.max(0,v(t.bodyFat)/20*100))}%`,transform:"translateX(-50%)"},children:e.jsx("div",{className:"w-0 h-0 border-l-2 border-r-2 border-b-3 border-l-transparent border-r-transparent border-b-orange-600 mx-auto"})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"8%"}),e.jsx("span",{children:"20%"})]})]}),e.jsxs("div",{className:"mt-3 p-2 bg-orange-50 rounded text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Fat Status"}),e.jsx("div",{className:`text-sm font-semibold ${t.bodyFat>=8&&t.bodyFat<=20?"text-green-600":t.bodyFat<8?"text-blue-600":"text-red-600"}`,children:t.bodyFat>=8&&t.bodyFat<=20?"Healthy":t.bodyFat<8?"Low":"High"})]})]})]})]}),Wo=({athleteBodyComp:t})=>e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"‚öñÔ∏è Obesity Analysis"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-700 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üìä"}),"BMI Analysis"]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex mb-2 relative",children:[e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-1 bg-blue-200"}),e.jsx("div",{className:"flex-1 bg-green-200"}),e.jsx("div",{className:"flex-1 bg-yellow-200"}),e.jsx("div",{className:"flex-1 bg-orange-200"}),e.jsx("div",{className:"flex-1 bg-red-200"})]}),e.jsxs("div",{className:"relative w-full flex",children:[e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-blue-800",children:"Underweight"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-green-800",children:"Normal"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-yellow-800",children:"Overweight"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-orange-800",children:"Obese"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-red-800",children:"Severely Obese"})]}),e.jsxs("div",{className:"absolute top-0 w-0 h-0",style:{left:`${Math.min(100,Math.max(0,(v(t.bmi)-0)/40*100))}%`,transform:"translateX(-50%)"},children:[e.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-b-4 border-l-transparent border-r-transparent border-b-blue-600 mx-auto"}),e.jsx("div",{className:"w-1 h-8 bg-blue-600 mx-auto"})]})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-2",children:[e.jsx("span",{children:"0"}),e.jsx("span",{children:"18.5"}),e.jsx("span",{children:"25"}),e.jsx("span",{children:"30"}),e.jsx("span",{children:"35"}),e.jsx("span",{children:"40+"})]})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Your BMI"}),e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:v(t.bmi).toFixed(1)}),e.jsx("div",{className:"text-sm font-medium text-gray-700",children:v(t.bmi)<18.5?"Underweight":v(t.bmi)<25?"Normal Weight":v(t.bmi)<30?"Overweight":v(t.bmi)<35?"Obese":"Severely Obese"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-purple-700 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üî•"}),"Body Fat Analysis"]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex mb-2 relative",children:[e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-1 bg-blue-200"}),e.jsx("div",{className:"flex-1 bg-green-200"}),e.jsx("div",{className:"flex-1 bg-yellow-200"}),e.jsx("div",{className:"flex-1 bg-orange-200"}),e.jsx("div",{className:"flex-1 bg-red-200"})]}),e.jsxs("div",{className:"relative w-full flex",children:[e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-blue-800",children:"Essential"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-green-800",children:"Athletic"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-yellow-800",children:"Average"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-orange-800",children:"High"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-red-800",children:"Obese"})]}),e.jsxs("div",{className:"absolute top-0 w-0 h-0",style:{left:`${Math.min(100,Math.max(0,v(t.bodyFat)/40*100))}%`,transform:"translateX(-50%)"},children:[e.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-b-4 border-l-transparent border-r-transparent border-b-purple-600 mx-auto"}),e.jsx("div",{className:"w-1 h-8 bg-purple-600 mx-auto"})]})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-2",children:[e.jsx("span",{children:"0%"}),e.jsx("span",{children:"6%"}),e.jsx("span",{children:"14%"}),e.jsx("span",{children:"24%"}),e.jsx("span",{children:"32%"}),e.jsx("span",{children:"40%+"})]})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Your Body Fat"}),e.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-1",children:[v(t.bodyFat).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm font-medium text-gray-700",children:v(t.bodyFat)<6?"Essential Fat":v(t.bodyFat)<14?"Athletic":v(t.bodyFat)<24?"Average":v(t.bodyFat)<32?"High":"Obese"})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"üí° Health Insights"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full mt-1 ${v(t.bmi)<18.5?"bg-blue-500":v(t.bmi)<25?"bg-green-500":v(t.bmi)<30?"bg-yellow-500":"bg-red-500"}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"BMI Status"}),e.jsx("div",{className:"text-gray-600",children:v(t.bmi)<18.5?"Consider gaining weight for optimal health":v(t.bmi)<25?"Excellent BMI range for health":v(t.bmi)<30?"Consider weight management":"Focus on weight reduction for better health"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full mt-1 ${v(t.bodyFat)<6?"bg-blue-500":v(t.bodyFat)<14?"bg-green-500":v(t.bodyFat)<24?"bg-yellow-500":"bg-red-500"}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Body Fat Status"}),e.jsx("div",{className:"text-gray-600",children:v(t.bodyFat)<6?"Essential fat level - monitor closely":v(t.bodyFat)<14?"Optimal for athletic performance":v(t.bodyFat)<24?"Average range - room for improvement":"Consider fat reduction strategies"})]})]})]})]})]})]}),Bo=({athleteBodyComp:t})=>e.jsxs("div",{className:"card-enhanced p-6 mt-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"üìä Body Composition Metrics"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Measurement (kg)"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Proportion of weight (%)"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Evaluation"})]})}),e.jsx("tbody",{children:[{label:"Weight",value:`${v(t.weight)} (${v(t.weightRangeMin)}-${v(t.weightRangeMax)})`,percent:"100.0",eval:"Standard"},{label:"Fat mass",value:`${(v(t.weight)*v(t.bodyFat)/100).toFixed(1)} (${(v(t.weightRangeMin)*8/100).toFixed(1)}-${(v(t.weightRangeMax)*20/100).toFixed(1)})`,percent:v(t.bodyFat).toFixed(1),eval:"Standard"},{label:"Muscle mass",value:`${v(t.muscleMass).toFixed(1)} (${(v(t.weightRangeMin)*30.2/100).toFixed(1)}-${(v(t.weightRangeMax)*37/100).toFixed(1)})`,percent:(v(t.muscleMass)/v(t.weight)*100).toFixed(1),eval:"Standard"},{label:"Skeletal muscle",value:`${v(t.muscleMass).toFixed(1)} (30.2-37.0)`,percent:(v(t.muscleMass)/v(t.weight)*100).toFixed(1),eval:"Standard"},{label:"Water weight",value:`${v(t.muscleMass+t.boneDensity).toFixed(1)} (37.7-47.0)`,percent:(v(t.muscleMass+t.boneDensity)/v(t.weight)*100-v(t.bodyFat)).toFixed(1),eval:"Standard"},{label:"Protein mass",value:`${(v(t.muscleMass)*.2).toFixed(1)} (10.3-12.8)`,percent:(v(t.muscleMass)*.2/v(t.weight)*100).toFixed(1),eval:"Standard"},{label:"Bone Mass",value:`${(v(t.weight)*.15).toFixed(1)} (3.4-4.3)`,percent:"15.0",eval:"Standard"}].map((s,n)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2 font-semibold bg-gray-50",children:s.label}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:s.value}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:s.percent}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:s.eval})]},n))})]})})]}),zo=({athleteBodyComp:t})=>e.jsxs("div",{className:"card-enhanced p-6 mt-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"üèãÔ∏è Body Type Assessment"}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 p-6 rounded-lg",children:[e.jsxs("div",{className:"mb-4 text-center",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Your Current Position"}),e.jsxs("div",{className:"text-lg font-semibold text-indigo-700",children:["BMI: ",v(t.bmi).toFixed(1)," | Body Fat: ",v(t.bodyFat).toFixed(1),"%"]})]}),e.jsxs("div",{className:"relative bg-white rounded-lg p-4 shadow-sm",children:[e.jsxs("div",{className:"relative w-full h-96 border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 grid grid-cols-3 grid-rows-3",children:[e.jsx("div",{className:"bg-gray-100 border-r border-b border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Too thin"})}),e.jsx("div",{className:"bg-gray-100 border-r border-b border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Thin"})}),e.jsx("div",{className:"bg-gray-100 border-b border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Invisible fat"})}),e.jsx("div",{className:"bg-gray-100 border-r border-b border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Muscular slim"})}),e.jsxs("div",{className:"bg-teal-100 border-r border-b border-gray-200 flex items-center justify-center relative",children:[e.jsx("span",{className:"text-xs font-semibold text-teal-800 text-center",children:"Fit"}),e.jsx("div",{className:"absolute inset-0 border-2 border-teal-300 rounded-sm"})]}),e.jsx("div",{className:"bg-gray-100 border-b border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Slightly fat"})}),e.jsx("div",{className:"bg-gray-100 border-r border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Athletes"})}),e.jsx("div",{className:"bg-gray-100 border-r border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Muscle"})}),e.jsx("div",{className:"bg-gray-100 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Overweight"})})]}),(()=>{const s=v(t.bmi),n=v(t.bodyFat),i=Math.min(100,Math.max(0,n/30*100)),r=Math.min(100,Math.max(0,100-(s-15)/15*100));return e.jsx("div",{className:"absolute w-4 h-4 bg-red-500 rounded-full border-2 border-white shadow-lg z-10",style:{left:`${i}%`,top:`${r}%`,transform:"translate(-50%, -50%)"},children:e.jsx("div",{className:"absolute inset-0 bg-red-500 rounded-full animate-pulse"})})})()]}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-600",children:[e.jsx("span",{children:"Body Fat Rate (%)"}),e.jsx("span",{children:"BMI (kg/m¬≤)"})]}),e.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-500",children:[e.jsx("span",{children:"0"}),e.jsx("span",{children:"10"}),e.jsx("span",{children:"20"}),e.jsx("span",{children:"30"})]}),e.jsxs("div",{className:"absolute right-2 top-4 bottom-4 flex flex-col justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"30"}),e.jsx("span",{children:"25"}),e.jsx("span",{children:"20"}),e.jsx("span",{children:"15"})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-2",children:"üìç Your Position"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("span",{className:"text-gray-700",children:"Current BMI & Body Fat position"})]}),e.jsx("div",{className:"mt-2 text-xs text-gray-600",children:'üí° The highlighted "Fit" region represents the optimal balance of BMI and body fat for health and fitness.'})]})]})]}),Xo=({athleteBodyComp:t})=>{const s=v(t.bodyFat)/100*v(t.weight),n=v(t.muscleMass),i=s*.025,r=s*.5,l=s*.225,a=n*.05,o=n*.4,c=n*.25,d=(u,x)=>{const f=v(u);return x===0?"0.0":(f/x*100).toFixed(1)},m=(u,x)=>{const g={arm:{min:80,max:115},trunk:{min:90,max:110},leg:{min:90,max:110}}[x];return u>=g.min&&u<=g.max?"text-green-600 bg-green-100":"text-yellow-600 bg-yellow-100"};return e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"üîç Segmental Analysis"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-center text-gray-900 mb-6",children:"Body Composition Distribution"}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative inline-block",style:{padding:"40px"},children:[e.jsx("img",{src:"/humanmodel.png",alt:"Human Body Model",className:"max-w-full h-auto drop-shadow-lg",style:{maxHeight:"400px"}}),e.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{top:"-60px",left:"-60px",width:"calc(100% + 120px)",height:"calc(100% + 120px)"},viewBox:"0 0 120 120",preserveAspectRatio:"none",children:[e.jsx("line",{x1:"25",y1:"30",x2:"35",y2:"35",stroke:"#f97316",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"95",y1:"30",x2:"85",y2:"35",stroke:"#f97316",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"60",y1:"25",x2:"60",y2:"40",stroke:"#f97316",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"20",y1:"45",x2:"30",y2:"50",stroke:"#10b981",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"100",y1:"45",x2:"90",y2:"50",stroke:"#10b981",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"60",y1:"55",x2:"60",y2:"65",stroke:"#10b981",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"30",y1:"95",x2:"40",y2:"85",stroke:"#f97316",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"90",y1:"95",x2:"80",y2:"85",stroke:"#f97316",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"35",y1:"85",x2:"45",y2:"75",stroke:"#10b981",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"85",y1:"85",x2:"75",y2:"75",stroke:"#10b981",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"40",y1:"105",x2:"50",y2:"95",stroke:"#10b981",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"80",y1:"105",x2:"70",y2:"95",stroke:"#10b981",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("defs",{children:e.jsx("marker",{id:"arrowhead",markerWidth:"3",markerHeight:"2",refX:"2",refY:"1",orient:"auto",children:e.jsx("polygon",{points:"0 0, 3 1, 0 2",fill:"#666"})})}),e.jsxs("text",{x:"22",y:"28","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Right Arm Fat: ",v(t.ArmMassRightFatKg).toFixed(1),"kg"]}),e.jsxs("text",{x:"98",y:"28","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Left Arm Fat: ",v(t.ArmMassLeftFatKg).toFixed(1),"kg"]}),e.jsxs("text",{x:"57",y:"23","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Trunk Fat: ",v(t.TrunkMassFatKg).toFixed(1),"kg"]}),e.jsxs("text",{x:"17",y:"43","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Right Arm Muscle: ",t.armMassRightKg?v(t.armMassRightKg).toFixed(1):"N/A","kg"]}),e.jsxs("text",{x:"103",y:"43","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Left Arm Muscle: ",t.armMassLeftKg?v(t.armMassLeftKg).toFixed(1):"N/A","kg"]}),e.jsxs("text",{x:"57",y:"53","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Trunk Muscle: ",t.trunkMassKg?v(t.trunkMassKg).toFixed(1):"N/A","kg"]}),e.jsxs("text",{x:"27",y:"97","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Right Leg Fat: ",v(t.LegMassRightFatKg).toFixed(1),"kg"]}),e.jsxs("text",{x:"93",y:"97","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Left Leg Fat: ",v(t.LegMassLeftFatKg).toFixed(1),"kg"]}),e.jsxs("text",{x:"32",y:"87","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Right Leg Muscle: ",t.legMassRightKg?v(t.legMassRightKg).toFixed(1):"N/A","kg"]}),e.jsxs("text",{x:"88",y:"87","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Left Leg Muscle: ",t.legMassLeftKg?v(t.legMassLeftKg).toFixed(1):"N/A","kg"]})]})]})}),e.jsxs("div",{className:"flex justify-center mt-4 space-x-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Fat Mass"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-green-500 rounded mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Muscle Mass"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-600 mb-4",children:"Fat Mass Distribution"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Right Arm"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[t.ArmMassRightFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(d(t.ArmMassRightFatKg,i)),"arm")} px-2 py-1 rounded mt-1`,children:[d(t.ArmMassRightFatKg,i),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Left Arm"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[t.ArmMassLeftFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(d(t.ArmMassLeftFatKg,i)),"arm")} px-2 py-1 rounded mt-1`,children:[d(t.ArmMassLeftFatKg,i),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Right Leg"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[t.LegMassRightFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(d(t.LegMassRightFatKg,l)),"leg")} px-2 py-1 rounded mt-1`,children:[d(t.LegMassRightFatKg,l),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Left Leg"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[t.LegMassLeftFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(d(t.LegMassLeftFatKg,l)),"leg")} px-2 py-1 rounded mt-1`,children:[d(t.LegMassLeftFatKg,l),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Trunk"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[t.TrunkMassFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(d(t.TrunkMassFatKg,r)),"trunk")} px-2 py-1 rounded mt-1`,children:[d(t.TrunkMassFatKg,r),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Right Leg"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[t.LegMassRightFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(d(t.LegMassRightFatKg,l)),"leg")} px-2 py-1 rounded mt-1`,children:[d(t.LegMassRightFatKg,l),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Left Leg"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[t.LegMassLeftFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(d(t.LegMassLeftFatKg,l)),"leg")} px-2 py-1 rounded mt-1`,children:[d(t.LegMassLeftFatKg,l),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Trunk"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[t.TrunkMassFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(d(t.TrunkMassFatKg,r)),"trunk")} px-2 py-1 rounded mt-1`,children:[d(t.TrunkMassFatKg,r),"% Standard"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-green-600 mb-4",children:"Muscle Mass Distribution"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Trunk"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:[t.trunkMassKg?v(t.trunkMassKg).toFixed(1):"N/A","kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(d(t.trunkMassKg,o)),"trunk")} px-2 py-1 rounded mt-1`,children:[d(t.trunkMassKg,o),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Right Arm"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:[t.armMassRightKg?v(t.armMassRightKg).toFixed(1):"N/A","kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(d(t.armMassRightKg,a)),"arm")} px-2 py-1 rounded mt-1`,children:[d(t.armMassRightKg,a),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Left Arm"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:[t.armMassLeftKg?v(t.armMassLeftKg).toFixed(1):"N/A","kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(d(t.armMassLeftKg,a)),"arm")} px-2 py-1 rounded mt-1`,children:[d(t.armMassLeftKg,a),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Right Leg"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:[t.legMassRightKg?v(t.legMassRightKg).toFixed(1):"N/A","kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(d(t.legMassRightKg,c)),"leg")} px-2 py-1 rounded mt-1`,children:[d(t.legMassRightKg,c),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Left Leg"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:[t.legMassLeftKg?v(t.legMassLeftKg).toFixed(1):"N/A","kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(d(t.legMassLeftKg,c)),"leg")} px-2 py-1 rounded mt-1`,children:[d(t.legMassLeftKg,c),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Right Leg"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:[t.legMassRightKg?v(t.legMassRightKg).toFixed(1):"N/A","kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(d(t.legMassRightKg,c)),"leg")} px-2 py-1 rounded mt-1`,children:[d(t.legMassRightKg,c),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Left Leg"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:[t.legMassLeftKg?v(t.legMassLeftKg).toFixed(1):"N/A","kg"]}),e.jsxs("div",{className:`text-xs ${m(parseFloat(d(t.legMassLeftKg,c)),"leg")} px-2 py-1 rounded mt-1`,children:[d(t.legMassLeftKg,c),"% Standard"]})]})]})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg text-sm text-gray-600",children:[e.jsx("strong",{children:"Note:"})," Standard range: 80%-160% ‚Ä¢ Segmental fat analysis is an inferred value ‚Ä¢ Left/right upper limbs (80%-115%), Trunk/lower limbs (90%-110%)"]})]})},qo=({athleteBodyComp:t})=>e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6 text-center",children:"üèÜ Body Score Analysis"}),(()=>{const s=Math.max(0,Math.min(25,25-Math.abs(v(t.bmi)-22)*2)),n=Math.max(0,Math.min(25,25-Math.abs(v(t.bodyFat)-15)*1.5)),i=Math.max(0,Math.min(25,(v(t.muscleMass)-30.2)/(37-30.2)*25)),r=Math.max(0,Math.min(15,(t.muscleMass-30.2)/(37-30.2)*15)),l=Math.max(0,Math.min(10,10-v(t.visceralFatGrade)*.1)),a=Math.round(s+n+i+r+l);return e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center shadow-lg",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx("div",{className:"text-2xl font-bold",children:a}),e.jsx("div",{className:"text-sm",children:"Points"})]})}),e.jsx("div",{className:"absolute inset-0 w-32 h-32 rounded-full border-4 border-green-200",children:e.jsx("div",{className:"absolute top-0 left-1/2 w-1/2 h-1/2 border-4 border-green-500 rounded-full transform -translate-x-1/2 origin-bottom",style:{transform:`rotate(${Math.min(180,a/100*180)}deg)`}})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-lg font-semibold text-green-600",children:a>=80?"Excellent":a>=60?"Good":a>=40?"Fair":"Needs Improvement"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Out of 100 possible points"})]})]})})(),(()=>{const s=Math.max(0,Math.min(25,25-Math.abs(v(t.bmi)-22)*2)),n=Math.max(0,Math.min(25,25-Math.abs(v(t.bodyFat)-15)*1.5)),i=Math.max(0,Math.min(25,(v(t.muscleMass)-30.2)/(37-30.2)*25)),r=Math.max(0,Math.min(15,(t.muscleMass-30.2)/(37-30.2)*15)),l=Math.max(0,Math.min(10,10-v(t.visceralFatGrade)*.1)),a=Math.round(s+n+i+r+l);return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"üìä Score Components"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"BMI Score"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[Math.round(s),"/25"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Body Fat Score"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[Math.round(n),"/25"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Muscle Mass Score"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[Math.round(i),"/25"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Skeletal Muscle Score"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[Math.round(r),"/15"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Visceral Fat Score"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[Math.round(l),"/10"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-3",children:"üéØ Score Interpretation"}),e.jsxs("div",{className:"space-y-3 text-sm text-green-700",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Overall Health:"})," Your score indicates ",a>=80?"excellent":a>=60?"good":"fair"," body composition"]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Muscle Quality:"})," ",i>=20?"High muscle quality detected":"Room for muscle development"]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Body Balance:"})," ",r>=10?"Excellent symmetry":"Good overall balance"]})]})]})]})]})})(),(()=>{const s=Math.max(0,Math.min(25,25-Math.abs(v(t.bmi)-22)*2)),n=Math.max(0,Math.min(25,25-Math.abs(v(t.bodyFat)-15)*1.5)),i=Math.max(0,Math.min(25,(v(t.muscleMass)-30.2)/(37-30.2)*25)),r=Math.max(0,Math.min(15,(t.muscleMass-30.2)/(37-30.2)*15)),l=Math.max(0,Math.min(10,10-v(t.visceralFatGrade)*.1)),a=Math.round(s+n+i+r+l),o=Math.max(0,Math.min(25,25-Math.abs(22-22)*2)),c=Math.max(0,Math.min(25,25-Math.abs(15-15)*1.5)),d=Math.max(0,Math.min(25,(37-30.2)/(37-30.2)*25)),m=Math.max(0,Math.min(15,(37-30.2)/(37-30.2)*15)),u=Math.max(0,Math.min(10,10-1*.1)),x=Math.round(o+c+d+m+u);return e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-indigo-800 mb-4 text-center",children:"üìà Score Comparison"}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:a}),e.jsx("div",{className:"text-sm text-indigo-600",children:"Your Score"})]}),e.jsx("div",{className:"w-16 h-1 bg-gray-300"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:x}),e.jsx("div",{className:"text-sm text-green-600",children:"Target Score"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-2",children:e.jsx("div",{className:"bg-indigo-500 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,a/x*100)}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[e.jsx("span",{children:"0"}),e.jsx("span",{children:Math.round(x/2)}),e.jsx("span",{children:x})]})]})})(),e.jsx("div",{className:"mt-6 p-3 bg-gray-50 rounded-lg text-center",children:e.jsxs("p",{className:"text-xs text-gray-600",children:["üí° ",e.jsx("strong",{children:"Note:"})," The total score reflects the evaluated value of body composition. A muscular person may get more than 100 points. This score is for informational purposes only."]})})]}),Yo=({athleteBodyComp:t})=>e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6 text-center",children:"üéØ Weight Control Goals"}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Current Weight"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[v(t.weight).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Target Weight"}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[v(t.targetWeight).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Difference"}),e.jsxs("div",{className:`text-2xl font-bold ${v(t.weight)-v(t.targetWeight)>=0?"text-orange-600":"text-red-600"}`,children:[v(t.weight)-v(t.targetWeight)>=0?"+":"",(v(t.weight)-v(t.targetWeight)).toFixed(1)," kg"]})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"üìä Progress to Target Weight"}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 p-6 rounded-lg shadow-sm border-2 border-blue-200",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm font-medium text-gray-700 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[v(t.weight).toFixed(1),"kg"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"CURRENT"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[v(t.targetWeight).toFixed(1),"kg"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"TARGET"})]})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx("div",{className:"w-full bg-gray-300 rounded-full h-6 shadow-inner",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 via-blue-600 to-green-500 h-6 rounded-full transition-all duration-500 shadow-lg",style:{width:`${Math.min(100,Math.max(0,(v(t.targetWeight)-v(t.weight))/(v(t.targetWeight)-v(t.weight)+Math.abs(v(t.weight)-v(t.targetWeight)))*100))}%`}})}),e.jsx("div",{className:"absolute top-0 w-1 h-8 bg-green-600 rounded-full shadow-lg",style:{left:"100%",transform:"translateX(-50%)"},children:e.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2",children:e.jsx("div",{className:"text-xs font-bold text-green-600",children:"üéØ"})})}),e.jsx("div",{className:"absolute top-0 w-4 h-10 bg-blue-600 rounded-full shadow-lg border-2 border-white",style:{left:`${Math.min(100,Math.max(0,(v(t.targetWeight)-v(t.weight))/(v(t.targetWeight)-v(t.weight)+Math.abs(v(t.weight)-v(t.targetWeight)))*100))}%`,transform:"translateX(-50%)"},children:e.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2",children:e.jsxs("div",{className:"text-xs font-bold text-blue-600 whitespace-nowrap",children:["üìç ",v(t.weight).toFixed(1),"kg"]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Difference"}),e.jsxs("div",{className:`text-lg font-bold ${v(t.weight)-v(t.targetWeight)>=0?"text-orange-600":"text-green-600"}`,children:[v(t.weight)-v(t.targetWeight)>=0?"+":"",(v(t.weight)-v(t.targetWeight)).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Progress"}),e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[Math.min(100,Math.max(0,(v(t.targetWeight)-v(t.weight))/(v(t.targetWeight)-v(t.weight)+Math.abs(v(t.weight)-v(t.targetWeight)))*100)).toFixed(0),"%"]})]}),e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Status"}),e.jsx("div",{className:`text-lg font-bold ${v(t.weight)-v(t.targetWeight)<=0?"text-green-600":"text-orange-600"}`,children:v(t.weight)-v(t.targetWeight)<=0?"On Track":"Adjusting"})]})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("div",{className:"text-sm text-gray-700 bg-white p-3 rounded-lg shadow-sm",children:v(t.weight)-v(t.targetWeight)<=0?`üéâ Great progress! Only ${Math.abs(v(t.weight)-v(t.targetWeight)).toFixed(1)}kg to reach your target!`:`üí™ You're ${Math.abs(v(t.weight)-v(t.targetWeight)).toFixed(1)}kg above target. Let's adjust your plan!`})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"‚öñÔ∏è"}),"Weight Management"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Target Weight"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[v(t.targetWeight).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Current Status"}),e.jsx("span",{className:`font-bold ${v(t.weight)-v(t.targetWeight)>=0?"text-orange-600":"text-green-600"}`,children:v(t.weight)-v(t.targetWeight)>=0?"Above Target":"On Track"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Weekly Goal"}),e.jsx("span",{className:"font-bold text-blue-600",children:v(t.weight)-v(t.targetWeight)>2?`-${Math.min(1,(v(t.weight)-v(t.targetWeight))/8).toFixed(2)} kg/week`:v(t.weight)-v(t.targetWeight)>0?`-${Math.min(.5,(v(t.weight)-v(t.targetWeight))/8).toFixed(2)} kg/week`:v(t.weight)-v(t.targetWeight)<-2?`+${Math.min(.5,Math.abs(v(t.weight)-v(t.targetWeight))/8).toFixed(2)} kg/week`:"Maintain"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üí™"}),"Body Composition Goals"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Fat Control"}),e.jsxs("span",{className:`font-bold ${v(t.bodyFat)-15>=0?"text-red-600":"text-green-600"}`,children:[v(t.bodyFat)-15>=0?"+":"",(v(t.bodyFat)-15).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Muscle Control"}),e.jsxs("span",{className:`font-bold ${v(t.muscleMass)-35>=0?"text-green-600":"text-red-600"}`,children:[v(t.muscleMass)-35>=0?"+":"",(v(t.muscleMass)-35).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Target Fat %"}),e.jsx("span",{className:"font-bold text-green-600",children:"15%"})]})]})]})]}),e.jsxs("div",{className:"mt-6 bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-800 mb-3",children:"üéØ Action Plan"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-purple-700",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Nutrition Focus"}),e.jsx("div",{children:v(t.weight)-v(t.targetWeight)>2?`Calorie deficit: ${Math.round((v(t.weight)-v(t.targetWeight))*1250)} kcal/day`:v(t.weight)-v(t.targetWeight)>0?`Calorie deficit: ${Math.round((v(t.weight)-v(t.targetWeight))*625)} kcal/day`:v(t.weight)-v(t.targetWeight)<-2?`Calorie surplus: ${Math.round(Math.abs(v(t.weight)-v(t.targetWeight))*625)} kcal/day`:"Balanced nutrition"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Training Focus"}),e.jsx("div",{children:v(t.muscleMass)<35?"Strength training 3x/week":v(t.bodyFat)>15?"HIIT + cardio 3x/week":"Mixed training program"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Timeline"}),e.jsx("div",{children:Math.abs(v(t.weight)-v(t.targetWeight))>5?`${Math.round(Math.abs(v(t.weight)-v(t.targetWeight))*2.4)} weeks`:Math.abs(v(t.weight)-v(t.targetWeight))>2?`${Math.round(Math.abs(v(t.weight)-v(t.targetWeight))*1.5)} weeks`:"4-6 weeks"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Monitoring"}),e.jsx("div",{children:"Weekly weigh-ins + monthly body composition"})]})]})]})]})]}),Zo=({athleteBodyComp:t})=>e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6 text-center",children:"üìã Health Indicators Overview"}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üî•"}),"Metabolic Health"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Basal Metabolic Rate"}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[v(t.basalMetabolicRate).toFixed(0)," kcal"]})]}),e.jsx("div",{className:"text-xs text-blue-600 mb-2",children:"Daily calories burned at rest"}),e.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Math.min(100,v(t.basalMetabolicRate)/2500*100)}%`}})}),e.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Range: 1200-2500 kcal"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-green-700",children:"Visceral Fat Grade"}),e.jsxs("span",{className:"text-lg font-bold text-green-600",children:[v(t.visceralFatGrade),"/10"]})]}),e.jsx("div",{className:"text-xs text-green-600 mb-2",children:"Fat around internal organs"}),e.jsx("div",{className:"w-full bg-green-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${Math.min(100,v(t.visceralFatGrade)/10*100)}%`}})}),e.jsx("div",{className:"text-xs text-green-600 mt-1",children:"Ideal: 1-3"})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-purple-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üí™"}),"Body Composition"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Fat-Free Body Weight"}),e.jsxs("span",{className:"text-lg font-bold text-purple-600",children:[v(t.weight-t.weight*t.bodyFat/100).toFixed(1)," kg"]})]}),e.jsx("div",{className:"text-xs text-purple-600 mb-2",children:"Weight without fat"}),e.jsx("div",{className:"w-full bg-purple-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${Math.min(100,v(t.weight-t.weight*t.bodyFat/100)/80*100)}%`}})}),e.jsx("div",{className:"text-xs text-purple-600 mt-1",children:"Higher is better for muscle mass"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-orange-700",children:"Subcutaneous Fat"}),e.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[v(t.bodyFat).toFixed(1),"%"]})]}),e.jsx("div",{className:"text-xs text-orange-600 mb-2",children:"Fat under the skin"}),e.jsx("div",{className:"w-full bg-orange-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${Math.min(100,v(t.bodyFat))}%`}})}),e.jsx("div",{className:"text-xs text-orange-600 mt-1",children:"Healthy range: 8-20%"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-indigo-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"‚è≥"}),"Age & Body Ratios"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 p-4 rounded-lg text-center",children:[e.jsx("div",{className:"text-sm font-medium text-indigo-700 mb-1",children:"Body Age"}),e.jsx("div",{className:"text-2xl font-bold text-indigo-600 mb-1",children:v(t.bodyAge)}),e.jsx("div",{className:"text-xs text-indigo-600",children:"years"}),e.jsx("div",{className:`text-xs mt-2 px-2 py-1 rounded-full ${v(t.bodyAge)<=25?"bg-green-100 text-green-800":v(t.bodyAge)<=35?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:v(t.bodyAge)<=25?"Excellent":v(t.bodyAge)<=35?"Good":"Needs Attention"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 p-4 rounded-lg text-center",children:[e.jsx("div",{className:"text-sm font-medium text-pink-700 mb-1",children:"SMI"}),e.jsx("div",{className:"text-2xl font-bold text-pink-600 mb-1",children:v(t.muscleMass/1.8**2).toFixed(1)}),e.jsx("div",{className:"text-xs text-pink-600",children:"kg/m¬≤"}),e.jsx("div",{className:`text-xs mt-2 px-2 py-1 rounded-full ${v(t.muscleMass/1.8**2)>=7?"bg-green-100 text-green-800":v(t.muscleMass/1.8**2)>=5?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:v(t.muscleMass/1.8**2)>=7?"Strong":v(t.muscleMass/1.8**2)>=5?"Average":"Low"}),e.jsx("div",{className:"text-xs text-pink-600 mt-2 italic",children:"Skeletal Muscle Index - measures muscle mass relative to height"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-teal-100 p-4 rounded-lg text-center",children:[e.jsx("div",{className:"text-sm font-medium text-teal-700 mb-1",children:"WHR"}),e.jsx("div",{className:"text-2xl font-bold text-teal-600 mb-1",children:"0.86"}),e.jsx("div",{className:"text-xs text-teal-600",children:"ratio"}),e.jsx("div",{className:"text-xs mt-2 px-2 py-1 rounded-full bg-green-100 text-green-800",children:"Healthy"}),e.jsx("div",{className:"text-xs text-teal-600 mt-2 italic",children:"Waist-to-Hip Ratio - measures body fat distribution and health risks"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"üí° Key Insights"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Metabolic Rate:"})," Your BMR indicates ",v(t.basalMetabolicRate)>1800?"good muscle mass":"potential for improvement"," with strength training."]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Body Age:"})," ",v(t.bodyAge)<=25?"Excellent! Your body is in peak condition.":"Focus on consistent training and nutrition to improve."]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Muscle Quality:"})," Your SMI suggests ",v(t.muscleMass/1.8**2)>=7?"excellent muscle quality":"room for muscle development","."]})]})]})]})]}),Qo=({athleteBodyComp:t})=>e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"‚öñÔ∏è Body Balance Evaluation"}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-semibold text-green-700 mb-2",children:"Overall Balance Status"}),e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"Excellent"}),e.jsx("div",{className:"text-sm text-green-600",children:"Your body shows excellent symmetry and balance"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üí™"}),"Upper Body Balance"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Left Arm Strength"}),e.jsx("span",{className:"font-bold text-blue-600",children:"95.2%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Right Arm Strength"}),e.jsx("span",{className:"font-bold text-blue-600",children:"94.8%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Shoulder Symmetry"}),e.jsx("span",{className:"font-bold text-green-600",children:"98.5%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Upper Body Status"}),e.jsx("span",{className:"font-bold text-green-600",children:"Excellent"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-teal-50 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"ü¶µ"}),"Lower Body Balance"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Left Leg Strength"}),e.jsx("span",{className:"font-bold text-green-600",children:"96.1%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Right Leg Strength"}),e.jsx("span",{className:"font-bold text-green-600",children:"95.9%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Hip Alignment"}),e.jsx("span",{className:"font-bold text-green-600",children:"97.8%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Lower Body Status"}),e.jsx("span",{className:"font-bold text-green-600",children:"Excellent"})]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"üìä Balance Comparison"}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[e.jsx("span",{children:"Upper Body"}),e.jsx("span",{children:"Lower Body"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-blue-500 h-3 rounded-full",style:{width:"98%"}})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"98%"}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-green-500 h-3 rounded-full",style:{width:"97%"}})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[e.jsx("span",{children:"Left Side"}),e.jsx("span",{children:"Right Side"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-purple-500 h-3 rounded-full",style:{width:"96%"}})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"99%"}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-orange-500 h-3 rounded-full",style:{width:"95%"}})})]})]})]})})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"üí° Balance Insights"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Excellent Symmetry:"})," Your left and right sides show remarkable balance, indicating well-rounded training."]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Upper-Lower Harmony:"})," Perfect balance between upper and lower body strength prevents injury and optimizes performance."]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Muscle Coordination:"})," Your balanced development suggests excellent neuromuscular coordination and training efficiency."]})]})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"üéØ Recommendations"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Continue with your balanced training approach. Consider adding unilateral exercises to maintain this excellent symmetry."})]})]}),Jo=({athleteId:t})=>{const[s,n]=A.useState(null),[i,r]=A.useState(!0),[l,a]=A.useState(null);return A.useEffect(()=>{t&&(async()=>{try{r(!0),a(null);const c=parseInt(t,10);if(isNaN(c))throw new Error("Invalid athlete ID");const d=await hl.getBodyCompositionByAthlete(c),m=Array.isArray(d)?d.filter(u=>u.measurementDate).sort((u,x)=>new Date(x.measurementDate).getTime()-new Date(u.measurementDate).getTime())[0]:null;n(m||null)}catch(c){a(c instanceof Error?c.message:"Failed to load body composition data")}finally{r(!1)}})()},[t]),e.jsxs("div",{className:"space-y-8 text-gray-900",children:[e.jsx($o,{loading:i,error:l,hasData:!!s}),s&&e.jsxs(e.Fragment,{children:[e.jsx(Ko,{athleteBodyComp:s}),e.jsx(Uo,{athleteBodyComp:s}),e.jsx(Wo,{athleteBodyComp:s}),e.jsx(Bo,{athleteBodyComp:s}),e.jsx(zo,{athleteBodyComp:s}),e.jsx(Xo,{athleteBodyComp:s}),e.jsx(qo,{athleteBodyComp:s}),e.jsx(Yo,{athleteBodyComp:s}),e.jsx(Zo,{athleteBodyComp:s}),e.jsx(Qo,{athleteBodyComp:s})]})]})},Xs=A.createContext({});function qs(t){const s=A.useRef(null);return s.current===null&&(s.current=t()),s.current}const Ys=typeof window<"u",Da=Ys?A.useLayoutEffect:A.useEffect,Bt=A.createContext(null);function Zs(t,s){t.indexOf(s)===-1&&t.push(s)}function Qs(t,s){const n=t.indexOf(s);n>-1&&t.splice(n,1)}const Ne=(t,s,n)=>n>s?s:n<t?t:n;let Js=()=>{};const we={},Pa=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function La(t){return typeof t=="object"&&t!==null}const Ea=t=>/^0[^.\s]+$/u.test(t);function en(t){let s;return()=>(s===void 0&&(s=t()),s)}const he=t=>t,ec=(t,s)=>n=>s(t(n)),wt=(...t)=>t.reduce(ec),pt=(t,s,n)=>{const i=s-t;return i===0?1:(n-t)/i};class tn{constructor(){this.subscriptions=[]}add(s){return Zs(this.subscriptions,s),()=>Qs(this.subscriptions,s)}notify(s,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](s,n,i);else for(let l=0;l<r;l++){const a=this.subscriptions[l];a&&a(s,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const be=t=>t*1e3,me=t=>t/1e3;function Ca(t,s){return s?t*(1e3/s):0}const Fa=(t,s,n)=>(((1-3*n+3*s)*t+(3*n-6*s))*t+3*s)*t,tc=1e-7,sc=12;function nc(t,s,n,i,r){let l,a,o=0;do a=s+(n-s)/2,l=Fa(a,i,r)-t,l>0?n=a:s=a;while(Math.abs(l)>tc&&++o<sc);return a}function At(t,s,n,i){if(t===s&&n===i)return he;const r=l=>nc(l,0,1,t,n);return l=>l===0||l===1?l:Fa(r(l),s,i)}const Ia=t=>s=>s<=.5?t(2*s)/2:(2-t(2*(1-s)))/2,Ga=t=>s=>1-t(1-s),Oa=At(.33,1.53,.69,.99),sn=Ga(Oa),Va=Ia(sn),Ha=t=>(t*=2)<1?.5*sn(t):.5*(2-Math.pow(2,-10*(t-1))),nn=t=>1-Math.sin(Math.acos(t)),$a=Ga(nn),Ka=Ia(nn),ic=At(.42,0,1,1),ac=At(0,0,.58,1),Ua=At(.42,0,.58,1),rc=t=>Array.isArray(t)&&typeof t[0]!="number",Wa=t=>Array.isArray(t)&&typeof t[0]=="number",lc={linear:he,easeIn:ic,easeInOut:Ua,easeOut:ac,circIn:nn,circInOut:Ka,circOut:$a,backIn:sn,backInOut:Va,backOut:Oa,anticipate:Ha},oc=t=>typeof t=="string",Hn=t=>{if(Wa(t)){Js(t.length===4);const[s,n,i,r]=t;return At(s,n,i,r)}else if(oc(t))return lc[t];return t},Tt=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],$n={value:null,addProjectionMetrics:null};function cc(t,s){let n=new Set,i=new Set,r=!1,l=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},c=0;function d(u){a.has(u)&&(m.schedule(u),t()),c++,u(o)}const m={schedule:(u,x=!1,f=!1)=>{const p=f&&r?n:i;return x&&a.add(u),p.has(u)||p.add(u),u},cancel:u=>{i.delete(u),a.delete(u)},process:u=>{if(o=u,r){l=!0;return}r=!0,[n,i]=[i,n],n.forEach(d),s&&$n.value&&$n.value.frameloop[s].push(c),c=0,n.clear(),r=!1,l&&(l=!1,m.process(u))}};return m}const dc=40;function Ba(t,s){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,a=Tt.reduce((N,j)=>(N[j]=cc(l,s?j:void 0),N),{}),{setup:o,read:c,resolveKeyframes:d,preUpdate:m,update:u,preRender:x,render:f,postRender:g}=a,p=()=>{const N=we.useManualTiming?r.timestamp:performance.now();n=!1,we.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(N-r.timestamp,dc),1)),r.timestamp=N,r.isProcessing=!0,o.process(r),c.process(r),d.process(r),m.process(r),u.process(r),x.process(r),f.process(r),g.process(r),r.isProcessing=!1,n&&s&&(i=!1,t(p))},b=()=>{n=!0,i=!0,r.isProcessing||t(p)};return{schedule:Tt.reduce((N,j)=>{const S=a[j];return N[j]=(R,T=!1,h=!1)=>(n||b(),S.schedule(R,T,h)),N},{}),cancel:N=>{for(let j=0;j<Tt.length;j++)a[Tt[j]].cancel(N)},state:r,steps:a}}const{schedule:$,cancel:Re,state:J,steps:es}=Ba(typeof requestAnimationFrame<"u"?requestAnimationFrame:he,!0);let Et;function mc(){Et=void 0}const re={now:()=>(Et===void 0&&re.set(J.isProcessing||we.useManualTiming?J.timestamp:performance.now()),Et),set:t=>{Et=t,queueMicrotask(mc)}},za=t=>s=>typeof s=="string"&&s.startsWith(t),an=za("--"),hc=za("var(--"),rn=t=>hc(t)?uc.test(t.split("/*")[0].trim()):!1,uc=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tt={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},bt={...tt,transform:t=>Ne(0,1,t)},Rt={...tt,default:1},ht=t=>Math.round(t*1e5)/1e5,ln=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xc(t){return t==null}const gc=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,on=(t,s)=>n=>!!(typeof n=="string"&&gc.test(n)&&n.startsWith(t)||s&&!xc(n)&&Object.prototype.hasOwnProperty.call(n,s)),Xa=(t,s,n)=>i=>{if(typeof i!="string")return i;const[r,l,a,o]=i.match(ln);return{[t]:parseFloat(r),[s]:parseFloat(l),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},fc=t=>Ne(0,255,t),ts={...tt,transform:t=>Math.round(fc(t))},Fe={test:on("rgb","red"),parse:Xa("red","green","blue"),transform:({red:t,green:s,blue:n,alpha:i=1})=>"rgba("+ts.transform(t)+", "+ts.transform(s)+", "+ts.transform(n)+", "+ht(bt.transform(i))+")"};function pc(t){let s="",n="",i="",r="";return t.length>5?(s=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(s=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),s+=s,n+=n,i+=i,r+=r),{red:parseInt(s,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const ws={test:on("#"),parse:pc,transform:Fe.transform},St=t=>({test:s=>typeof s=="string"&&s.endsWith(t)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${t}`}),Se=St("deg"),ye=St("%"),F=St("px"),bc=St("vh"),yc=St("vw"),Kn=(()=>({...ye,parse:t=>ye.parse(t)/100,transform:t=>ye.transform(t*100)}))(),Ue={test:on("hsl","hue"),parse:Xa("hue","saturation","lightness"),transform:({hue:t,saturation:s,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ye.transform(ht(s))+", "+ye.transform(ht(n))+", "+ht(bt.transform(i))+")"},X={test:t=>Fe.test(t)||ws.test(t)||Ue.test(t),parse:t=>Fe.test(t)?Fe.parse(t):Ue.test(t)?Ue.parse(t):ws.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Fe.transform(t):Ue.transform(t),getAnimatableNone:t=>{const s=X.parse(t);return s.alpha=0,X.transform(s)}},jc=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vc(t){return isNaN(t)&&typeof t=="string"&&(t.match(ln)?.length||0)+(t.match(jc)?.length||0)>0}const qa="number",Ya="color",Nc="var",wc="var(",Un="${}",Ac=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yt(t){const s=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let l=0;const o=s.replace(Ac,c=>(X.test(c)?(i.color.push(l),r.push(Ya),n.push(X.parse(c))):c.startsWith(wc)?(i.var.push(l),r.push(Nc),n.push(c)):(i.number.push(l),r.push(qa),n.push(parseFloat(c))),++l,Un)).split(Un);return{values:n,split:o,indexes:i,types:r}}function Za(t){return yt(t).values}function Qa(t){const{split:s,types:n}=yt(t),i=s.length;return r=>{let l="";for(let a=0;a<i;a++)if(l+=s[a],r[a]!==void 0){const o=n[a];o===qa?l+=ht(r[a]):o===Ya?l+=X.transform(r[a]):l+=r[a]}return l}}const Sc=t=>typeof t=="number"?0:X.test(t)?X.getAnimatableNone(t):t;function Mc(t){const s=Za(t);return Qa(t)(s.map(Sc))}const _e={test:vc,parse:Za,createTransformer:Qa,getAnimatableNone:Mc};function ss(t,s,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(s-t)*6*n:n<1/2?s:n<2/3?t+(s-t)*(2/3-n)*6:t}function Tc({hue:t,saturation:s,lightness:n,alpha:i}){t/=360,s/=100,n/=100;let r=0,l=0,a=0;if(!s)r=l=a=n;else{const o=n<.5?n*(1+s):n+s-n*s,c=2*n-o;r=ss(c,o,t+1/3),l=ss(c,o,t),a=ss(c,o,t-1/3)}return{red:Math.round(r*255),green:Math.round(l*255),blue:Math.round(a*255),alpha:i}}function Ot(t,s){return n=>n>0?s:t}const U=(t,s,n)=>t+(s-t)*n,ns=(t,s,n)=>{const i=t*t,r=n*(s*s-i)+i;return r<0?0:Math.sqrt(r)},Rc=[ws,Fe,Ue],_c=t=>Rc.find(s=>s.test(t));function Wn(t){const s=_c(t);if(!s)return!1;let n=s.parse(t);return s===Ue&&(n=Tc(n)),n}const Bn=(t,s)=>{const n=Wn(t),i=Wn(s);if(!n||!i)return Ot(t,s);const r={...n};return l=>(r.red=ns(n.red,i.red,l),r.green=ns(n.green,i.green,l),r.blue=ns(n.blue,i.blue,l),r.alpha=U(n.alpha,i.alpha,l),Fe.transform(r))},As=new Set(["none","hidden"]);function kc(t,s){return As.has(t)?n=>n<=0?t:s:n=>n>=1?s:t}function Dc(t,s){return n=>U(t,s,n)}function cn(t){return typeof t=="number"?Dc:typeof t=="string"?rn(t)?Ot:X.test(t)?Bn:Ec:Array.isArray(t)?Ja:typeof t=="object"?X.test(t)?Bn:Pc:Ot}function Ja(t,s){const n=[...t],i=n.length,r=t.map((l,a)=>cn(l)(l,s[a]));return l=>{for(let a=0;a<i;a++)n[a]=r[a](l);return n}}function Pc(t,s){const n={...t,...s},i={};for(const r in n)t[r]!==void 0&&s[r]!==void 0&&(i[r]=cn(t[r])(t[r],s[r]));return r=>{for(const l in i)n[l]=i[l](r);return n}}function Lc(t,s){const n=[],i={color:0,var:0,number:0};for(let r=0;r<s.values.length;r++){const l=s.types[r],a=t.indexes[l][i[l]],o=t.values[a]??0;n[r]=o,i[l]++}return n}const Ec=(t,s)=>{const n=_e.createTransformer(s),i=yt(t),r=yt(s);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?As.has(t)&&!r.values.length||As.has(s)&&!i.values.length?kc(t,s):wt(Ja(Lc(i,r),r.values),n):Ot(t,s)};function er(t,s,n){return typeof t=="number"&&typeof s=="number"&&typeof n=="number"?U(t,s,n):cn(t)(t,s)}const Cc=t=>{const s=({timestamp:n})=>t(n);return{start:(n=!0)=>$.update(s,n),stop:()=>Re(s),now:()=>J.isProcessing?J.timestamp:re.now()}},tr=(t,s,n=10)=>{let i="";const r=Math.max(Math.round(s/n),2);for(let l=0;l<r;l++)i+=Math.round(t(l/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Vt=2e4;function dn(t){let s=0;const n=50;let i=t.next(s);for(;!i.done&&s<Vt;)s+=n,i=t.next(s);return s>=Vt?1/0:s}function Fc(t,s=100,n){const i=n({...t,keyframes:[0,s]}),r=Math.min(dn(i),Vt);return{type:"keyframes",ease:l=>i.next(r*l).value/s,duration:me(r)}}const Ic=5;function sr(t,s,n){const i=Math.max(s-Ic,0);return Ca(n-t(i),s-i)}const W={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},is=.001;function Gc({duration:t=W.duration,bounce:s=W.bounce,velocity:n=W.velocity,mass:i=W.mass}){let r,l,a=1-s;a=Ne(W.minDamping,W.maxDamping,a),t=Ne(W.minDuration,W.maxDuration,me(t)),a<1?(r=d=>{const m=d*a,u=m*t,x=m-n,f=Ss(d,a),g=Math.exp(-u);return is-x/f*g},l=d=>{const u=d*a*t,x=u*n+n,f=Math.pow(a,2)*Math.pow(d,2)*t,g=Math.exp(-u),p=Ss(Math.pow(d,2),a);return(-r(d)+is>0?-1:1)*((x-f)*g)/p}):(r=d=>{const m=Math.exp(-d*t),u=(d-n)*t+1;return-is+m*u},l=d=>{const m=Math.exp(-d*t),u=(n-d)*(t*t);return m*u});const o=5/t,c=Vc(r,l,o);if(t=be(t),isNaN(c))return{stiffness:W.stiffness,damping:W.damping,duration:t};{const d=Math.pow(c,2)*i;return{stiffness:d,damping:a*2*Math.sqrt(i*d),duration:t}}}const Oc=12;function Vc(t,s,n){let i=n;for(let r=1;r<Oc;r++)i=i-t(i)/s(i);return i}function Ss(t,s){return t*Math.sqrt(1-s*s)}const Hc=["duration","bounce"],$c=["stiffness","damping","mass"];function zn(t,s){return s.some(n=>t[n]!==void 0)}function Kc(t){let s={velocity:W.velocity,stiffness:W.stiffness,damping:W.damping,mass:W.mass,isResolvedFromDuration:!1,...t};if(!zn(t,$c)&&zn(t,Hc))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,l=2*Ne(.05,1,1-(t.bounce||0))*Math.sqrt(r);s={...s,mass:W.mass,stiffness:r,damping:l}}else{const n=Gc(t);s={...s,...n,mass:W.mass},s.isResolvedFromDuration=!0}return s}function Ht(t=W.visualDuration,s=W.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:s}:t;let{restSpeed:i,restDelta:r}=n;const l=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:l},{stiffness:c,damping:d,mass:m,duration:u,velocity:x,isResolvedFromDuration:f}=Kc({...n,velocity:-me(n.velocity||0)}),g=x||0,p=d/(2*Math.sqrt(c*m)),b=a-l,y=me(Math.sqrt(c/m)),w=Math.abs(b)<5;i||(i=w?W.restSpeed.granular:W.restSpeed.default),r||(r=w?W.restDelta.granular:W.restDelta.default);let N;if(p<1){const S=Ss(y,p);N=R=>{const T=Math.exp(-p*y*R);return a-T*((g+p*y*b)/S*Math.sin(S*R)+b*Math.cos(S*R))}}else if(p===1)N=S=>a-Math.exp(-y*S)*(b+(g+y*b)*S);else{const S=y*Math.sqrt(p*p-1);N=R=>{const T=Math.exp(-p*y*R),h=Math.min(S*R,300);return a-T*((g+p*y*b)*Math.sinh(h)+S*b*Math.cosh(h))/S}}const j={calculatedDuration:f&&u||null,next:S=>{const R=N(S);if(f)o.done=S>=u;else{let T=S===0?g:0;p<1&&(T=S===0?be(g):sr(N,S,R));const h=Math.abs(T)<=i,_=Math.abs(a-R)<=r;o.done=h&&_}return o.value=o.done?a:R,o},toString:()=>{const S=Math.min(dn(j),Vt),R=tr(T=>j.next(S*T).value,S,30);return S+"ms "+R},toTransition:()=>{}};return j}Ht.applyToOptions=t=>{const s=Fc(t,100,Ht);return t.ease=s.ease,t.duration=be(s.duration),t.type="keyframes",t};function Ms({keyframes:t,velocity:s=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:l=500,modifyTarget:a,min:o,max:c,restDelta:d=.5,restSpeed:m}){const u=t[0],x={done:!1,value:u},f=h=>o!==void 0&&h<o||c!==void 0&&h>c,g=h=>o===void 0?c:c===void 0||Math.abs(o-h)<Math.abs(c-h)?o:c;let p=n*s;const b=u+p,y=a===void 0?b:a(b);y!==b&&(p=y-u);const w=h=>-p*Math.exp(-h/i),N=h=>y+w(h),j=h=>{const _=w(h),k=N(h);x.done=Math.abs(_)<=d,x.value=x.done?y:k};let S,R;const T=h=>{f(x.value)&&(S=h,R=Ht({keyframes:[x.value,g(x.value)],velocity:sr(N,h,x.value),damping:r,stiffness:l,restDelta:d,restSpeed:m}))};return T(0),{calculatedDuration:null,next:h=>{let _=!1;return!R&&S===void 0&&(_=!0,j(h),T(h)),S!==void 0&&h>=S?R.next(h-S):(!_&&j(h),x)}}}function Uc(t,s,n){const i=[],r=n||we.mix||er,l=t.length-1;for(let a=0;a<l;a++){let o=r(t[a],t[a+1]);if(s){const c=Array.isArray(s)?s[a]||he:s;o=wt(c,o)}i.push(o)}return i}function Wc(t,s,{clamp:n=!0,ease:i,mixer:r}={}){const l=t.length;if(Js(l===s.length),l===1)return()=>s[0];if(l===2&&s[0]===s[1])return()=>s[1];const a=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),s=[...s].reverse());const o=Uc(s,i,r),c=o.length,d=m=>{if(a&&m<t[0])return s[0];let u=0;if(c>1)for(;u<t.length-2&&!(m<t[u+1]);u++);const x=pt(t[u],t[u+1],m);return o[u](x)};return n?m=>d(Ne(t[0],t[l-1],m)):d}function Bc(t,s){const n=t[t.length-1];for(let i=1;i<=s;i++){const r=pt(0,s,i);t.push(U(n,1,r))}}function zc(t){const s=[0];return Bc(s,t.length-1),s}function Xc(t,s){return t.map(n=>n*s)}function qc(t,s){return t.map(()=>s||Ua).splice(0,t.length-1)}function ut({duration:t=300,keyframes:s,times:n,ease:i="easeInOut"}){const r=rc(i)?i.map(Hn):Hn(i),l={done:!1,value:s[0]},a=Xc(n&&n.length===s.length?n:zc(s),t),o=Wc(a,s,{ease:Array.isArray(r)?r:qc(s,r)});return{calculatedDuration:t,next:c=>(l.value=o(c),l.done=c>=t,l)}}const Yc=t=>t!==null;function mn(t,{repeat:s,repeatType:n="loop"},i,r=1){const l=t.filter(Yc),o=r<0||s&&n!=="loop"&&s%2===1?0:l.length-1;return!o||i===void 0?l[o]:i}const Zc={decay:Ms,inertia:Ms,tween:ut,keyframes:ut,spring:Ht};function nr(t){typeof t.type=="string"&&(t.type=Zc[t.type])}class hn{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(s=>{this.resolve=s})}notifyFinished(){this.resolve()}then(s,n){return this.finished.then(s,n)}}const Qc=t=>t/100;class un extends hn{constructor(s){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==re.now()&&this.tick(re.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=s,this.initAnimation(),this.play(),s.autoplay===!1&&this.pause()}initAnimation(){const{options:s}=this;nr(s);const{type:n=ut,repeat:i=0,repeatDelay:r=0,repeatType:l,velocity:a=0}=s;let{keyframes:o}=s;const c=n||ut;c!==ut&&typeof o[0]!="number"&&(this.mixKeyframes=wt(Qc,er(o[0],o[1])),o=[0,100]);const d=c({...s,keyframes:o});l==="mirror"&&(this.mirroredGenerator=c({...s,keyframes:[...o].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=dn(d));const{calculatedDuration:m}=d;this.calculatedDuration=m,this.resolvedDuration=m+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=d}updateTime(s){const n=Math.round(s-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(s,n=!1){const{generator:i,totalDuration:r,mixKeyframes:l,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:m,repeat:u,repeatType:x,repeatDelay:f,type:g,onUpdate:p,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-r/this.speed,this.startTime)),n?this.currentTime=s:this.updateTime(s);const y=this.currentTime-d*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?y<0:y>r;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let N=this.currentTime,j=i;if(u){const h=Math.min(this.currentTime,r)/o;let _=Math.floor(h),k=h%1;!k&&h>=1&&(k=1),k===1&&_--,_=Math.min(_,u+1),!!(_%2)&&(x==="reverse"?(k=1-k,f&&(k-=f/o)):x==="mirror"&&(j=a)),N=Ne(0,1,k)*o}const S=w?{done:!1,value:m[0]}:j.next(N);l&&(S.value=l(S.value));let{done:R}=S;!w&&c!==null&&(R=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return T&&g!==Ms&&(S.value=mn(m,this.options,b,this.speed)),p&&p(S.value),T&&this.finish(),S}then(s,n){return this.finished.then(s,n)}get duration(){return me(this.calculatedDuration)}get iterationDuration(){const{delay:s=0}=this.options||{};return this.duration+me(s)}get time(){return me(this.currentTime)}set time(s){s=be(s),this.currentTime=s,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(s){this.updateTime(re.now());const n=this.playbackSpeed!==s;this.playbackSpeed=s,n&&(this.time=me(this.currentTime))}play(){if(this.isStopped)return;const{driver:s=Cc,startTime:n}=this.options;this.driver||(this.driver=s(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(re.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}attachTimeline(s){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),s.observe(this)}}function Jc(t){for(let s=1;s<t.length;s++)t[s]??(t[s]=t[s-1])}const Ie=t=>t*180/Math.PI,Ts=t=>{const s=Ie(Math.atan2(t[1],t[0]));return Rs(s)},ed={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ts,rotateZ:Ts,skewX:t=>Ie(Math.atan(t[1])),skewY:t=>Ie(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Rs=t=>(t=t%360,t<0&&(t+=360),t),Xn=Ts,qn=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Yn=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),td={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:qn,scaleY:Yn,scale:t=>(qn(t)+Yn(t))/2,rotateX:t=>Rs(Ie(Math.atan2(t[6],t[5]))),rotateY:t=>Rs(Ie(Math.atan2(-t[2],t[0]))),rotateZ:Xn,rotate:Xn,skewX:t=>Ie(Math.atan(t[4])),skewY:t=>Ie(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function _s(t){return t.includes("scale")?1:0}function ks(t,s){if(!t||t==="none")return _s(s);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=td,r=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=ed,r=o}if(!r)return _s(s);const l=i[s],a=r[1].split(",").map(nd);return typeof l=="function"?l(a):a[l]}const sd=(t,s)=>{const{transform:n="none"}=getComputedStyle(t);return ks(n,s)};function nd(t){return parseFloat(t.trim())}const st=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nt=(()=>new Set(st))(),Zn=t=>t===tt||t===F,id=new Set(["x","y","z"]),ad=st.filter(t=>!id.has(t));function rd(t){const s=[];return ad.forEach(n=>{const i=t.getValue(n);i!==void 0&&(s.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),s}const Ge={width:({x:t},{paddingLeft:s="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(s)-parseFloat(n),height:({y:t},{paddingTop:s="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(s)-parseFloat(n),top:(t,{top:s})=>parseFloat(s),left:(t,{left:s})=>parseFloat(s),bottom:({y:t},{top:s})=>parseFloat(s)+(t.max-t.min),right:({x:t},{left:s})=>parseFloat(s)+(t.max-t.min),x:(t,{transform:s})=>ks(s,"x"),y:(t,{transform:s})=>ks(s,"y")};Ge.translateX=Ge.x;Ge.translateY=Ge.y;const Oe=new Set;let Ds=!1,Ps=!1,Ls=!1;function ir(){if(Ps){const t=Array.from(Oe).filter(i=>i.needsMeasurement),s=new Set(t.map(i=>i.element)),n=new Map;s.forEach(i=>{const r=rd(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),s.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([l,a])=>{i.getValue(l)?.set(a)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Ps=!1,Ds=!1,Oe.forEach(t=>t.complete(Ls)),Oe.clear()}function ar(){Oe.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ps=!0)})}function ld(){Ls=!0,ar(),ir(),Ls=!1}class xn{constructor(s,n,i,r,l,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...s],this.onComplete=n,this.name=i,this.motionValue=r,this.element=l,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Oe.add(this),Ds||(Ds=!0,$.read(ar),$.resolveKeyframes(ir))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:n,element:i,motionValue:r}=this;if(s[0]===null){const l=r?.get(),a=s[s.length-1];if(l!==void 0)s[0]=l;else if(i&&n){const o=i.readValue(n,a);o!=null&&(s[0]=o)}s[0]===void 0&&(s[0]=a),r&&l===void 0&&r.set(s[0])}Jc(s)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(s=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,s),Oe.delete(this)}cancel(){this.state==="scheduled"&&(Oe.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const od=t=>t.startsWith("--");function cd(t,s,n){od(s)?t.style.setProperty(s,n):t.style[s]=n}const dd=en(()=>window.ScrollTimeline!==void 0),md={};function hd(t,s){const n=en(t);return()=>md[s]??n()}const rr=hd(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),dt=([t,s,n,i])=>`cubic-bezier(${t}, ${s}, ${n}, ${i})`,Qn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:dt([0,.65,.55,1]),circOut:dt([.55,0,1,.45]),backIn:dt([.31,.01,.66,-.59]),backOut:dt([.33,1.53,.69,.99])};function lr(t,s){if(t)return typeof t=="function"?rr()?tr(t,s):"ease-out":Wa(t)?dt(t):Array.isArray(t)?t.map(n=>lr(n,s)||Qn.easeOut):Qn[t]}function ud(t,s,n,{delay:i=0,duration:r=300,repeat:l=0,repeatType:a="loop",ease:o="easeOut",times:c}={},d=void 0){const m={[s]:n};c&&(m.offset=c);const u=lr(o,r);Array.isArray(u)&&(m.easing=u);const x={delay:i,duration:r,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:l+1,direction:a==="reverse"?"alternate":"normal"};return d&&(x.pseudoElement=d),t.animate(m,x)}function or(t){return typeof t=="function"&&"applyToOptions"in t}function xd({type:t,...s}){return or(t)&&rr()?t.applyToOptions(s):(s.duration??(s.duration=300),s.ease??(s.ease="easeOut"),s)}class gd extends hn{constructor(s){if(super(),this.finishedTime=null,this.isStopped=!1,!s)return;const{element:n,name:i,keyframes:r,pseudoElement:l,allowFlatten:a=!1,finalKeyframe:o,onComplete:c}=s;this.isPseudoElement=!!l,this.allowFlatten=a,this.options=s,Js(typeof s.type!="string");const d=xd(s);this.animation=ud(n,i,r,d,l),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const m=mn(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(m):cd(n,i,m),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:s}=this;s==="idle"||s==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const s=this.animation.effect?.getComputedTiming?.().duration||0;return me(Number(s))}get iterationDuration(){const{delay:s=0}=this.options||{};return this.duration+me(s)}get time(){return me(Number(this.animation.currentTime)||0)}set time(s){this.finishedTime=null,this.animation.currentTime=be(s)}get speed(){return this.animation.playbackRate}set speed(s){s<0&&(this.finishedTime=null),this.animation.playbackRate=s}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(s){this.animation.startTime=s}attachTimeline({timeline:s,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,s&&dd()?(this.animation.timeline=s,he):n(this)}}const cr={anticipate:Ha,backInOut:Va,circInOut:Ka};function fd(t){return t in cr}function pd(t){typeof t.ease=="string"&&fd(t.ease)&&(t.ease=cr[t.ease])}const Jn=10;class bd extends gd{constructor(s){pd(s),nr(s),super(s),s.startTime&&(this.startTime=s.startTime),this.options=s}updateMotionValue(s){const{motionValue:n,onUpdate:i,onComplete:r,element:l,...a}=this.options;if(!n)return;if(s!==void 0){n.set(s);return}const o=new un({...a,autoplay:!1}),c=be(this.finishedTime??this.time);n.setWithVelocity(o.sample(c-Jn).value,o.sample(c).value,Jn),o.stop()}}const ei=(t,s)=>s==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_e.test(t)||t==="0")&&!t.startsWith("url("));function yd(t){const s=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==s)return!0}function jd(t,s,n,i){const r=t[0];if(r===null)return!1;if(s==="display"||s==="visibility")return!0;const l=t[t.length-1],a=ei(r,s),o=ei(l,s);return!a||!o?!1:yd(t)||(n==="spring"||or(n))&&i}function Es(t){t.duration=0,t.type="keyframes"}const vd=new Set(["opacity","clipPath","filter","transform"]),Nd=en(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function wd(t){const{motionValue:s,name:n,repeatDelay:i,repeatType:r,damping:l,type:a}=t;if(!(s?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=s.owner.getProps();return Nd()&&n&&vd.has(n)&&(n!=="transform"||!d)&&!c&&!i&&r!=="mirror"&&l!==0&&a!=="inertia"}const Ad=40;class Sd extends hn{constructor({autoplay:s=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:l=0,repeatType:a="loop",keyframes:o,name:c,motionValue:d,element:m,...u}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=re.now();const x={autoplay:s,delay:n,type:i,repeat:r,repeatDelay:l,repeatType:a,name:c,motionValue:d,element:m,...u},f=m?.KeyframeResolver||xn;this.keyframeResolver=new f(o,(g,p,b)=>this.onKeyframesResolved(g,p,x,!b),c,d,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(s,n,i,r){this.keyframeResolver=void 0;const{name:l,type:a,velocity:o,delay:c,isHandoff:d,onUpdate:m}=i;this.resolvedAt=re.now(),jd(s,l,a,o)||((we.instantAnimations||!c)&&m?.(mn(s,i,n)),s[0]=s[s.length-1],Es(i),i.repeat=0);const x={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>Ad?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:s},f=!d&&wd(x)?new bd({...x,element:x.motionValue.owner.current}):new un(x);f.finished.then(()=>this.notifyFinished()).catch(he),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(s,n){return this.finished.finally(s).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),ld()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(s){this.animation.time=s}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(s){this.animation.speed=s}get startTime(){return this.animation.startTime}attachTimeline(s){return this._animation?this.stopTimeline=this.animation.attachTimeline(s):this.pendingTimeline=s,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Md=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Td(t){const s=Md.exec(t);if(!s)return[,];const[,n,i,r]=s;return[`--${n??i}`,r]}function dr(t,s,n=1){const[i,r]=Td(t);if(!i)return;const l=window.getComputedStyle(s).getPropertyValue(i);if(l){const a=l.trim();return Pa(a)?parseFloat(a):a}return rn(r)?dr(r,s,n+1):r}function gn(t,s){return t?.[s]??t?.default??t}const mr=new Set(["width","height","top","left","right","bottom",...st]),Rd={test:t=>t==="auto",parse:t=>t},hr=t=>s=>s.test(t),ur=[tt,F,ye,Se,yc,bc,Rd],ti=t=>ur.find(hr(t));function _d(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Ea(t):!0}const kd=new Set(["brightness","contrast","saturate","opacity"]);function Dd(t){const[s,n]=t.slice(0,-1).split("(");if(s==="drop-shadow")return t;const[i]=n.match(ln)||[];if(!i)return t;const r=n.replace(i,"");let l=kd.has(s)?1:0;return i!==n&&(l*=100),s+"("+l+r+")"}const Pd=/\b([a-z-]*)\(.*?\)/gu,Cs={..._e,getAnimatableNone:t=>{const s=t.match(Pd);return s?s.map(Dd).join(" "):t}},si={...tt,transform:Math.round},Ld={rotate:Se,rotateX:Se,rotateY:Se,rotateZ:Se,scale:Rt,scaleX:Rt,scaleY:Rt,scaleZ:Rt,skew:Se,skewX:Se,skewY:Se,distance:F,translateX:F,translateY:F,translateZ:F,x:F,y:F,z:F,perspective:F,transformPerspective:F,opacity:bt,originX:Kn,originY:Kn,originZ:F},fn={borderWidth:F,borderTopWidth:F,borderRightWidth:F,borderBottomWidth:F,borderLeftWidth:F,borderRadius:F,radius:F,borderTopLeftRadius:F,borderTopRightRadius:F,borderBottomRightRadius:F,borderBottomLeftRadius:F,width:F,maxWidth:F,height:F,maxHeight:F,top:F,right:F,bottom:F,left:F,padding:F,paddingTop:F,paddingRight:F,paddingBottom:F,paddingLeft:F,margin:F,marginTop:F,marginRight:F,marginBottom:F,marginLeft:F,backgroundPositionX:F,backgroundPositionY:F,...Ld,zIndex:si,fillOpacity:bt,strokeOpacity:bt,numOctaves:si},Ed={...fn,color:X,backgroundColor:X,outlineColor:X,fill:X,stroke:X,borderColor:X,borderTopColor:X,borderRightColor:X,borderBottomColor:X,borderLeftColor:X,filter:Cs,WebkitFilter:Cs},xr=t=>Ed[t];function gr(t,s){let n=xr(t);return n!==Cs&&(n=_e),n.getAnimatableNone?n.getAnimatableNone(s):void 0}const Cd=new Set(["auto","none","0"]);function Fd(t,s,n){let i=0,r;for(;i<t.length&&!r;){const l=t[i];typeof l=="string"&&!Cd.has(l)&&yt(l).values.length&&(r=t[i]),i++}if(r&&n)for(const l of s)t[l]=gr(n,r)}class Id extends xn{constructor(s,n,i,r,l){super(s,n,i,r,l,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<s.length;c++){let d=s[c];if(typeof d=="string"&&(d=d.trim(),rn(d))){const m=dr(d,n.current);m!==void 0&&(s[c]=m),c===s.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!mr.has(i)||s.length!==2)return;const[r,l]=s,a=ti(r),o=ti(l);if(a!==o)if(Zn(a)&&Zn(o))for(let c=0;c<s.length;c++){const d=s[c];typeof d=="string"&&(s[c]=parseFloat(d))}else Ge[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:n}=this,i=[];for(let r=0;r<s.length;r++)(s[r]===null||_d(s[r]))&&i.push(r);i.length&&Fd(s,i,n)}measureInitialState(){const{element:s,unresolvedKeyframes:n,name:i}=this;if(!s||!s.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ge[i](s.measureViewportBox(),window.getComputedStyle(s.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&s.getValue(i,r).jump(r,!1)}measureEndState(){const{element:s,name:n,unresolvedKeyframes:i}=this;if(!s||!s.current)return;const r=s.getValue(n);r&&r.jump(this.measuredOrigin,!1);const l=i.length-1,a=i[l];i[l]=Ge[n](s.measureViewportBox(),window.getComputedStyle(s.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,c])=>{s.getValue(o).set(c)}),this.resolveNoneKeyframes()}}function Gd(t,s,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;s&&(i=s.current);const r=n?.[t]??i.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const fr=(t,s)=>s&&typeof t=="number"?s.transform(t):t;function pr(t){return La(t)&&"offsetHeight"in t}const ni=30,Od=t=>!isNaN(parseFloat(t));class Vd{constructor(s,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=re.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(s),this.owner=n.owner}setCurrent(s){this.current=s,this.updatedAt=re.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=Od(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,n){this.events[s]||(this.events[s]=new tn);const i=this.events[s].add(n);return s==="change"?()=>{i(),$.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,n){this.passiveEffect=s,this.stopPassiveEffect=n}set(s){this.passiveEffect?this.passiveEffect(s,this.updateAndNotify):this.updateAndNotify(s)}setWithVelocity(s,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-i}jump(s,n=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(s){this.dependents||(this.dependents=new Set),this.dependents.add(s)}removeDependent(s){this.dependents&&this.dependents.delete(s)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=re.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>ni)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ni);return Ca(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(s){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=s(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qe(t,s){return new Vd(t,s)}const{schedule:pn,cancel:o0}=Ba(queueMicrotask,!1),ue={x:!1,y:!1};function br(){return ue.x||ue.y}function Hd(t){return t==="x"||t==="y"?ue[t]?null:(ue[t]=!0,()=>{ue[t]=!1}):ue.x||ue.y?null:(ue.x=ue.y=!0,()=>{ue.x=ue.y=!1})}function yr(t,s){const n=Gd(t),i=new AbortController,r={passive:!0,...s,signal:i.signal};return[n,r,()=>i.abort()]}function ii(t){return!(t.pointerType==="touch"||br())}function $d(t,s,n={}){const[i,r,l]=yr(t,n),a=o=>{if(!ii(o))return;const{target:c}=o,d=s(c,o);if(typeof d!="function"||!c)return;const m=u=>{ii(u)&&(d(u),c.removeEventListener("pointerleave",m))};c.addEventListener("pointerleave",m,r)};return i.forEach(o=>{o.addEventListener("pointerenter",a,r)}),l}const jr=(t,s)=>s?t===s?!0:jr(t,s.parentElement):!1,bn=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Kd=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ud(t){return Kd.has(t.tagName)||t.tabIndex!==-1}const Ct=new WeakSet;function ai(t){return s=>{s.key==="Enter"&&t(s)}}function as(t,s){t.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const Wd=(t,s)=>{const n=t.currentTarget;if(!n)return;const i=ai(()=>{if(Ct.has(n))return;as(n,"down");const r=ai(()=>{as(n,"up")}),l=()=>as(n,"cancel");n.addEventListener("keyup",r,s),n.addEventListener("blur",l,s)});n.addEventListener("keydown",i,s),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),s)};function ri(t){return bn(t)&&!br()}function Bd(t,s,n={}){const[i,r,l]=yr(t,n),a=o=>{const c=o.currentTarget;if(!ri(o))return;Ct.add(c);const d=s(c,o),m=(f,g)=>{window.removeEventListener("pointerup",u),window.removeEventListener("pointercancel",x),Ct.has(c)&&Ct.delete(c),ri(f)&&typeof d=="function"&&d(f,{success:g})},u=f=>{m(f,c===window||c===document||n.useGlobalTarget||jr(c,f.target))},x=f=>{m(f,!1)};window.addEventListener("pointerup",u,r),window.addEventListener("pointercancel",x,r)};return i.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,r),pr(o)&&(o.addEventListener("focus",d=>Wd(d,r)),!Ud(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),l}function vr(t){return La(t)&&"ownerSVGElement"in t}function zd(t){return vr(t)&&t.tagName==="svg"}const se=t=>!!(t&&t.getVelocity),Xd=[...ur,X,_e],qd=t=>Xd.find(hr(t)),yn=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function li(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function Yd(...t){return s=>{let n=!1;const i=t.map(r=>{const l=li(r,s);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let r=0;r<i.length;r++){const l=i[r];typeof l=="function"?l():li(t[r],null)}}}}function Zd(...t){return A.useCallback(Yd(...t),t)}class Qd extends A.Component{getSnapshotBeforeUpdate(s){const n=this.props.childRef.current;if(n&&s.isPresent&&!this.props.isPresent){const i=n.offsetParent,r=pr(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=r-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Jd({children:t,isPresent:s,anchorX:n,root:i}){const r=A.useId(),l=A.useRef(null),a=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=A.useContext(yn),c=Zd(l,t?.ref);return A.useInsertionEffect(()=>{const{width:d,height:m,top:u,left:x,right:f}=a.current;if(s||!l.current||!d||!m)return;const g=n==="left"?`left: ${x}`:`right: ${f}`;l.current.dataset.motionPopId=r;const p=document.createElement("style");o&&(p.nonce=o);const b=i??document.head;return b.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            ${g}px !important;
            top: ${u}px !important;
          }
        `),()=>{b.contains(p)&&b.removeChild(p)}},[s]),e.jsx(Qd,{isPresent:s,childRef:l,sizeRef:a,children:A.cloneElement(t,{ref:c})})}const em=({children:t,initial:s,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:l,mode:a,anchorX:o,root:c})=>{const d=qs(tm),m=A.useId();let u=!0,x=A.useMemo(()=>(u=!1,{id:m,initial:s,isPresent:n,custom:r,onExitComplete:f=>{d.set(f,!0);for(const g of d.values())if(!g)return;i&&i()},register:f=>(d.set(f,!1),()=>d.delete(f))}),[n,d,i]);return l&&u&&(x={...x}),A.useMemo(()=>{d.forEach((f,g)=>d.set(g,!1))},[n]),A.useEffect(()=>{!n&&!d.size&&i&&i()},[n]),a==="popLayout"&&(t=e.jsx(Jd,{isPresent:n,anchorX:o,root:c,children:t})),e.jsx(Bt.Provider,{value:x,children:t})};function tm(){return new Map}function Nr(t=!0){const s=A.useContext(Bt);if(s===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=s,l=A.useId();A.useEffect(()=>{if(t)return r(l)},[t]);const a=A.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,a]:[!0]}const _t=t=>t.key||"";function oi(t){const s=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&s.push(n)}),s}const sm=({children:t,custom:s,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:l="sync",propagate:a=!1,anchorX:o="left",root:c})=>{const[d,m]=Nr(a),u=A.useMemo(()=>oi(t),[t]),x=a&&!d?[]:u.map(_t),f=A.useRef(!0),g=A.useRef(u),p=qs(()=>new Map),[b,y]=A.useState(u),[w,N]=A.useState(u);Da(()=>{f.current=!1,g.current=u;for(let R=0;R<w.length;R++){const T=_t(w[R]);x.includes(T)?p.delete(T):p.get(T)!==!0&&p.set(T,!1)}},[w,x.length,x.join("-")]);const j=[];if(u!==b){let R=[...u];for(let T=0;T<w.length;T++){const h=w[T],_=_t(h);x.includes(_)||(R.splice(T,0,h),j.push(h))}return l==="wait"&&j.length&&(R=j),N(oi(R)),y(u),null}const{forceRender:S}=A.useContext(Xs);return e.jsx(e.Fragment,{children:w.map(R=>{const T=_t(R),h=a&&!d?!1:u===w||x.includes(T),_=()=>{if(p.has(T))p.set(T,!0);else return;let k=!0;p.forEach(C=>{C||(k=!1)}),k&&(S?.(),N(g.current),a&&m?.(),i&&i())};return e.jsx(em,{isPresent:h,initial:!f.current||n?void 0:!1,custom:s,presenceAffectsLayout:r,mode:l,root:c,onExitComplete:h?void 0:_,anchorX:o,children:R},T)})})},wr=A.createContext({strict:!1}),ci={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Je={};for(const t in ci)Je[t]={isEnabled:s=>ci[t].some(n=>!!s[n])};function nm(t){for(const s in t)Je[s]={...Je[s],...t[s]}}const im=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $t(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||im.has(t)}let Ar=t=>!$t(t);function am(t){typeof t=="function"&&(Ar=s=>s.startsWith("on")?!$t(s):t(s))}try{am(require("@emotion/is-prop-valid").default)}catch{}function rm(t,s,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(Ar(r)||n===!0&&$t(r)||!s&&!$t(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}const zt=A.createContext({});function Xt(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function jt(t){return typeof t=="string"||Array.isArray(t)}const jn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vn=["initial",...jn];function qt(t){return Xt(t.animate)||vn.some(s=>jt(t[s]))}function Sr(t){return!!(qt(t)||t.variants)}function lm(t,s){if(qt(t)){const{initial:n,animate:i}=t;return{initial:n===!1||jt(n)?n:void 0,animate:jt(i)?i:void 0}}return t.inherit!==!1?s:{}}function om(t){const{initial:s,animate:n}=lm(t,A.useContext(zt));return A.useMemo(()=>({initial:s,animate:n}),[di(s),di(n)])}function di(t){return Array.isArray(t)?t.join(" "):t}const vt={};function cm(t){for(const s in t)vt[s]=t[s],an(s)&&(vt[s].isCSSVariable=!0)}function Mr(t,{layout:s,layoutId:n}){return nt.has(t)||t.startsWith("origin")||(s||n!==void 0)&&(!!vt[t]||t==="opacity")}const dm={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mm=st.length;function hm(t,s,n){let i="",r=!0;for(let l=0;l<mm;l++){const a=st[l],o=t[a];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(a.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const d=fr(o,fn[a]);if(!c){r=!1;const m=dm[a]||a;i+=`${m}(${d}) `}n&&(s[a]=d)}}return i=i.trim(),n?i=n(s,r?"":i):r&&(i="none"),i}function Nn(t,s,n){const{style:i,vars:r,transformOrigin:l}=t;let a=!1,o=!1;for(const c in s){const d=s[c];if(nt.has(c)){a=!0;continue}else if(an(c)){r[c]=d;continue}else{const m=fr(d,fn[c]);c.startsWith("origin")?(o=!0,l[c]=m):i[c]=m}}if(s.transform||(a||n?i.transform=hm(s,t.transform,n):i.transform&&(i.transform="none")),o){const{originX:c="50%",originY:d="50%",originZ:m=0}=l;i.transformOrigin=`${c} ${d} ${m}`}}const wn=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Tr(t,s,n){for(const i in s)!se(s[i])&&!Mr(i,n)&&(t[i]=s[i])}function um({transformTemplate:t},s){return A.useMemo(()=>{const n=wn();return Nn(n,s,t),Object.assign({},n.vars,n.style)},[s])}function xm(t,s){const n=t.style||{},i={};return Tr(i,n,t),Object.assign(i,um(t,s)),i}function gm(t,s){const n={},i=xm(t,s);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const fm={offset:"stroke-dashoffset",array:"stroke-dasharray"},pm={offset:"strokeDashoffset",array:"strokeDasharray"};function bm(t,s,n=1,i=0,r=!0){t.pathLength=1;const l=r?fm:pm;t[l.offset]=F.transform(-i);const a=F.transform(s),o=F.transform(n);t[l.array]=`${a} ${o}`}function Rr(t,{attrX:s,attrY:n,attrScale:i,pathLength:r,pathSpacing:l=1,pathOffset:a=0,...o},c,d,m){if(Nn(t,o,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:u,style:x}=t;u.transform&&(x.transform=u.transform,delete u.transform),(x.transform||u.transformOrigin)&&(x.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),x.transform&&(x.transformBox=m?.transformBox??"fill-box",delete u.transformBox),s!==void 0&&(u.x=s),n!==void 0&&(u.y=n),i!==void 0&&(u.scale=i),r!==void 0&&bm(u,r,l,a,!1)}const _r=()=>({...wn(),attrs:{}}),kr=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ym(t,s,n,i){const r=A.useMemo(()=>{const l=_r();return Rr(l,s,kr(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[s]);if(t.style){const l={};Tr(l,t.style,t),r.style={...l,...r.style}}return r}const jm=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function An(t){return typeof t!="string"||t.includes("-")?!1:!!(jm.indexOf(t)>-1||/[A-Z]/u.test(t))}function vm(t,s,n,{latestValues:i},r,l=!1){const o=(An(t)?ym:gm)(s,i,r,t),c=rm(s,typeof t=="string",l),d=t!==A.Fragment?{...c,...o,ref:n}:{},{children:m}=s,u=A.useMemo(()=>se(m)?m.get():m,[m]);return A.createElement(t,{...d,children:u})}function mi(t){const s=[{},{}];return t?.values.forEach((n,i)=>{s[0][i]=n.get(),s[1][i]=n.getVelocity()}),s}function Sn(t,s,n,i){if(typeof s=="function"){const[r,l]=mi(i);s=s(n!==void 0?n:t.custom,r,l)}if(typeof s=="string"&&(s=t.variants&&t.variants[s]),typeof s=="function"){const[r,l]=mi(i);s=s(n!==void 0?n:t.custom,r,l)}return s}function Ft(t){return se(t)?t.get():t}function Nm({scrapeMotionValuesFromProps:t,createRenderState:s},n,i,r){return{latestValues:wm(n,i,r,t),renderState:s()}}function wm(t,s,n,i){const r={},l=i(t,{});for(const x in l)r[x]=Ft(l[x]);let{initial:a,animate:o}=t;const c=qt(t),d=Sr(t);s&&d&&!c&&t.inherit!==!1&&(a===void 0&&(a=s.initial),o===void 0&&(o=s.animate));let m=n?n.initial===!1:!1;m=m||a===!1;const u=m?o:a;if(u&&typeof u!="boolean"&&!Xt(u)){const x=Array.isArray(u)?u:[u];for(let f=0;f<x.length;f++){const g=Sn(t,x[f]);if(g){const{transitionEnd:p,transition:b,...y}=g;for(const w in y){let N=y[w];if(Array.isArray(N)){const j=m?N.length-1:0;N=N[j]}N!==null&&(r[w]=N)}for(const w in p)r[w]=p[w]}}}return r}const Dr=t=>(s,n)=>{const i=A.useContext(zt),r=A.useContext(Bt),l=()=>Nm(t,s,i,r);return n?l():qs(l)};function Mn(t,s,n){const{style:i}=t,r={};for(const l in i)(se(i[l])||s.style&&se(s.style[l])||Mr(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(r[l]=i[l]);return r}const Am=Dr({scrapeMotionValuesFromProps:Mn,createRenderState:wn});function Pr(t,s,n){const i=Mn(t,s,n);for(const r in t)if(se(t[r])||se(s[r])){const l=st.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[l]=t[r]}return i}const Sm=Dr({scrapeMotionValuesFromProps:Pr,createRenderState:_r}),Mm=Symbol.for("motionComponentSymbol");function We(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Tm(t,s,n){return A.useCallback(i=>{i&&t.onMount&&t.onMount(i),s&&(i?s.mount(i):s.unmount()),n&&(typeof n=="function"?n(i):We(n)&&(n.current=i))},[s])}const Tn=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Rm="framerAppearId",Lr="data-"+Tn(Rm),Er=A.createContext({});function _m(t,s,n,i,r){const{visualElement:l}=A.useContext(zt),a=A.useContext(wr),o=A.useContext(Bt),c=A.useContext(yn).reducedMotion,d=A.useRef(null);i=i||a.renderer,!d.current&&i&&(d.current=i(t,{visualState:s,parent:l,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const m=d.current,u=A.useContext(Er);m&&!m.projection&&r&&(m.type==="html"||m.type==="svg")&&km(d.current,n,r,u);const x=A.useRef(!1);A.useInsertionEffect(()=>{m&&x.current&&m.update(n,o)});const f=n[Lr],g=A.useRef(!!f&&!window.MotionHandoffIsComplete?.(f)&&window.MotionHasOptimisedAnimation?.(f));return Da(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),g.current&&m.animationState&&m.animationState.animateChanges())}),A.useEffect(()=>{m&&(!g.current&&m.animationState&&m.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(f)}),g.current=!1),m.enteringChildren=void 0)}),m}function km(t,s,n,i){const{layoutId:r,layout:l,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:d,layoutCrossfade:m}=s;t.projection=new n(t.latestValues,s["data-framer-portal-id"]?void 0:Cr(t.parent)),t.projection.setOptions({layoutId:r,layout:l,alwaysMeasureLayout:!!a||o&&We(o),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:c,layoutRoot:d})}function Cr(t){if(t)return t.options.allowProjection!==!1?t.projection:Cr(t.parent)}function rs(t,{forwardMotionProps:s=!1}={},n,i){n&&nm(n);const r=An(t)?Sm:Am;function l(o,c){let d;const m={...A.useContext(yn),...o,layoutId:Dm(o)},{isStatic:u}=m,x=om(o),f=r(o,u);if(!u&&Ys){Pm();const g=Lm(m);d=g.MeasureLayout,x.visualElement=_m(t,f,m,i,g.ProjectionNode)}return e.jsxs(zt.Provider,{value:x,children:[d&&x.visualElement?e.jsx(d,{visualElement:x.visualElement,...m}):null,vm(t,o,Tm(f,x.visualElement,c),f,u,s)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=A.forwardRef(l);return a[Mm]=t,a}function Dm({layoutId:t}){const s=A.useContext(Xs).id;return s&&t!==void 0?s+"-"+t:t}function Pm(t,s){A.useContext(wr).strict}function Lm(t){const{drag:s,layout:n}=Je;if(!s&&!n)return{};const i={...s,...n};return{MeasureLayout:s?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Em(t,s){if(typeof Proxy>"u")return rs;const n=new Map,i=(l,a)=>rs(l,a,t,s),r=(l,a)=>i(l,a);return new Proxy(r,{get:(l,a)=>a==="create"?i:(n.has(a)||n.set(a,rs(a,void 0,t,s)),n.get(a))})}function Fr({top:t,left:s,right:n,bottom:i}){return{x:{min:s,max:n},y:{min:t,max:i}}}function Cm({x:t,y:s}){return{top:s.min,right:t.max,bottom:s.max,left:t.min}}function Fm(t,s){if(!s)return t;const n=s({x:t.left,y:t.top}),i=s({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function ls(t){return t===void 0||t===1}function Fs({scale:t,scaleX:s,scaleY:n}){return!ls(t)||!ls(s)||!ls(n)}function Ce(t){return Fs(t)||Ir(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Ir(t){return hi(t.x)||hi(t.y)}function hi(t){return t&&t!=="0%"}function Kt(t,s,n){const i=t-n,r=s*i;return n+r}function ui(t,s,n,i,r){return r!==void 0&&(t=Kt(t,r,i)),Kt(t,n,i)+s}function Is(t,s=0,n=1,i,r){t.min=ui(t.min,s,n,i,r),t.max=ui(t.max,s,n,i,r)}function Gr(t,{x:s,y:n}){Is(t.x,s.translate,s.scale,s.originPoint),Is(t.y,n.translate,n.scale,n.originPoint)}const xi=.999999999999,gi=1.0000000000001;function Im(t,s,n,i=!1){const r=n.length;if(!r)return;s.x=s.y=1;let l,a;for(let o=0;o<r;o++){l=n[o],a=l.projectionDelta;const{visualElement:c}=l.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ze(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),a&&(s.x*=a.x.scale,s.y*=a.y.scale,Gr(t,a)),i&&Ce(l.latestValues)&&ze(t,l.latestValues))}s.x<gi&&s.x>xi&&(s.x=1),s.y<gi&&s.y>xi&&(s.y=1)}function Be(t,s){t.min=t.min+s,t.max=t.max+s}function fi(t,s,n,i,r=.5){const l=U(t.min,t.max,r);Is(t,s,n,l,i)}function ze(t,s){fi(t.x,s.x,s.scaleX,s.scale,s.originX),fi(t.y,s.y,s.scaleY,s.scale,s.originY)}function Or(t,s){return Fr(Fm(t.getBoundingClientRect(),s))}function Gm(t,s,n){const i=Or(t,n),{scroll:r}=s;return r&&(Be(i.x,r.offset.x),Be(i.y,r.offset.y)),i}const pi=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xe=()=>({x:pi(),y:pi()}),bi=()=>({min:0,max:0}),z=()=>({x:bi(),y:bi()}),Gs={current:null},Vr={current:!1};function Om(){if(Vr.current=!0,!!Ys)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),s=()=>Gs.current=t.matches;t.addEventListener("change",s),s()}else Gs.current=!1}const Vm=new WeakMap;function Hm(t,s,n){for(const i in s){const r=s[i],l=n[i];if(se(r))t.addValue(i,r);else if(se(l))t.addValue(i,Qe(r,{owner:t}));else if(l!==r)if(t.hasValue(i)){const a=t.getValue(i);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=t.getStaticValue(i);t.addValue(i,Qe(a!==void 0?a:r,{owner:t}))}}for(const i in n)s[i]===void 0&&t.removeValue(i);return s}const yi=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $m{scrapeMotionValuesFromProps(s,n,i){return{}}constructor({parent:s,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:l,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xn,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=re.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,$.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=s,this.props=n,this.presenceContext=i,this.depth=s?s.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=!!l,this.isControllingVariants=qt(n),this.isVariantNode=Sr(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:m,...u}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in u){const f=u[x];c[x]!==void 0&&se(f)&&f.set(c[x])}}mount(s){this.current=s,Vm.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),Vr.current||Om(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gs.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Re(this.notifyUpdate),Re(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const n=this.features[s];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(s){this.children.add(s),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(s)}removeChild(s){this.children.delete(s),this.enteringChildren&&this.enteringChildren.delete(s)}bindToMotionValue(s,n){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const i=nt.has(s);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",a=>{this.latestValues[s]=a,this.props.onUpdate&&$.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,s,n)),this.valueSubscriptions.set(s,()=>{r(),l&&l(),n.owner&&n.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in Je){const n=Je[s];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[s]&&r&&i(this.props)&&(this.features[s]=new r(this)),this.features[s]){const l=this.features[s];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):z()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,n){this.latestValues[s]=n}update(s,n){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<yi.length;i++){const r=yi[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const l="on"+r,a=s[l];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=Hm(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(s),()=>n.variantChildren.delete(s)}addValue(s,n){const i=this.values.get(s);n!==i&&(i&&this.removeValue(s),this.bindToMotionValue(s,n),this.values.set(s,n),this.latestValues[s]=n.get())}removeValue(s){this.values.delete(s);const n=this.valueSubscriptions.get(s);n&&(n(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,n){if(this.props.values&&this.props.values[s])return this.props.values[s];let i=this.values.get(s);return i===void 0&&n!==void 0&&(i=Qe(n===null?void 0:n,{owner:this}),this.addValue(s,i)),i}readValue(s,n){let i=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:this.getBaseTargetFromProps(this.props,s)??this.readValueFromInstance(this.current,s,this.options);return i!=null&&(typeof i=="string"&&(Pa(i)||Ea(i))?i=parseFloat(i):!qd(i)&&_e.test(n)&&(i=gr(s,n)),this.setBaseTarget(s,se(i)?i.get():i)),se(i)?i.get():i}setBaseTarget(s,n){this.baseTarget[s]=n}getBaseTarget(s){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=Sn(this.props,n,this.presenceContext?.custom);l&&(i=l[s])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,s);return r!==void 0&&!se(r)?r:this.initialValues[s]!==void 0&&i===void 0?void 0:this.baseTarget[s]}on(s,n){return this.events[s]||(this.events[s]=new tn),this.events[s].add(n)}notify(s,...n){this.events[s]&&this.events[s].notify(...n)}scheduleRenderMicrotask(){pn.render(this.render)}}class Hr extends $m{constructor(){super(...arguments),this.KeyframeResolver=Id}sortInstanceNodePosition(s,n){return s.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(s,n){return s.style?s.style[n]:void 0}removeValueFromRenderState(s,{vars:n,style:i}){delete n[s],delete i[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;se(s)&&(this.childSubscription=s.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function $r(t,{style:s,vars:n},i,r){const l=t.style;let a;for(a in s)l[a]=s[a];r?.applyProjectionStyles(l,i);for(a in n)l.setProperty(a,n[a])}function Km(t){return window.getComputedStyle(t)}class Um extends Hr{constructor(){super(...arguments),this.type="html",this.renderInstance=$r}readValueFromInstance(s,n){if(nt.has(n))return this.projection?.isProjecting?_s(n):sd(s,n);{const i=Km(s),r=(an(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(s,{transformPagePoint:n}){return Or(s,n)}build(s,n,i){Nn(s,n,i.transformTemplate)}scrapeMotionValuesFromProps(s,n,i){return Mn(s,n,i)}}const Kr=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Wm(t,s,n,i){$r(t,s,void 0,i);for(const r in s.attrs)t.setAttribute(Kr.has(r)?r:Tn(r),s.attrs[r])}class Bm extends Hr{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=z}getBaseTargetFromProps(s,n){return s[n]}readValueFromInstance(s,n){if(nt.has(n)){const i=xr(n);return i&&i.default||0}return n=Kr.has(n)?n:Tn(n),s.getAttribute(n)}scrapeMotionValuesFromProps(s,n,i){return Pr(s,n,i)}build(s,n,i){Rr(s,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(s,n,i,r){Wm(s,n,i,r)}mount(s){this.isSVGTag=kr(s.tagName),super.mount(s)}}const zm=(t,s)=>An(t)?new Bm(s):new Um(s,{allowProjection:t!==A.Fragment});function qe(t,s,n){const i=t.getProps();return Sn(i,s,n!==void 0?n:i.custom,t)}const Os=t=>Array.isArray(t);function Xm(t,s,n){t.hasValue(s)?t.getValue(s).set(n):t.addValue(s,Qe(n))}function qm(t){return Os(t)?t[t.length-1]||0:t}function Ym(t,s){const n=qe(t,s);let{transitionEnd:i={},transition:r={},...l}=n||{};l={...l,...i};for(const a in l){const o=qm(l[a]);Xm(t,a,o)}}function Zm(t){return!!(se(t)&&t.add)}function Vs(t,s){const n=t.getValue("willChange");if(Zm(n))return n.add(s);if(!n&&we.WillChange){const i=new we.WillChange("auto");t.addValue("willChange",i),i.add(s)}}function Ur(t){return t.props[Lr]}const Qm=t=>t!==null;function Jm(t,{repeat:s,repeatType:n="loop"},i){const r=t.filter(Qm),l=s&&n!=="loop"&&s%2===1?0:r.length-1;return!l||i===void 0?r[l]:i}const eh={type:"spring",stiffness:500,damping:25,restSpeed:10},th=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),sh={type:"keyframes",duration:.8},nh={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ih=(t,{keyframes:s})=>s.length>2?sh:nt.has(t)?t.startsWith("scale")?th(s[1]):eh:nh;function ah({when:t,delay:s,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:l,repeatType:a,repeatDelay:o,from:c,elapsed:d,...m}){return!!Object.keys(m).length}const Rn=(t,s,n,i={},r,l)=>a=>{const o=gn(i,t)||{},c=o.delay||i.delay||0;let{elapsed:d=0}=i;d=d-be(c);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:s.getVelocity(),...o,delay:-d,onUpdate:x=>{s.set(x),o.onUpdate&&o.onUpdate(x)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:s,element:l?void 0:r};ah(o)||Object.assign(m,ih(t,m)),m.duration&&(m.duration=be(m.duration)),m.repeatDelay&&(m.repeatDelay=be(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let u=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Es(m),m.delay===0&&(u=!0)),(we.instantAnimations||we.skipAnimations)&&(u=!0,Es(m),m.delay=0),m.allowFlatten=!o.type&&!o.ease,u&&!l&&s.get()!==void 0){const x=Jm(m.keyframes,o);if(x!==void 0){$.update(()=>{m.onUpdate(x),m.onComplete()});return}}return o.isSync?new un(m):new Sd(m)};function rh({protectedKeys:t,needsAnimating:s},n){const i=t.hasOwnProperty(n)&&s[n]!==!0;return s[n]=!1,i}function Wr(t,s,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:a,...o}=s;i&&(l=i);const c=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const m in o){const u=t.getValue(m,t.latestValues[m]??null),x=o[m];if(x===void 0||d&&rh(d,m))continue;const f={delay:n,...gn(l||{},m)},g=u.get();if(g!==void 0&&!u.isAnimating&&!Array.isArray(x)&&x===g&&!f.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const y=Ur(t);if(y){const w=window.MotionHandoffAnimation(y,m,$);w!==null&&(f.startTime=w,p=!0)}}Vs(t,m),u.start(Rn(m,u,x,t.shouldReduceMotion&&mr.has(m)?{type:!1}:f,t,p));const b=u.animation;b&&c.push(b)}return a&&Promise.all(c).then(()=>{$.update(()=>{a&&Ym(t,a)})}),c}function Br(t,s,n,i=0,r=1){const l=Array.from(t).sort((d,m)=>d.sortNodePosition(m)).indexOf(s),a=t.size,o=(a-1)*i;return typeof n=="function"?n(l,a):r===1?l*i:o-l*i}function Hs(t,s,n={}){const i=qe(t,s,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const l=i?()=>Promise.all(Wr(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:m,staggerDirection:u}=r;return lh(t,s,c,d,m,u,n)}:()=>Promise.resolve(),{when:o}=r;if(o){const[c,d]=o==="beforeChildren"?[l,a]:[a,l];return c().then(()=>d())}else return Promise.all([l(),a(n.delay)])}function lh(t,s,n=0,i=0,r=0,l=1,a){const o=[];for(const c of t.variantChildren)c.notify("AnimationStart",s),o.push(Hs(c,s,{...a,delay:n+(typeof i=="function"?0:i)+Br(t.variantChildren,c,i,r,l)}).then(()=>c.notify("AnimationComplete",s)));return Promise.all(o)}function oh(t,s,n={}){t.notify("AnimationStart",s);let i;if(Array.isArray(s)){const r=s.map(l=>Hs(t,l,n));i=Promise.all(r)}else if(typeof s=="string")i=Hs(t,s,n);else{const r=typeof s=="function"?qe(t,s,n.custom):s;i=Promise.all(Wr(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",s)})}function zr(t,s){if(!Array.isArray(s))return!1;const n=s.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(s[i]!==t[i])return!1;return!0}const ch=vn.length;function Xr(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Xr(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const s={};for(let n=0;n<ch;n++){const i=vn[n],r=t.props[i];(jt(r)||r===!1)&&(s[i]=r)}return s}const dh=[...jn].reverse(),mh=jn.length;function hh(t){return s=>Promise.all(s.map(({animation:n,options:i})=>oh(t,n,i)))}function uh(t){let s=hh(t),n=ji(),i=!0;const r=c=>(d,m)=>{const u=qe(t,m,c==="exit"?t.presenceContext?.custom:void 0);if(u){const{transition:x,transitionEnd:f,...g}=u;d={...d,...g,...f}}return d};function l(c){s=c(t)}function a(c){const{props:d}=t,m=Xr(t.parent)||{},u=[],x=new Set;let f={},g=1/0;for(let b=0;b<mh;b++){const y=dh[b],w=n[y],N=d[y]!==void 0?d[y]:m[y],j=jt(N),S=y===c?w.isActive:null;S===!1&&(g=b);let R=N===m[y]&&N!==d[y]&&j;if(R&&i&&t.manuallyAnimateOnMount&&(R=!1),w.protectedKeys={...f},!w.isActive&&S===null||!N&&!w.prevProp||Xt(N)||typeof N=="boolean")continue;const T=xh(w.prevProp,N);let h=T||y===c&&w.isActive&&!R&&j||b>g&&j,_=!1;const k=Array.isArray(N)?N:[N];let C=k.reduce(r(y),{});S===!1&&(C={});const{prevResolvedValues:L={}}=w,P={...L,...C},E=D=>{h=!0,x.has(D)&&(_=!0,x.delete(D)),w.needsAnimating[D]=!0;const I=t.getValue(D);I&&(I.liveStyle=!1)};for(const D in P){const I=C[D],Q=L[D];if(f.hasOwnProperty(D))continue;let ae=!1;Os(I)&&Os(Q)?ae=!zr(I,Q):ae=I!==Q,ae?I!=null?E(D):x.add(D):I!==void 0&&x.has(D)?E(D):w.protectedKeys[D]=!0}w.prevProp=N,w.prevResolvedValues=C,w.isActive&&(f={...f,...C}),i&&t.blockInitialAnimation&&(h=!1);const G=R&&T;h&&(!G||_)&&u.push(...k.map(D=>{const I={type:y};if(typeof D=="string"&&i&&!G&&t.manuallyAnimateOnMount&&t.parent){const{parent:Q}=t,ae=qe(Q,D);if(Q.enteringChildren&&ae){const{delayChildren:De}=ae.transition||{};I.delay=Br(Q.enteringChildren,t,De)}}return{animation:D,options:I}}))}if(x.size){const b={};if(typeof d.initial!="boolean"){const y=qe(t,Array.isArray(d.initial)?d.initial[0]:d.initial);y&&y.transition&&(b.transition=y.transition)}x.forEach(y=>{const w=t.getBaseTarget(y),N=t.getValue(y);N&&(N.liveStyle=!0),b[y]=w??null}),u.push({animation:b})}let p=!!u.length;return i&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(p=!1),i=!1,p?s(u):Promise.resolve()}function o(c,d){if(n[c].isActive===d)return Promise.resolve();t.variantChildren?.forEach(u=>u.animationState?.setActive(c,d)),n[c].isActive=d;const m=a(c);for(const u in n)n[u].protectedKeys={};return m}return{animateChanges:a,setActive:o,setAnimateFunction:l,getState:()=>n,reset:()=>{n=ji(),i=!0}}}function xh(t,s){return typeof s=="string"?s!==t:Array.isArray(s)?!zr(s,t):!1}function Pe(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ji(){return{animate:Pe(!0),whileInView:Pe(),whileHover:Pe(),whileTap:Pe(),whileDrag:Pe(),whileFocus:Pe(),exit:Pe()}}class ke{constructor(s){this.isMounted=!1,this.node=s}update(){}}class gh extends ke{constructor(s){super(s),s.animationState||(s.animationState=uh(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();Xt(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:n}=this.node.prevProps||{};s!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let fh=0;class ph extends ke{constructor(){super(...arguments),this.id=fh++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===i)return;const r=this.node.animationState.setActive("exit",!s);n&&!s&&r.then(()=>{n(this.id)})}mount(){const{register:s,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),s&&(this.unmount=s(this.id))}unmount(){}}const bh={animation:{Feature:gh},exit:{Feature:ph}};function Nt(t,s,n,i={passive:!0}){return t.addEventListener(s,n,i),()=>t.removeEventListener(s,n)}function Mt(t){return{point:{x:t.pageX,y:t.pageY}}}const yh=t=>s=>bn(s)&&t(s,Mt(s));function xt(t,s,n,i){return Nt(t,s,yh(n),i)}const qr=1e-4,jh=1-qr,vh=1+qr,Yr=.01,Nh=0-Yr,wh=0+Yr;function ie(t){return t.max-t.min}function Ah(t,s,n){return Math.abs(t-s)<=n}function vi(t,s,n,i=.5){t.origin=i,t.originPoint=U(s.min,s.max,t.origin),t.scale=ie(n)/ie(s),t.translate=U(n.min,n.max,t.origin)-t.originPoint,(t.scale>=jh&&t.scale<=vh||isNaN(t.scale))&&(t.scale=1),(t.translate>=Nh&&t.translate<=wh||isNaN(t.translate))&&(t.translate=0)}function gt(t,s,n,i){vi(t.x,s.x,n.x,i?i.originX:void 0),vi(t.y,s.y,n.y,i?i.originY:void 0)}function Ni(t,s,n){t.min=n.min+s.min,t.max=t.min+ie(s)}function Sh(t,s,n){Ni(t.x,s.x,n.x),Ni(t.y,s.y,n.y)}function wi(t,s,n){t.min=s.min-n.min,t.max=t.min+ie(s)}function ft(t,s,n){wi(t.x,s.x,n.x),wi(t.y,s.y,n.y)}function ce(t){return[t("x"),t("y")]}const Zr=({current:t})=>t?t.ownerDocument.defaultView:null,Ai=(t,s)=>Math.abs(t-s);function Mh(t,s){const n=Ai(t.x,s.x),i=Ai(t.y,s.y);return Math.sqrt(n**2+i**2)}class Qr{constructor(s,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:l=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=cs(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=Mh(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!g)return;const{point:p}=x,{timestamp:b}=J;this.history.push({...p,timestamp:b});const{onStart:y,onMove:w}=this.handlers;f||(y&&y(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,x)},this.handlePointerMove=(x,f)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=os(f,this.transformPagePoint),$.update(this.updatePoint,!0)},this.handlePointerUp=(x,f)=>{this.end();const{onEnd:g,onSessionEnd:p,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=cs(x.type==="pointercancel"?this.lastMoveEventInfo:os(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(x,y),p&&p(x,y)},!bn(s))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=a,this.contextWindow=r||window;const o=Mt(s),c=os(o,this.transformPagePoint),{point:d}=c,{timestamp:m}=J;this.history=[{...d,timestamp:m}];const{onSessionStart:u}=n;u&&u(s,cs(c,this.history)),this.removeListeners=wt(xt(this.contextWindow,"pointermove",this.handlePointerMove),xt(this.contextWindow,"pointerup",this.handlePointerUp),xt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),Re(this.updatePoint)}}function os(t,s){return s?{point:s(t.point)}:t}function Si(t,s){return{x:t.x-s.x,y:t.y-s.y}}function cs({point:t},s){return{point:t,delta:Si(t,Jr(s)),offset:Si(t,Th(s)),velocity:Rh(s,.1)}}function Th(t){return t[0]}function Jr(t){return t[t.length-1]}function Rh(t,s){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=Jr(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>be(s)));)n--;if(!i)return{x:0,y:0};const l=me(r.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const a={x:(r.x-i.x)/l,y:(r.y-i.y)/l};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function _h(t,{min:s,max:n},i){return s!==void 0&&t<s?t=i?U(s,t,i.min):Math.max(t,s):n!==void 0&&t>n&&(t=i?U(n,t,i.max):Math.min(t,n)),t}function Mi(t,s,n){return{min:s!==void 0?t.min+s:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function kh(t,{top:s,left:n,bottom:i,right:r}){return{x:Mi(t.x,n,r),y:Mi(t.y,s,i)}}function Ti(t,s){let n=s.min-t.min,i=s.max-t.max;return s.max-s.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function Dh(t,s){return{x:Ti(t.x,s.x),y:Ti(t.y,s.y)}}function Ph(t,s){let n=.5;const i=ie(t),r=ie(s);return r>i?n=pt(s.min,s.max-i,t.min):i>r&&(n=pt(t.min,t.max-r,s.min)),Ne(0,1,n)}function Lh(t,s){const n={};return s.min!==void 0&&(n.min=s.min-t.min),s.max!==void 0&&(n.max=s.max-t.min),n}const $s=.35;function Eh(t=$s){return t===!1?t=0:t===!0&&(t=$s),{x:Ri(t,"left","right"),y:Ri(t,"top","bottom")}}function Ri(t,s,n){return{min:_i(t,s),max:_i(t,n)}}function _i(t,s){return typeof t=="number"?t:t[s]||0}const Ch=new WeakMap;class Fh{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=z(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=s}start(s,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const l=u=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Mt(u).point)},a=(u,x)=>{const{drag:f,dragPropagation:g,onDragStart:p}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Hd(f),!this.openDragLock))return;this.latestPointerEvent=u,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ce(y=>{let w=this.getAxisMotionValue(y).get()||0;if(ye.test(w)){const{projection:N}=this.visualElement;if(N&&N.layout){const j=N.layout.layoutBox[y];j&&(w=ie(j)*(parseFloat(w)/100))}}this.originPoint[y]=w}),p&&$.postRender(()=>p(u,x)),Vs(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(u,x)=>{this.latestPointerEvent=u,this.latestPanInfo=x;const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:p,onDrag:b}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:y}=x;if(g&&this.currentDirection===null){this.currentDirection=Ih(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",x.point,y),this.updateAxis("y",x.point,y),this.visualElement.render(),b&&b(u,x)},c=(u,x)=>{this.latestPointerEvent=u,this.latestPanInfo=x,this.stop(u,x),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>ce(u=>this.getAnimationState(u)==="paused"&&this.getAxisMotionValue(u).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Qr(s,{onSessionStart:l,onStart:a,onMove:o,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:Zr(this.visualElement)})}stop(s,n){const i=s||this.latestPointerEvent,r=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!r||!i)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&$.postRender(()=>o(i,r))}cancel(){this.isDragging=!1;const{projection:s,animationState:n}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(s,n,i){const{drag:r}=this.getProps();if(!i||!kt(s,r,this.currentDirection))return;const l=this.getAxisMotionValue(s);let a=this.originPoint[s]+i[s];this.constraints&&this.constraints[s]&&(a=_h(a,this.constraints[s],this.elastic[s])),l.set(a)}resolveConstraints(){const{dragConstraints:s,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;s&&We(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&i?this.constraints=kh(i.layoutBox,s):this.constraints=!1,this.elastic=Eh(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ce(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Lh(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:n}=this.getProps();if(!s||!We(s))return!1;const i=s.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const l=Gm(i,r.root,this.visualElement.getTransformPagePoint());let a=Dh(r.layout.layoutBox,l);if(n){const o=n(Cm(a));this.hasMutatedConstraints=!!o,o&&(a=Fr(o))}return a}startAnimation(s){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:l,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},d=ce(m=>{if(!kt(m,n,this.currentDirection))return;let u=c&&c[m]||{};a&&(u={min:0,max:0});const x=r?200:1e6,f=r?40:1e7,g={type:"inertia",velocity:i?s[m]:0,bounceStiffness:x,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...l,...u};return this.startAxisValueAnimation(m,g)});return Promise.all(d).then(o)}startAxisValueAnimation(s,n){const i=this.getAxisMotionValue(s);return Vs(this.visualElement,s),i.start(Rn(s,i,0,n,this.visualElement,!1))}stopAnimation(){ce(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){ce(s=>this.getAxisMotionValue(s).animation?.pause())}getAnimationState(s){return this.getAxisMotionValue(s).animation?.state}getAxisMotionValue(s){const n=`_drag${s.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(s,(i.initial?i.initial[s]:void 0)||0)}snapToCursor(s){ce(n=>{const{drag:i}=this.getProps();if(!kt(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,l=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:o}=r.layout.layoutBox[n];l.set(s[n]-U(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!We(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ce(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();r[a]=Ph({min:c,max:c},this.constraints[a])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ce(a=>{if(!kt(a,s,null))return;const o=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];o.set(U(c,d,r[a]))})}addListeners(){if(!this.visualElement.current)return;Ch.set(this.visualElement,this);const s=this.visualElement.current,n=xt(s,"pointerdown",c=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();We(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,l=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),$.read(i);const a=Nt(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ce(m=>{const u=this.getAxisMotionValue(m);u&&(this.originPoint[m]+=c[m].translate,u.set(u.get()+c[m].translate))}),this.visualElement.render())});return()=>{a(),n(),l(),o&&o()}}getProps(){const s=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:l=!1,dragElastic:a=$s,dragMomentum:o=!0}=s;return{...s,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:l,dragElastic:a,dragMomentum:o}}}function kt(t,s,n){return(s===!0||s===t)&&(n===null||n===t)}function Ih(t,s=10){let n=null;return Math.abs(t.y)>s?n="y":Math.abs(t.x)>s&&(n="x"),n}class Gh extends ke{constructor(s){super(s),this.removeGroupControls=he,this.removeListeners=he,this.controls=new Fh(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||he}unmount(){this.removeGroupControls(),this.removeListeners()}}const ki=t=>(s,n)=>{t&&$.postRender(()=>t(s,n))};class Oh extends ke{constructor(){super(...arguments),this.removePointerDownListener=he}onPointerDown(s){this.session=new Qr(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Zr(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:ki(s),onStart:ki(n),onMove:i,onEnd:(l,a)=>{delete this.session,r&&$.postRender(()=>r(l,a))}}}mount(){this.removePointerDownListener=xt(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const It={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Di(t,s){return s.max===s.min?0:t/(s.max-s.min)*100}const rt={correct:(t,s)=>{if(!s.target)return t;if(typeof t=="string")if(F.test(t))t=parseFloat(t);else return t;const n=Di(t,s.target.x),i=Di(t,s.target.y);return`${n}% ${i}%`}},Vh={correct:(t,{treeScale:s,projectionDelta:n})=>{const i=t,r=_e.parse(t);if(r.length>5)return i;const l=_e.createTransformer(t),a=typeof r[0]!="number"?1:0,o=n.x.scale*s.x,c=n.y.scale*s.y;r[0+a]/=o,r[1+a]/=c;const d=U(o,c,.5);return typeof r[2+a]=="number"&&(r[2+a]/=d),typeof r[3+a]=="number"&&(r[3+a]/=d),l(r)}};let ds=!1;class Hh extends A.Component{componentDidMount(){const{visualElement:s,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:l}=s;cm($h),l&&(n.group&&n.group.add(l),i&&i.register&&r&&i.register(l),ds&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),It.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:n,visualElement:i,drag:r,isPresent:l}=this.props,{projection:a}=i;return a&&(a.isPresent=l,ds=!0,r||s.layoutDependency!==n||n===void 0||s.isPresent!==l?a.willUpdate():this.safeToRemove(),s.isPresent!==l&&(l?a.promote():a.relegate()||$.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),pn.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=s;ds=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function el(t){const[s,n]=Nr(),i=A.useContext(Xs);return e.jsx(Hh,{...t,layoutGroup:i,switchLayoutGroup:A.useContext(Er),isPresent:s,safeToRemove:n})}const $h={borderRadius:{...rt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rt,borderTopRightRadius:rt,borderBottomLeftRadius:rt,borderBottomRightRadius:rt,boxShadow:Vh};function Kh(t,s,n){const i=se(t)?t:Qe(t);return i.start(Rn("",i,s,n)),i.animation}const Uh=(t,s)=>t.depth-s.depth;class Wh{constructor(){this.children=[],this.isDirty=!1}add(s){Zs(this.children,s),this.isDirty=!0}remove(s){Qs(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(Uh),this.isDirty=!1,this.children.forEach(s)}}function Bh(t,s){const n=re.now(),i=({timestamp:r})=>{const l=r-n;l>=s&&(Re(i),t(l-s))};return $.setup(i,!0),()=>Re(i)}const tl=["TopLeft","TopRight","BottomLeft","BottomRight"],zh=tl.length,Pi=t=>typeof t=="string"?parseFloat(t):t,Li=t=>typeof t=="number"||F.test(t);function Xh(t,s,n,i,r,l){r?(t.opacity=U(0,n.opacity??1,qh(i)),t.opacityExit=U(s.opacity??1,0,Yh(i))):l&&(t.opacity=U(s.opacity??1,n.opacity??1,i));for(let a=0;a<zh;a++){const o=`border${tl[a]}Radius`;let c=Ei(s,o),d=Ei(n,o);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Li(c)===Li(d)?(t[o]=Math.max(U(Pi(c),Pi(d),i),0),(ye.test(d)||ye.test(c))&&(t[o]+="%")):t[o]=d}(s.rotate||n.rotate)&&(t.rotate=U(s.rotate||0,n.rotate||0,i))}function Ei(t,s){return t[s]!==void 0?t[s]:t.borderRadius}const qh=sl(0,.5,$a),Yh=sl(.5,.95,he);function sl(t,s,n){return i=>i<t?0:i>s?1:n(pt(t,s,i))}function Ci(t,s){t.min=s.min,t.max=s.max}function oe(t,s){Ci(t.x,s.x),Ci(t.y,s.y)}function Fi(t,s){t.translate=s.translate,t.scale=s.scale,t.originPoint=s.originPoint,t.origin=s.origin}function Ii(t,s,n,i,r){return t-=s,t=Kt(t,1/n,i),r!==void 0&&(t=Kt(t,1/r,i)),t}function Zh(t,s=0,n=1,i=.5,r,l=t,a=t){if(ye.test(s)&&(s=parseFloat(s),s=U(a.min,a.max,s/100)-a.min),typeof s!="number")return;let o=U(l.min,l.max,i);t===l&&(o-=s),t.min=Ii(t.min,s,n,o,r),t.max=Ii(t.max,s,n,o,r)}function Gi(t,s,[n,i,r],l,a){Zh(t,s[n],s[i],s[r],s.scale,l,a)}const Qh=["x","scaleX","originX"],Jh=["y","scaleY","originY"];function Oi(t,s,n,i){Gi(t.x,s,Qh,n?n.x:void 0,i?i.x:void 0),Gi(t.y,s,Jh,n?n.y:void 0,i?i.y:void 0)}function Vi(t){return t.translate===0&&t.scale===1}function nl(t){return Vi(t.x)&&Vi(t.y)}function Hi(t,s){return t.min===s.min&&t.max===s.max}function eu(t,s){return Hi(t.x,s.x)&&Hi(t.y,s.y)}function $i(t,s){return Math.round(t.min)===Math.round(s.min)&&Math.round(t.max)===Math.round(s.max)}function il(t,s){return $i(t.x,s.x)&&$i(t.y,s.y)}function Ki(t){return ie(t.x)/ie(t.y)}function Ui(t,s){return t.translate===s.translate&&t.scale===s.scale&&t.originPoint===s.originPoint}class tu{constructor(){this.members=[]}add(s){Zs(this.members,s),s.scheduleRender()}remove(s){if(Qs(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(s){const n=this.members.findIndex(r=>s===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const l=this.members[r];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(s,n){const i=this.lead;if(s!==i&&(this.prevLead=i,this.lead=s,s.show(),i)){i.instance&&i.scheduleRender(),s.scheduleRender(),s.resumeFrom=i,n&&(s.resumeFrom.preserveOpacity=!0),i.snapshot&&(s.snapshot=i.snapshot,s.snapshot.latestValues=i.animationValues||i.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:r}=s.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:n,resumingFrom:i}=s;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function su(t,s,n){let i="";const r=t.x.translate/s.x,l=t.y.translate/s.y,a=n?.z||0;if((r||l||a)&&(i=`translate3d(${r}px, ${l}px, ${a}px) `),(s.x!==1||s.y!==1)&&(i+=`scale(${1/s.x}, ${1/s.y}) `),n){const{transformPerspective:d,rotate:m,rotateX:u,rotateY:x,skewX:f,skewY:g}=n;d&&(i=`perspective(${d}px) ${i}`),m&&(i+=`rotate(${m}deg) `),u&&(i+=`rotateX(${u}deg) `),x&&(i+=`rotateY(${x}deg) `),f&&(i+=`skewX(${f}deg) `),g&&(i+=`skewY(${g}deg) `)}const o=t.x.scale*s.x,c=t.y.scale*s.y;return(o!==1||c!==1)&&(i+=`scale(${o}, ${c})`),i||"none"}const ms=["","X","Y","Z"],nu=1e3;let iu=0;function hs(t,s,n,i){const{latestValues:r}=s;r[t]&&(n[t]=r[t],s.setStaticValue(t,0),i&&(i[t]=0))}function al(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:s}=t.options;if(!s)return;const n=Ur(s);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",$,!(r||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&al(i)}function rl({attachResizeListener:t,defaultParent:s,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(a={},o=s?.()){this.id=iu++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lu),this.nodes.forEach(mu),this.nodes.forEach(hu),this.nodes.forEach(ou)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Wh)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new tn),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=vr(a)&&!zd(a),this.instance=a;const{layoutId:o,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),t){let m,u=0;const x=()=>this.root.updateBlockedByResize=!1;$.read(()=>{u=window.innerWidth}),t(a,()=>{const f=window.innerWidth;f!==u&&(u=f,this.root.updateBlockedByResize=!0,m&&m(),m=Bh(x,250),It.hasAnimatedSinceResize&&(It.hasAnimatedSinceResize=!1,this.nodes.forEach(zi)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&d&&(o||c)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:u,hasRelativeLayoutChanged:x,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||pu,{onLayoutAnimationStart:p,onLayoutAnimationComplete:b}=d.getProps(),y=!this.targetLayout||!il(this.targetLayout,f),w=!u&&x;if(this.options.layoutRoot||this.resumeFrom||w||u&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...gn(g,"layout"),onPlay:p,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(m,w)}else u||zi(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Re(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uu),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&al(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const u=this.path[m];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Wi);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Bi);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(du),this.nodes.forEach(au),this.nodes.forEach(ru)):this.nodes.forEach(Bi),this.clearAllSnapshots();const o=re.now();J.delta=Ne(0,1e3/60,o-J.timestamp),J.timestamp=o,J.isProcessing=!0,es.update.process(J),es.preRender.process(J),es.render.process(J),J.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pn.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cu),this.sharedNodes.forEach(xu)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ie(this.snapshot.measuredBox.x)&&!ie(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=z(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!nl(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;a&&this.instance&&(o||Ce(this.latestValues)||m)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),bu(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return z();const o=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(yu))){const{scroll:d}=this.root;d&&(Be(o.x,d.offset.x),Be(o.y,d.offset.y))}return o}removeElementScroll(a){const o=z();if(oe(o,a),this.scroll?.wasRoot)return o;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:m,options:u}=d;d!==this.root&&m&&u.layoutScroll&&(m.wasRoot&&oe(o,a),Be(o.x,m.offset.x),Be(o.y,m.offset.y))}return o}applyTransform(a,o=!1){const c=z();oe(c,a);for(let d=0;d<this.path.length;d++){const m=this.path[d];!o&&m.options.layoutScroll&&m.scroll&&m!==m.root&&ze(c,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ce(m.latestValues)&&ze(c,m.latestValues)}return Ce(this.latestValues)&&ze(c,this.latestValues),c}removeTransform(a){const o=z();oe(o,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Ce(d.latestValues))continue;Fs(d.latestValues)&&d.updateSnapshot();const m=z(),u=d.measurePageBox();oe(m,u),Oi(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return Ce(this.latestValues)&&Oi(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==J.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:u}=this.options;if(!(!this.layout||!(m||u))){if(this.resolvedRelativeTargetAt=J.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=z(),this.relativeTargetOrigin=z(),ft(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),oe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=z(),this.targetWithTransforms=z()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Sh(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):oe(this.target,this.layout.layoutBox),Gr(this.target,this.targetDelta)):oe(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=z(),this.relativeTargetOrigin=z(),ft(this.relativeTargetOrigin,this.target,x.target),oe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Fs(this.parent.latestValues)||Ir(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),o=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===J.timestamp&&(c=!1),c)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;oe(this.layoutCorrected,this.layout.layoutBox);const u=this.treeScale.x,x=this.treeScale.y;Im(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=z());const{target:f}=a;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Fi(this.prevProjectionDelta.x,this.projectionDelta.x),Fi(this.prevProjectionDelta.y,this.projectionDelta.y)),gt(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==u||this.treeScale.y!==x||!Ui(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ui(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xe(),this.projectionDelta=Xe(),this.projectionDeltaWithTransform=Xe()}setAnimationOrigin(a,o=!1){const c=this.snapshot,d=c?c.latestValues:{},m={...this.latestValues},u=Xe();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const x=z(),f=c?c.source:void 0,g=this.layout?this.layout.source:void 0,p=f!==g,b=this.getStack(),y=!b||b.members.length<=1,w=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some(fu));this.animationProgress=0;let N;this.mixTargetDelta=j=>{const S=j/1e3;Xi(u.x,a.x,S),Xi(u.y,a.y,S),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ft(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gu(this.relativeTarget,this.relativeTargetOrigin,x,S),N&&eu(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=z()),oe(N,this.relativeTarget)),p&&(this.animationValues=m,Xh(m,d,this.latestValues,S,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Re(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$.update(()=>{It.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qe(0)),this.currentAnimation=Kh(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nu),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:d,latestValues:m}=a;if(!(!o||!c||!d)){if(this!==a&&this.layout&&d&&ll(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||z();const u=ie(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+u;const x=ie(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+x}oe(o,c),ze(o,m),gt(this.projectionDeltaWithTransform,this.layoutCorrected,o,m)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new tu),this.sharedNodes.get(a).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const d={};c.z&&hs("z",a,d,this.animationValues);for(let m=0;m<ms.length;m++)hs(`rotate${ms[m]}`,a,d,this.animationValues),hs(`skew${ms[m]}`,a,d,this.animationValues);a.render();for(const m in d)a.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Ft(o?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Ft(o?.pointerEvents)||""),this.hasProjected&&!Ce(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const m=d.animationValues||d.latestValues;this.applyTransformsToTarget();let u=su(this.projectionDeltaWithTransform,this.treeScale,m);c&&(u=c(m,u)),a.transform=u;const{x,y:f}=this.projectionDelta;a.transformOrigin=`${x.origin*100}% ${f.origin*100}% 0`,d.animationValues?a.opacity=d===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:a.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const g in vt){if(m[g]===void 0)continue;const{correct:p,applyTo:b,isCSSVariable:y}=vt[g],w=u==="none"?m[g]:p(m[g],d);if(b){const N=b.length;for(let j=0;j<N;j++)a[b[j]]=w}else y?this.options.visualElement.renderState.vars[g]=w:a[g]=w}this.options.layoutId&&(a.pointerEvents=d===this?Ft(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(Wi),this.root.sharedNodes.clear()}}}function au(t){t.updateLayout()}function ru(t){const s=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:r}=t.options,l=s.source!==t.layout.source;r==="size"?ce(m=>{const u=l?s.measuredBox[m]:s.layoutBox[m],x=ie(u);u.min=n[m].min,u.max=u.min+x}):ll(r,s.layoutBox,n)&&ce(m=>{const u=l?s.measuredBox[m]:s.layoutBox[m],x=ie(n[m]);u.max=u.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+x)});const a=Xe();gt(a,n,s.layoutBox);const o=Xe();l?gt(o,t.applyTransform(i,!0),s.measuredBox):gt(o,n,s.layoutBox);const c=!nl(a);let d=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:u,layout:x}=m;if(u&&x){const f=z();ft(f,s.layoutBox,u.layoutBox);const g=z();ft(g,n,x.layoutBox),il(f,g)||(d=!0),m.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=f,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:o,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function lu(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ou(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function cu(t){t.clearSnapshot()}function Wi(t){t.clearMeasurements()}function Bi(t){t.isLayoutDirty=!1}function du(t){const{visualElement:s}=t.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),t.resetTransform()}function zi(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function mu(t){t.resolveTargetDelta()}function hu(t){t.calcProjection()}function uu(t){t.resetSkewAndRotation()}function xu(t){t.removeLeadSnapshot()}function Xi(t,s,n){t.translate=U(s.translate,0,n),t.scale=U(s.scale,1,n),t.origin=s.origin,t.originPoint=s.originPoint}function qi(t,s,n,i){t.min=U(s.min,n.min,i),t.max=U(s.max,n.max,i)}function gu(t,s,n,i){qi(t.x,s.x,n.x,i),qi(t.y,s.y,n.y,i)}function fu(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const pu={duration:.45,ease:[.4,0,.1,1]},Yi=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Zi=Yi("applewebkit/")&&!Yi("chrome/")?Math.round:he;function Qi(t){t.min=Zi(t.min),t.max=Zi(t.max)}function bu(t){Qi(t.x),Qi(t.y)}function ll(t,s,n){return t==="position"||t==="preserve-aspect"&&!Ah(Ki(s),Ki(n),.2)}function yu(t){return t!==t.root&&t.scroll?.wasRoot}const ju=rl({attachResizeListener:(t,s)=>Nt(t,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),us={current:void 0},ol=rl({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!us.current){const t=new ju({});t.mount(window),t.setOptions({layoutScroll:!0}),us.current=t}return us.current},resetTransform:(t,s)=>{t.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),vu={pan:{Feature:Oh},drag:{Feature:Gh,ProjectionNode:ol,MeasureLayout:el}};function Ji(t,s,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,l=i[r];l&&$.postRender(()=>l(s,Mt(s)))}class Nu extends ke{mount(){const{current:s}=this.node;s&&(this.unmount=$d(s,(n,i)=>(Ji(this.node,i,"Start"),r=>Ji(this.node,r,"End"))))}unmount(){}}class wu extends ke{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wt(Nt(this.node.current,"focus",()=>this.onFocus()),Nt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ea(t,s,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),l=i[r];l&&$.postRender(()=>l(s,Mt(s)))}class Au extends ke{mount(){const{current:s}=this.node;s&&(this.unmount=Bd(s,(n,i)=>(ea(this.node,i,"Start"),(r,{success:l})=>ea(this.node,r,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ks=new WeakMap,xs=new WeakMap,Su=t=>{const s=Ks.get(t.target);s&&s(t)},Mu=t=>{t.forEach(Su)};function Tu({root:t,...s}){const n=t||document;xs.has(n)||xs.set(n,{});const i=xs.get(n),r=JSON.stringify(s);return i[r]||(i[r]=new IntersectionObserver(Mu,{root:t,...s})),i[r]}function Ru(t,s,n){const i=Tu(s);return Ks.set(t,n),i.observe(t),()=>{Ks.delete(t),i.unobserve(t)}}const _u={some:0,all:1};class ku extends ke{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:l}=s,a={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:_u[r]},o=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,l&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:u}=this.node.getProps(),x=d?m:u;x&&x(c)};return Ru(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:n}=this.node;["amount","margin","root"].some(Du(s,n))&&this.startObserver()}unmount(){}}function Du({viewport:t={}},{viewport:s={}}={}){return n=>t[n]!==s[n]}const Pu={inView:{Feature:ku},tap:{Feature:Au},focus:{Feature:wu},hover:{Feature:Nu}},Lu={layout:{ProjectionNode:ol,MeasureLayout:el}},Eu={...bh,...Pu,...vu,...Lu},ne=Em(Eu,zm);function ta(t,s){if(s===Wl)return t;if(s===js||s===Na){let n=t.getIndex();if(n===null){const a=[],o=t.getAttribute("position");if(o!==void 0){for(let c=0;c<o.count;c++)a.push(c);t.setIndex(a),n=t.getIndex()}else return t}const i=n.count-2,r=[];if(s===js)for(let a=1;a<=i;a++)r.push(n.getX(0)),r.push(n.getX(a)),r.push(n.getX(a+1));else for(let a=0;a<i;a++)a%2===0?(r.push(n.getX(a)),r.push(n.getX(a+1)),r.push(n.getX(a+2))):(r.push(n.getX(a+2)),r.push(n.getX(a+1)),r.push(n.getX(a)));r.length/3;const l=t.clone();return l.setIndex(r),l.clearGroups(),l}else return t}class Cu extends Bl{constructor(s){super(s),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new Vu(n)}),this.register(function(n){return new Hu(n)}),this.register(function(n){return new Yu(n)}),this.register(function(n){return new Zu(n)}),this.register(function(n){return new Qu(n)}),this.register(function(n){return new Ku(n)}),this.register(function(n){return new Uu(n)}),this.register(function(n){return new Wu(n)}),this.register(function(n){return new Bu(n)}),this.register(function(n){return new Ou(n)}),this.register(function(n){return new zu(n)}),this.register(function(n){return new $u(n)}),this.register(function(n){return new qu(n)}),this.register(function(n){return new Xu(n)}),this.register(function(n){return new Iu(n)}),this.register(function(n){return new Ju(n)}),this.register(function(n){return new ex(n)})}load(s,n,i,r){const l=this;let a;if(this.resourcePath!=="")a=this.resourcePath;else if(this.path!==""){const d=mt.extractUrlBase(s);a=mt.resolveURL(d,this.path)}else a=mt.extractUrlBase(s);this.manager.itemStart(s);const o=function(d){r&&r(d),l.manager.itemError(s),l.manager.itemEnd(s)},c=new wa(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(s,function(d){try{l.parse(d,a,function(m){n(m),l.manager.itemEnd(s)},o)}catch(m){o(m)}},i,o)}setDRACOLoader(s){return this.dracoLoader=s,this}setKTX2Loader(s){return this.ktx2Loader=s,this}setMeshoptDecoder(s){return this.meshoptDecoder=s,this}register(s){return this.pluginCallbacks.indexOf(s)===-1&&this.pluginCallbacks.push(s),this}unregister(s){return this.pluginCallbacks.indexOf(s)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(s),1),this}parse(s,n,i,r){let l;const a={},o={},c=new TextDecoder;if(typeof s=="string")l=JSON.parse(s);else if(s instanceof ArrayBuffer)if(c.decode(new Uint8Array(s,0,4))===cl){try{a[O.KHR_BINARY_GLTF]=new tx(s)}catch(u){r&&r(u);return}l=JSON.parse(a[O.KHR_BINARY_GLTF].content)}else l=JSON.parse(c.decode(s));else l=s;if(l.asset===void 0||l.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const d=new xx(l,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});d.fileLoader.setRequestHeader(this.requestHeader);for(let m=0;m<this.pluginCallbacks.length;m++){const u=this.pluginCallbacks[m](d);u.name,o[u.name]=u,a[u.name]=!0}if(l.extensionsUsed)for(let m=0;m<l.extensionsUsed.length;++m){const u=l.extensionsUsed[m],x=l.extensionsRequired||[];switch(u){case O.KHR_MATERIALS_UNLIT:a[u]=new Gu;break;case O.KHR_DRACO_MESH_COMPRESSION:a[u]=new sx(l,this.dracoLoader);break;case O.KHR_TEXTURE_TRANSFORM:a[u]=new nx;break;case O.KHR_MESH_QUANTIZATION:a[u]=new ix;break;default:x.indexOf(u)>=0&&o[u]}}d.setExtensions(a),d.setPlugins(o),d.parse(i,r)}parseAsync(s,n){const i=this;return new Promise(function(r,l){i.parse(s,n,r,l)})}}function Fu(){let t={};return{get:function(s){return t[s]},add:function(s,n){t[s]=n},remove:function(s){delete t[s]},removeAll:function(){t={}}}}const O={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Iu{constructor(s){this.parser=s,this.name=O.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const s=this.parser,n=this.parser.json.nodes||[];for(let i=0,r=n.length;i<r;i++){const l=n[i];l.extensions&&l.extensions[this.name]&&l.extensions[this.name].light!==void 0&&s._addNodeRef(this.cache,l.extensions[this.name].light)}}_loadLight(s){const n=this.parser,i="light:"+s;let r=n.cache.get(i);if(r)return r;const l=n.json,c=((l.extensions&&l.extensions[this.name]||{}).lights||[])[s];let d;const m=new Te(16777215);c.color!==void 0&&m.setRGB(c.color[0],c.color[1],c.color[2],ve);const u=c.range!==void 0?c.range:0;switch(c.type){case"directional":d=new Pt(m),d.target.position.set(0,0,-1),d.add(d.target);break;case"point":d=new Xl(m),d.distance=u;break;case"spot":d=new zl(m),d.distance=u,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,d.angle=c.spot.outerConeAngle,d.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,d.target.position.set(0,0,-1),d.add(d.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return d.position.set(0,0,0),je(d,c),c.intensity!==void 0&&(d.intensity=c.intensity),d.name=n.createUniqueName(c.name||"light_"+s),r=Promise.resolve(d),n.cache.add(i,r),r}getDependency(s,n){if(s==="light")return this._loadLight(n)}createNodeAttachment(s){const n=this,i=this.parser,l=i.json.nodes[s],o=(l.extensions&&l.extensions[this.name]||{}).light;return o===void 0?null:this._loadLight(o).then(function(c){return i._getNodeRef(n.cache,o,c)})}}class Gu{constructor(){this.name=O.KHR_MATERIALS_UNLIT}getMaterialType(){return ct}extendParams(s,n,i){const r=[];s.color=new Te(1,1,1),s.opacity=1;const l=n.pbrMetallicRoughness;if(l){if(Array.isArray(l.baseColorFactor)){const a=l.baseColorFactor;s.color.setRGB(a[0],a[1],a[2],ve),s.opacity=a[3]}l.baseColorTexture!==void 0&&r.push(i.assignTexture(s,"map",l.baseColorTexture,Ze))}return Promise.all(r)}}class Ou{constructor(s){this.parser=s,this.name=O.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(s,n){const r=this.parser.json.materials[s];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const l=r.extensions[this.name].emissiveStrength;return l!==void 0&&(n.emissiveIntensity=l),Promise.resolve()}}class Vu{constructor(s){this.parser=s,this.name=O.KHR_MATERIALS_CLEARCOAT}getMaterialType(s){const i=this.parser.json.materials[s];return!i.extensions||!i.extensions[this.name]?null:le}extendMaterialParams(s,n){const i=this.parser,r=i.json.materials[s];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const l=[],a=r.extensions[this.name];if(a.clearcoatFactor!==void 0&&(n.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&l.push(i.assignTexture(n,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&l.push(i.assignTexture(n,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(l.push(i.assignTexture(n,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const o=a.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new zs(o,o)}return Promise.all(l)}}class Hu{constructor(s){this.parser=s,this.name=O.KHR_MATERIALS_DISPERSION}getMaterialType(s){const i=this.parser.json.materials[s];return!i.extensions||!i.extensions[this.name]?null:le}extendMaterialParams(s,n){const r=this.parser.json.materials[s];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const l=r.extensions[this.name];return n.dispersion=l.dispersion!==void 0?l.dispersion:0,Promise.resolve()}}class $u{constructor(s){this.parser=s,this.name=O.KHR_MATERIALS_IRIDESCENCE}getMaterialType(s){const i=this.parser.json.materials[s];return!i.extensions||!i.extensions[this.name]?null:le}extendMaterialParams(s,n){const i=this.parser,r=i.json.materials[s];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const l=[],a=r.extensions[this.name];return a.iridescenceFactor!==void 0&&(n.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&l.push(i.assignTexture(n,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(n.iridescenceIOR=a.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&l.push(i.assignTexture(n,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(l)}}class Ku{constructor(s){this.parser=s,this.name=O.KHR_MATERIALS_SHEEN}getMaterialType(s){const i=this.parser.json.materials[s];return!i.extensions||!i.extensions[this.name]?null:le}extendMaterialParams(s,n){const i=this.parser,r=i.json.materials[s];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const l=[];n.sheenColor=new Te(0,0,0),n.sheenRoughness=0,n.sheen=1;const a=r.extensions[this.name];if(a.sheenColorFactor!==void 0){const o=a.sheenColorFactor;n.sheenColor.setRGB(o[0],o[1],o[2],ve)}return a.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&l.push(i.assignTexture(n,"sheenColorMap",a.sheenColorTexture,Ze)),a.sheenRoughnessTexture!==void 0&&l.push(i.assignTexture(n,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(l)}}class Uu{constructor(s){this.parser=s,this.name=O.KHR_MATERIALS_TRANSMISSION}getMaterialType(s){const i=this.parser.json.materials[s];return!i.extensions||!i.extensions[this.name]?null:le}extendMaterialParams(s,n){const i=this.parser,r=i.json.materials[s];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const l=[],a=r.extensions[this.name];return a.transmissionFactor!==void 0&&(n.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&l.push(i.assignTexture(n,"transmissionMap",a.transmissionTexture)),Promise.all(l)}}class Wu{constructor(s){this.parser=s,this.name=O.KHR_MATERIALS_VOLUME}getMaterialType(s){const i=this.parser.json.materials[s];return!i.extensions||!i.extensions[this.name]?null:le}extendMaterialParams(s,n){const i=this.parser,r=i.json.materials[s];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const l=[],a=r.extensions[this.name];n.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&l.push(i.assignTexture(n,"thicknessMap",a.thicknessTexture)),n.attenuationDistance=a.attenuationDistance||1/0;const o=a.attenuationColor||[1,1,1];return n.attenuationColor=new Te().setRGB(o[0],o[1],o[2],ve),Promise.all(l)}}class Bu{constructor(s){this.parser=s,this.name=O.KHR_MATERIALS_IOR}getMaterialType(s){const i=this.parser.json.materials[s];return!i.extensions||!i.extensions[this.name]?null:le}extendMaterialParams(s,n){const r=this.parser.json.materials[s];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const l=r.extensions[this.name];return n.ior=l.ior!==void 0?l.ior:1.5,Promise.resolve()}}class zu{constructor(s){this.parser=s,this.name=O.KHR_MATERIALS_SPECULAR}getMaterialType(s){const i=this.parser.json.materials[s];return!i.extensions||!i.extensions[this.name]?null:le}extendMaterialParams(s,n){const i=this.parser,r=i.json.materials[s];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const l=[],a=r.extensions[this.name];n.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&l.push(i.assignTexture(n,"specularIntensityMap",a.specularTexture));const o=a.specularColorFactor||[1,1,1];return n.specularColor=new Te().setRGB(o[0],o[1],o[2],ve),a.specularColorTexture!==void 0&&l.push(i.assignTexture(n,"specularColorMap",a.specularColorTexture,Ze)),Promise.all(l)}}class Xu{constructor(s){this.parser=s,this.name=O.EXT_MATERIALS_BUMP}getMaterialType(s){const i=this.parser.json.materials[s];return!i.extensions||!i.extensions[this.name]?null:le}extendMaterialParams(s,n){const i=this.parser,r=i.json.materials[s];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const l=[],a=r.extensions[this.name];return n.bumpScale=a.bumpFactor!==void 0?a.bumpFactor:1,a.bumpTexture!==void 0&&l.push(i.assignTexture(n,"bumpMap",a.bumpTexture)),Promise.all(l)}}class qu{constructor(s){this.parser=s,this.name=O.KHR_MATERIALS_ANISOTROPY}getMaterialType(s){const i=this.parser.json.materials[s];return!i.extensions||!i.extensions[this.name]?null:le}extendMaterialParams(s,n){const i=this.parser,r=i.json.materials[s];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const l=[],a=r.extensions[this.name];return a.anisotropyStrength!==void 0&&(n.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(n.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&l.push(i.assignTexture(n,"anisotropyMap",a.anisotropyTexture)),Promise.all(l)}}class Yu{constructor(s){this.parser=s,this.name=O.KHR_TEXTURE_BASISU}loadTexture(s){const n=this.parser,i=n.json,r=i.textures[s];if(!r.extensions||!r.extensions[this.name])return null;const l=r.extensions[this.name],a=n.options.ktx2Loader;if(!a){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(s,l.source,a)}}class Zu{constructor(s){this.parser=s,this.name=O.EXT_TEXTURE_WEBP}loadTexture(s){const n=this.name,i=this.parser,r=i.json,l=r.textures[s];if(!l.extensions||!l.extensions[n])return null;const a=l.extensions[n],o=r.images[a.source];let c=i.textureLoader;if(o.uri){const d=i.options.manager.getHandler(o.uri);d!==null&&(c=d)}return i.loadTextureImage(s,a.source,c)}}class Qu{constructor(s){this.parser=s,this.name=O.EXT_TEXTURE_AVIF}loadTexture(s){const n=this.name,i=this.parser,r=i.json,l=r.textures[s];if(!l.extensions||!l.extensions[n])return null;const a=l.extensions[n],o=r.images[a.source];let c=i.textureLoader;if(o.uri){const d=i.options.manager.getHandler(o.uri);d!==null&&(c=d)}return i.loadTextureImage(s,a.source,c)}}class Ju{constructor(s){this.name=O.EXT_MESHOPT_COMPRESSION,this.parser=s}loadBufferView(s){const n=this.parser.json,i=n.bufferViews[s];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],l=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return l.then(function(o){const c=r.byteOffset||0,d=r.byteLength||0,m=r.count,u=r.byteStride,x=new Uint8Array(o,c,d);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(m,u,x,r.mode,r.filter).then(function(f){return f.buffer}):a.ready.then(function(){const f=new ArrayBuffer(m*u);return a.decodeGltfBuffer(new Uint8Array(f),m,u,x,r.mode,r.filter),f})})}else return null}}class ex{constructor(s){this.name=O.EXT_MESH_GPU_INSTANCING,this.parser=s}createNodeMesh(s){const n=this.parser.json,i=n.nodes[s];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=n.meshes[i.mesh];for(const d of r.primitives)if(d.mode!==de.TRIANGLES&&d.mode!==de.TRIANGLE_STRIP&&d.mode!==de.TRIANGLE_FAN&&d.mode!==void 0)return null;const a=i.extensions[this.name].attributes,o=[],c={};for(const d in a)o.push(this.parser.getDependency("accessor",a[d]).then(m=>(c[d]=m,c[d])));return o.length<1?null:(o.push(this.parser.createNodeMesh(s)),Promise.all(o).then(d=>{const m=d.pop(),u=m.isGroup?m.children:[m],x=d[0].count,f=[];for(const g of u){const p=new Gt,b=new Ke,y=new ka,w=new Ke(1,1,1),N=new ql(g.geometry,g.material,x);for(let j=0;j<x;j++)c.TRANSLATION&&b.fromBufferAttribute(c.TRANSLATION,j),c.ROTATION&&y.fromBufferAttribute(c.ROTATION,j),c.SCALE&&w.fromBufferAttribute(c.SCALE,j),N.setMatrixAt(j,p.compose(b,y,w));for(const j in c)if(j==="_COLOR_0"){const S=c[j];N.instanceColor=new Yl(S.array,S.itemSize,S.normalized)}else j!=="TRANSLATION"&&j!=="ROTATION"&&j!=="SCALE"&&g.geometry.setAttribute(j,c[j]);Aa.prototype.copy.call(N,g),this.parser.assignFinalMaterial(N),f.push(N)}return m.isGroup?(m.clear(),m.add(...f),m):f[0]}))}}const cl="glTF",lt=12,sa={JSON:1313821514,BIN:5130562};class tx{constructor(s){this.name=O.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(s,0,lt),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(s.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==cl)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-lt,l=new DataView(s,lt);let a=0;for(;a<r;){const o=l.getUint32(a,!0);a+=4;const c=l.getUint32(a,!0);if(a+=4,c===sa.JSON){const d=new Uint8Array(s,lt+a,o);this.content=i.decode(d)}else if(c===sa.BIN){const d=lt+a;this.body=s.slice(d,d+o)}a+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class sx{constructor(s,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=O.KHR_DRACO_MESH_COMPRESSION,this.json=s,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(s,n){const i=this.json,r=this.dracoLoader,l=s.extensions[this.name].bufferView,a=s.extensions[this.name].attributes,o={},c={},d={};for(const m in a){const u=Us[m]||m.toLowerCase();o[u]=a[m]}for(const m in s.attributes){const u=Us[m]||m.toLowerCase();if(a[m]!==void 0){const x=i.accessors[s.attributes[m]],f=Ye[x.componentType];d[u]=f.name,c[u]=x.normalized===!0}}return n.getDependency("bufferView",l).then(function(m){return new Promise(function(u,x){r.decodeDracoFile(m,function(f){for(const g in f.attributes){const p=f.attributes[g],b=c[g];b!==void 0&&(p.normalized=b)}u(f)},o,d,ve,x)})})}}class nx{constructor(){this.name=O.KHR_TEXTURE_TRANSFORM}extendTexture(s,n){return(n.texCoord===void 0||n.texCoord===s.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(s=s.clone(),n.texCoord!==void 0&&(s.channel=n.texCoord),n.offset!==void 0&&s.offset.fromArray(n.offset),n.rotation!==void 0&&(s.rotation=n.rotation),n.scale!==void 0&&s.repeat.fromArray(n.scale),s.needsUpdate=!0),s}}class ix{constructor(){this.name=O.KHR_MESH_QUANTIZATION}}class dl extends To{constructor(s,n,i,r){super(s,n,i,r)}copySampleValue_(s){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,l=s*r*3+r;for(let a=0;a!==r;a++)n[a]=i[l+a];return n}interpolate_(s,n,i,r){const l=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=o*2,d=o*3,m=r-n,u=(i-n)/m,x=u*u,f=x*u,g=s*d,p=g-d,b=-2*f+3*x,y=f-x,w=1-b,N=y-x+u;for(let j=0;j!==o;j++){const S=a[p+j+o],R=a[p+j+c]*m,T=a[g+j+o],h=a[g+j]*m;l[j]=w*S+N*R+b*T+y*h}return l}}const ax=new ka;class rx extends dl{interpolate_(s,n,i,r){const l=super.interpolate_(s,n,i,r);return ax.fromArray(l).normalize().toArray(l),l}}const de={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Ye={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},na={9728:Ma,9729:vs,9984:po,9985:bo,9986:yo,9987:Sa},ia={33071:jo,33648:vo,10497:Ns},gs={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Us={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ae={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},lx={CUBICSPLINE:void 0,LINEAR:_a,STEP:No},fs={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function ox(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new Ta({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:wo})),t.DefaultMaterial}function Le(t,s,n){for(const i in n.extensions)t[i]===void 0&&(s.userData.gltfExtensions=s.userData.gltfExtensions||{},s.userData.gltfExtensions[i]=n.extensions[i])}function je(t,s){s.extras!==void 0&&typeof s.extras=="object"&&Object.assign(t.userData,s.extras)}function cx(t,s,n){let i=!1,r=!1,l=!1;for(let d=0,m=s.length;d<m;d++){const u=s[d];if(u.POSITION!==void 0&&(i=!0),u.NORMAL!==void 0&&(r=!0),u.COLOR_0!==void 0&&(l=!0),i&&r&&l)break}if(!i&&!r&&!l)return Promise.resolve(t);const a=[],o=[],c=[];for(let d=0,m=s.length;d<m;d++){const u=s[d];if(i){const x=u.POSITION!==void 0?n.getDependency("accessor",u.POSITION):t.attributes.position;a.push(x)}if(r){const x=u.NORMAL!==void 0?n.getDependency("accessor",u.NORMAL):t.attributes.normal;o.push(x)}if(l){const x=u.COLOR_0!==void 0?n.getDependency("accessor",u.COLOR_0):t.attributes.color;c.push(x)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(c)]).then(function(d){const m=d[0],u=d[1],x=d[2];return i&&(t.morphAttributes.position=m),r&&(t.morphAttributes.normal=u),l&&(t.morphAttributes.color=x),t.morphTargetsRelative=!0,t})}function dx(t,s){if(t.updateMorphTargets(),s.weights!==void 0)for(let n=0,i=s.weights.length;n<i;n++)t.morphTargetInfluences[n]=s.weights[n];if(s.extras&&Array.isArray(s.extras.targetNames)){const n=s.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let i=0,r=n.length;i<r;i++)t.morphTargetDictionary[n[i]]=i}}}function mx(t){let s;const n=t.extensions&&t.extensions[O.KHR_DRACO_MESH_COMPRESSION];if(n?s="draco:"+n.bufferView+":"+n.indices+":"+ps(n.attributes):s=t.indices+":"+ps(t.attributes)+":"+t.mode,t.targets!==void 0)for(let i=0,r=t.targets.length;i<r;i++)s+=":"+ps(t.targets[i]);return s}function ps(t){let s="";const n=Object.keys(t).sort();for(let i=0,r=n.length;i<r;i++)s+=n[i]+":"+t[n[i]]+";";return s}function Ws(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function hx(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":t.search(/\.ktx2($|\?)/i)>0||t.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const ux=new Gt;class xx{constructor(s={},n={}){this.json=s,this.extensions={},this.plugins={},this.options=n,this.cache=new Fu,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=-1,l=!1,a=-1;if(typeof navigator<"u"){const o=navigator.userAgent;i=/^((?!chrome|android).)*safari/i.test(o)===!0;const c=o.match(/Version\/(\d+)/);r=i&&c?parseInt(c[1],10):-1,l=o.indexOf("Firefox")>-1,a=l?o.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||i&&r<17||l&&a<98?this.textureLoader=new Zl(this.options.manager):this.textureLoader=new Ql(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new wa(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(s){this.extensions=s}setPlugins(s){this.plugins=s}parse(s,n){const i=this,r=this.json,l=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(a){const o={scene:a[0][r.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:r.asset,parser:i,userData:{}};return Le(l,o,r),je(o,r),Promise.all(i._invokeAll(function(c){return c.afterRoot&&c.afterRoot(o)})).then(function(){for(const c of o.scenes)c.updateMatrixWorld();s(o)})}).catch(n)}_markDefs(){const s=this.json.nodes||[],n=this.json.skins||[],i=this.json.meshes||[];for(let r=0,l=n.length;r<l;r++){const a=n[r].joints;for(let o=0,c=a.length;o<c;o++)s[a[o]].isBone=!0}for(let r=0,l=s.length;r<l;r++){const a=s[r];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(i[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(s,n){n!==void 0&&(s.refs[n]===void 0&&(s.refs[n]=s.uses[n]=0),s.refs[n]++)}_getNodeRef(s,n,i){if(s.refs[n]<=1)return i;const r=i.clone(),l=(a,o)=>{const c=this.associations.get(a);c!=null&&this.associations.set(o,c);for(const[d,m]of a.children.entries())l(m,o.children[d])};return l(i,r),r.name+="_instance_"+s.uses[n]++,r}_invokeOne(s){const n=Object.values(this.plugins);n.push(this);for(let i=0;i<n.length;i++){const r=s(n[i]);if(r)return r}return null}_invokeAll(s){const n=Object.values(this.plugins);n.unshift(this);const i=[];for(let r=0;r<n.length;r++){const l=s(n[r]);l&&i.push(l)}return i}getDependency(s,n){const i=s+":"+n;let r=this.cache.get(i);if(!r){switch(s){case"scene":r=this.loadScene(n);break;case"node":r=this._invokeOne(function(l){return l.loadNode&&l.loadNode(n)});break;case"mesh":r=this._invokeOne(function(l){return l.loadMesh&&l.loadMesh(n)});break;case"accessor":r=this.loadAccessor(n);break;case"bufferView":r=this._invokeOne(function(l){return l.loadBufferView&&l.loadBufferView(n)});break;case"buffer":r=this.loadBuffer(n);break;case"material":r=this._invokeOne(function(l){return l.loadMaterial&&l.loadMaterial(n)});break;case"texture":r=this._invokeOne(function(l){return l.loadTexture&&l.loadTexture(n)});break;case"skin":r=this.loadSkin(n);break;case"animation":r=this._invokeOne(function(l){return l.loadAnimation&&l.loadAnimation(n)});break;case"camera":r=this.loadCamera(n);break;default:if(r=this._invokeOne(function(l){return l!=this&&l.getDependency&&l.getDependency(s,n)}),!r)throw new Error("Unknown type: "+s);break}this.cache.add(i,r)}return r}getDependencies(s){let n=this.cache.get(s);if(!n){const i=this,r=this.json[s+(s==="mesh"?"es":"s")]||[];n=Promise.all(r.map(function(l,a){return i.getDependency(s,a)})),this.cache.add(s,n)}return n}loadBuffer(s){const n=this.json.buffers[s],i=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&s===0)return Promise.resolve(this.extensions[O.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(l,a){i.load(mt.resolveURL(n.uri,r.path),l,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(s){const n=this.json.bufferViews[s];return this.getDependency("buffer",n.buffer).then(function(i){const r=n.byteLength||0,l=n.byteOffset||0;return i.slice(l,l+r)})}loadAccessor(s){const n=this,i=this.json,r=this.json.accessors[s];if(r.bufferView===void 0&&r.sparse===void 0){const a=gs[r.type],o=Ye[r.componentType],c=r.normalized===!0,d=new o(r.count*a);return Promise.resolve(new Qt(d,a,c))}const l=[];return r.bufferView!==void 0?l.push(this.getDependency("bufferView",r.bufferView)):l.push(null),r.sparse!==void 0&&(l.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),l.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(l).then(function(a){const o=a[0],c=gs[r.type],d=Ye[r.componentType],m=d.BYTES_PER_ELEMENT,u=m*c,x=r.byteOffset||0,f=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,g=r.normalized===!0;let p,b;if(f&&f!==u){const y=Math.floor(x/f),w="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+y+":"+r.count;let N=n.cache.get(w);N||(p=new d(o,y*f,r.count*f/m),N=new Jl(p,f/m),n.cache.add(w,N)),b=new Ao(N,c,x%f/m,g)}else o===null?p=new d(r.count*c):p=new d(o,x,r.count*c),b=new Qt(p,c,g);if(r.sparse!==void 0){const y=gs.SCALAR,w=Ye[r.sparse.indices.componentType],N=r.sparse.indices.byteOffset||0,j=r.sparse.values.byteOffset||0,S=new w(a[1],N,r.sparse.count*y),R=new d(a[2],j,r.sparse.count*c);o!==null&&(b=new Qt(b.array.slice(),b.itemSize,b.normalized)),b.normalized=!1;for(let T=0,h=S.length;T<h;T++){const _=S[T];if(b.setX(_,R[T*c]),c>=2&&b.setY(_,R[T*c+1]),c>=3&&b.setZ(_,R[T*c+2]),c>=4&&b.setW(_,R[T*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}b.normalized=g}return b})}loadTexture(s){const n=this.json,i=this.options,l=n.textures[s].source,a=n.images[l];let o=this.textureLoader;if(a.uri){const c=i.manager.getHandler(a.uri);c!==null&&(o=c)}return this.loadTextureImage(s,l,o)}loadTextureImage(s,n,i){const r=this,l=this.json,a=l.textures[s],o=l.images[n],c=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[c])return this.textureCache[c];const d=this.loadImageSource(n,i).then(function(m){m.flipY=!1,m.name=a.name||o.name||"",m.name===""&&typeof o.uri=="string"&&o.uri.startsWith("data:image/")===!1&&(m.name=o.uri);const x=(l.samplers||{})[a.sampler]||{};return m.magFilter=na[x.magFilter]||vs,m.minFilter=na[x.minFilter]||Sa,m.wrapS=ia[x.wrapS]||Ns,m.wrapT=ia[x.wrapT]||Ns,m.generateMipmaps=!m.isCompressedTexture&&m.minFilter!==Ma&&m.minFilter!==vs,r.associations.set(m,{textures:s}),m}).catch(function(){return null});return this.textureCache[c]=d,d}loadImageSource(s,n){const i=this,r=this.json,l=this.options;if(this.sourceCache[s]!==void 0)return this.sourceCache[s].then(u=>u.clone());const a=r.images[s],o=self.URL||self.webkitURL;let c=a.uri||"",d=!1;if(a.bufferView!==void 0)c=i.getDependency("bufferView",a.bufferView).then(function(u){d=!0;const x=new Blob([u],{type:a.mimeType});return c=o.createObjectURL(x),c});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+s+" is missing URI and bufferView");const m=Promise.resolve(c).then(function(u){return new Promise(function(x,f){let g=x;n.isImageBitmapLoader===!0&&(g=function(p){const b=new Cn(p);b.needsUpdate=!0,x(b)}),n.load(mt.resolveURL(u,l.path),g,void 0,f)})}).then(function(u){return d===!0&&o.revokeObjectURL(c),je(u,a),u.userData.mimeType=a.mimeType||hx(a.uri),u}).catch(function(u){throw u});return this.sourceCache[s]=m,m}assignTexture(s,n,i,r){const l=this;return this.getDependency("texture",i.index).then(function(a){if(!a)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(a=a.clone(),a.channel=i.texCoord),l.extensions[O.KHR_TEXTURE_TRANSFORM]){const o=i.extensions!==void 0?i.extensions[O.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const c=l.associations.get(a);a=l.extensions[O.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),l.associations.set(a,c)}}return r!==void 0&&(a.colorSpace=r),s[n]=a,a})}assignFinalMaterial(s){const n=s.geometry;let i=s.material;const r=n.attributes.tangent===void 0,l=n.attributes.color!==void 0,a=n.attributes.normal===void 0;if(s.isPoints){const o="PointsMaterial:"+i.uuid;let c=this.cache.get(o);c||(c=new eo,Jt.prototype.copy.call(c,i),c.color.copy(i.color),c.map=i.map,c.sizeAttenuation=!1,this.cache.add(o,c)),i=c}else if(s.isLine){const o="LineBasicMaterial:"+i.uuid;let c=this.cache.get(o);c||(c=new to,Jt.prototype.copy.call(c,i),c.color.copy(i.color),c.map=i.map,this.cache.add(o,c)),i=c}if(r||l||a){let o="ClonedMaterial:"+i.uuid+":";r&&(o+="derivative-tangents:"),l&&(o+="vertex-colors:"),a&&(o+="flat-shading:");let c=this.cache.get(o);c||(c=i.clone(),l&&(c.vertexColors=!0),a&&(c.flatShading=!0),r&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(o,c),this.associations.set(c,this.associations.get(i))),i=c}s.material=i}getMaterialType(){return Ta}loadMaterial(s){const n=this,i=this.json,r=this.extensions,l=i.materials[s];let a;const o={},c=l.extensions||{},d=[];if(c[O.KHR_MATERIALS_UNLIT]){const u=r[O.KHR_MATERIALS_UNLIT];a=u.getMaterialType(),d.push(u.extendParams(o,l,n))}else{const u=l.pbrMetallicRoughness||{};if(o.color=new Te(1,1,1),o.opacity=1,Array.isArray(u.baseColorFactor)){const x=u.baseColorFactor;o.color.setRGB(x[0],x[1],x[2],ve),o.opacity=x[3]}u.baseColorTexture!==void 0&&d.push(n.assignTexture(o,"map",u.baseColorTexture,Ze)),o.metalness=u.metallicFactor!==void 0?u.metallicFactor:1,o.roughness=u.roughnessFactor!==void 0?u.roughnessFactor:1,u.metallicRoughnessTexture!==void 0&&(d.push(n.assignTexture(o,"metalnessMap",u.metallicRoughnessTexture)),d.push(n.assignTexture(o,"roughnessMap",u.metallicRoughnessTexture))),a=this._invokeOne(function(x){return x.getMaterialType&&x.getMaterialType(s)}),d.push(Promise.all(this._invokeAll(function(x){return x.extendMaterialParams&&x.extendMaterialParams(s,o)})))}l.doubleSided===!0&&(o.side=so);const m=l.alphaMode||fs.OPAQUE;if(m===fs.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,m===fs.MASK&&(o.alphaTest=l.alphaCutoff!==void 0?l.alphaCutoff:.5)),l.normalTexture!==void 0&&a!==ct&&(d.push(n.assignTexture(o,"normalMap",l.normalTexture)),o.normalScale=new zs(1,1),l.normalTexture.scale!==void 0)){const u=l.normalTexture.scale;o.normalScale.set(u,u)}if(l.occlusionTexture!==void 0&&a!==ct&&(d.push(n.assignTexture(o,"aoMap",l.occlusionTexture)),l.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=l.occlusionTexture.strength)),l.emissiveFactor!==void 0&&a!==ct){const u=l.emissiveFactor;o.emissive=new Te().setRGB(u[0],u[1],u[2],ve)}return l.emissiveTexture!==void 0&&a!==ct&&d.push(n.assignTexture(o,"emissiveMap",l.emissiveTexture,Ze)),Promise.all(d).then(function(){const u=new a(o);return l.name&&(u.name=l.name),je(u,l),n.associations.set(u,{materials:s}),l.extensions&&Le(r,u,l),u})}createUniqueName(s){const n=no.sanitizeNodeName(s||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(s){const n=this,i=this.extensions,r=this.primitiveCache;function l(o){return i[O.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,n).then(function(c){return aa(c,o,n)})}const a=[];for(let o=0,c=s.length;o<c;o++){const d=s[o],m=mx(d),u=r[m];if(u)a.push(u.promise);else{let x;d.extensions&&d.extensions[O.KHR_DRACO_MESH_COMPRESSION]?x=l(d):x=aa(new io,d,n),r[m]={primitive:d,promise:x},a.push(x)}}return Promise.all(a)}loadMesh(s){const n=this,i=this.json,r=this.extensions,l=i.meshes[s],a=l.primitives,o=[];for(let c=0,d=a.length;c<d;c++){const m=a[c].material===void 0?ox(this.cache):this.getDependency("material",a[c].material);o.push(m)}return o.push(n.loadGeometries(a)),Promise.all(o).then(function(c){const d=c.slice(0,c.length-1),m=c[c.length-1],u=[];for(let f=0,g=m.length;f<g;f++){const p=m[f],b=a[f];let y;const w=d[f];if(b.mode===de.TRIANGLES||b.mode===de.TRIANGLE_STRIP||b.mode===de.TRIANGLE_FAN||b.mode===void 0)y=l.isSkinnedMesh===!0?new ao(p,w):new $e(p,w),y.isSkinnedMesh===!0&&y.normalizeSkinWeights(),b.mode===de.TRIANGLE_STRIP?y.geometry=ta(y.geometry,Na):b.mode===de.TRIANGLE_FAN&&(y.geometry=ta(y.geometry,js));else if(b.mode===de.LINES)y=new ro(p,w);else if(b.mode===de.LINE_STRIP)y=new lo(p,w);else if(b.mode===de.LINE_LOOP)y=new oo(p,w);else if(b.mode===de.POINTS)y=new co(p,w);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+b.mode);Object.keys(y.geometry.morphAttributes).length>0&&dx(y,l),y.name=n.createUniqueName(l.name||"mesh_"+s),je(y,l),b.extensions&&Le(r,y,b),n.assignFinalMaterial(y),u.push(y)}for(let f=0,g=u.length;f<g;f++)n.associations.set(u[f],{meshes:s,primitives:f});if(u.length===1)return l.extensions&&Le(r,u[0],l),u[0];const x=new Lt;l.extensions&&Le(r,x,l),n.associations.set(x,{meshes:s});for(let f=0,g=u.length;f<g;f++)x.add(u[f]);return x})}loadCamera(s){let n;const i=this.json.cameras[s],r=i[i.type];if(r)return i.type==="perspective"?n=new Ra(mo.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(n=new ho(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(n.name=this.createUniqueName(i.name)),je(n,i),Promise.resolve(n)}loadSkin(s){const n=this.json.skins[s],i=[];for(let r=0,l=n.joints.length;r<l;r++)i.push(this._loadNodeShallow(n.joints[r]));return n.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",n.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const l=r.pop(),a=r,o=[],c=[];for(let d=0,m=a.length;d<m;d++){const u=a[d];if(u){o.push(u);const x=new Gt;l!==null&&x.fromArray(l.array,d*16),c.push(x)}}return new uo(o,c)})}loadAnimation(s){const n=this.json,i=this,r=n.animations[s],l=r.name?r.name:"animation_"+s,a=[],o=[],c=[],d=[],m=[];for(let u=0,x=r.channels.length;u<x;u++){const f=r.channels[u],g=r.samplers[f.sampler],p=f.target,b=p.node,y=r.parameters!==void 0?r.parameters[g.input]:g.input,w=r.parameters!==void 0?r.parameters[g.output]:g.output;p.node!==void 0&&(a.push(this.getDependency("node",b)),o.push(this.getDependency("accessor",y)),c.push(this.getDependency("accessor",w)),d.push(g),m.push(p))}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(c),Promise.all(d),Promise.all(m)]).then(function(u){const x=u[0],f=u[1],g=u[2],p=u[3],b=u[4],y=[];for(let w=0,N=x.length;w<N;w++){const j=x[w],S=f[w],R=g[w],T=p[w],h=b[w];if(j===void 0)continue;j.updateMatrix&&j.updateMatrix();const _=i._createAnimationTracks(j,S,R,T,h);if(_)for(let k=0;k<_.length;k++)y.push(_[k])}return new xo(l,void 0,y)})}createNodeMesh(s){const n=this.json,i=this,r=n.nodes[s];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(l){const a=i._getNodeRef(i.meshCache,r.mesh,l);return r.weights!==void 0&&a.traverse(function(o){if(o.isMesh)for(let c=0,d=r.weights.length;c<d;c++)o.morphTargetInfluences[c]=r.weights[c]}),a})}loadNode(s){const n=this.json,i=this,r=n.nodes[s],l=i._loadNodeShallow(s),a=[],o=r.children||[];for(let d=0,m=o.length;d<m;d++)a.push(i.getDependency("node",o[d]));const c=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([l,Promise.all(a),c]).then(function(d){const m=d[0],u=d[1],x=d[2];x!==null&&m.traverse(function(f){f.isSkinnedMesh&&f.bind(x,ux)});for(let f=0,g=u.length;f<g;f++)m.add(u[f]);return m})}_loadNodeShallow(s){const n=this.json,i=this.extensions,r=this;if(this.nodeCache[s]!==void 0)return this.nodeCache[s];const l=n.nodes[s],a=l.name?r.createUniqueName(l.name):"",o=[],c=r._invokeOne(function(d){return d.createNodeMesh&&d.createNodeMesh(s)});return c&&o.push(c),l.camera!==void 0&&o.push(r.getDependency("camera",l.camera).then(function(d){return r._getNodeRef(r.cameraCache,l.camera,d)})),r._invokeAll(function(d){return d.createNodeAttachment&&d.createNodeAttachment(s)}).forEach(function(d){o.push(d)}),this.nodeCache[s]=Promise.all(o).then(function(d){let m;if(l.isBone===!0?m=new go:d.length>1?m=new Lt:d.length===1?m=d[0]:m=new Aa,m!==d[0])for(let u=0,x=d.length;u<x;u++)m.add(d[u]);if(l.name&&(m.userData.name=l.name,m.name=a),je(m,l),l.extensions&&Le(i,m,l),l.matrix!==void 0){const u=new Gt;u.fromArray(l.matrix),m.applyMatrix4(u)}else l.translation!==void 0&&m.position.fromArray(l.translation),l.rotation!==void 0&&m.quaternion.fromArray(l.rotation),l.scale!==void 0&&m.scale.fromArray(l.scale);if(!r.associations.has(m))r.associations.set(m,{});else if(l.mesh!==void 0&&r.meshCache.refs[l.mesh]>1){const u=r.associations.get(m);r.associations.set(m,{...u})}return r.associations.get(m).nodes=s,m}),this.nodeCache[s]}loadScene(s){const n=this.extensions,i=this.json.scenes[s],r=this,l=new Lt;i.name&&(l.name=r.createUniqueName(i.name)),je(l,i),i.extensions&&Le(n,l,i);const a=i.nodes||[],o=[];for(let c=0,d=a.length;c<d;c++)o.push(r.getDependency("node",a[c]));return Promise.all(o).then(function(c){for(let m=0,u=c.length;m<u;m++)l.add(c[m]);const d=m=>{const u=new Map;for(const[x,f]of r.associations)(x instanceof Jt||x instanceof Cn)&&u.set(x,f);return m.traverse(x=>{const f=r.associations.get(x);f!=null&&u.set(x,f)}),u};return r.associations=d(l),l})}_createAnimationTracks(s,n,i,r,l){const a=[],o=s.name?s.name:s.uuid,c=[];Ae[l.path]===Ae.weights?s.traverse(function(x){x.morphTargetInfluences&&c.push(x.name?x.name:x.uuid)}):c.push(o);let d;switch(Ae[l.path]){case Ae.weights:d=In;break;case Ae.rotation:d=Gn;break;case Ae.translation:case Ae.scale:d=Fn;break;default:switch(i.itemSize){case 1:d=In;break;case 2:case 3:default:d=Fn;break}break}const m=r.interpolation!==void 0?lx[r.interpolation]:_a,u=this._getArrayFromAccessor(i);for(let x=0,f=c.length;x<f;x++){const g=new d(c[x]+"."+Ae[l.path],n.array,u,m);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(g),a.push(g)}return a}_getArrayFromAccessor(s){let n=s.array;if(s.normalized){const i=Ws(n.constructor),r=new Float32Array(n.length);for(let l=0,a=n.length;l<a;l++)r[l]=n[l]*i;n=r}return n}_createCubicSplineTrackInterpolant(s){s.createInterpolant=function(i){const r=this instanceof Gn?rx:dl;return new r(this.times,this.values,this.getValueSize()/3,i)},s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function gx(t,s,n){const i=s.attributes,r=new So;if(i.POSITION!==void 0){const o=n.json.accessors[i.POSITION],c=o.min,d=o.max;if(c!==void 0&&d!==void 0){if(r.set(new Ke(c[0],c[1],c[2]),new Ke(d[0],d[1],d[2])),o.normalized){const m=Ws(Ye[o.componentType]);r.min.multiplyScalar(m),r.max.multiplyScalar(m)}}else return}else return;const l=s.targets;if(l!==void 0){const o=new Ke,c=new Ke;for(let d=0,m=l.length;d<m;d++){const u=l[d];if(u.POSITION!==void 0){const x=n.json.accessors[u.POSITION],f=x.min,g=x.max;if(f!==void 0&&g!==void 0){if(c.setX(Math.max(Math.abs(f[0]),Math.abs(g[0]))),c.setY(Math.max(Math.abs(f[1]),Math.abs(g[1]))),c.setZ(Math.max(Math.abs(f[2]),Math.abs(g[2]))),x.normalized){const p=Ws(Ye[x.componentType]);c.multiplyScalar(p)}o.max(c)}}}r.expandByVector(o)}t.boundingBox=r;const a=new Mo;r.getCenter(a.center),a.radius=r.min.distanceTo(r.max)/2,t.boundingSphere=a}function aa(t,s,n){const i=s.attributes,r=[];function l(a,o){return n.getDependency("accessor",a).then(function(c){t.setAttribute(o,c)})}for(const a in i){const o=Us[a]||a.toLowerCase();o in t.attributes||r.push(l(i[a],o))}if(s.indices!==void 0&&!t.index){const a=n.getDependency("accessor",s.indices).then(function(o){t.setIndex(o)});r.push(a)}return fo.workingColorSpace!==ve&&"COLOR_0"in i,je(t,s),gx(t,s,n),Promise.all(r).then(function(){return s.targets!==void 0?cx(t,s.targets,n):t})}const ra=`
  .medical-gradient {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
  }

  .hologram-glow {
    box-shadow:
      0 0 20px rgba(34, 211, 238, 0.3),
      inset 0 0 20px rgba(34, 211, 238, 0.05);
  }

  .medical-pulse {
    animation: medicalPulse 2s ease-in-out infinite;
  }

  .organ-highlight {
    filter: drop-shadow(0 0 8px currentColor);
    transition: all 0.3s ease;
  }

  .organ-highlight:hover {
    filter: drop-shadow(0 0 16px currentColor);
    transform: scale(1.05);
  }

  .data-stream {
    animation: dataStream 3s linear infinite;
  }

  .neural-network {
    background-image:
      radial-gradient(circle at 20% 50%, rgba(34, 211, 238, 0.1) 0%, transparent 50%),
      radial-gradient(circle at 80% 50%, rgba(147, 51, 234, 0.1) 0%, transparent 50%);
  }

  @keyframes medicalPulse {
    0%, 100% { opacity: 0.7; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.1); }
  }

  @keyframes dataStream {
    0% { transform: translateY(100%); opacity: 0; }
    10%, 90% { opacity: 1; }
    100% { transform: translateY(-100%); opacity: 0; }
  }

  .glass-morphism {
    background: rgba(15, 23, 42, 0.8);
    backdrop-filter: blur(16px);
    border: 1px solid rgba(34, 211, 238, 0.2);
  }

  .critical-alert {
    animation: criticalAlert 1s ease-in-out infinite alternate;
  }

  @keyframes criticalAlert {
    0% { box-shadow: 0 0 20px rgba(239, 68, 68, 0.5); }
    100% { box-shadow: 0 0 30px rgba(239, 68, 68, 0.8); }
  }

  .scan-line {
    animation: scanLine 4s linear infinite;
  }

  @keyframes scanLine {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
  }
`,fx=({biometricData:t,organHealth:s,onOrganClick:n})=>{const i=A.useRef(null),r=A.useRef(null),l=A.useRef(null),a=A.useRef(null);return A.useEffect(()=>{if(!i.current)return;const o=new Ro;o.background=new Te(986915),o.fog=new _o(986915,20,100),r.current=o;const c=new Ra(75,i.current.clientWidth/i.current.clientHeight,.1,1e3);c.position.set(0,6,20);const d=new ko({antialias:!0,alpha:!0,precision:"highp"});d.setSize(i.current.clientWidth,i.current.clientHeight),d.setPixelRatio(Math.min(window.devicePixelRatio,2)),d.setClearColor(986915,1),d.shadowMap.enabled=!0,d.shadowMap.type=Do,d.outputColorSpace=Ze,i.current.appendChild(d.domElement),l.current=d;const m=new Cu,u=new Lt;m.load("/models/FinalBaseMesh.glb",R=>{const T=R.scene;T.scale.setScalar(1.5),T.position.set(0,-2,0),T.traverse(h=>{h instanceof $e&&(h.castShadow=!0,h.receiveShadow=!0,h.material&&(h.material=new le({color:h.material.color||2963272,transparent:!0,opacity:.9,roughness:.3,metalness:.1,clearcoat:.5,clearcoatRoughness:.1})))}),T.traverse(h=>{h instanceof $e&&(h.name.toLowerCase(),h.position)}),u.add(T),o.add(u)},R=>{},R=>{const T=new Po(1,2,8,16),h=new le({color:2963272,transparent:!0,opacity:.9,roughness:.3,metalness:.1,clearcoat:.5,clearcoatRoughness:.1}),_=new $e(T,h);_.position.set(0,0,0),_.castShadow=!0,_.receiveShadow=!0,_.userData={organ:"Musculoskeletal",clickable:!0},u.add(_);const k=new Lo(.75,20,20),C=new le({color:16251644,transparent:!0,opacity:.95,roughness:.8,metalness:0}),L=new $e(k,C);L.position.set(0,2.8,0),L.castShadow=!0,L.userData={organ:"Brain",clickable:!0},u.add(L),o.add(u)});const x=new Eo(4210752,.4);o.add(x);const f=new Pt(16777215,1);f.position.set(5,5,5),f.castShadow=!0,f.shadow.mapSize.width=2048,f.shadow.mapSize.height=2048,o.add(f);const g=new Pt(4405450,.4);g.position.set(-5,2,-5),o.add(g);const p=new Pt(2278750,.2);p.position.set(0,0,-5),o.add(p);const b=new Co,y=new zs,w=R=>{const T=d.domElement.getBoundingClientRect();y.x=(R.clientX-T.left)/T.width*2-1,y.y=-((R.clientY-T.top)/T.height)*2+1,b.setFromCamera(y,c);const h=[];u.traverse(k=>{h.push(k)});const _=b.intersectObjects(h,!0);if(_.length>0){const k=_[0].object;k.userData&&k.userData.clickable&&n(k.userData.organ)}};d.domElement.addEventListener("click",w);const N=R=>{R.preventDefault();const T=.5,h=8,_=35,k=c.position.z+(R.deltaY>0?T:-T);c.position.z=Math.max(h,Math.min(_,k))};d.domElement.addEventListener("wheel",N);const j=()=>{if(a.current=requestAnimationFrame(j),u.rotation.y+=.001,u.children.length>0){const R=u.children[0];R.traverse(h=>{if(h instanceof $e&&h.userData.organ==="Heart"){const _=1+Math.sin(Date.now()*.002)*.08;h.scale.setScalar(_)}});const T=1+Math.sin(Date.now()*.001)*.02;R.scale.set(T,1,T)}d.render(o,c)};j();const S=()=>{i.current&&(c.aspect=i.current.clientWidth/i.current.clientHeight,c.updateProjectionMatrix(),d.setSize(i.current.clientWidth,i.current.clientHeight))};return window.addEventListener("resize",S),d.render(o,c),()=>{window.removeEventListener("resize",S),a.current&&cancelAnimationFrame(a.current),d.domElement.removeEventListener("click",w),d.domElement.removeEventListener("wheel",N),i.current&&d.domElement.parentNode&&i.current.removeChild(d.domElement),d.dispose()}},[t,s,n]),e.jsx("div",{ref:i,className:"w-full h-full min-h-[750px] bg-gradient-to-b from-slate-900 to-slate-800 rounded-lg relative",style:{position:"relative"},children:e.jsx(ne.div,{initial:{opacity:1,y:10},animate:{opacity:0,y:-10},transition:{delay:3,duration:1},className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-slate-800/90 backdrop-blur-md rounded-lg px-4 py-2 border border-cyan-400/40 pointer-events-none",children:e.jsxs("div",{className:"text-cyan-300 text-sm font-medium flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})}),"Use mouse wheel to zoom in/out"]})})})},px=({athleteId:t,medicalMode:s=!0,realTimeUpdates:n=!0})=>{const[i,r]=A.useState(!0),[l,a]=A.useState(null),[o,c]=A.useState(void 0),[d,m]=A.useState([]),[u,x]=A.useState([]),[f,g]=A.useState([]),[p,b]=A.useState(null),[y,w]=A.useState("overview"),[N,j]=A.useState(n),[S,R]=A.useState([]),[T,h]=A.useState(!1),[_,k]=A.useState(!1);A.useEffect(()=>{t&&(async()=>{try{r(!0),a(null);const D=typeof t=="string"?parseInt(t,10):t,I=await et.getAthleteData(D);c(I.athlete),m(I.biometricData),x(I.geneticProfile),g(I.bodyComposition),s&&C(I)}catch{a("Failed to load comprehensive medical data")}finally{r(!1)}})()},[t,s]);const C=M=>{const D=[];if(M.biometricData?.length>0){const I=M.biometricData[M.biometricData.length-1];I.resting_hr>80&&D.push({id:"hr-alert",type:"warning",message:`Elevated resting heart rate detected: ${I.resting_hr} BPM`,timestamp:new Date().toISOString()}),I.spo2_night<95&&D.push({id:"oxygen-alert",type:"critical",message:`Low oxygen saturation: ${I.spo2_night}%`,timestamp:new Date().toISOString()}),I.hrv_night<30&&D.push({id:"hrv-alert",type:"warning",message:`Low HRV indicates elevated stress: ${I.hrv_night}ms`,timestamp:new Date().toISOString()})}R(D)},L=A.useMemo(()=>{const M=d.length>0?d.sort((it,at)=>new Date(at.date).getTime()-new Date(it.date).getTime())[0]:null,D={heart_rate:Math.round(M?.resting_hr||68),hrv:Math.round(M?.hrv_night||45),blood_pressure_systolic:Math.round(M?.blood_pressure_systolic||0),blood_pressure_diastolic:Math.round(M?.blood_pressure_diastolic||0),temperature:Number((M?.temp_trend_c||36.6).toFixed(1)),oxygen_saturation:Math.round(M?.spo2_night||98),respiratory_rate:Math.round(M?.resp_rate_night||16),stress_level:M?.training_load_pct?Math.min(100,Math.round(M.training_load_pct)):23,blood_glucose:95,cortisol_level:12.5,inflammation_markers:2.1,recovery_score:M?.hrv_night?Math.min(100,Math.round(M.hrv_night/100*100)):88,timestamp:new Date().toISOString()},I={dna_health_score:87,genetic_markers:{cardiovascular_risk:"low",metabolic_efficiency:"excellent",recovery_rate:"fast",injury_predisposition:"low",endurance_capacity:"high",strength_potential:"high"},nutrigenomics:{vitamin_d_metabolism:"Efficient",caffeine_metabolism:"Fast",carbohydrate_response:"Balanced",protein_utilization:"Excellent",fat_metabolism:"Efficient"},pharmacogenomics:{pain_medication_response:"Normal",anti_inflammatory_response:"Rapid",cardiovascular_medication:"Responsive"},disease_risk_factors:{diabetes_risk:15,cardiovascular_disease_risk:8,osteoporosis_risk:12,cancer_predisposition:5}},Q={skeletal_muscle_mass:35.2,body_fat_percentage:12.8,visceral_fat_level:3,bone_density_score:1.2,hydration_level:78,segmental_analysis:{left_arm:{muscle:8.5,fat:12.2},right_arm:{muscle:8.7,fat:11.8},left_leg:{muscle:12.1,fat:14.5},right_leg:{muscle:12.3,fat:14.2},trunk:{muscle:28.6,fat:18.3}},metabolic_rate:{bmr:1850,tdee:2850}},ae={duration_hours:M?.sleep_duration_h||7.8,quality_score:85,sleep_stages:{deep_sleep_minutes:Math.round((M?.deep_sleep_pct||0)*(M?.sleep_duration_h||7.8)*60/100),light_sleep_minutes:Math.round((M?.light_sleep_pct||0)*(M?.sleep_duration_h||7.8)*60/100),rem_sleep_minutes:Math.round((M?.rem_sleep_pct||0)*(M?.sleep_duration_h||7.8)*60/100),awake_minutes:Math.round((M?.light_sleep_pct||0)*(M?.sleep_duration_h||7.8)*60/100)},sleep_efficiency:92,recovery_score:M?.hrv_night?Math.round(M.hrv_night/100*100):88,sleep_debt:.5,circadian_rhythm_score:87},De=[{organ:"Heart",health_score:M?.resting_hr&&M.resting_hr<70?92:M?.resting_hr&&M.resting_hr<80?85:78,status:M?.resting_hr&&M.resting_hr<70?"excellent":M?.resting_hr&&M.resting_hr<80?"good":"fair",biomarkers:[{name:"Troponin",value:.02,unit:"ng/mL",status:"normal"},{name:"BNP",value:45,unit:"pg/mL",status:"normal"},{name:"CRP",value:1.2,unit:"mg/L",status:"normal"}],issues:M?.resting_hr&&M.resting_hr>80?["Elevated resting heart rate"]:[],recommendations:M?.resting_hr&&M.resting_hr<70?["Maintain current activity level"]:["Consider cardio training"],risk_factors:["Family history of CVD","High-intensity training"],last_assessment:new Date().toISOString()},{organ:"Lungs",health_score:M?.spo2_night&&M.spo2_night>95?88:82,status:M?.spo2_night&&M.spo2_night>95?"good":"fair",biomarkers:[{name:"SpO2",value:M?.spo2_night||98,unit:"%",status:"normal"},{name:"FEV1",value:4.2,unit:"L",status:"normal"},{name:"FVC",value:5.1,unit:"L",status:"normal"}],issues:M?.spo2_night&&M.spo2_night<=95?["Low oxygen saturation"]:[],recommendations:["Continue cardio training"],risk_factors:["Exercise-induced asthma","Environmental allergens"],last_assessment:new Date().toISOString()},{organ:"Brain",health_score:M?.hrv_night&&M.hrv_night>40?85:78,status:M?.hrv_night&&M.hrv_night>40?"good":"fair",biomarkers:[{name:"BDNF",value:12.5,unit:"ng/mL",status:"normal"},{name:"Tau Protein",value:180,unit:"pg/mL",status:"normal"},{name:"Amyloid-Œ≤",value:850,unit:"pg/mL",status:"normal"}],issues:M?.hrv_night&&M.hrv_night<=40?["Low HRV indicates stress"]:[],recommendations:["Regular cognitive exercises"],risk_factors:["Concussion history","Sleep deprivation"],last_assessment:new Date().toISOString()},{organ:"Liver",health_score:90,status:"excellent",biomarkers:[{name:"ALT",value:28,unit:"U/L",status:"normal"},{name:"AST",value:32,unit:"U/L",status:"normal"},{name:"Bilirubin",value:.8,unit:"mg/dL",status:"normal"}],issues:[],recommendations:["Maintain healthy diet"],risk_factors:["Previous supplement use"],last_assessment:new Date().toISOString()},{organ:"Kidneys",health_score:87,status:"good",biomarkers:[{name:"Creatinine",value:.9,unit:"mg/dL",status:"normal"},{name:"BUN",value:18,unit:"mg/dL",status:"normal"},{name:"GFR",value:95,unit:"mL/min",status:"normal"}],issues:[],recommendations:["Stay hydrated"],risk_factors:["Dehydration risk"],last_assessment:new Date().toISOString()},{organ:"Musculoskeletal",health_score:f.length>0?83:80,status:"good",biomarkers:[{name:"CK",value:145,unit:"U/L",status:"normal"},{name:"Myoglobin",value:35,unit:"ng/mL",status:"normal"},{name:"Vitamin D",value:42,unit:"ng/mL",status:"normal"}],issues:[],recommendations:["Continue posture exercises"],risk_factors:["High-impact training"],last_assessment:new Date().toISOString()}];return{biometricData:D,geneticsData:I,bodyCompData:Q,sleepArch:ae,organHealth:De}},[d,u,f]),P=M=>{switch(M){case"excellent":return"text-emerald-400 border-emerald-400";case"good":return"text-blue-400 border-blue-400";case"fair":return"text-yellow-400 border-yellow-400";case"poor":return"text-orange-400 border-orange-400";case"critical":return"text-red-400 border-red-400 critical-alert";default:return"text-gray-400 border-gray-400"}},E=M=>M>=90?"text-emerald-400":M>=80?"text-blue-400":M>=70?"text-yellow-400":M>=60?"text-orange-400":"text-red-400",G=M=>{switch(M){case"critical":return e.jsx(Me,{className:"w-4 h-4"});case"warning":return e.jsx(ja,{className:"w-4 h-4"});default:return e.jsx(ys,{className:"w-4 h-4"})}};return i?e.jsxs("div",{className:"min-h-screen medical-gradient flex items-center justify-center relative overflow-hidden",children:[e.jsx("style",{children:ra}),e.jsx("div",{className:"scan-line absolute inset-0 bg-gradient-to-b from-transparent via-cyan-400/20 to-transparent"}),e.jsxs("div",{className:"text-center z-10",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-2 border-cyan-400/30 border-t-cyan-400 mx-auto mb-6"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-purple-400/20 animate-pulse"})]}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Medical Analysis in Progress"}),e.jsx("p",{className:"text-gray-300 text-lg",children:"Scanning biometric data, genetic profile, and body composition..."}),e.jsxs("div",{className:"mt-4 flex justify-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse"}),e.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})]})]}):l||!o?e.jsx("div",{className:"min-h-screen medical-gradient flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-8 glass-morphism rounded-2xl",children:[e.jsx("div",{className:"text-red-400 text-6xl mb-6",children:e.jsx(Sl,{className:"w-16 h-16 mx-auto"})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Medical Data Unavailable"}),e.jsx("p",{className:"text-gray-300 mb-6",children:l||"Athlete medical profile not found"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-6 py-3 bg-gradient-to-r from-cyan-600 to-blue-600 text-white rounded-lg hover:from-cyan-700 hover:to-blue-700 transition-all duration-300 hologram-glow",children:"Retry Medical Scan"}),e.jsx("button",{onClick:()=>w("diagnostic"),className:"w-full px-6 py-3 bg-slate-700/50 text-gray-300 rounded-lg hover:bg-slate-600/50 transition-colors",children:"Enter Diagnostic Mode"})]})]})}):e.jsxs("div",{className:"min-h-screen medical-gradient p-4 relative overflow-hidden",children:[e.jsx("style",{children:ra}),e.jsx("div",{className:"neural-network absolute inset-0 opacity-30"}),T&&e.jsx("div",{className:"scan-line absolute inset-0 bg-gradient-to-b from-transparent via-cyan-400/10 to-transparent pointer-events-none"}),e.jsxs("div",{className:"max-w-8xl mx-auto relative z-10",children:[e.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[e.jsxs("div",{className:"text-center lg:text-left",children:[e.jsxs("h1",{className:"text-5xl font-bold text-white mb-3 flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ml,{className:"w-12 h-12 text-cyan-400 medical-pulse"}),e.jsx("div",{className:"absolute inset-0 w-12 h-12 border-2 border-cyan-400/30 rounded-full animate-ping"})]}),e.jsxs("div",{children:["Medical Digital Twin",e.jsx("span",{className:"block text-2xl text-cyan-400 font-normal",children:"Advanced Diagnostics"})]})]}),e.jsxs("p",{className:"text-xl text-gray-300",children:["Comprehensive Health Analytics for ",o.name]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("button",{onClick:()=>j(!N),className:`px-4 py-2 rounded-lg transition-all duration-300 ${N?"bg-green-600/20 text-green-400 border border-green-400/50 hologram-glow":"bg-slate-700/50 text-gray-400 border border-slate-600/50"}`,children:[e.jsx(xe,{className:"w-4 h-4 inline mr-2"}),"Real-time"]}),e.jsxs("button",{onClick:()=>h(!T),className:`px-4 py-2 rounded-lg transition-all duration-300 ${T?"bg-cyan-600/20 text-cyan-400 border border-cyan-400/50 hologram-glow":"bg-slate-700/50 text-gray-400 border border-slate-600/50"}`,children:[e.jsx(kn,{className:"w-4 h-4 inline mr-2"}),"Scan Mode"]}),e.jsx("button",{onClick:()=>k(!_),className:`px-4 py-2 rounded-lg transition-all duration-300 ${_?"bg-purple-600/20 text-purple-400 border border-purple-400/50 hologram-glow":"bg-slate-700/50 text-gray-400 border border-slate-600/50"}`,children:_?e.jsx(Tl,{className:"w-4 h-4"}):e.jsx(Rl,{className:"w-4 h-4"})}),e.jsxs("select",{value:y,onChange:M=>w(M.target.value),className:"px-4 py-2 bg-slate-700/50 border border-slate-600/50 rounded-lg text-white focus:outline-none focus:border-cyan-400/50",children:[e.jsx("option",{value:"overview",children:"Overview"}),e.jsx("option",{value:"detailed",children:"Detailed Analysis"}),e.jsx("option",{value:"diagnostic",children:"Diagnostic Mode"})]})]})]}),S.length>0&&e.jsxs(ne.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-6 bg-slate-800/60 backdrop-blur-sm rounded-xl p-4 border border-red-400/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Me,{className:"w-5 h-5 text-red-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Medical Alerts"})]}),e.jsx("div",{className:"space-y-2",children:S.map(M=>e.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border ${M.type==="critical"?"bg-red-900/20 border-red-400/50":M.type==="warning"?"bg-yellow-900/20 border-yellow-400/50":"bg-blue-900/20 border-blue-400/50"}`,children:[G(M.type),e.jsx("span",{className:"text-gray-200 flex-1",children:M.message}),e.jsx("span",{className:"text-xs text-gray-400",children:new Date(M.timestamp).toLocaleTimeString()})]},M.id))})]})]}),e.jsxs(sm,{mode:"wait",children:[y==="overview"&&e.jsxs(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[e.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"xl:col-span-1 space-y-6",children:[e.jsxs("div",{className:"glass-morphism rounded-xl p-6 hologram-glow",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(Dt,{className:"w-5 h-5 text-red-400 medical-pulse"}),"Critical Vitals"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-slate-800/50 rounded-lg",children:[e.jsx(Dt,{className:"w-8 h-8 text-red-400 mx-auto mb-2 medical-pulse"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:L.biometricData.heart_rate}),e.jsx("div",{className:"text-xs text-gray-400",children:"BPM"})]}),e.jsxs("div",{className:"text-center p-3 bg-slate-800/50 rounded-lg",children:[e.jsx(_l,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[L.biometricData.blood_pressure_systolic,"/",L.biometricData.blood_pressure_diastolic]}),e.jsx("div",{className:"text-xs text-gray-400",children:"BP"})]}),e.jsxs("div",{className:"text-center p-3 bg-slate-800/50 rounded-lg",children:[e.jsx(kl,{className:"w-8 h-8 text-orange-400 mx-auto mb-2"}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[L.biometricData.temperature,"¬∞"]}),e.jsx("div",{className:"text-xs text-gray-400",children:"Temp"})]}),e.jsxs("div",{className:"text-center p-3 bg-slate-800/50 rounded-lg",children:[e.jsx(Yt,{className:"w-8 h-8 text-cyan-400 mx-auto mb-2"}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[L.biometricData.oxygen_saturation,"%"]}),e.jsx("div",{className:"text-xs text-gray-400",children:"SpO2"})]})]})]}),e.jsxs("div",{className:"glass-morphism rounded-xl p-6 hologram-glow",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Dn,{className:"w-6 h-6 text-cyan-400"}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"DNA Health Score"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-6xl font-bold mb-3 ${E(L.geneticsData.dna_health_score)}`,children:[L.geneticsData.dna_health_score,"%"]}),e.jsx("div",{className:"w-full bg-slate-700 rounded-full h-4 mb-3",children:e.jsx(ne.div,{initial:{width:0},animate:{width:`${L.geneticsData.dna_health_score}%`},transition:{duration:1.5,delay:.5},className:"bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 h-4 rounded-full"})}),e.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Overall Genetic Health Rating"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Diabetes Risk"}),e.jsxs("span",{className:"text-emerald-400",children:[L.geneticsData.disease_risk_factors.diabetes_risk,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"CVD Risk"}),e.jsxs("span",{className:"text-emerald-400",children:[L.geneticsData.disease_risk_factors.cardiovascular_disease_risk,"%"]})]})]})]})]}),e.jsxs("div",{className:"glass-morphism rounded-xl p-6 hologram-glow",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(Zt,{className:"w-5 h-5 text-green-400"}),"Body Composition"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300",children:"Muscle Mass"}),e.jsxs("span",{className:"text-white font-semibold",children:[L.bodyCompData.skeletal_muscle_mass,"kg"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300",children:"Body Fat"}),e.jsxs("span",{className:"text-white font-semibold",children:[L.bodyCompData.body_fat_percentage,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300",children:"Hydration"}),e.jsxs("span",{className:"text-white font-semibold",children:[L.bodyCompData.hydration_level,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300",children:"BMR"}),e.jsx("span",{className:"text-white font-semibold",children:L.bodyCompData.metabolic_rate.bmr})]})]})]})]}),e.jsx(ne.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4},className:"xl:col-span-3",children:e.jsxs("div",{className:"glass-morphism rounded-xl p-4 min-h-[700px] relative overflow-hidden bg-gradient-to-b from-slate-900/50 to-slate-800/50",children:[e.jsx(fx,{biometricData:L.biometricData,organHealth:L.organHealth,onOrganClick:b}),e.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[e.jsx("button",{onClick:()=>j(!N),className:`p-2 rounded-lg transition-all duration-300 ${N?"bg-green-600/20 text-green-400 border border-green-400/50 hologram-glow":"bg-slate-700/50 text-gray-400 border border-slate-600/50"}`,title:N?"Stop Auto Rotation":"Start Auto Rotation",children:N?e.jsx(Dl,{className:"w-4 h-4"}):e.jsx(Pl,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>h(!T),className:`p-2 rounded-lg transition-all duration-300 ${T?"bg-cyan-600/20 text-cyan-400 border border-cyan-400/50 hologram-glow":"bg-slate-700/50 text-gray-400 border border-slate-600/50"}`,title:"Toggle Scan Mode",children:e.jsx(kn,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10",children:e.jsxs("svg",{width:"100%",height:"100%",className:"w-full h-full",children:[e.jsx("defs",{children:e.jsx("pattern",{id:"medicalGrid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"#00ffff",strokeWidth:"0.5"})})}),e.jsx("rect",{width:"100%",height:"100%",fill:"url(#medicalGrid)"})]})}),e.jsxs(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.5},className:"absolute top-4 left-4 space-y-2",children:[e.jsx("div",{className:"bg-slate-800/90 backdrop-blur-md rounded-lg px-3 py-2 border border-red-400/40 min-w-[120px]",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Dt,{className:"w-4 h-4 text-red-400 medical-pulse"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-semibold",children:L.biometricData.heart_rate}),e.jsx("div",{className:"text-xs text-gray-400",children:"BPM"})]})]})}),e.jsx("div",{className:"bg-slate-800/90 backdrop-blur-md rounded-lg px-3 py-2 border border-cyan-400/40 min-w-[120px]",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yt,{className:"w-4 h-4 text-cyan-400"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-white font-semibold",children:[L.biometricData.oxygen_saturation,"%"]}),e.jsx("div",{className:"text-xs text-gray-400",children:"SpO2"})]})]})}),e.jsx("div",{className:"bg-slate-800/90 backdrop-blur-md rounded-lg px-3 py-2 border border-purple-400/40 min-w-[120px]",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"w-4 h-4 text-purple-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-semibold",children:L.biometricData.hrv}),e.jsx("div",{className:"text-xs text-gray-400",children:"HRV"})]})]})})]}),e.jsxs(ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:1.8},className:"absolute top-4 right-4 space-y-2",children:[e.jsx("div",{className:"bg-slate-800/90 backdrop-blur-md rounded-lg px-3 py-2 border border-green-400/40 min-w-[140px]",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zt,{className:"w-4 h-4 text-green-400"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-white font-semibold",children:[L.bodyCompData.skeletal_muscle_mass,"kg"]}),e.jsx("div",{className:"text-xs text-gray-400",children:"Muscle Mass"})]})]})}),e.jsx("div",{className:"bg-slate-800/90 backdrop-blur-md rounded-lg px-3 py-2 border border-yellow-400/40 min-w-[140px]",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pn,{className:"w-4 h-4 text-yellow-400"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-white font-semibold",children:[L.bodyCompData.body_fat_percentage,"%"]}),e.jsx("div",{className:"text-xs text-gray-400",children:"Body Fat"})]})]})}),e.jsx("div",{className:"bg-slate-800/90 backdrop-blur-md rounded-lg px-3 py-2 border border-orange-400/40 min-w-[140px]",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ln,{className:"w-4 h-4 text-orange-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-semibold",children:L.bodyCompData.metabolic_rate.bmr}),e.jsx("div",{className:"text-xs text-gray-400",children:"BMR (cal)"})]})]})})]}),e.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2.2},className:"absolute bottom-4 right-4",children:e.jsx("div",{className:"bg-slate-800/90 backdrop-blur-md rounded-lg px-4 py-3 border border-green-400/40",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-green-400 font-semibold text-sm",children:"Real-time Monitoring"}),e.jsx("div",{className:"text-gray-300 text-xs",children:"Medical Digital Twin Active"})]})]})})})]})})]},"overview"),y==="detailed"&&e.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:L.organHealth.map((M,D)=>e.jsxs(ne.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:D*.1},className:`glass-morphism rounded-xl p-6 border-2 ${P(M.status)} cursor-pointer hover:scale-105 transition-all duration-300`,onClick:()=>b(M.organ),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:M.organ}),e.jsxs("div",{className:`text-2xl font-bold ${E(M.health_score)}`,children:[M.health_score,"%"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300",children:"Status"}),e.jsx("span",{className:`font-semibold capitalize ${E(M.health_score)}`,children:M.status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-300",children:"Key Biomarkers"}),M.biomarkers.slice(0,2).map((I,Q)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:I.name}),e.jsxs("span",{className:`font-medium ${I.status==="normal"?"text-green-400":I.status==="elevated"?"text-yellow-400":"text-red-400"}`,children:[I.value," ",I.unit]})]},Q))]}),M.issues.length>0&&e.jsxs("div",{className:"mt-3 p-2 bg-red-900/20 rounded-lg border border-red-400/30",children:[e.jsx("div",{className:"text-xs text-red-400 font-semibold",children:"Issues Detected"}),e.jsx("div",{className:"text-xs text-gray-300 mt-1",children:M.issues[0]})]})]})]},M.organ))})},"detailed"),y==="diagnostic"&&e.jsx(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.05},className:"space-y-6",children:e.jsxs("div",{className:"glass-morphism rounded-xl p-8",children:[e.jsxs("h2",{className:"text-3xl font-bold text-white mb-6 flex items-center gap-3",children:[e.jsx(Ll,{className:"w-8 h-8 text-cyan-400"}),"Advanced Medical Diagnostics"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[e.jsx(Dn,{className:"w-6 h-6 text-cyan-400"}),"Comprehensive Genetic Profile"]}),e.jsx("div",{className:"space-y-4",children:Object.entries(L.geneticsData.genetic_markers).map(([M,D])=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-800/50 rounded-lg",children:[e.jsx("span",{className:"text-gray-300 capitalize",children:M.replace("_"," ")}),e.jsx("span",{className:`font-semibold px-3 py-1 rounded-full text-sm ${D==="excellent"||D==="fast"?"bg-emerald-900/50 text-emerald-400":D==="normal"||D==="medium"||D==="average"?"bg-blue-900/50 text-blue-400":D==="poor"||D==="slow"?"bg-yellow-900/50 text-yellow-400":"bg-emerald-900/50 text-emerald-400"}`,children:D})]},M))}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[e.jsx(El,{className:"w-5 h-5 text-purple-400"}),"Pharmacogenomics"]}),e.jsx("div",{className:"space-y-2",children:Object.entries(L.geneticsData.pharmacogenomics).map(([M,D])=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400 capitalize",children:M.replace("_"," ")}),e.jsx("span",{className:"text-cyan-400 font-medium",children:D})]},M))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[e.jsx(Zt,{className:"w-6 h-6 text-green-400"}),"Advanced Body Composition"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-slate-800/50 rounded-lg",children:[e.jsx(Cl,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:L.bodyCompData.skeletal_muscle_mass}),e.jsx("div",{className:"text-sm text-gray-400",children:"Muscle Mass (kg)"})]}),e.jsxs("div",{className:"text-center p-4 bg-slate-800/50 rounded-lg",children:[e.jsx(Pn,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:L.bodyCompData.body_fat_percentage}),e.jsx("div",{className:"text-sm text-gray-400",children:"Body Fat (%)"})]}),e.jsxs("div",{className:"text-center p-4 bg-slate-800/50 rounded-lg",children:[e.jsx(Yt,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:L.bodyCompData.hydration_level}),e.jsx("div",{className:"text-sm text-gray-400",children:"Hydration (%)"})]}),e.jsxs("div",{className:"text-center p-4 bg-slate-800/50 rounded-lg",children:[e.jsx(Ln,{className:"w-8 h-8 text-orange-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:L.bodyCompData.metabolic_rate.bmr}),e.jsx("div",{className:"text-sm text-gray-400",children:"BMR (cal)"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Segmental Analysis"}),e.jsx("div",{className:"space-y-2",children:Object.entries(L.bodyCompData.segmental_analysis).map(([M,D])=>e.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-slate-800/30 rounded",children:[e.jsx("span",{className:"text-gray-400 capitalize",children:M.replace("_"," ")}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("span",{className:"text-green-400",children:["M: ",D.muscle,"kg"]}),e.jsxs("span",{className:"text-yellow-400",children:["F: ",D.fat,"%"]})]})]},M))})]})]})]})]})},"diagnostic")]}),p&&e.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:()=>b(null),children:e.jsx(ne.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"glass-morphism rounded-xl p-8 max-w-2xl w-full max-h-[80vh] overflow-y-auto",onClick:M=>M.stopPropagation(),children:(()=>{const M=L.organHealth.find(D=>D.organ===p);return M?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-3xl font-bold text-white",children:[M.organ," Analysis"]}),e.jsx("button",{onClick:()=>b(null),className:"text-gray-400 hover:text-white transition-colors",children:"‚úï"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Health Metrics"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Health Score"}),e.jsxs("span",{className:`font-bold ${E(M.health_score)}`,children:[M.health_score,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Status"}),e.jsx("span",{className:`font-semibold capitalize ${E(M.health_score)}`,children:M.status})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Last Assessment"}),e.jsx("span",{className:"text-gray-400 text-sm",children:new Date(M.last_assessment).toLocaleDateString()})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Biomarkers"}),e.jsx("div",{className:"space-y-2",children:M.biomarkers.map((D,I)=>e.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-800/50 rounded",children:[e.jsx("span",{className:"text-gray-300",children:D.name}),e.jsxs("span",{className:`font-medium ${D.status==="normal"?"text-green-400":D.status==="elevated"?"text-yellow-400":"text-red-400"}`,children:[D.value," ",D.unit]})]},I))})]})]}),M.issues.length>0&&e.jsxs("div",{className:"p-4 bg-red-900/20 rounded-lg border border-red-400/30",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-2",children:"Issues Detected"}),e.jsx("ul",{className:"list-disc list-inside text-gray-300 space-y-1",children:M.issues.map((D,I)=>e.jsx("li",{children:D},I))})]}),e.jsxs("div",{className:"p-4 bg-blue-900/20 rounded-lg border border-blue-400/30",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-2",children:"Recommendations"}),e.jsx("ul",{className:"list-disc list-inside text-gray-300 space-y-1",children:M.recommendations.map((D,I)=>e.jsx("li",{children:D},I))})]}),M.risk_factors.length>0&&e.jsxs("div",{className:"p-4 bg-yellow-900/20 rounded-lg border border-yellow-400/30",children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-400 mb-2",children:"Risk Factors"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:M.risk_factors.map((D,I)=>e.jsx("span",{className:"px-2 py-1 bg-yellow-900/30 text-yellow-300 rounded-full text-sm",children:D},I))})]})]}):null})()})})]})]})},bx=({athleteId:t})=>{const[s,n]=A.useState([]),[i,r]=A.useState([]),[l,a]=A.useState(!0),[o,c]=A.useState(null),[d,m]=A.useState("");A.useEffect(()=>{t&&(async()=>{try{a(!0),c(null);const b=parseInt(t,10);if(isNaN(b))throw new Error("Invalid athlete ID");const y=await Ve.getPharmacogenomicsByAthlete(b);n(y);const w=await Ve.getGeneticProfileByAthlete(b);r(w),m(`Athlete ${t}`)}catch(b){c(b instanceof Error?b.message:"Failed to load genetic data")}finally{a(!1)}})()},[t]);const u=A.useMemo(()=>{const p=[],b=[{medication:"Ibuprofen",gene:"General",genotype:"Standard",effect:"Standard anti-inflammatory response",recommendation:"Safe for short-term use, monitor stomach",riskLevel:"low",category:"safe",athleticRelevance:"high",commonUse:"Post-training soreness",dosage:"400-800mg every 6-8 hours as needed",alternatives:["Acetaminophen","Naproxen"],interactions:["Aspirin","Blood thinners"]},{medication:"Acetaminophen",gene:"General",genotype:"Standard",effect:"Standard pain relief without anti-inflammatory effects",recommendation:"Safe for pain relief, liver-safe dosing",riskLevel:"low",category:"safe",athleticRelevance:"high",commonUse:"Headache and general pain",dosage:"500-1000mg every 4-6 hours as needed",alternatives:["Ibuprofen","Aspirin"],interactions:["Alcohol","Liver medications"]},{medication:"Caffeine",gene:"ADORA2A",genotype:"Standard",effect:"Performance enhancement through adenosine receptor",recommendation:"Effective for endurance and focus",riskLevel:"low",category:"safe",athleticRelevance:"high",commonUse:"Pre-training stimulation",dosage:"200-400mg 30-60 minutes before activity",alternatives:["Green tea extract","Guarana"],interactions:["Stimulants","Heart medications"]},{medication:"Albuterol",gene:"ADRB2",genotype:"Standard",effect:"Bronchodilation for improved breathing",recommendation:"Effective for exercise-induced bronchoconstriction",riskLevel:"low",category:"safe",athleticRelevance:"high",commonUse:"Asthma and breathing support",dosage:"2 puffs as needed before exercise",alternatives:["Levalbuterol","Ipratropium"],interactions:["Beta-blockers","Heart medications"]},{medication:"Vitamin K",gene:"VKORC1",genotype:"Standard",effect:"Can interfere with blood thinning medications",recommendation:"Monitor intake if on anticoagulants",riskLevel:"medium",category:"caution",athleticRelevance:"medium",commonUse:"Bone health supplement",dosage:"90-120mcg daily from food sources",alternatives:["Calcium","Vitamin D"],interactions:["Warfarin","Blood thinners"]}];return p.push(...b),s.length>0&&s.forEach(y=>{y.medication&&y.medication!=="Unknown Medication"&&y.medication.trim()!==""&&y.interpretation_code&&y.interpretation_code!=="Effect not specified"&&p.push({medication:y.medication,gene:y.gene||"Unknown Gene",genotype:y.genetic_call||y.known_call||"Unknown Genotype",effect:y.interpretation_code,recommendation:y.override_comment||"Monitor response and adjust as needed",riskLevel:(y.summary_flag||"medium").toLowerCase(),category:"caution",athleticRelevance:"medium",commonUse:"Genetic-specific medication response"})}),i.forEach(y=>{switch(y.gene){case"CYP2D6":y.genotype.includes("Poor")?p.push({medication:"Codeine",gene:y.gene,genotype:y.genotype,effect:"Poor metabolism - may be ineffective",recommendation:"Avoid codeine, consider alternative pain relief",riskLevel:"high",category:"avoid",athleticRelevance:"high",commonUse:"Post-injury pain relief"}):y.genotype.includes("Ultra")&&p.push({medication:"Codeine",gene:y.gene,genotype:y.genotype,effect:"Ultra-rapid metabolism - risk of toxicity",recommendation:"Avoid codeine, risk of overdose",riskLevel:"high",category:"avoid",athleticRelevance:"high",commonUse:"Post-injury pain relief"});break;case"CYP2C19":y.genotype.includes("Poor")&&p.push({medication:"Omeprazole",gene:y.gene,genotype:y.genotype,effect:"Poor metabolism - reduced effectiveness",recommendation:"Higher doses may be needed or alternative PPI",riskLevel:"medium",category:"caution",athleticRelevance:"medium",commonUse:"GERD treatment"});break;case"SLCO1B1":y.genotype==="CC"?p.push({medication:"Atorvastatin",gene:y.gene,genotype:y.genotype,effect:"Increased risk of statin-induced myopathy",recommendation:"Monitor for muscle pain, consider lower doses",riskLevel:"medium",category:"caution",athleticRelevance:"medium",commonUse:"Cholesterol management"}):(y.genotype==="CT"||y.genotype==="TT")&&p.push({medication:"Atorvastatin",gene:y.gene,genotype:y.genotype,effect:"Significantly increased risk of myopathy",recommendation:"Avoid statins or use very low doses with monitoring",riskLevel:"high",category:"avoid",athleticRelevance:"medium",commonUse:"Cholesterol management"});break;case"VKORC1":p.push({medication:"Warfarin",gene:y.gene,genotype:y.genotype,effect:"Affects warfarin sensitivity",recommendation:y.genotype==="AA"?"May require higher warfarin doses":y.genotype==="AG"?"Standard dosing appropriate":"May require lower warfarin doses",riskLevel:y.genotype==="AA"?"medium":y.genotype==="GG"?"high":"low",category:y.genotype==="GG"?"caution":"safe",athleticRelevance:"low",commonUse:"Anticoagulation therapy"});break;case"CFTR":y.genotype==="F508del/F508del"&&p.push({medication:"Ivacaftor",gene:y.gene,genotype:y.genotype,effect:"Responds well to CFTR modulator therapy",recommendation:"Ivacaftor indicated for this genotype",riskLevel:"low",category:"safe",athleticRelevance:"low",commonUse:"Cystic fibrosis treatment"});break}}),p},[s,i]);if(l)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pharmacogenomics Report"}),e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading genetic data..."})]})]})});if(o)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pharmacogenomics Report"}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-500 mb-4",children:"‚ö†Ô∏è"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Genetic Data"}),e.jsx("p",{className:"text-gray-600 mb-4",children:o}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Retry"})]})]})});const x=u.filter(p=>p.category==="safe"),f=u.filter(p=>p.category==="caution"),g=u.filter(p=>p.category==="avoid");return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Medication Safety Guide"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Genetic-based medication recommendations for ",d]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[x.length," Safe"]}),e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[f.length," Use with Caution"]}),e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[g.length," Avoid"]})]})]}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors flex items-center gap-1",title:"Refresh medication data",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),x.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),"Safe to Use (",x.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:x.map((p,b)=>e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:p.medication}),e.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800 font-medium",children:p.athleticRelevance==="high"?"High Relevance":"Medium Relevance"})]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Common Use:"})," ",p.commonUse]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Effect:"})," ",p.effect]}),p.dosage&&e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Recommended Dosage:"})," ",p.dosage]}),p.alternatives&&p.alternatives.length>0&&e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Alternatives:"})," ",p.alternatives.join(", ")]})]},b))})]}),f.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-yellow-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-2"}),"Use with Caution (",f.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:f.map((p,b)=>e.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:p.medication}),e.jsxs("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${p.riskLevel==="high"?"bg-red-100 text-red-800":p.riskLevel==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[p.riskLevel," Risk"]})]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Common Use:"})," ",p.commonUse]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Effect:"})," ",p.effect]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:[e.jsx("span",{className:"font-medium",children:"Recommendation:"})," ",p.recommendation]}),p.dosage&&e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Recommended Dosage:"})," ",p.dosage]}),p.alternatives&&p.alternatives.length>0&&e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Alternatives:"})," ",p.alternatives.join(", ")]})]},b))})]}),g.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-red-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-3 h-3 bg-red-500 rounded-full mr-2"}),"Avoid These Medications (",g.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:g.map((p,b)=>e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:p.medication}),e.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-red-100 text-red-800 font-medium",children:"High Risk"})]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Common Use:"})," ",p.commonUse]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Effect:"})," ",p.effect]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:[e.jsx("span",{className:"font-medium",children:"Recommendation:"})," ",p.recommendation]}),p.alternatives&&p.alternatives.length>0&&e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Safer Alternatives:"})," ",p.alternatives.join(", ")]})]},b))})]}),u.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-4",children:"üíä"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Significant Pharmacogenomic Interactions"}),e.jsx("p",{className:"text-gray-600",children:"Based on available genetic data, no high-risk medication interactions were detected."})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Common Athletic Scenarios"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-3",children:"Post-Injury Pain Management"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"Acetaminophen:"}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Safe"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"Ibuprofen (short-term):"}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Safe"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"Codeine:"}),e.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full",children:"Avoid"})]})]})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("h4",{className:"font-semibold text-purple-800 mb-3",children:"Performance Enhancement"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-purple-700",children:"Caffeine:"}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Safe"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-purple-700",children:"Albuterol (if prescribed):"}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Safe"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-purple-700",children:"Vitamin K (with anticoagulants):"}),e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:"Caution"})]})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),"Important Interactions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("h5",{className:"font-semibold text-orange-800 mb-2",children:"With Athletic Performance"}),e.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Caffeine may interfere with sleep medications"}),e.jsx("li",{children:"‚Ä¢ NSAIDs can reduce training adaptations if overused"}),e.jsx("li",{children:"‚Ä¢ Decongestants may cause heart rhythm issues"})]})]}),e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("h5",{className:"font-semibold text-red-800 mb-2",children:"With Other Medications"}),e.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Aspirin + blood thinners = increased bleeding risk"}),e.jsx("li",{children:"‚Ä¢ Caffeine + stimulants = heart palpitations"}),e.jsx("li",{children:"‚Ä¢ Vitamin K + warfarin = reduced effectiveness"})]})]})]})]}),e.jsxs("div",{className:"p-5 bg-blue-50 rounded-lg border border-blue-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Important Medical Disclaimer"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"This pharmacogenomic report is for informational purposes only and should not replace professional medical advice. Always consult with a healthcare provider before making any changes to medication regimens. Genetic testing can provide valuable insights but is only one factor in medication response."})]})]})})},yx=({athleteId:t})=>{const[s,n]=A.useState([]),[i,r]=A.useState([]),[l,a]=A.useState(!0),[o,c]=A.useState(null),[d,m]=A.useState(""),[u,x]=A.useState(null);A.useEffect(()=>{t&&(async()=>{try{a(!0),c(null);const p=parseInt(t,10);if(isNaN(p))throw new Error("Invalid athlete ID");const[b,y]=await Promise.all([Ve.getNutrigenomicsByAthlete(p),Ve.getGeneticProfileByAthlete(p)]),w=Array.isArray(b)?b.map((N,j)=>({gene:N.gene||N.GeneName||`GENE_${j}`,genetic_call:N.genetic_call||N.GeneticCall||N.genotype||"Unknown",known_call:N.known_call||N.KnownCall,category:N.category||N.Category||"General",priority:N.priority||N.Priority||N.summary_flag||"medium",summary_flag:N.summary_flag||N.SummaryFlag,interpretation_code:N.interpretation_code||N.InterpretationCode||N.rationale,supplement:N.supplement||N.Supplement,dosage:N.dosage||N.Dosage,timing:N.timing||N.Timing,created_at:N.created_at||N.CreatedAt,confidence_score:N.confidence_score||N.ConfidenceScore,risk_level:N.risk_level||N.RiskLevel||(N.priority==="high"?"high":N.priority==="medium"?"medium":"low")})):[];n(w),r(y),x(new Date().toISOString()),m(`Athlete ${t}`)}catch(p){c(p instanceof Error?p.message:"Failed to load genetic data")}finally{a(!1)}})()},[t]);const f=A.useMemo(()=>{const g=[];return s.length>0&&s.forEach((p,b)=>{p.supplement&&p.gene&&g.push({supplement:p.supplement,gene:p.gene,genotype:p.genetic_call||p.known_call||"Unknown",rationale:p.interpretation_code||"Genetic-based recommendation",dosage:p.dosage||"Dosage not specified",timing:p.timing||"Timing not specified",priority:(p.priority||p.summary_flag||"medium").toLowerCase(),category:p.category||"General",confidence_score:p.confidence_score,risk_level:p.risk_level,genetic_mark_id:`mark_${b}`})}),g.length===0&&(Array.isArray(i)?i:[]).forEach(b=>{switch(b.gene){case"MTHFR":(b.genotype==="TT"||b.genotype==="CT")&&g.push({supplement:"Methylated Folate (5-MTHF)",gene:b.gene,genotype:b.genotype,rationale:"Reduced enzyme activity affects folate metabolism",dosage:"400-800 mcg daily",timing:"With breakfast for better absorption",priority:b.genotype==="TT"?"high":"medium",category:"Methylation",confidence_score:.85,risk_level:b.genotype==="TT"?"high":"medium"});break;case"VDR":(b.genotype==="FF"||b.genotype==="Ff")&&g.push({supplement:"Vitamin D3",gene:b.gene,genotype:b.genotype,rationale:"Reduced vitamin D receptor sensitivity",dosage:"2000-4000 IU daily (with blood testing)",timing:"With fat-containing meal for better absorption",priority:"high",category:"Vitamin Metabolism",confidence_score:.9,risk_level:"high"});break;case"FTO":(b.genotype==="AA"||b.genotype==="AT")&&g.push({supplement:"Green Tea Extract (EGCG)",gene:b.gene,genotype:b.genotype,rationale:"Increased risk of weight gain, enhanced fat oxidation support",dosage:"250-500 mg EGCG daily",timing:"30 minutes before exercise",priority:"medium",category:"Metabolism",confidence_score:.75,risk_level:"medium"});break;case"ACTN3":b.genotype==="XX"?g.push({supplement:"Creatine Monohydrate",gene:b.gene,genotype:b.genotype,rationale:"Reduced power/strength potential, creatine can help",dosage:"3-5g daily",timing:"Post-workout with carbohydrates",priority:"medium",category:"Performance",confidence_score:.8,risk_level:"medium"}):b.genotype==="RR"&&g.push({supplement:"Beta-Alanine",gene:b.gene,genotype:b.genotype,rationale:"Enhanced power capacity, buffering support",dosage:"3-5g daily (divided doses)",timing:"Pre-workout",priority:"medium",category:"Performance",confidence_score:.8,risk_level:"low"});break;case"PPARGC1A":b.genotype.includes("Ser")&&(g.push({supplement:"Resveratrol",gene:b.gene,genotype:b.genotype,rationale:"Enhanced mitochondrial biogenesis response",dosage:"250-500mg daily",timing:"With dinner",priority:"medium",category:"Mitochondrial Function",confidence_score:.7,risk_level:"low"}),g.push({supplement:"Coenzyme Q10",gene:b.gene,genotype:b.genotype,rationale:"Mitochondrial support for energy production",dosage:"100-200mg daily",timing:"With breakfast",priority:"medium",category:"Mitochondrial Function",confidence_score:.75,risk_level:"low"}));break;case"ADRB2":b.genotype==="Gly16Gly"&&g.push({supplement:"Caffeine (Genotype-Optimized)",gene:b.gene,genotype:b.genotype,rationale:"Reduced fat mobilization, strategic caffeine use",dosage:"100-200mg (lower than typical doses)",timing:"Pre-workout (avoid late in day)",priority:"medium",category:"Metabolism",confidence_score:.65,risk_level:"medium"});break;case"NOS3":(b.genotype==="CC"||b.genotype==="CT")&&g.push({supplement:"L-Citrulline",gene:b.gene,genotype:b.genotype,rationale:"Enhanced nitric oxide production support",dosage:"6-8g daily",timing:"30 minutes before exercise",priority:"medium",category:"Cardiovascular",confidence_score:.8,risk_level:"low"});break}}),g},[s,i]);return l?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Nutrigenomics Report"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Loading genetic marks from controllers..."})]}),e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Fetching genetic data and processing recommendations..."})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("div",{className:"inline-flex items-center text-sm text-gray-500",children:[e.jsx("div",{className:"animate-pulse mr-2",children:"‚óè"}),e.jsx("div",{className:"animate-pulse mr-2",children:"‚óè"}),e.jsx("div",{className:"animate-pulse",children:"‚óè"})]})})]})}):o?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Nutrigenomics Report"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:"Refresh"})]}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-500 mb-4 text-4xl",children:"‚ö†Ô∏è"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Genetic Data"}),e.jsx("p",{className:"text-gray-600 mb-4 max-w-md mx-auto",children:o}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Retry Loading"}),e.jsx("p",{className:"text-xs text-gray-500",children:"If the problem persists, please check your connection or contact support."})]})]})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Nutrigenomics Report"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Personalized supplement recommendations for ",d]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:s.length>0?`${s.length} genetic marks from controllers`:"Legacy genetic profiles"}),s.length>0&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Controller Data Available"})]})]}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors flex items-center gap-1",title:"Refresh genetic data",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),f.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Supplement Recommendations (",f.length,")"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[f.filter(g=>g.priority==="high").length," High Priority"]}),e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[f.filter(g=>g.priority==="medium").length," Medium Priority"]}),e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[f.filter(g=>g.priority==="low").length," Low Priority"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:f.map((g,p)=>e.jsxs("div",{className:"p-5 rounded-lg border border-gray-200 hover:border-blue-300 transition-colors bg-white shadow-sm",children:[e.jsx("div",{className:"flex justify-between items-start mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:g.supplement}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[g.gene," ‚Ä¢ ",g.genotype]}),e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${g.priority==="high"?"bg-red-100 text-red-800":g.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[g.priority.charAt(0).toUpperCase()+g.priority.slice(1)," Priority"]}),g.category&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:g.category})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Rationale:"})," ",g.rationale]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 text-sm",children:"Dosage:"}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:g.dosage})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 text-sm",children:"Timing:"}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:g.timing})]})]}),g.confidence_score&&e.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-600",children:[e.jsx("span",{children:"Confidence Score:"}),e.jsxs("span",{className:`font-medium ${g.confidence_score>=.8?"text-green-600":g.confidence_score>=.6?"text-yellow-600":"text-red-600"}`,children:[(g.confidence_score*100).toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:`h-2 rounded-full ${g.confidence_score>=.8?"bg-green-500":g.confidence_score>=.6?"bg-yellow-500":"bg-red-500"}`,style:{width:`${g.confidence_score*100}%`}})})]}),g.risk_level&&e.jsx("div",{className:"pt-2 border-t border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Risk Level:"}),e.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${g.risk_level==="high"?"bg-red-100 text-red-800":g.risk_level==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:g.risk_level.charAt(0).toUpperCase()+g.risk_level.slice(1)})]})})]})]},g.genetic_mark_id||p))})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ü•ó"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Specific Genetic-Based Supplement Recommendations"}),e.jsx("p",{className:"text-gray-600",children:"Based on available genetic data, no specific supplement recommendations were identified."})]}),e.jsxs("div",{className:"mt-8 p-5 bg-blue-50 rounded-lg border border-blue-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Implementation Notes"}),e.jsxs("ul",{className:"text-blue-700 text-sm list-disc pl-5 space-y-1",children:[e.jsx("li",{children:"Start with high-priority supplements and monitor response"}),e.jsx("li",{children:"Introduce one supplement at a time to assess individual effects"}),e.jsx("li",{children:"Combine with regular blood testing to optimize dosages"}),e.jsx("li",{children:"Consult with a sports nutritionist for personalized meal planning"}),e.jsx("li",{children:"Consider interactions between supplements and any medications"})]})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Personalized Nutrition Plan"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Genetically-tailored dietary strategy for ",d]})]}),u&&e.jsxs("span",{className:"text-xs text-gray-500",children:["Plan updated: ",new Date(u).toLocaleDateString()]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Macronutrient Distribution"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-700 mb-1",children:"40%"}),e.jsx("div",{className:"text-sm text-blue-600",children:"Carbohydrates"}),e.jsx("div",{className:"text-xs text-blue-500 mt-1",children:"Focus on complex carbs for sustained energy"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-2xl font-bold text-green-700 mb-1",children:"30%"}),e.jsx("div",{className:"text-sm text-green-600",children:"Protein"}),e.jsx("div",{className:"text-xs text-green-500 mt-1",children:"High-quality sources for muscle repair"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg border border-yellow-200",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-700 mb-1",children:"30%"}),e.jsx("div",{className:"text-sm text-yellow-600",children:"Healthy Fats"}),e.jsx("div",{className:"text-xs text-yellow-500 mt-1",children:"Omega-3s and MUFAs for inflammation control"})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Optimal Meal Timing"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"w-12 text-sm font-medium text-green-700",children:"7:00 AM"}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Pre-Training Breakfast"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Complex carbs + protein for sustained energy"})]})]}),e.jsxs("div",{className:"flex items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"w-12 text-sm font-medium text-blue-700",children:"10:00 AM"}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Mid-Morning Snack"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Fruit + nuts for steady blood sugar"})]})]}),e.jsxs("div",{className:"flex items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("div",{className:"w-12 text-sm font-medium text-purple-700",children:"1:00 PM"}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Post-Training Lunch"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Balanced meal with recovery focus"})]})]}),e.jsxs("div",{className:"flex items-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("div",{className:"w-12 text-sm font-medium text-orange-700",children:"4:00 PM"}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Afternoon Snack"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Protein-focused for muscle maintenance"})]})]}),e.jsxs("div",{className:"flex items-center p-3 bg-indigo-50 rounded-lg border border-indigo-200",children:[e.jsx("div",{className:"w-12 text-sm font-medium text-indigo-700",children:"7:00 PM"}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Dinner"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Lighter meal with anti-inflammatory foods"})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Genetic-Based Food Priorities"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("h5",{className:"font-semibold text-red-800 mb-2",children:"High Priority Foods"}),e.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Leafy greens (folate-rich)"}),e.jsx("li",{children:"‚Ä¢ Fatty fish (omega-3s)"}),e.jsx("li",{children:"‚Ä¢ Berries (antioxidants)"}),e.jsx("li",{children:"‚Ä¢ Nuts and seeds"}),e.jsx("li",{children:"‚Ä¢ Grass-fed proteins"})]})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsx("h5",{className:"font-semibold text-yellow-800 mb-2",children:"Moderate Priority Foods"}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Whole grains"}),e.jsx("li",{children:"‚Ä¢ Legumes"}),e.jsx("li",{children:"‚Ä¢ Root vegetables"}),e.jsx("li",{children:"‚Ä¢ Eggs"}),e.jsx("li",{children:"‚Ä¢ Avocado"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("h5",{className:"font-semibold text-green-800 mb-2",children:"Foods to Limit"}),e.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Processed sugars"}),e.jsx("li",{children:"‚Ä¢ Trans fats"}),e.jsx("li",{children:"‚Ä¢ Excessive caffeine"}),e.jsx("li",{children:"‚Ä¢ Alcohol"}),e.jsx("li",{children:"‚Ä¢ Processed meats"})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h5",{className:"font-semibold text-blue-800 mb-2",children:"Hydration Strategy"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ 3-4L water daily"}),e.jsx("li",{children:"‚Ä¢ Electrolyte balance post-training"}),e.jsx("li",{children:"‚Ä¢ Herbal teas for recovery"}),e.jsx("li",{children:"‚Ä¢ Bone broth for minerals"})]})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full mr-2"}),"Weekly Meal Structure"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["Training Days","Rest Days","Competition Days","Recovery Days"].map((g,p)=>e.jsxs("div",{className:"p-3 bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-lg border border-indigo-200 text-center",children:[e.jsx("div",{className:"font-medium text-indigo-800 text-sm",children:g}),e.jsxs("div",{className:"text-xs text-indigo-600 mt-1",children:[g==="Training Days"&&"Higher carbs",g==="Rest Days"&&"Normal balance",g==="Competition Days"&&"Fast energy",g==="Recovery Days"&&"Anti-inflammatory"]})]},p))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),"Your Genetic Profile Impact"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.length>0?s.slice(0,4).map((g,p)=>e.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"font-semibold text-gray-900",children:[g.gene," (",g.genetic_call,")"]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${g.category==="Metabolism"?"bg-blue-100 text-blue-800":g.category==="Performance"?"bg-green-100 text-green-800":g.category==="Recovery"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:g.category})]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:[g.gene==="FTO"&&"Influences weight management and fat metabolism efficiency",g.gene==="ACTN3"&&"Affects muscle power and endurance capabilities",g.gene==="MTHFR"&&"Impacts folate metabolism and methylation processes",g.gene==="VDR"&&"Controls vitamin D receptor sensitivity and calcium metabolism",g.gene==="PPARGC1A"&&"Regulates mitochondrial biogenesis and energy production",g.gene==="ADRB2"&&"Affects fat mobilization and metabolic response",g.gene==="NOS3"&&"Influences nitric oxide production and blood flow",g.gene!=="FTO"&&g.gene!=="ACTN3"&&g.gene!=="MTHFR"&&g.gene!=="VDR"&&g.gene!=="PPARGC1A"&&g.gene!=="ADRB2"&&g.gene!=="NOS3"&&"Genetic variant affecting nutritional needs"]}),e.jsxs("div",{className:"text-xs text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Dietary Focus:"}),g.gene==="FTO"&&" Higher protein, controlled portions, green tea",g.gene==="ACTN3"&&" Performance carbs, creatine-rich foods",g.gene==="MTHFR"&&" Methylated folate sources, leafy greens",g.gene==="VDR"&&" Vitamin D rich foods, fatty fish, mushrooms",g.gene==="PPARGC1A"&&" Antioxidant-rich foods, resveratrol sources",g.gene==="ADRB2"&&" Moderate caffeine, balanced macros",g.gene==="NOS3"&&" Nitric oxide boosters, beetroot, citrulline",g.gene!=="FTO"&&g.gene!=="ACTN3"&&g.gene!=="MTHFR"&&g.gene!=="VDR"&&g.gene!=="PPARGC1A"&&g.gene!=="ADRB2"&&g.gene!=="NOS3"&&" Personalized nutrition strategy required"]})]},p)):e.jsxs("div",{className:"col-span-2 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[e.jsx("h5",{className:"font-semibold text-blue-800 mb-2",children:"Standard Athletic Nutrition Profile"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Based on your genetic profile, you have a standard athletic metabolism pattern. Focus on balanced nutrition with complex carbohydrates, lean proteins, and healthy fats."})]})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),"Sample Daily Meal Plan"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("h5",{className:"font-semibold text-orange-800 mb-3",children:"Training Day Example"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Breakfast (7:00 AM):"}),e.jsx("span",{className:"text-gray-600",children:"Oatmeal with berries, eggs, spinach"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Mid-Morning (10:00 AM):"}),e.jsx("span",{className:"text-gray-600",children:"Greek yogurt with almonds"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Lunch (1:00 PM):"}),e.jsx("span",{className:"text-gray-600",children:"Grilled chicken, quinoa, vegetables"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Post-Training (4:00 PM):"}),e.jsx("span",{className:"text-gray-600",children:"Protein shake with banana"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Dinner (7:00 PM):"}),e.jsx("span",{className:"text-gray-600",children:"Salmon, sweet potato, broccoli"})]})]})]})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-4 bg-teal-50 rounded-lg border border-teal-200",children:[e.jsx("h5",{className:"font-semibold text-teal-800 mb-3",children:"Rest Day Example"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Breakfast (8:00 AM):"}),e.jsx("span",{className:"text-gray-600",children:"Smoothie with kale, berries, protein"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Mid-Morning (11:00 AM):"}),e.jsx("span",{className:"text-gray-600",children:"Apple with handful of walnuts"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Lunch (2:00 PM):"}),e.jsx("span",{className:"text-gray-600",children:"Turkey salad with mixed greens"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Afternoon (5:00 PM):"}),e.jsx("span",{className:"text-gray-600",children:"Cottage cheese with tomatoes"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Dinner (8:00 PM):"}),e.jsx("span",{className:"text-gray-600",children:"Grilled fish, brown rice, asparagus"})]})]})]})})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full mr-2"}),"Key Nutrition Strategies"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-emerald-50 rounded-lg border border-emerald-200",children:[e.jsx("h6",{className:"font-semibold text-emerald-800 mb-2",children:"Metabolic Optimization"}),e.jsxs("ul",{className:"text-sm text-emerald-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Time carbs around training"}),e.jsx("li",{children:"‚Ä¢ Focus on nutrient density"}),e.jsx("li",{children:"‚Ä¢ Balance blood sugar"}),e.jsx("li",{children:"‚Ä¢ Support liver function"})]})]}),e.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:[e.jsx("h6",{className:"font-semibold text-amber-800 mb-2",children:"Recovery Enhancement"}),e.jsxs("ul",{className:"text-sm text-amber-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Anti-inflammatory foods"}),e.jsx("li",{children:"‚Ä¢ Adequate protein timing"}),e.jsx("li",{children:"‚Ä¢ Micronutrient support"}),e.jsx("li",{children:"‚Ä¢ Sleep-optimized meals"})]})]}),e.jsxs("div",{className:"p-4 bg-rose-50 rounded-lg border border-rose-200",children:[e.jsx("h6",{className:"font-semibold text-rose-800 mb-2",children:"Performance Support"}),e.jsxs("ul",{className:"text-sm text-rose-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Pre-training fuel"}),e.jsx("li",{children:"‚Ä¢ Intra-training support"}),e.jsx("li",{children:"‚Ä¢ Post-training recovery"}),e.jsx("li",{children:"‚Ä¢ Competition day strategy"})]})]})]})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-200",children:[e.jsxs("h5",{className:"font-semibold text-blue-800 mb-3 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Supplement Integration with Meals"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 mb-1",children:"Morning Integration:"}),e.jsx("div",{className:"text-gray-600",children:"Take vitamins with breakfast for optimal absorption"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 mb-1",children:"Post-Training Integration:"}),e.jsx("div",{className:"text-gray-600",children:"Protein and creatine immediately after workouts"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 mb-1",children:"Evening Integration:"}),e.jsx("div",{className:"text-gray-600",children:"Anti-inflammatory supplements with dinner"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 mb-1",children:"Pre-Bed Integration:"}),e.jsx("div",{className:"text-gray-600",children:"Magnesium and melatonin for recovery"})]})]})]})]})]})},jx=({athleteId:t})=>{const[s,n]=A.useState([]),[i,r]=A.useState([]),[l,a]=A.useState(!0),[o,c]=A.useState(null),[d,m]=A.useState("");A.useEffect(()=>{t&&(async()=>{try{a(!0),c(null);const b=parseInt(t,10);if(isNaN(b))throw new Error("Invalid athlete ID");const y=await Ve.getRecoveryGeneticsByAthlete(b);n(y);const w=await Ve.getGeneticProfileByAthlete(b);r(w),m(`Athlete ${t}`)}catch(b){c(b instanceof Error?b.message:"Failed to load genetic data")}finally{a(!1)}})()},[t]);const u=A.useMemo(()=>{const p=[];return s.length>0?s.forEach(b=>{p.push({gene:b.Gene||b.gene||"Unknown Gene",genotype:b.GeneticCall||b.genetic_call||b.known_call||"Unknown Genotype",category:b.Category||b.category||"Recovery",trait:b.Trait||b.trait||"Recovery Trait",impact:b.Impact||b.interpretation_code||"Impact not specified",recoveryProtocol:b.Recommendations||b.override_comment||"Recovery protocol not specified",priority:(b.Priority||b.summary_flag||"medium").toLowerCase(),score:b.Score||75,confidence:b.Confidence||80})}):i.forEach(b=>{switch(b.gene){case"IL6":p.push({gene:b.gene,genotype:b.genotype,category:"Inflammation",trait:"Inflammatory Response",impact:b.genotype==="GG"?"Higher baseline inflammation, slower recovery":b.genotype==="GC"?"Moderate inflammation response":"Lower baseline inflammation, faster recovery",recoveryProtocol:b.genotype==="GG"?"Emphasize anti-inflammatory nutrition (omega-3s, turmeric), longer recovery periods":b.genotype==="GC"?"Standard recovery protocols with attention to inflammation markers":"May recover quickly with standard protocols",priority:b.genotype==="GG"?"high":"medium",score:b.genotype==="GG"?65:b.genotype==="GC"?75:85,confidence:80});break;case"TNF":p.push({gene:b.gene,genotype:b.genotype,category:"Inflammation",trait:"Inflammatory Cytokine Production",impact:b.genotype==="AA"?"Higher TNF-alpha production, increased inflammation":b.genotype==="AG"?"Moderate TNF-alpha production":"Lower TNF-alpha production, reduced inflammation",recoveryProtocol:b.genotype==="AA"?"Prioritize anti-inflammatory interventions (cryotherapy, massage), monitor CRP levels":b.genotype==="AG"?"Standard anti-inflammatory approaches sufficient":"May require less intensive anti-inflammatory interventions",priority:b.genotype==="AA"?"high":"medium",score:b.genotype==="AA"?60:b.genotype==="AG"?75:85,confidence:80});break;case"IL10":p.push({gene:b.gene,genotype:b.genotype,category:"Anti-inflammation",trait:"Anti-inflammatory Response",impact:b.genotype==="AA"?"Higher IL-10 production, better inflammation control":b.genotype==="AC"?"Moderate IL-10 production":"Lower IL-10 production, reduced anti-inflammatory capacity",recoveryProtocol:b.genotype==="AA"?"May recover well with standard protocols":b.genotype==="AC"?"Standard recovery protocols appropriate":"Emphasize anti-inflammatory nutrition and recovery modalities",priority:b.genotype==="CC"?"high":"low",score:b.genotype==="AA"?85:b.genotype==="AC"?75:65,confidence:80});break;case"VDR":p.push({gene:b.gene,genotype:b.genotype,category:"Vitamin D",trait:"Vitamin D Receptor Sensitivity",impact:b.genotype==="FF"?"Reduced vitamin D receptor sensitivity, potential deficiency effects":b.genotype==="Ff"?"Moderate sensitivity":"Normal sensitivity",recoveryProtocol:b.genotype==="FF"?"Ensure optimal vitamin D status (supplementation if needed), supports immune function":b.genotype==="Ff"?"Monitor vitamin D levels, supplement as needed":"Maintain adequate vitamin D through sun exposure and diet",priority:b.genotype==="FF"?"high":"medium",score:b.genotype==="FF"?65:b.genotype==="Ff"?75:85,confidence:80});break;case"ADRB1":p.push({gene:b.gene,genotype:b.genotype,category:"Stress Response",trait:"Catecholamine Sensitivity",impact:b.genotype==="AA"?"Higher adrenaline sensitivity, increased stress response":b.genotype==="AG"?"Moderate sensitivity":"Lower adrenaline sensitivity, reduced stress response",recoveryProtocol:b.genotype==="AA"?"Emphasize parasympathetic activation (meditation, breathing), avoid overstimulation":b.genotype==="AG"?"Standard stress management techniques":"May tolerate higher stimulation, monitor for under-recovery",priority:b.genotype==="AA"?"high":"medium",score:b.genotype==="AA"?60:b.genotype==="AG"?75:85,confidence:80});break;case"CLOCK":p.push({gene:b.gene,genotype:b.genotype,category:"Circadian Rhythm",trait:"Circadian Rhythm Regulation",impact:b.genotype==="AA"?"Enhanced circadian sensitivity, strict schedule benefits":b.genotype==="AG"?"Moderate circadian sensitivity":"Reduced circadian sensitivity, more flexible timing",recoveryProtocol:b.genotype==="AA"?"Maintain strict sleep/wake times, minimize blue light exposure 2h before bed":b.genotype==="AG"?"Consistent schedule beneficial but some flexibility allowed":"More adaptable to schedule changes, but still prioritize consistency",priority:b.genotype==="AA"?"high":"medium",score:b.genotype==="AA"?70:b.genotype==="AG"?75:80,confidence:80});break;case"HSD11B1":p.push({gene:b.gene,genotype:b.genotype,category:"Cortisol",trait:"Cortisol Regeneration",impact:b.genotype==="TT"?"Higher cortisol regeneration, increased stress response":b.genotype==="TC"?"Moderate cortisol regeneration":"Lower cortisol regeneration, reduced stress response",recoveryProtocol:b.genotype==="TT"?"Prioritize stress management, cortisol-lowering interventions (adaptogens, meditation)":b.genotype==="TC"?"Standard stress management sufficient":"May be more resilient to stress, but still monitor recovery markers",priority:b.genotype==="TT"?"high":"medium",score:b.genotype==="TT"?60:b.genotype==="TC"?75:85,confidence:80});break;case"COMT":p.push({gene:b.gene,genotype:b.genotype,category:"Stress Response",trait:"Catecholamine Breakdown",impact:b.genotype==="AA"?"Slower breakdown of adrenaline/noradrenaline, prolonged stress response":b.genotype==="AG"?"Moderate breakdown rate":"Faster breakdown, quicker return to baseline",recoveryProtocol:b.genotype==="AA"?"Emphasize parasympathetic activation, longer recovery periods after high-stress sessions":b.genotype==="AG"?"Standard recovery protocols appropriate":"May recover quickly but monitor for under-recovery from overtraining",priority:b.genotype==="AA"?"high":"medium",score:b.genotype==="AA"?60:b.genotype==="AG"?75:85,confidence:80});break}}),p},[s,i]),x=u.filter(p=>p.priority==="high").length;u.filter(p=>p.priority==="medium").length;const f=A.useMemo(()=>{const p=[];if(s.length>0){const b=s.filter(N=>(N.Gene==="IL6"||N.Gene==="TNF"||N.Gene==="IL10")&&(N.Category||N.category)==="recovery"),y=s.filter(N=>(N.Gene==="COMT"||N.Gene==="ADRB1"||N.Gene==="HSD11B1")&&(N.Category||N.category)==="recovery"),w=s.filter(N=>(N.Gene==="CLOCK"||N.Gene==="PER3")&&(N.Category||N.category)==="recovery");if(b.length>0){const N=b.reduce((j,S)=>j+(S.Score||75),0)/b.length;p.push({category:"Inflammation Management",title:"Inflammatory Response Optimization",description:`Analysis of ${b.length} inflammation-related genetic markers indicates specific recovery protocols for optimal inflammatory response.`,score:N,recommendations:[b.some(j=>j.Gene==="IL6"&&(j.GeneticCall||j.genetic_call)?.includes("GG"))?"IL6 GG genotype: Prioritize omega-3 supplementation and anti-inflammatory nutrition":"Standard inflammatory response - maintain balanced nutrition protocols",b.some(j=>j.Gene==="TNF"&&(j.GeneticCall||j.genetic_call)?.includes("AA"))?"TNF AA genotype: Enhanced anti-inflammatory interventions recommended":"TNF genotype supports standard recovery protocols",b.some(j=>j.Gene==="IL10"&&(j.GeneticCall||j.genetic_call)?.includes("CC"))?"IL10 CC genotype: May need additional anti-inflammatory support":"IL10 genotype supports good anti-inflammatory capacity"],geneticMarkers:b.map(j=>j.Gene||j.gene),priority:N<70?"high":N<80?"medium":"low"})}if(y.length>0){const N=y.reduce((j,S)=>j+(S.Score||75),0)/y.length;p.push({category:"Stress Recovery",title:"Stress Response & Recovery",description:`Analysis of ${y.length} stress-related genetic markers reveals catecholamine processing and stress recovery capacity.`,score:N,recommendations:[y.some(j=>j.Gene==="COMT"&&(j.GeneticCall||j.genetic_call)?.includes("AA"))?"COMT AA genotype: Slower catecholamine breakdown - emphasize parasympathetic activation":"COMT genotype supports standard catecholamine processing",y.some(j=>j.Gene==="ADRB1"&&(j.GeneticCall||j.genetic_call)?.includes("AA"))?"ADRB1 AA genotype: Higher adrenaline sensitivity - prioritize stress management":"ADRB1 genotype indicates balanced stress response",y.some(j=>j.Gene==="HSD11B1"&&(j.GeneticCall||j.genetic_call)?.includes("TT"))?"HSD11B1 TT genotype: Higher cortisol regeneration - implement cortisol-lowering protocols":"HSD11B1 genotype supports normal cortisol regulation"],geneticMarkers:y.map(j=>j.Gene||j.gene),priority:N<70?"high":N<80?"medium":"low"})}if(w.length>0){const N=w.reduce((j,S)=>j+(S.Score||75),0)/w.length;p.push({category:"Circadian Rhythm",title:"Sleep & Circadian Optimization",description:`Analysis of ${w.length} circadian-related genetic markers indicates chronotype and sleep recovery patterns.`,score:N,recommendations:[w.some(j=>j.Gene==="CLOCK"&&(j.GeneticCall||j.genetic_call)?.includes("AA"))?"CLOCK AA genotype: Strict sleep schedule critical for optimal recovery":"CLOCK genotype supports flexible sleep timing","Maintain consistent sleep/wake times aligned with genetic chronotype","Minimize blue light exposure 2 hours before bedtime","Consider chronotype-specific training timing for optimal recovery"],geneticMarkers:w.map(j=>j.Gene||j.gene),priority:N<70?"high":N<80?"medium":"low"})}}return p},[s]),g=A.useMemo(()=>f.length===0?0:f.reduce((p,b)=>p+b.score,0)/f.length,[f]);return l?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Recovery Gene Panel"}),e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading genetic data..."})]})]})}):o?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Recovery Gene Panel"}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-500 mb-4",children:"‚ö†Ô∏è"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Genetic Data"}),e.jsx("p",{className:"text-gray-600 mb-4",children:o}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Retry"})]})]})}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-4xl font-bold text-white-900 mb-3",children:"üß¨ Advanced Recovery Gene Panel"}),e.jsxs("p",{className:"text-xl text-gray-600 mb-2",children:["Comprehensive genetic analysis for ",s.length," recovery-related markers"]}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-100 to-blue-100 rounded-full",children:[e.jsx("span",{className:"text-purple-700 font-medium",children:"Overall Recovery Score:"}),e.jsxs("span",{className:`text-2xl font-bold ${g>75?"text-green-600":g>60?"text-yellow-600":"text-red-600"}`,children:[g.toFixed(0),"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:s.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Genetic Markers"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Analyzed for Recovery"})]}),e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsx("div",{className:`text-3xl font-bold mb-2 ${x>0?"text-red-600":"text-green-600"}`,children:x}),e.jsx("div",{className:"text-sm text-gray-600",children:"High Priority"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Critical Recovery Genes"})]}),e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:f.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Recovery Categories"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"AI-Generated Insights"})]}),e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsx("div",{className:`text-3xl font-bold mb-2 ${g>75?"text-green-600":g>60?"text-yellow-600":"text-red-600"}`,children:g.toFixed(0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Recovery Score"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Genetic + Biometric"})]})]}),f.length>0&&e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"bg-gradient-to-r from-purple-100 to-blue-100 p-2 rounded-full text-purple-700",children:"ü§ñ"}),"AI-Generated Recovery Insights"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:f.map((p,b)=>e.jsxs("div",{className:`card-enhanced p-6 border-l-4 ${p.priority==="high"?"border-l-red-500 bg-red-50":p.priority==="medium"?"border-l-yellow-500 bg-yellow-50":"border-l-green-500 bg-green-50"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-1",children:p.title}),e.jsx("p",{className:"text-sm text-gray-600",children:p.category})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-2xl font-bold ${p.score>75?"text-green-600":p.score>60?"text-yellow-600":"text-red-600"}`,children:p.score.toFixed(0)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Score"})]})]}),e.jsx("p",{className:"text-gray-700 mb-4 text-sm leading-relaxed",children:p.description}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Genetic Markers Analyzed:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.geneticMarkers.map((y,w)=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-white text-gray-700 border",children:y},w))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Recommended Protocols:"}),e.jsx("ul",{className:"space-y-2",children:p.recommendations.map((y,w)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${p.priority==="high"?"bg-red-500":p.priority==="medium"?"bg-yellow-500":"bg-green-500"}`}),e.jsx("span",{className:"text-sm text-gray-700",children:y})]},w))})]})]},b))})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"bg-gradient-to-r from-green-100 to-blue-100 p-2 rounded-full text-green-700",children:"üî¨"}),"Individual Genetic Marker Analysis"]}),u.length>0?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:u.map((p,b)=>e.jsxs("div",{className:`card-enhanced p-6 border-l-4 ${p.priority==="high"?"border-l-red-500":p.priority==="medium"?"border-l-yellow-500":"border-l-green-500"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-1",children:p.gene}),e.jsxs("p",{className:"text-sm text-gray-600",children:[p.category," ‚Ä¢ ",p.trait]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-2xl font-bold ${p.score>75?"text-green-600":p.score>60?"text-yellow-600":"text-red-600"}`,children:p.score}),e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Score"}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${p.priority==="high"?"bg-red-100 text-red-800":p.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:p.priority.toUpperCase()})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Genotype"}),e.jsx("span",{className:"text-sm font-bold text-gray-900 bg-gray-100 px-2 py-1 rounded",children:p.genotype})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${p.score>75?"bg-green-500":p.score>60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${p.score}%`}})})]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h5",{className:"font-medium text-blue-800 mb-2 text-sm",children:"Recovery Impact"}),e.jsx("p",{className:"text-sm text-blue-700 leading-relaxed",children:p.impact})]}),e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("h5",{className:"font-medium text-green-800 mb-2 text-sm",children:"Recommended Protocol"}),e.jsx("p",{className:"text-sm text-green-700 leading-relaxed",children:p.recoveryProtocol})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Confidence: ",p.confidence,"%"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${p.score>75?"bg-green-500":p.score>60?"bg-yellow-500":"bg-red-500"}`}),e.jsx("span",{className:"text-xs font-medium text-gray-600",children:p.score>75?"Excellent":p.score>60?"Good":"Needs Attention"})]})]})]})]},b))}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-6",children:"üß¨"}),e.jsx("h4",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"No Recovery Gene Data Available"}),e.jsx("p",{className:"text-gray-600 max-w-lg mx-auto leading-relaxed",children:"Comprehensive genetic testing is required to unlock personalized recovery protocols and optimization strategies."})]})]}),f.length>0&&e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"bg-gradient-to-r from-indigo-100 to-purple-100 p-2 rounded-full text-indigo-700",children:"üìä"}),"Recovery Intelligence Dashboard"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üìà"}),"Recovery Categories"]}),e.jsx("div",{className:"space-y-3",children:f.map((p,b)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:p.category}),e.jsxs("div",{className:"text-xs text-gray-500",children:[p.geneticMarkers.length," markers"]})]}),e.jsx("div",{className:`text-lg font-bold ${p.score>75?"text-green-600":p.score>60?"text-yellow-600":"text-red-600"}`,children:p.score.toFixed(0)})]},b))})]}),e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üéØ"}),"Priority Actions"]}),e.jsx("div",{className:"space-y-3",children:f.filter(p=>p.priority==="high").length>0?f.filter(p=>p.priority==="high").slice(0,3).map((p,b)=>e.jsxs("div",{className:"p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("div",{className:"font-medium text-red-800 text-sm mb-1",children:p.category}),e.jsx("div",{className:"text-xs text-red-600",children:p.recommendations[0]})]},b)):f.length>0?f.filter(p=>p.priority==="medium").slice(0,3).map((p,b)=>e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsx("div",{className:"font-medium text-yellow-800 text-sm mb-1",children:p.category}),e.jsx("div",{className:"text-xs text-yellow-600",children:p.recommendations[0]})]},b)):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("div",{className:"text-sm",children:"No priority actions available"}),e.jsx("div",{className:"text-xs mt-1",children:"Complete genetic testing to unlock personalized recommendations"})]})})]}),e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"‚è∞"}),"Implementation Timeline"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-red-50 rounded",children:[e.jsx("span",{className:"text-red-500 font-bold",children:"Week 1"}),e.jsx("span",{className:"text-red-700",children:"Implement high-priority protocols"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-yellow-50 rounded",children:[e.jsx("span",{className:"text-yellow-600 font-bold",children:"Week 2-3"}),e.jsx("span",{className:"text-yellow-700",children:"Monitor biometric response"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-green-50 rounded",children:[e.jsx("span",{className:"text-green-600 font-bold",children:"Week 4+"}),e.jsx("span",{className:"text-green-700",children:"Optimize based on results"})]})]})]})]})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"bg-gradient-to-r from-blue-100 to-indigo-100 p-2 rounded-full text-blue-700",children:"üìã"}),"Implementation Strategy & Monitoring"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Protocol Implementation"}),e.jsx("div",{className:"space-y-3",children:[{step:"1",title:"High-Priority Focus",desc:"Implement protocols for high-priority genetic markers first"},{step:"2",title:"One Change at a Time",desc:"Modify one protocol to clearly assess individual impact"},{step:"3",title:"Biometric Monitoring",desc:"Track HRV, resting HR, and sleep quality for validation"},{step:"4",title:"Response Assessment",desc:"Evaluate effectiveness after 2-3 weeks of implementation"}].map((p,b)=>e.jsxs("div",{className:"flex items-start gap-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:p.step}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:p.title}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:p.desc})]})]},b))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Success Metrics"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Primary Metrics"}),e.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[e.jsxs("div",{children:["‚Ä¢ HRV improvement ",">"," 5ms"]}),e.jsxs("div",{children:["‚Ä¢ Resting HR reduction ",">"," 3bpm"]}),e.jsxs("div",{children:["‚Ä¢ Sleep duration increase ",">"," 30min"]})]})]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"font-medium text-blue-800 mb-1",children:"Secondary Metrics"}),e.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[e.jsxs("div",{children:["‚Ä¢ Training readiness score ",">"," 75%"]}),e.jsx("div",{children:"‚Ä¢ Reduced perceived soreness"}),e.jsx("div",{children:"‚Ä¢ Improved training quality"})]})]}),e.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("div",{className:"font-medium text-purple-800 mb-1",children:"Timeline"}),e.jsxs("div",{className:"text-sm text-purple-700 space-y-1",children:[e.jsx("div",{children:"‚Ä¢ Initial assessment: 2 weeks"}),e.jsx("div",{children:"‚Ä¢ Protocol optimization: 4-6 weeks"}),e.jsx("div",{children:"‚Ä¢ Full adaptation: 8-12 weeks"})]})]})]})]})]})]})]})},la=t=>{const s=t.reduce((r,l)=>r+l,0)/t.length,i=t.map(r=>Math.pow(r-s,2)).reduce((r,l)=>r+l,0)/t.length;return Math.sqrt(i)},vx=(t,s)=>t-s,Nx=(t,s)=>{const n=t.map(a=>{const[o,c]=a.split(":").map(Number);return o*60+c}),i=s.map(a=>{const[o,c]=a.split(":").map(Number);return o*60+c}),r=la(n),l=la(i);return(r+l)/2},wx=t=>t<=15?"High":t<=45?"Moderate":"Low",Ax=t=>t<=15?"#10B981":t<=45?"#F59E0B":"#EF4444",He=t=>{const s=Math.floor(t/60),n=t%60;return`${s.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`},Sx=(t,s)=>s>0?t/s*100:0,Mx=(t,s)=>{const[n]=t.split(":").map(Number);return s.split(":").map(Number),n>=23||n>=0&&n<=5?"Evening Type":n>=21&&n<=22?"Intermediate":"Morning Type"},Tx=(t,s)=>!0,Rx=(t,s,n)=>[{name:"Deep Sleep",value:t},{name:"REM Sleep",value:s},{name:"Light Sleep",value:n}],_x=t=>{const s=[];return t.forEach(n=>{n.sleep_duration_h&&n.sleep_duration_h<6&&s.push("Fragmented Sleep"),n.hrv_night&&n.hrv_night<40&&s.push("HRV Suppression"),n.resting_hr&&n.resting_hr>70&&s.push("Elevated Resting HR"),n.deep_sleep_pct&&n.deep_sleep_pct<15&&s.push("Low Deep Sleep"),n.rem_sleep_pct&&n.rem_sleep_pct<15&&s.push("Low REM Sleep")}),s},kx=({biometricData:t,athleteId:s})=>{const[n,i]=A.useState("30d"),r=n==="7d"?t.slice(-7):t.slice(-30);r.forEach((j,S)=>{});const l=j=>{if(!j||j==="00:00"||j==="")return null;const[S,R]=j.split(":").map(Number);return isNaN(S)||isNaN(R)?null:S*60+R},a=r.map(j=>{const R=j.sleep_duration_h?vx(j.sleep_duration_h,8):0,T=l(j.sleep_onset_time||""),h=l(j.wake_time||"");let _=0;if(T!==null&&h!==null){let k=h-T;k<0&&(k+=24*60),_=k/60}else _=(j.sleep_duration_h||0)+.5;return{date:j.date,sleepDebt:R,sleepDuration:j.sleep_duration_h||0,recommendedSleep:8,deepSleep:j.deep_sleep_pct||0,remSleep:j.rem_sleep_pct||0,lightSleep:j.light_sleep_pct||0,sleepEfficiency:(()=>j.sleep_duration_h?Sx(j.sleep_duration_h,_):0)(),sleepOnsetTime:j.sleep_onset_time||"00:00",wakeTime:j.wake_time||"00:00",chronotype:j.sleep_onset_time&&j.sleep_onset_time!=="00:00"&&j.wake_time&&j.wake_time!=="00:00"?Mx(j.sleep_onset_time,j.wake_time):"Unknown (Missing timing data)",sleepStressIndicators:_x([j])}}),o=r.filter(j=>j.sleep_onset_time&&j.sleep_onset_time!=="00:00"&&j.wake_time&&j.wake_time!=="00:00");let c=0,d="Unknown",m="#9CA3AF";if(o.length>=2){const j=o.map(R=>R.sleep_onset_time),S=o.map(R=>R.wake_time);c=Nx(j,S),d=wx(c),m=Ax(c)}else d="Insufficient Data";const u=r.reduce((j,S)=>j+(S.deep_sleep_pct||0),0)/r.length,x=r.reduce((j,S)=>j+(S.rem_sleep_pct||0),0)/r.length,f=r.reduce((j,S)=>j+(S.light_sleep_pct||0),0)/r.length,g=Rx(u,x,f),p=["#0088FE","#00C49F","#FFBB28"],b=a.map(j=>({date:j.date,sleepDebt:j.sleepDebt})),y=a.map(j=>({date:j.date,sleepDuration:j.sleepDuration,recommendedSleep:j.recommendedSleep})),w=a.map(j=>({date:j.date,sleepEfficiency:j.sleepEfficiency}));a.map(j=>({date:j.date,deepSleep:j.deepSleep,remSleep:j.remSleep,lightSleep:j.lightSleep}));const N=a.map(j=>{const S=k=>{if(!k||k==="00:00"||k==="")return null;const[C,L]=k.split(":").map(Number);return isNaN(C)||isNaN(L)?null:C*60+L},R=S(j.sleepOnsetTime),T=S(j.wakeTime),h=R!==null?R:(j.sleepDuration||0)>=8?1320:(j.sleepDuration||0)>=7?1380:1440,_=T!==null?T:h+(j.sleepDuration||0)*60;return{date:j.date,sleepOnset:h,wakeTime:_%1440,hasRealTimingData:R!==null&&T!==null}});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"üåô Sleep Metrics"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>i("7d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="7d"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"7 Days"}),e.jsx("button",{onClick:()=>i("30d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="30d"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"30 Days"})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üìä Sleep Debt"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"relative w-48 h-48 mx-auto",children:e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#e5e7eb",strokeWidth:"8"}),e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:a.length>0?a[a.length-1].sleepDebt>0?"#10B981":"#EF4444":"#9CA3AF",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${Math.abs(a.length>0?a[a.length-1].sleepDebt:0)*10}, 1000`,transform:"rotate(-90 50 50)"}),e.jsx("text",{x:"50",y:"50",textAnchor:"middle",dominantBaseline:"middle",className:"text-2xl font-bold",children:a.length>0?a[a.length-1].sleepDebt.toFixed(1):"0.0"}),e.jsx("text",{x:"50",y:"60",textAnchor:"middle",dominantBaseline:"middle",className:"text-sm text-gray-600",children:"Hours"})]})})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Current Sleep Debt"}),e.jsxs("p",{className:"text-2xl font-bold mt-1  text-gray-900",children:[a.length>0?a[a.length-1].sleepDebt.toFixed(1):"0.0"," hours"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.length>0&&a[a.length-1].sleepDebt>0?"You are in debt - need more sleep":"You are catching up - good job!"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Sleep Consistency"}),e.jsxs("p",{className:"text-2xl font-bold mt-1  text-gray-900",children:[c.toFixed(1)," min"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Standard deviation of bed/wake times"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full mr-2",style:{backgroundColor:m}}),e.jsxs("span",{className:"text-sm font-medium text-black",children:[d," Consistency"]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Chronotype"}),e.jsx("p",{className:"text-2xl font-bold mt-1 text-black",children:a.length>0?a[a.length-1].chronotype:"Unknown"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.length>0&&!a[a.length-1].chronotype.includes("Unknown")&&Tx(a[a.length-1].chronotype)?"Within optimal window":a[a.length-1]?.chronotype.includes("Unknown")?"Insufficient timing data":"Outside optimal window"})]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üìà Sleep Duration Trend"}),e.jsx(K,{width:"100%",height:300,children:e.jsxs(ge,{data:y,children:[e.jsx(Z,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(q,{dataKey:"date",stroke:"#6b7280"}),e.jsx(H,{stroke:"#6b7280"}),e.jsx(B,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(te,{}),e.jsx(V,{type:"monotone",dataKey:"sleepDuration",name:"Actual Sleep (h)",stroke:"#3b82f6",strokeWidth:3,dot:{r:4}}),e.jsx(V,{type:"monotone",dataKey:"recommendedSleep",name:"Recommended (8h)",stroke:"#94a3b8",strokeWidth:2,strokeDasharray:"5 5",dot:!1})]})})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üìâ Sleep Debt Trend"}),e.jsx(K,{width:"100%",height:300,children:e.jsxs(va,{data:b,children:[e.jsx(Z,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(q,{dataKey:"date",stroke:"#6b7280"}),e.jsx(H,{stroke:"#6b7280"}),e.jsx(B,{formatter:j=>[`${Number(j).toFixed(1)} hours`,"Sleep Debt"],contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(te,{}),e.jsx(Wt,{dataKey:"sleepDebt",name:"Sleep Debt (hours)",fill:b.length>0&&b[b.length-1].sleepDebt>0?"#EF4444":"#10B981"})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["üìä Sleep Efficiency",a.some(j=>!j.sleepOnsetTime||j.sleepOnsetTime==="00:00"||!j.wakeTime||j.wakeTime==="00:00")&&e.jsx("span",{className:"text-sm font-normal text-gray-600 ml-2",children:"(estimated where timing data unavailable)"})]}),e.jsx(K,{width:"100%",height:300,children:e.jsxs(ge,{data:w,children:[e.jsx(Z,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(q,{dataKey:"date",stroke:"#6b7280"}),e.jsx(H,{stroke:"#6b7280",domain:[0,100],tickFormatter:j=>`${Number(j).toFixed(1)}%`}),e.jsx(B,{formatter:j=>[`${Number(j).toFixed(1)}%`,"Efficiency"],contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(te,{}),e.jsx(V,{type:"monotone",dataKey:"sleepEfficiency",name:"Efficiency (%)",stroke:"#8b5cf6",strokeWidth:3,dot:{r:4}})]})})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üåô Sleep Stage Distribution"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsx("div",{className:"flex-1",children:e.jsx(K,{width:"100%",height:300,children:e.jsxs(ba,{children:[e.jsx(ya,{data:g,cx:"50%",cy:"50%",labelLine:!0,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:j,percent:S})=>`${j}: ${(S?S*100:0).toFixed(0)}%`,children:g.map((j,S)=>e.jsx(Bs,{fill:p[S%p.length]},`cell-${S}`))}),e.jsx(B,{formatter:j=>[`${j}%`,"Percentage"],contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(te,{})]})})}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"space-y-3",children:g.map((j,S)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 rounded-full mr-3",style:{backgroundColor:p[S%p.length]}}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:j.name}),e.jsxs("div",{className:"text-sm text-gray-600",children:[j.value.toFixed(1),"%"]})]})]},j.name))})})]})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["‚è∞ Sleep Timing",N.some(j=>!j.hasRealTimingData)&&e.jsx("span",{className:"text-sm font-normal text-gray-600 ml-2",children:"(estimated times where data unavailable)"})]}),e.jsx(K,{width:"100%",height:300,children:e.jsxs(ge,{data:N,children:[e.jsx(Z,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(q,{dataKey:"date",stroke:"#6b7280"}),e.jsx(H,{stroke:"#6b7280",domain:[0,1440],tickFormatter:j=>He(j)}),e.jsx(B,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"},formatter:(j,S,R)=>{const T=He(Number(j)),h=!R.payload.hasRealTimingData;return[`${T}${h?" (estimated)":""}`,S]},labelFormatter:j=>`Date: ${new Date(j).toLocaleDateString()}`}),e.jsx(te,{}),e.jsx(V,{type:"monotone",dataKey:"sleepOnset",name:"Bed Time",stroke:"#10B981",strokeWidth:3,dot:{r:4},activeDot:{r:6}}),e.jsx(V,{type:"monotone",dataKey:"wakeTime",name:"Wake Time",stroke:"#F59E0B",strokeWidth:3,dot:{r:4},activeDot:{r:6}})]})})]}),a.length>0&&(()=>{const j=a[a.length-1];r[r.length-1];const R=(()=>{const T=[],_=(j.sleepDuration||0)*60;let k=0;if(j.sleepOnsetTime&&j.sleepOnsetTime!=="00:00"){const D=l(j.sleepOnsetTime);D!==null&&(k=D)}j.wakeTime&&j.wakeTime!=="00:00"&&l(j.wakeTime),k===0&&(k=21*60);const C=Math.round(_*(j.deepSleep||0)/100),L=Math.round(_*(j.remSleep||0)/100),P=_-C-L,E=[{type:"light",duration:Math.floor(P*.6),label:"Light Sleep",color:"#F59E0B"},{type:"deep",duration:C,label:"Deep Sleep",color:"#1E40AF"},{type:"light",duration:Math.floor(P*.4),label:"Light Sleep",color:"#F59E0B"},{type:"rem",duration:L,label:"REM Sleep",color:"#8B5CF6"}];let G=k,M=1;return E.forEach(D=>{if(D.duration>0){const Q=Math.floor(D.duration/10),ae=D.duration%10;for(let De=0;De<Q;De++)T.push({type:D.type,start:G,end:G+10,duration:10,label:D.label,color:D.color,segment:`${M}`}),G+=10,M++;ae>0&&(T.push({type:D.type,start:G,end:G+ae,duration:ae,label:D.label,color:D.color,segment:`${M} (Partial)`}),G+=ae,M++)}}),T})();return e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Sleep Timeline (10-minute segments)",e.jsx("span",{className:"text-sm font-normal text-gray-600 ml-2",children:"(48-hour view showing last night's sleep in context)"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-800"}),e.jsxs("span",{className:"text-black",children:["Deep Sleep: ",(j.deepSleep||0).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-yellow-500"}),e.jsxs("span",{className:"text-black",children:["Light Sleep: ",(j.lightSleep||0).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-purple-500"}),e.jsxs("span",{className:"text-black",children:["REM Sleep: ",(j.remSleep||0).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"}),e.jsxs("span",{className:"text-black",children:["Awake: ",((24-(j.sleepDuration||0))*60).toFixed(0)," min"]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-2",children:[e.jsx("span",{children:"Day 1 - 12:00 AM"}),e.jsx("span",{children:"Day 1 - 12:00 PM"}),e.jsx("span",{children:"Day 2 - 12:00 AM"}),e.jsx("span",{children:"Day 2 - 12:00 PM"}),e.jsx("span",{children:"Day 3 - 12:00 AM"})]}),e.jsxs("div",{className:"relative h-24 bg-gray-100 rounded-lg overflow-hidden",children:[Array.from({length:9},(T,h)=>h*6).map(T=>e.jsx("div",{className:"absolute top-0 bottom-0 border-l border-gray-300",style:{left:`${T/48*100}%`}},T)),R.map((T,h)=>{const _=T.start/2880*100,k=T.duration/(48*60)*100;return e.jsx("div",{className:"absolute top-0 bottom-0 flex items-center justify-center text-xs font-medium text-white shadow-sm hover:shadow-md transition-shadow",style:{left:`${_}%`,width:`${Math.max(k,.5)}%`,backgroundColor:T.color,minWidth:"1px"},title:`${T.label} (${T.segment}): ${He(T.start)} - ${He(T.end)} (${T.duration} min)`},h)})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[e.jsx("span",{children:"0h"}),e.jsx("span",{children:"12h"}),e.jsx("span",{children:"24h"}),e.jsx("span",{children:"36h"}),e.jsx("span",{children:"48h"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Sleep Stage Segments (10-minute intervals)"}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:R.filter(T=>T.type!=="awake").map((T,h)=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg border bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:T.color}}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:T.label}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Segment ",T.segment," ‚Ä¢ ",He(T.start)," - ",He(T.end)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-gray-900 text-sm",children:[T.duration," min"]}),e.jsxs("div",{className:"text-xs text-gray-600",children:[(T.duration/((j.sleepDuration||0)*60)*100).toFixed(1),"%"]})]})]},h))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"48-Hour Sleep Context Analysis"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"font-medium text-blue-800 mb-1",children:"48-Hour Timeline View"}),e.jsxs("div",{className:"text-blue-700",children:["Complete 48-hour view showing last night's sleep positioned within daily/weekly context (Sleep: ",j.sleepOnsetTime||"Unknown"," - ",j.wakeTime||"Unknown",")"]})]}),e.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("div",{className:"font-medium text-purple-800 mb-1",children:"10-Minute Segment Tracking"}),e.jsxs("div",{className:"text-purple-700",children:["Sleep data distributed across ",R.filter(T=>T.type!=="awake").length," segments in 10-minute intervals within the 48-hour timeline for detailed pattern analysis"]})]}),e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Sleep Stage Distribution"}),e.jsxs("div",{className:"text-green-700",children:["Deep: ",R.filter(T=>T.type==="deep").length," segments, REM: ",R.filter(T=>T.type==="rem").length," segments, Light: ",R.filter(T=>T.type==="light").length," segments"]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"font-medium text-gray-800 mb-1",children:"Timeline Context"}),e.jsx("div",{className:"text-gray-700 text-xs",children:"48-hour view provides context for sleep timing, duration, and quality within daily/weekly cycles. Sleep segments are positioned based on actual recorded sleep onset and wake times."})]})]})]})]})]})]})})(),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"‚ö†Ô∏è High Sleep Stress Indicators"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:a.length>0&&a[a.length-1].sleepStressIndicators.length>0?a[a.length-1].sleepStressIndicators.map((j,S)=>e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center",children:e.jsx("span",{className:"text-red-600",children:"‚ö†Ô∏è"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-red-800",children:j}),e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[j==="Fragmented Sleep"&&"Frequent wake-ups during the night",j==="HRV Suppression"&&"Low HRV during sleep indicates stress",j==="Elevated Resting HR"&&"High resting heart rate at night",j==="Low Deep Sleep"&&"Insufficient deep sleep for recovery",j==="Low REM Sleep"&&"Insufficient REM sleep for cognitive recovery"]})]})]})},S)):e.jsxs("div",{className:"col-span-3 text-center py-8 text-gray-600",children:[e.jsx("p",{children:"No sleep stress indicators detected"}),e.jsx("p",{className:"text-sm mt-2",children:"Great job maintaining healthy sleep patterns!"})]})})]})]})};function Dx(t){return t<55?{status:"Optimal",color:"text-green-500",message:"Excellent cardiovascular fitness"}:t<65?{status:"Good",color:"text-green-500",message:"Healthy resting heart rate"}:t<75?{status:"Elevated",color:"text-yellow-500",message:"Slightly elevated, monitor trends"}:{status:"High",color:"text-red-500",message:"Significantly elevated, potential stress/fatigue"}}function Px(t,s){const n=s<25?60:s<35?55:50;return t>n+10?{status:"Excellent",color:"text-green-500",message:"Strong parasympathetic activity"}:t>n?{status:"Good",color:"text-green-500",message:"Healthy HRV levels"}:t>n-10?{status:"Moderate",color:"text-yellow-500",message:"Moderately reduced HRV, monitor trends"}:{status:"Low",color:"text-red-500",message:"Reduced HRV, potential stress/fatigue"}}function ot(t,s,n){const i=Math.max(0,Math.min(1,(t-40)/60)),r=n<25?60:n<35?55:50,l=Math.max(0,Math.min(1,s/(r*1.5)));return(i*.6+(1-l)*.4)*100}function oa(t){return t<30?{level:"Low",color:"text-green-500",bgColor:"bg-green-500",message:"Low stress levels, good recovery"}:t<60?{level:"Moderate",color:"text-yellow-500",bgColor:"bg-yellow-500",message:"Moderate stress, monitor recovery"}:{level:"High",color:"text-red-500",bgColor:"bg-red-500",message:"High stress levels, prioritize recovery"}}function Lx(t,s=7){if(t.length<s*2)return{acuteStress:0,chronicStress:0,stressBalance:0};const n=t.slice(-s),i=n.reduce((u,x)=>u+x.resting_hr,0)/n.length,r=n.reduce((u,x)=>u+x.hrv_night,0)/n.length,l=i/70*50+(1-r/60)*50,a=t.slice(-(s*2),-s),o=a.reduce((u,x)=>u+x.resting_hr,0)/a.length,c=a.reduce((u,x)=>u+x.hrv_night,0)/a.length,d=o/70*50+(1-c/60)*50,m=d-l;return{acuteStress:l,chronicStress:d,stressBalance:m}}function Ex(t,s,n,i,r){if(t.length<3)return 50;const l=Math.max(0,100-Math.abs(s)*10),a=Math.max(0,Math.min(100,50+n*2)),o=Math.max(0,100-(i-50)*2),c=r>85?100-(r-85)*2:r<40?100-(40-r)*1.5:100;return l*.25+a*.25+o*.25+c*.25}function ca(t,s=7){if(t.length<s)return 0;const n=t.slice(-s),i=t.slice(-(s*2),-s);if(n.length===0||i.length===0)return 0;const r=n.reduce((a,o)=>a+o.hrv_night,0)/n.length,l=i.reduce((a,o)=>a+o.hrv_night,0)/i.length;return r-l}const Cx=({athleteId:t,biometricData:s})=>{const[n,i]=A.useState("7d"),[r,l]=A.useState("24h"),[a,o]=A.useState(void 0),[c,d]=A.useState(!0),[m,u]=A.useState(null);A.useEffect(()=>{t&&(async()=>{try{d(!0),u(null);const E=typeof t=="string"?parseInt(t,10):t,G=await et.getAthleteData(E);o(G.athlete),!s.length&&G.biometricData.length}catch{u("Failed to load athlete data")}finally{d(!1)}})()},[t,s.length]);const x=a?.age||25,f=A.useMemo(()=>{if(!s||s.length===0)return[];const P=n==="7d"?7:30;return s.slice(-P).map(G=>{const M=ot(G.resting_hr,G.hrv_night,x),D=oa(M).level,I=ca(s,7),Q=Ex(s,0,I,G.resting_hr,G.training_load_pct);return{date:G.date,restingHR:G.resting_hr,hrv:G.hrv_night,strainIndex:M,stressLevel:D,recoveryReadiness:Q,trainingLoad:G.training_load_pct}})},[s,n,x]),g=f.length>0?f[f.length-1]:null,p=g?Dx(g.restingHR):null,b=g?Px(g.hrv,x):null,y=g?g.strainIndex:0,w=g?oa(y):null,N=Lx(s,7),j=ca(s,7),S=A.useMemo(()=>g?ot(g.restingHR,g.hrv,x):0,[g,x]),R=A.useMemo(()=>{if(f.length<2)return 0;const P=f[f.length-2];return ot(P.restingHR,P.hrv,x)},[f,x]),T=S-R,h=T>=0?`‚Üë ${T.toFixed(1)}`:`‚Üì ${Math.abs(T).toFixed(1)}`,_=A.useMemo(()=>{if(s.length===0)return[];if(r==="24h"){const P=s.slice(-24);return P.map((E,G)=>{const M=ot(E.resting_hr,E.hrv_night,x),D=P.length-1-G;return{time:D===0?"Now":`${D}h ago`,heartRate:E.resting_hr,stressLevel:M}})}else{const P={};return s.forEach(G=>{const M=G.date;P[M]||(P[M]=[]),P[M].push(G)}),Object.keys(P).sort().slice(-7).map(G=>{const M=P[G],D=M.reduce((it,at)=>it+at.resting_hr,0)/M.length,I=M.reduce((it,at)=>it+at.hrv_night,0)/M.length,Q=ot(D,I,x);return{time:new Date(G).toLocaleDateString("en-US",{weekday:"short"}),heartRate:Math.round(D),stressLevel:Q}})}},[s,r,x]),k=A.useMemo(()=>s.length===0?[{id:5,name:"ZONE 5",range:"90‚Äì100%",percentage:0,duration:"0:00:00",color:"#EF4444",bgColor:"bg-red-500"},{id:4,name:"ZONE 4",range:"80‚Äì90%",percentage:0,duration:"0:00:00",color:"#F97316",bgColor:"bg-orange-500"},{id:3,name:"ZONE 3",range:"70‚Äì80%",percentage:0,duration:"0:00:00",color:"#EAB308",bgColor:"bg-yellow-500"},{id:2,name:"ZONE 2",range:"50‚Äì70%",percentage:0,duration:"0:00:00",color:"#22C55E",bgColor:"bg-green-500"},{id:1,name:"ZONE 1",range:"0‚Äì50%",percentage:0,duration:"0:00:00",color:"#3B82F6",bgColor:"bg-blue-500"}]:[{id:5,name:"ZONE 5",range:"90‚Äì100%",percentage:10,duration:"0:15:22",color:"#EF4444",bgColor:"bg-red-500"},{id:4,name:"ZONE 4",range:"80‚Äì90%",percentage:20,duration:"0:30:45",color:"#F97316",bgColor:"bg-orange-500"},{id:3,name:"ZONE 3",range:"70‚Äì80%",percentage:30,duration:"0:45:10",color:"#EAB308",bgColor:"bg-yellow-500"},{id:2,name:"ZONE 2",range:"50‚Äì70%",percentage:25,duration:"0:37:33",color:"#22C55E",bgColor:"bg-green-500"},{id:1,name:"ZONE 1",range:"0‚Äì50%",percentage:15,duration:"0:22:10",color:"#3B82F6",bgColor:"bg-blue-500"}],[s]),C=P=>new Date(P).toLocaleDateString("en-US",{month:"short",day:"numeric"}),L=P=>P;return c?e.jsx("div",{className:"space-y-8",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),e.jsx("p",{className:"text-white",children:"Loading athlete data..."})]})})}):m?e.jsx("div",{className:"space-y-8",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-4xl mb-4",children:"‚ö†Ô∏è"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Failed to Load Athlete Data"}),e.jsx("p",{className:"text-gray-300 mb-4",children:m}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Retry"})]})})}):a?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"üßò Stress Management"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>i("7d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="7d"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"7 Days"}),e.jsx("button",{onClick:()=>i("30d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="30d"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"30 Days"})]})]}),e.jsx("div",{className:"card-enhanced p-6",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`text-6xl font-bold mb-2 ${w?.level==="High"?"text-red-500":w?.level==="Moderate"?"text-yellow-500":w?.level==="Low"?"text-green-500":"text-gray-500"}`,children:S.toFixed(1)}),e.jsx("div",{className:"text-lg text-gray-300 mb-1",children:"STRESS SCORE"}),e.jsxs("div",{className:`text-sm font-medium ${T>=0?"text-red-400":"text-green-400"}`,children:[h," from previous"]})]})}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Stress Level Indicator"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsx("div",{className:"flex-1 flex justify-center",children:e.jsxs("div",{className:"relative w-48 h-48",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-gray-200"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-transparent",style:{borderTopColor:w?.bgColor.replace("bg-","")==="bg-green-500"?"#10B981":w?.bgColor.replace("bg-","")==="bg-yellow-500"?"#F59E0B":"#EF4444",borderRightColor:w?.bgColor.replace("bg-","")==="bg-green-500"?"#10B981":w?.bgColor.replace("bg-","")==="bg-yellow-500"?"#F59E0B":"#EF4444",transform:"rotate(45deg)",clipPath:`inset(0 ${100-y/100*100}% 0 0)`}}),e.jsx("div",{className:"absolute inset-8 rounded-full bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-3xl font-bold ${w?.color||"text-gray-500"}`,children:y?Math.round(y):"--"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Stress Index"})]})})]})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Current Stress Level"}),e.jsx("p",{className:`text-2xl font-bold mt-1 ${w?.color||"text-gray-500"}`,children:w?.level||"Unknown"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w?.message||"No data available"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Resting Heart Rate"}),e.jsx("p",{className:`text-2xl font-bold mt-1 ${p?.color||"text-gray-500"}`,children:g?`${g.restingHR} bpm`:"--"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p?.message||"No data available"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Heart Rate Variability"}),e.jsx("p",{className:`text-2xl font-bold mt-1 ${b?.color||"text-gray-500"}`,children:g?`${g.hrv} ms`:"--"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:b?.message||"No data available"})]})]})})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r==="24h"?"HEART RATE TODAY":"HEART RATE THIS WEEK"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Monitor your heart rate patterns throughout the day to understand stress and recovery."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>l("24h"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r==="24h"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"24 Hours"}),e.jsx("button",{onClick:()=>l("7d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r==="7d"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"7 Days"})]})]}),e.jsx("div",{className:"h-64",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(Fl,{data:_,margin:{top:5,right:20,left:10,bottom:5},children:[e.jsx(Z,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(q,{dataKey:"time",stroke:"#9CA3AF",tickFormatter:L}),e.jsx(H,{stroke:"#9CA3AF",domain:[40,180]}),e.jsx(B,{contentStyle:{backgroundColor:"#1F2937",borderColor:"#374151",borderRadius:"0.5rem",color:"#F9FAFB"},formatter:(P,E)=>E==="heartRate"?[`${P} bpm`,"Heart Rate"]:E==="stressLevel"?[`${Number(P).toFixed(1)}`,"Stress Level"]:[P,E]}),e.jsx(Il,{type:"monotone",dataKey:"heartRate",name:"Heart Rate",stroke:"#3B82F6",fill:"url(#colorHeartRate)",strokeWidth:2}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorHeartRate",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:.1})]})})]})})}),e.jsx("div",{className:"mt-4 text-sm text-gray-400",children:e.jsx("p",{children:"Heart rate range: 100‚Äì175 bpm"})})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"STRESS ZONES"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Distribution of time spent in different heart rate zones indicates training intensity and stress levels."})]}),e.jsx("div",{className:"space-y-4",children:k.map(P=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-900 mr-2",children:P.name}),e.jsxs("span",{className:"text-gray-400",children:["(",P.range,")"]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("span",{className:"text-gray-900",children:[P.percentage,"%"]}),e.jsx("span",{className:"text-gray-400",children:P.duration})]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:e.jsx("div",{className:"h-2.5 rounded-full",style:{width:`${P.percentage}%`,backgroundColor:P.color}})})]},P.id))})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"HRV Trend (7/30 Days)"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Heart Rate Variability (HRV) is a key indicator of stress and recovery. Higher HRV values indicate better recovery and parasympathetic nervous system activity."}),e.jsx("div",{className:"h-80",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(ge,{data:f,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(Z,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(q,{dataKey:"date",tickFormatter:C,stroke:"#6b7280"}),e.jsx(H,{stroke:"#6b7280"}),e.jsx(B,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"},formatter:(P,E)=>E==="hrv"?[`${typeof P=="number"?Math.round(P):P} ms`,"HRV"]:E==="restingHR"?[`${typeof P=="number"?Math.round(P):P} bpm`,"Resting HR"]:[typeof P=="number"?Math.round(P):P,E],labelFormatter:P=>`Date: ${new Date(P).toLocaleDateString()}`}),e.jsx(te,{}),e.jsx(V,{type:"monotone",dataKey:"hrv",name:"HRV (ms)",stroke:"#10B981",strokeWidth:3,dot:{r:4},activeDot:{r:6}}),e.jsx(V,{type:"monotone",dataKey:"restingHR",name:"Resting HR (bpm)",stroke:"#EF4444",strokeWidth:3,dot:{r:4},activeDot:{r:6}}),e.jsx(Y,{y:j>0?Math.min(...f.map(P=>P.hrv)):Math.max(...f.map(P=>P.hrv)),stroke:j>0?"#10B981":"#EF4444",strokeDasharray:"3 3"})]})})}),e.jsx("div",{className:"mt-4 text-sm text-gray-600",children:e.jsxs("p",{children:["HRV Trend (7 days):",e.jsxs("span",{className:j>0?"text-green-600 font-medium":j<0?"text-red-600 font-medium":"text-gray-600",children:[" ",j>0?"+":"",j.toFixed(1)," ms"]})," ","| Daily Stress Load:",e.jsxs("span",{className:N.stressBalance>0?"text-green-600 font-medium":N.stressBalance<0?"text-red-600 font-medium":"text-gray-600",children:[" ",N.stressBalance>0?"+":"",Math.round(N.stressBalance)]})]})})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Training Load vs Recovery Readiness"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This chart shows the relationship between training load and recovery readiness. Optimal performance occurs when training load and recovery are balanced."}),e.jsx("div",{className:"h-80",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(va,{data:f,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(Z,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(q,{dataKey:"date",tickFormatter:C,stroke:"#6b7280"}),e.jsx(H,{yAxisId:"left",orientation:"left",stroke:"#6b7280"}),e.jsx(H,{yAxisId:"right",orientation:"right",stroke:"#6b7280"}),e.jsx(B,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"},formatter:(P,E)=>E==="trainingLoad"?[`${typeof P=="number"?Math.round(P):P}%`,"Training Load"]:E==="recoveryReadiness"?[`${typeof P=="number"?Math.round(P):P}%`,"Recovery Readiness"]:[typeof P=="number"?Math.round(P):P,E]}),e.jsx(te,{}),e.jsx(Wt,{yAxisId:"left",dataKey:"trainingLoad",name:"Training Load (%)",fill:"#3B82F6",radius:[4,4,0,0]}),e.jsx(V,{yAxisId:"right",type:"monotone",dataKey:"recoveryReadiness",name:"Recovery Readiness (%)",stroke:"#10B981",strokeWidth:3,dot:{r:4},activeDot:{r:6}})]})})}),e.jsx("div",{className:"mt-4 text-sm text-gray-600",children:e.jsxs("p",{children:["Recovery Readiness:",e.jsxs("span",{className:g?.recoveryReadiness&&g.recoveryReadiness>70?"text-green-600 font-medium":g?.recoveryReadiness&&g.recoveryReadiness>40?"text-yellow-600 font-medium":"text-red-600 font-medium",children:[" ",g?.recoveryReadiness?Math.round(g.recoveryReadiness):"--","%"]})," ","| Chronic Stress:",e.jsxs("span",{className:N.chronicStress<40?"text-green-600 font-medium":N.chronicStress<60?"text-yellow-600 font-medium":"text-red-600 font-medium",children:[" ",Math.round(N.chronicStress)]})]})})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Stress Insights"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[e.jsx("h4",{className:"font-medium text-blue-800",children:"Acute Stress Load"}),e.jsx("p",{className:"text-2xl font-bold mt-1 text-blue-600",children:Math.round(N.acuteStress)}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Last 7 days average"})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[e.jsx("h4",{className:"font-medium text-purple-800",children:"Chronic Stress Load"}),e.jsx("p",{className:"text-2xl font-bold mt-1 text-purple-600",children:Math.round(N.chronicStress)}),e.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"Previous 7 days average"})]}),e.jsxs("div",{className:`${N.stressBalance>0?"bg-green-50 border-green-100":N.stressBalance<0?"bg-red-50 border-red-100":"bg-gray-50 border-gray-100"} p-4 rounded-lg border`,children:[e.jsx("h4",{className:`font-medium ${N.stressBalance>0?"text-green-800":N.stressBalance<0?"text-red-800":"text-gray-800"}`,children:"Stress Balance"}),e.jsxs("p",{className:`text-2xl font-bold mt-1 ${N.stressBalance>0?"text-green-600":N.stressBalance<0?"text-red-600":"text-gray-600"}`,children:[N.stressBalance>0?"+":"",Math.round(N.stressBalance)]}),e.jsx("p",{className:"text-sm mt-1",style:{color:N.stressBalance>0?"#059669":N.stressBalance<0?"#DC2626":"#6B7280"},children:N.stressBalance>0?"Improving trend":N.stressBalance<0?"Worsening trend":"Stable"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Stress Management Recommendations"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm text-gray-600",children:[w?.level==="High"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Prioritize sleep hygiene and aim for 7-9 hours of quality sleep"}),e.jsx("li",{children:"Consider active recovery or rest days to allow stress markers to normalize"}),e.jsx("li",{children:"Practice stress-reduction techniques like meditation or breathing exercises"})]}),w?.level==="Moderate"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Maintain consistent sleep schedule and monitor sleep quality"}),e.jsx("li",{children:"Balance training load with adequate recovery periods"}),e.jsx("li",{children:"Stay hydrated and maintain proper nutrition to support recovery"})]}),w?.level==="Low"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"You're in a good recovery state - maintain current healthy habits"}),e.jsx("li",{children:"Continue monitoring trends to prevent stress accumulation"}),e.jsx("li",{children:"Optimize training timing for peak performance windows"})]}),!w&&e.jsx("li",{children:"Insufficient data to provide specific recommendations. Continue monitoring metrics."})]})]})]})]}):e.jsx("div",{className:"space-y-8",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-400 text-4xl mb-4",children:"üë§"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Athlete Not Found"}),e.jsx("p",{className:"text-gray-300",children:"No athlete data available for the selected athlete."})]})})})},ml=({athleteId:t})=>{const[s,n]=A.useState([]),[i,r]=A.useState(!0),[l,a]=A.useState(null);A.useEffect(()=>{(async()=>{try{r(!0),a(null);const m=typeof t=="string"?parseInt(t,10):t,u=await et.getAthleteData(m,!0);if(!u.bloodResults||u.bloodResults.length===0){n([]);return}const x=u.bloodResults.filter(g=>g.cortisol_nmol_l!==void 0&&g.cortisol_nmol_l!==null&&g.testosterone!==void 0&&g.testosterone!==null&&g.date);if(x.length===0){n([]);return}const f=x.map(g=>{const p=new Date(g.date),b=p.getTime(),y=g.testosterone,w=Math.min(...x.map(S=>S.testosterone)),N=Math.max(...x.map(S=>S.testosterone)),j=20+(y-w)/(N-w)*80;return{date:b,dateString:p.toLocaleDateString(),cortisol:g.cortisol_nmol_l,testosterone:y,size:j}});f.sort((g,p)=>g.date-p.date),n(f)}catch{a("Failed to load hormone balance data. Please try again.")}finally{r(!1)}})()},[t]);const o=({active:d,payload:m})=>{if(d&&m&&m.length){const u=m[0].payload;return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-lg",children:[e.jsx("p",{className:"text-white font-medium",children:`Date: ${u.dateString}`}),e.jsx("p",{className:"text-blue-400",children:`Cortisol: ${u.cortisol.toFixed(1)} nmol/L`}),e.jsx("p",{className:"text-green-400",children:`Testosterone: ${u.testosterone.toFixed(1)} nmol/L`})]})}return null},c=d=>d<8.4?"#ef4444":d>28.7?"#10b981":"#3b82f6";return i?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Loading hormone balance data..."})]})}):l?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Me,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-400 font-medium text-lg",children:"Error loading hormone balance data"}),e.jsx("p",{className:"text-gray-400 mt-2",children:l})]})}):s.length===0?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xe,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 font-medium text-lg",children:"No hormone balance data available"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Hormone balance data requires blood test results with both cortisol and testosterone measurements."})]})}):s.length<2?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xe,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),e.jsx("p",{className:"text-yellow-400 font-medium text-lg",children:"Insufficient data for hormone balance chart"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"At least 2 data points with both cortisol and testosterone measurements are required."})]})}):e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Hormone Balance Chart"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Cortisol vs Testosterone levels over time. Bubble size represents testosterone concentration."}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("span",{children:"Low Testosterone (< 8.4 nmol/L)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Normal Testosterone"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{children:"High Testosterone (> 28.7 nmol/L)"})]})]})]}),e.jsx("div",{className:"h-96",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(ma,{data:s,margin:{top:20,right:20,bottom:20,left:20},children:[e.jsx(Z,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(q,{type:"number",dataKey:"date",domain:["dataMin","dataMax"],tickFormatter:d=>new Date(d).toLocaleDateString(),stroke:"#9ca3af"}),e.jsx(H,{type:"number",dataKey:"cortisol",domain:["dataMin - 10","dataMax + 10"],label:{value:"Cortisol (nmol/L)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#9ca3af"}},stroke:"#9ca3af"}),e.jsx(B,{content:e.jsx(o,{})}),e.jsx(ha,{dataKey:"cortisol",fill:"#8884d8",children:s.map((d,m)=>e.jsx(Bs,{fill:c(d.testosterone),r:d.size/10},`cell-${m}`))})]})})}),e.jsxs("div",{className:"mt-4 text-center text-sm text-gray-500",children:[s.length," data point",s.length!==1?"s":""," ‚Ä¢ Last updated: ",s[s.length-1]?.dateString]})]})},Fx=({athleteId:t})=>{const[s,n]=A.useState([]),[i,r]=A.useState(!0),[l,a]=A.useState(null);A.useEffect(()=>{(async()=>{try{r(!0),a(null);const d=typeof t=="string"?parseInt(t,10):t,m=await et.getAthleteData(d,!0);if(!m.bloodResults||m.bloodResults.length===0){n([]);return}const u=m.bloodResults.filter(f=>f.fasting_glucose!==void 0&&f.fasting_glucose!==null||f.hba1c!==void 0&&f.hba1c!==null||f.estimated_average_glucose!==void 0&&f.estimated_average_glucose!==null);if(u.length===0){n([]);return}const x=u.filter(f=>f.date).map(f=>{const g=new Date(f.date);return{date:g.getTime(),dateString:g.toLocaleDateString(),glucose:f.fasting_glucose||0,hba1c:f.hba1c||0,estimatedGlucose:f.estimated_average_glucose}});x.sort((f,g)=>f.date-g.date),n(x)}catch{a("Failed to load metabolic health data. Please try again.")}finally{r(!1)}})()},[t]);const o=({active:c,payload:d,label:m})=>{if(c&&d&&d.length){const u=d[0].payload;return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-lg",children:[e.jsx("p",{className:"text-white font-medium",children:`Date: ${u.dateString}`}),d.map((x,f)=>e.jsx("p",{style:{color:x.color},children:`${x.name}: ${x.value?.toFixed(1)} ${x.dataKey==="glucose"?"mmol/L":"%"}`},f))]})}return null};return i?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Loading metabolic health data..."})]})}):l?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Me,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-400 font-medium text-lg",children:"Error loading metabolic health data"}),e.jsx("p",{className:"text-gray-400 mt-2",children:l})]})}):s.length===0?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xe,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 font-medium text-lg",children:"No metabolic health data available"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Metabolic health data requires blood test results with glucose or HbA1c measurements."})]})}):e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Metabolic Health Trends"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Glucose and HbA1c levels over time. Monitor metabolic health and diabetes risk."}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Fasting Glucose (3.9-5.6 mmol/L)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{children:"HbA1c (4.0-6.0%)"})]})]})]}),e.jsx("div",{className:"h-96",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(ge,{data:s,margin:{top:20,right:30,bottom:20,left:20},children:[e.jsx(Z,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(q,{type:"number",dataKey:"date",domain:["dataMin","dataMax"],tickFormatter:c=>new Date(c).toLocaleDateString(),stroke:"#9ca3af"}),e.jsx(H,{yAxisId:"glucose",orientation:"left",domain:["dataMin - 0.5","dataMax + 0.5"],label:{value:"Glucose (mmol/L)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#9ca3af"}},stroke:"#3b82f6"}),e.jsx(H,{yAxisId:"hba1c",orientation:"right",domain:["dataMin - 0.2","dataMax + 0.2"],label:{value:"HbA1c (%)",angle:90,position:"insideRight",style:{textAnchor:"middle",fill:"#9ca3af"}},stroke:"#10b981"}),e.jsx(B,{content:e.jsx(o,{})}),e.jsx(te,{}),e.jsx(Y,{yAxisId:"glucose",y:3.9,stroke:"#ef4444",strokeDasharray:"5 5",label:"Low Glucose"}),e.jsx(Y,{yAxisId:"glucose",y:5.6,stroke:"#ef4444",strokeDasharray:"5 5",label:"High Glucose"}),e.jsx(Y,{yAxisId:"hba1c",y:4,stroke:"#f59e0b",strokeDasharray:"5 5",label:"Low HbA1c"}),e.jsx(Y,{yAxisId:"hba1c",y:6,stroke:"#f59e0b",strokeDasharray:"5 5",label:"High HbA1c"}),e.jsx(V,{yAxisId:"glucose",type:"monotone",dataKey:"glucose",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",strokeWidth:2,r:4},name:"Fasting Glucose",connectNulls:!1}),e.jsx(V,{yAxisId:"hba1c",type:"monotone",dataKey:"hba1c",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",strokeWidth:2,r:4},name:"HbA1c",connectNulls:!1})]})})}),e.jsxs("div",{className:"mt-4 text-center text-sm text-gray-500",children:[s.length," data point",s.length!==1?"s":""," ‚Ä¢ Last updated: ",s[s.length-1]?.dateString]})]})},Ix=({athleteId:t})=>{const[s,n]=A.useState([]),[i,r]=A.useState(!0),[l,a]=A.useState(null);A.useEffect(()=>{(async()=>{try{r(!0),a(null);const d=typeof t=="string"?parseInt(t,10):t,m=await et.getAthleteData(d,!0);if(!m.bloodResults||m.bloodResults.length===0){n([]);return}const u=m.bloodResults.filter(f=>f.c_reactive_protein!==void 0&&f.c_reactive_protein!==null||f.esr!==void 0&&f.esr!==null||f.leucocyte_count!==void 0&&f.leucocyte_count!==null||f.nlr!==void 0&&f.nlr!==null);if(u.length===0){n([]);return}const x=u.filter(f=>f.date).map(f=>{const g=new Date(f.date);return{date:g.getTime(),dateString:g.toLocaleDateString(),crp:f.c_reactive_protein||0,esr:f.esr||0,wbc:f.leucocyte_count||0,nlr:f.nlr||0}});x.sort((f,g)=>f.date-g.date),n(x)}catch{a("Failed to load inflammation data. Please try again.")}finally{r(!1)}})()},[t]);const o=({active:c,payload:d,label:m})=>{if(c&&d&&d.length){const u=d[0].payload;return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-lg",children:[e.jsx("p",{className:"text-white font-medium",children:`Date: ${u.dateString}`}),d.map((x,f)=>{let g="";return x.dataKey==="crp"?g=" mg/L":x.dataKey==="esr"?g=" mm/hr":x.dataKey==="wbc"?g=" √ó10‚Åπ/L":x.dataKey==="nlr"&&(g=""),e.jsx("p",{style:{color:x.color},children:`${x.name}: ${x.value?.toFixed(1)}${g}`},f)})]})}return null};return i?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Loading inflammation data..."})]})}):l?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Me,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-400 font-medium text-lg",children:"Error loading inflammation data"}),e.jsx("p",{className:"text-gray-400 mt-2",children:l})]})}):s.length===0?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xe,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 font-medium text-lg",children:"No inflammation data available"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Inflammation data requires blood test results with CRP, ESR, WBC, or NLR measurements."})]})}):e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Inflammation & Immune Response"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Track inflammation markers and immune system activity over time."}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("span",{children:"CRP (<3.0 mg/L)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),e.jsx("span",{children:"ESR (<20 mm/hr)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{children:"WBC (4.0-11.0 √ó10‚Åπ/L)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),e.jsx("span",{children:"NLR (<3.0)"})]})]})]}),e.jsx("div",{className:"h-96",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(bs,{data:s,margin:{top:20,right:30,bottom:20,left:20},children:[e.jsx(Z,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(q,{type:"number",dataKey:"date",domain:["dataMin","dataMax"],tickFormatter:c=>new Date(c).toLocaleDateString(),stroke:"#9ca3af"}),e.jsx(H,{yAxisId:"inflammation",orientation:"left",domain:["dataMin","dataMax"],label:{value:"Inflammation Markers",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#9ca3af"}},stroke:"#9ca3af"}),e.jsx(H,{yAxisId:"immune",orientation:"right",domain:["dataMin","dataMax"],label:{value:"Immune Cells",angle:90,position:"insideRight",style:{textAnchor:"middle",fill:"#9ca3af"}},stroke:"#9ca3af"}),e.jsx(B,{content:e.jsx(o,{})}),e.jsx(te,{}),e.jsx(Y,{yAxisId:"inflammation",y:3,stroke:"#ef4444",strokeDasharray:"5 5",label:"CRP Normal"}),e.jsx(Y,{yAxisId:"inflammation",y:20,stroke:"#f59e0b",strokeDasharray:"5 5",label:"ESR Normal"}),e.jsx(Y,{yAxisId:"immune",y:4,stroke:"#3b82f6",strokeDasharray:"5 5",label:"WBC Low"}),e.jsx(Y,{yAxisId:"immune",y:11,stroke:"#3b82f6",strokeDasharray:"5 5",label:"WBC High"}),e.jsx(Y,{yAxisId:"immune",y:3,stroke:"#8b5cf6",strokeDasharray:"5 5",label:"NLR Normal"}),e.jsx(V,{yAxisId:"inflammation",type:"monotone",dataKey:"crp",stroke:"#ef4444",strokeWidth:2,dot:{fill:"#ef4444",strokeWidth:2,r:4},name:"C-Reactive Protein",connectNulls:!1}),e.jsx(V,{yAxisId:"inflammation",type:"monotone",dataKey:"esr",stroke:"#f59e0b",strokeWidth:2,dot:{fill:"#f59e0b",strokeWidth:2,r:4},name:"ESR",connectNulls:!1}),e.jsx(Wt,{yAxisId:"immune",dataKey:"wbc",fill:"#3b82f6",name:"White Blood Cells",opacity:.7}),e.jsx(V,{yAxisId:"immune",type:"monotone",dataKey:"nlr",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",strokeWidth:2,r:4},name:"Neutrophil-Lymphocyte Ratio",connectNulls:!1})]})})}),e.jsxs("div",{className:"mt-4 text-center text-sm text-gray-500",children:[s.length," data point",s.length!==1?"s":""," ‚Ä¢ Last updated: ",s[s.length-1]?.dateString]})]})},Gx=({athleteId:t})=>{const[s,n]=A.useState([]),[i,r]=A.useState(!0),[l,a]=A.useState(null);A.useEffect(()=>{(async()=>{try{r(!0),a(null);const d=typeof t=="string"?parseInt(t,10):t,m=await et.getAthleteData(d,!0);if(!m.bloodResults||m.bloodResults.length===0){n([]);return}const u=m.bloodResults.filter(f=>f.s_alanine_transaminase!==void 0&&f.s_alanine_transaminase!==null||f.s_aspartate_transaminase!==void 0&&f.s_aspartate_transaminase!==null||f.s_glutamyl_transferase!==void 0&&f.s_glutamyl_transferase!==null||f.creatinine!==void 0&&f.creatinine!==null||f.egfr!==void 0&&f.egfr!==null);if(u.length===0){n([]);return}const x=u.filter(f=>f.date).map(f=>{const g=new Date(f.date);return{date:g.getTime(),dateString:g.toLocaleDateString(),alt:f.s_alanine_transaminase||0,ast:f.s_aspartate_transaminase||0,ggt:f.s_glutamyl_transferase||0,creatinine:f.creatinine||0,egfr:f.egfr||0}});x.sort((f,g)=>f.date-g.date),n(x)}catch{a("Failed to load organ function data. Please try again.")}finally{r(!1)}})()},[t]);const o=({active:c,payload:d,label:m})=>{if(c&&d&&d.length){const u=d[0].payload;return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-lg",children:[e.jsx("p",{className:"text-white font-medium",children:`Date: ${u.dateString}`}),d.map((x,f)=>{let g=" U/L";return x.dataKey==="creatinine"?g=" ¬µmol/L":x.dataKey==="egfr"&&(g=" mL/min/1.73m¬≤"),e.jsx("p",{style:{color:x.color},children:`${x.name}: ${x.value?.toFixed(1)}${g}`},f)})]})}return null};return i?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Loading organ function data..."})]})}):l?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Me,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-400 font-medium text-lg",children:"Error loading organ function data"}),e.jsx("p",{className:"text-gray-400 mt-2",children:l})]})}):s.length===0?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xe,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 font-medium text-lg",children:"No organ function data available"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Organ function data requires blood test results with liver or kidney markers."})]})}):e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Liver & Kidney Function Trends"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Monitor liver enzymes (ALT, AST, GGT) and kidney function (creatinine, eGFR) over time."}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{children:"Liver Enzymes (ALT <56, AST <40, GGT <48 U/L)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Kidney Function (Creatinine 60-110 ¬µmol/L, eGFR >90)"})]})]})]}),e.jsx("div",{className:"h-96",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(ge,{data:s,margin:{top:20,right:30,bottom:20,left:20},children:[e.jsx(Z,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(q,{type:"number",dataKey:"date",domain:["dataMin","dataMax"],tickFormatter:c=>new Date(c).toLocaleDateString(),stroke:"#9ca3af"}),e.jsx(H,{yAxisId:"liver",orientation:"left",domain:["dataMin","dataMax"],label:{value:"Liver Enzymes (U/L)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#9ca3af"}},stroke:"#10b981"}),e.jsx(H,{yAxisId:"kidney",orientation:"right",domain:["dataMin","dataMax"],label:{value:"Kidney Markers",angle:90,position:"insideRight",style:{textAnchor:"middle",fill:"#9ca3af"}},stroke:"#3b82f6"}),e.jsx(B,{content:e.jsx(o,{})}),e.jsx(te,{}),e.jsx(Y,{yAxisId:"liver",y:56,stroke:"#ef4444",strokeDasharray:"5 5",label:"ALT Normal"}),e.jsx(Y,{yAxisId:"liver",y:40,stroke:"#f59e0b",strokeDasharray:"5 5",label:"AST Normal"}),e.jsx(Y,{yAxisId:"liver",y:48,stroke:"#8b5cf6",strokeDasharray:"5 5",label:"GGT Normal"}),e.jsx(Y,{yAxisId:"kidney",y:60,stroke:"#3b82f6",strokeDasharray:"5 5",label:"Creatinine Low"}),e.jsx(Y,{yAxisId:"kidney",y:110,stroke:"#3b82f6",strokeDasharray:"5 5",label:"Creatinine High"}),e.jsx(Y,{yAxisId:"kidney",y:90,stroke:"#10b981",strokeDasharray:"5 5",label:"eGFR Normal"}),e.jsx(V,{yAxisId:"liver",type:"monotone",dataKey:"alt",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",strokeWidth:2,r:4},name:"ALT",connectNulls:!1}),e.jsx(V,{yAxisId:"liver",type:"monotone",dataKey:"ast",stroke:"#f59e0b",strokeWidth:2,dot:{fill:"#f59e0b",strokeWidth:2,r:4},name:"AST",connectNulls:!1}),e.jsx(V,{yAxisId:"liver",type:"monotone",dataKey:"ggt",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",strokeWidth:2,r:4},name:"GGT",connectNulls:!1}),e.jsx(V,{yAxisId:"kidney",type:"monotone",dataKey:"creatinine",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",strokeWidth:2,r:4},name:"Creatinine",connectNulls:!1}),e.jsx(V,{yAxisId:"kidney",type:"monotone",dataKey:"egfr",stroke:"#ef4444",strokeWidth:2,dot:{fill:"#ef4444",strokeWidth:2,r:4},name:"eGFR",connectNulls:!1})]})})}),e.jsxs("div",{className:"mt-4 text-center text-sm text-gray-500",children:[s.length," data point",s.length!==1?"s":""," ‚Ä¢ Last updated: ",s[s.length-1]?.dateString]})]})},Ox=({athleteId:t})=>{const[s,n]=A.useState([]),[i,r]=A.useState(!0),[l,a]=A.useState(null);A.useEffect(()=>{(async()=>{try{r(!0),a(null);const x=typeof t=="string"?parseInt(t,10):t,f=await ul.getBloodResultsByAthlete(x);n(f)}catch{a("Failed to load blood results data. Please try again.")}finally{r(!1)}})()},[t]);const o=(u,x=2)=>u==null?"N/A":u.toFixed(x),c=(u,x)=>u==null||!x?e.jsx(Hl,{className:"w-4 h-4 text-gray-400"}):u<x.min?e.jsx($l,{className:"w-4 h-4 text-blue-500"}):u>x.max?e.jsx(Kl,{className:"w-4 h-4 text-red-500"}):e.jsx(ys,{className:"w-4 h-4 text-green-500"}),d=(u,x)=>u==null||!x?"text-gray-400":u<x.min||u>x.max?"text-red-600 bg-red-50":"text-green-600 bg-green-50";if(i)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Loading blood results..."})]})});if(l)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Me,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-400 font-medium text-lg",children:"Error loading blood results"}),e.jsx("p",{className:"text-gray-400 mt-2",children:l})]})});if(s.length===0)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xe,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 font-medium text-lg",children:"No blood results available"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Blood test results will appear here once uploaded."})]})});const m=s[s.length-1];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-red-500/5 to-transparent"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-pink-500/5 to-transparent"}),e.jsxs("div",{className:"relative z-10 p-8 space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-red-500 to-pink-500 rounded-full mb-4 shadow-lg animate-pulse",children:e.jsx(Gl,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-white via-red-200 to-pink-200 bg-clip-text text-transparent mb-2",children:"Blood Results"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Comprehensive blood analysis from PostgreSQL database"}),e.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:[s.length," test result",s.length!==1?"s":""," available"]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(Ol,{className:"w-6 h-6"}),"Test Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Test Date"}),e.jsx("div",{className:"text-lg font-semibold text-white",children:m.date?new Date(m.date).toLocaleDateString():"N/A"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Lab Name"}),e.jsx("div",{className:"text-lg font-semibold text-white",children:m.lab_name||"N/A"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Test Method"}),e.jsx("div",{className:"text-lg font-semibold text-white",children:m.test_method||"N/A"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Status"}),e.jsx("div",{className:"text-lg font-semibold text-white flex items-center gap-2",children:m.is_abnormal?e.jsxs(e.Fragment,{children:[e.jsx(Me,{className:"w-5 h-5 text-red-500"}),"Abnormal"]}):e.jsxs(e.Fragment,{children:[e.jsx(ys,{className:"w-5 h-5 text-green-500"}),"Normal"]})})]})]}),m.notes&&e.jsxs("div",{className:"mt-4 bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Notes"}),e.jsx("div",{className:"text-white",children:m.notes})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(Dt,{className:"w-6 h-6"}),"Hormones"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Cortisol"}),c(m.cortisol_nmol_l,{min:100,max:600})]}),e.jsxs("div",{className:`text-2xl font-bold ${d(m.cortisol_nmol_l,{min:100,max:600})}`,children:[o(m.cortisol_nmol_l)," nmol/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Testosterone"}),c(m.testosterone,{min:8.4,max:28.7})]}),e.jsxs("div",{className:`text-2xl font-bold ${d(m.testosterone,{min:8.4,max:28.7})}`,children:[o(m.testosterone)," nmol/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Vitamin D"}),c(m.vitamin_d,{min:50,max:150})]}),e.jsxs("div",{className:`text-2xl font-bold ${d(m.vitamin_d,{min:50,max:150})}`,children:[o(m.vitamin_d)," nmol/L"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(xe,{className:"w-6 h-6"}),"Metabolic & Muscle Markers"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Creatine Kinase"}),c(m.ck,{min:30,max:200})]}),e.jsxs("div",{className:`text-2xl font-bold ${d(m.ck,{min:30,max:200})}`,children:[o(m.ck)," U/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Fasting Glucose"}),c(m.fasting_glucose,{min:3.9,max:5.6})]}),e.jsxs("div",{className:`text-2xl font-bold ${d(m.fasting_glucose,{min:3.9,max:5.6})}`,children:[o(m.fasting_glucose)," mmol/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"HbA1c"}),c(m.hba1c,{min:4,max:6})]}),e.jsxs("div",{className:`text-2xl font-bold ${d(m.hba1c,{min:4,max:6})}`,children:[o(m.hba1c)," %"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(En,{className:"w-6 h-6"}),"Kidney Function"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Urea"}),c(m.urea,{min:2.5,max:7.8})]}),e.jsxs("div",{className:`text-2xl font-bold ${d(m.urea,{min:2.5,max:7.8})}`,children:[o(m.urea)," mmol/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Creatinine"}),c(m.creatinine,{min:60,max:110})]}),e.jsxs("div",{className:`text-2xl font-bold ${d(m.creatinine,{min:60,max:110})}`,children:[o(m.creatinine)," ¬µmol/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"eGFR"}),c(m.egfr,{min:90,max:120})]}),e.jsxs("div",{className:`text-2xl font-bold ${d(m.egfr,{min:90,max:120})}`,children:[o(m.egfr)," mL/min/1.73m¬≤"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Uric Acid"}),c(m.uric_acid,{min:150,max:420})]}),e.jsxs("div",{className:`text-2xl font-bold ${d(m.uric_acid,{min:150,max:420})}`,children:[o(m.uric_acid)," ¬µmol/L"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(xe,{className:"w-6 h-6"}),"Liver Function"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"ALT"}),c(m.s_alanine_transaminase,{min:7,max:56})]}),e.jsxs("div",{className:`text-2xl font-bold ${d(m.s_alanine_transaminase,{min:7,max:56})}`,children:[o(m.s_alanine_transaminase)," U/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"AST"}),c(m.s_aspartate_transaminase,{min:10,max:40})]}),e.jsxs("div",{className:`text-2xl font-bold ${d(m.s_aspartate_transaminase,{min:10,max:40})}`,children:[o(m.s_aspartate_transaminase)," U/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"GGT"}),c(m.s_glutamyl_transferase,{min:9,max:48})]}),e.jsxs("div",{className:`text-2xl font-bold ${d(m.s_glutamyl_transferase,{min:9,max:48})}`,children:[o(m.s_glutamyl_transferase)," U/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"LDH"}),c(m.lactate_dehydrogenase,{min:125,max:220})]}),e.jsxs("div",{className:`text-2xl font-bold ${d(m.lactate_dehydrogenase,{min:125,max:220})}`,children:[o(m.lactate_dehydrogenase)," U/L"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(xe,{className:"w-6 h-6"}),"Complete Blood Count"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Hemoglobin"}),c(m.hemoglobin,{min:130,max:170})]}),e.jsxs("div",{className:`text-2xl font-bold ${d(m.hemoglobin,{min:130,max:170})}`,children:[o(m.hemoglobin)," g/dL"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"White Blood Cells"}),c(m.leucocyte_count,{min:4,max:11})]}),e.jsxs("div",{className:`text-2xl font-bold ${d(m.leucocyte_count,{min:4,max:11})}`,children:[o(m.leucocyte_count)," √ó10‚Åπ/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Platelets"}),c(m.platelets,{min:150,max:400})]}),e.jsxs("div",{className:`text-2xl font-bold ${d(m.platelets,{min:150,max:400})}`,children:[o(m.platelets)," √ó10‚Åπ/L"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(En,{className:"w-6 h-6"}),"Inflammation & Minerals"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"C-Reactive Protein"}),c(m.c_reactive_protein,{min:0,max:3})]}),e.jsxs("div",{className:`text-2xl font-bold ${d(m.c_reactive_protein,{min:0,max:3})}`,children:[o(m.c_reactive_protein)," mg/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"ESR"}),c(m.esr,{min:1,max:20})]}),e.jsxs("div",{className:`text-2xl font-bold ${d(m.esr,{min:1,max:20})}`,children:[o(m.esr)," mm/hr"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Calcium"}),c(m.calcium_adjusted,{min:2.15,max:2.55})]}),e.jsxs("div",{className:`text-2xl font-bold ${d(m.calcium_adjusted,{min:2.15,max:2.55})}`,children:[o(m.calcium_adjusted)," mmol/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Magnesium"}),c(m.magnesium,{min:.7,max:1})]}),e.jsxs("div",{className:`text-2xl font-bold ${d(m.magnesium,{min:.7,max:1})}`,children:[o(m.magnesium)," mmol/L"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(ja,{className:"w-6 h-6"}),"Summary"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:s.length}),e.jsx("div",{className:"text-sm text-gray-400",children:"Total Tests"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:m.date?new Date(m.date).toLocaleDateString():"N/A"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Latest Test Date"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:m.is_abnormal?"‚ö†Ô∏è":"‚úÖ"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Overall Status"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(Vl,{className:"w-6 h-6"}),"Blood Results Trends"]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(ml,{athleteId:t}),e.jsx(Fx,{athleteId:t}),e.jsx(Ix,{athleteId:t}),e.jsx(Gx,{athleteId:t})]})]})]})]})})},da=t=>{if(t.length===0)return 0;t[t.length-1];let s=100;const n=t.map(g=>g.sleep_onset_time||"00:00"),i=t.map(g=>g.wake_time||"00:00"),r=Ut(n.map(g=>{const[p,b]=g.split(":").map(Number);return p*60+b})),l=Ut(i.map(g=>{const[p,b]=g.split(":").map(Number);return p*60+b})),a=(r+l)/2,o=Math.min(a/2,30),c=t.reduce((g,p)=>g+p.sleep_duration_h,0)/t.length,d=c<7?(7-c)*5:0,m=t.reduce((g,p)=>g+p.deep_sleep_pct,0)/t.length,u=m<20?(20-m)*2:0,x=t.reduce((g,p)=>g+p.hrv_night,0)/t.length,f=x<50?(50-x)*.5:0;return s-=o+d+u+f,Math.max(0,Math.min(100,s))},Ut=t=>{const s=t.reduce((r,l)=>r+l,0)/t.length,i=t.map(r=>Math.pow(r-s,2)).reduce((r,l)=>r+l,0)/t.length;return Math.sqrt(i)},Vx=(t,s)=>{const n=t.find(l=>l.gene==="PER3"),i=t.find(l=>l.gene==="CLOCK");let r="Intermediate";if(n?r=n.genotype==="long"?"Evening Type":"Morning Type":i&&(r=i.genotype==="AA"?"Morning Type":"Evening Type"),s.length>0){const l=s.reduce((a,o)=>{const[c]=(o.sleep_onset_time||"00:00").split(":").map(Number);return a+c},0)/s.length;return l>=23||l<=5?"Evening Type":l<=22&&l>=21?"Intermediate":"Morning Type"}return r},Hx=t=>{const s=[];if(t.length<2)return s;const n=t.map(c=>{const[d,m]=(c.sleep_onset_time||"00:00").split(":").map(Number);return d*60+m});return Ut(n)>60&&s.push("Irregular Sleep Schedule"),t.reduce((c,d)=>c+d.sleep_duration_h,0)/t.length<7&&s.push("Chronic Sleep Deprivation"),t.reduce((c,d)=>c+d.deep_sleep_pct,0)/t.length<15&&s.push("Insufficient Deep Sleep"),t.reduce((c,d)=>c+d.resting_hr,0)/t.length>65&&s.push("Elevated Nighttime Heart Rate"),t.reduce((c,d)=>c+d.hrv_night,0)/t.length<40&&s.push("Poor Nighttime Recovery"),s},$x=(t,s,n,i)=>{const r=[];t==="Morning Type"?(r.push("Maintain consistent early bedtime (9-10 PM) and wake time (5-6 AM)"),r.push("Schedule high-intensity training in the morning when cortisol is naturally higher"),r.push("Avoid late-night screen time and bright lights after sunset")):t==="Evening Type"?(r.push("Allow flexible scheduling but maintain consistent sleep duration"),r.push("Consider later training sessions when energy levels are higher"),r.push("Use morning sunlight exposure to help regulate circadian rhythm")):(r.push("Aim for 10-11 PM bedtime and 6-7 AM wake time as a balanced approach"),r.push("Monitor energy levels throughout the day to optimize training timing")),s.includes("Irregular Sleep Schedule")&&(r.push("Establish a consistent sleep schedule, even on weekends"),r.push("Use alarm clocks for both bedtime and wake time")),s.includes("Chronic Sleep Deprivation")&&(r.push("Prioritize 7-9 hours of sleep nightly"),r.push("Consider naps (20-30 minutes) if sleep debt accumulates")),s.includes("Insufficient Deep Sleep")&&(r.push("Maintain cooler bedroom temperature (65-68¬∞F/18-20¬∞C)"),r.push("Avoid alcohol and heavy meals 3 hours before bedtime")),s.includes("Elevated Nighttime Heart Rate")&&(r.push("Incorporate evening relaxation techniques (meditation, light stretching)"),r.push("Reduce screen time and blue light exposure 1 hour before bed")),t==="Morning Type"?(r.push("Stop caffeine consumption by 2 PM to avoid sleep interference"),r.push("Optimal caffeine timing: 8-11 AM when cortisol is naturally elevated")):t==="Evening Type"?(r.push("Stop caffeine consumption by 4 PM to prevent delayed sleep onset"),r.push("Limit caffeine to morning hours only (before 12 PM)")):(r.push("Stop caffeine consumption by 3 PM for balanced circadian rhythm"),r.push("Monitor individual response and adjust caffeine cutoff time accordingly")),i.length>0&&(i.reduce((c,d)=>{const[m]=(d.sleep_onset_time||"00:00").split(":").map(Number);return c+m},0)/i.length<23?r.push("Early sleep onset detected - stop caffeine 6-8 hours before bedtime"):r.push("Later sleep onset - stop caffeine 4-6 hours before bedtime"));const l=n.find(o=>o.gene==="CLOCK");l&&(l.genotype==="AA"?r.push("Strong circadian drive - maintain strict sleep consistency"):r.push("Flexible circadian rhythm - use time-restricted eating (10-hour window)"));const a=n.find(o=>o.gene==="PER3");return a&&(a.genotype==="long"?(r.push("Evening chronotype - consider magnesium glycinate for better sleep onset"),r.push("Evening types: Stop caffeine by 3 PM to avoid sleep disruption")):(r.push("Morning chronotype - optimize with morning sunlight exposure"),r.push("Morning types: Can consume caffeine until 2 PM without major sleep impact"))),r},Kx=({biometricData:t,geneticData:s,athleteId:n})=>{const[i,r]=A.useState("30d"),l=i==="7d"?t.slice(-7):t.slice(-30),a=da(l),o=Vx(s,l),c=Hx(l),d=$x(o,c,s,l),m=l.map(x=>({date:x.date,sleepDuration:x.sleep_duration_h,deepSleep:x.deep_sleep_pct,hrvNight:x.hrv_night,restingHr:x.resting_hr,circadianScore:da([x])})),u=[{name:"Sleep Duration",value:l.length>0?l.reduce((x,f)=>x+f.sleep_duration_h,0)/l.length:0,max:10},{name:"Deep Sleep %",value:l.length>0?l.reduce((x,f)=>x+f.deep_sleep_pct,0)/l.length:0,max:30},{name:"Night HRV",value:l.length>0?l.reduce((x,f)=>x+f.hrv_night,0)/l.length:0,max:100},{name:"Resting HR",value:l.length>0?100-l.reduce((x,f)=>x+f.resting_hr,0)/l.length:0,max:100},{name:"Sleep Consistency",value:100-Math.min(Ut(l.map(x=>{const[f]=(x.sleep_onset_time||"00:00").split(":").map(Number);return f}))*5,100),max:100}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"‚è∞ Circadian Rhythm Analysis"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>r("7d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${i==="7d"?"bg-blue-600 text-gray-900":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"7 Days"}),e.jsx("button",{onClick:()=>r("30d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${i==="30d"?"bg-blue-600 text-gray-900":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"30 Days"})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üïê Daily Circadian Rhythm"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"relative w-64 h-64 mx-auto",children:e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 120 120",children:[e.jsx("circle",{cx:"60",cy:"60",r:"55",fill:"none",stroke:"#e5e7eb",strokeWidth:"2"}),Array.from({length:24},(x,f)=>{const g=f*15-90,p=60+45*Math.cos(g*Math.PI/180),b=60+45*Math.sin(g*Math.PI/180),y=60+50*Math.cos(g*Math.PI/180),w=60+50*Math.sin(g*Math.PI/180);return e.jsx("line",{x1:p,y1:b,x2:y,y2:w,stroke:"#6b7280",strokeWidth:f%6===0?"2":"1"},f)}),[6,12,18,24].map(x=>{const f=x*15-90,g=60+38*Math.cos(f*Math.PI/180),p=60+38*Math.sin(f*Math.PI/180);return e.jsx("text",{x:g,y:p,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs font-medium fill-gray-600",children:x===24?"0":x},x)}),o==="Morning Type"&&e.jsx("path",{d:"M 60,60 Q 45,30 30,55 Q 45,80 60,60",fill:"none",stroke:"#F59E0B",strokeWidth:"3",opacity:"0.8"}),o==="Evening Type"&&e.jsx("path",{d:"M 60,60 Q 45,40 30,65 Q 45,90 60,60",fill:"none",stroke:"#F59E0B",strokeWidth:"3",opacity:"0.8"}),o==="Intermediate"&&e.jsx("path",{d:"M 60,60 Q 45,35 30,60 Q 45,85 60,60",fill:"none",stroke:"#F59E0B",strokeWidth:"3",opacity:"0.8"}),l.length>0&&e.jsx("path",{d:`M 60,60 Q ${75+(l[0].sleep_duration_h<7?5:0)},${35-(l[0].deep_sleep_pct>20?5:0)} ${90+(l[0].sleep_duration_h<7?5:0)},${60-(l[0].deep_sleep_pct>20?10:0)} Q ${75+(l[0].sleep_duration_h<7?5:0)},${85+(l[0].deep_sleep_pct>20?5:0)} 60,60`,fill:"none",stroke:"#8B5CF6",strokeWidth:"3",opacity:"0.8"}),l.length>0&&e.jsx("path",{d:`M 30,${70-(l[0].temp_trend_c>36.5?5:0)} Q 45,${65-(l[0].temp_trend_c>36.5?3:0)} 60,${60-(l[0].temp_trend_c>36.5?0:5)} Q 75,${55-(l[0].temp_trend_c>36.5?0:3)} 90,${70-(l[0].temp_trend_c>36.5?5:0)}`,fill:"none",stroke:"#EF4444",strokeWidth:"2",opacity:"0.7"}),l.length>0&&e.jsx("path",{d:`M 35,${75-(a>70?15:a>50?10:5)} Q 50,${50-(a>70?10:a>50?5:0)} 65,${45-(a>70?5:0)} Q 80,${50-(a>70?10:a>50?5:0)} 95,${75-(a>70?15:a>50?10:5)}`,fill:"none",stroke:"#10B981",strokeWidth:"2",opacity:"0.7"})]})})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),e.jsx("span",{className:"font-medium text-orange-800",children:"Cortisol"})]}),e.jsx("p",{className:"text-sm text-orange-700",children:"Peaks in morning, drives wakefulness and energy"})]}),e.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),e.jsx("span",{className:"font-medium text-purple-800",children:"Melatonin"})]}),e.jsx("p",{className:"text-sm text-purple-700",children:"Rises in evening, promotes sleep and recovery"})]}),e.jsxs("div",{className:"bg-red-50 p-3 rounded-lg border border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("span",{className:"font-medium text-red-800",children:"Body Temperature"})]}),e.jsx("p",{className:"text-sm text-red-700",children:"Lowest at night, peaks in afternoon/evening"})]}),e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"font-medium text-green-800",children:"Energy Levels"})]}),e.jsx("p",{className:"text-sm text-green-700",children:"Highest mid-morning to early afternoon"})]})]})})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-2xl mb-1",children:"üåÖ"}),e.jsx("div",{className:"font-medium text-blue-800",children:o==="Morning Type"?"5-8 AM":o==="Evening Type"?"7-10 AM":"6-9 AM"}),e.jsx("div",{className:"text-sm text-blue-600",children:a>70?"High-Intensity Training":"Light Exercise"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-2xl mb-1",children:"‚ö°"}),e.jsx("div",{className:"font-medium text-green-800",children:o==="Morning Type"?"9 AM-1 PM":o==="Evening Type"?"11 AM-3 PM":"10 AM-2 PM"}),e.jsxs("div",{className:"text-sm text-green-600",children:["Peak Performance ",a>70?"(Optimal)":"(Moderate)"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("div",{className:"text-2xl mb-1",children:"üßò"}),e.jsx("div",{className:"font-medium text-orange-800",children:o==="Morning Type"?"2-5 PM":o==="Evening Type"?"4-7 PM":"3-6 PM"}),e.jsxs("div",{className:"text-sm text-orange-600",children:["Recovery & ",l[0]?.training_load_pct>80?"Active Rest":"Skill Work"]})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("div",{className:"text-2xl mb-1",children:"üò¥"}),e.jsx("div",{className:"font-medium text-purple-800",children:l.length>0&&l[0].sleep_onset_time?(()=>{const x=parseInt(l[0].sleep_onset_time.split(":")[0]),f=Math.floor((x+(l[0].sleep_duration_h||8))%24);return`${x>12?x-12:x} ${x>=12?"PM":"AM"}-${f>12?f-12:f===0?12:f} ${f>=12&&f!==0?"PM":"AM"}`})():"10 PM-6 AM"}),e.jsxs("div",{className:"text-sm text-purple-600",children:["Sleep (",l[0]?.sleep_duration_h.toFixed(1)||"8.0","h avg)"]})]})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üìä Circadian Rhythm Score"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"relative w-48 h-48 mx-auto",children:e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#e5e7eb",strokeWidth:"8"}),e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:a>70?"#10B981":a>50?"#F59E0B":"#EF4444",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${a*2.83}, 1000`,transform:"rotate(-90 50 50)"}),e.jsx("text",{x:"50",y:"50",textAnchor:"middle",dominantBaseline:"middle",className:"text-2xl font-bold",children:a.toFixed(0)}),e.jsx("text",{x:"50",y:"60",textAnchor:"middle",dominantBaseline:"middle",className:"text-sm text-gray-600",children:"Score"})]})})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Chronotype"}),e.jsx("p",{className:"text-2xl font-bold mt-1 text-gray-900",children:o}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[o==="Morning Type"&&"Early riser, peaks in morning",o==="Evening Type"&&"Night owl, peaks in evening",o==="Intermediate"&&"Balanced sleep pattern"]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Genetic Influence"}),e.jsxs("div",{className:"space-y-2 mt-2",children:[s.filter(x=>["CLOCK","PER3","ARNTL"].includes(x.gene)).map((x,f)=>e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsxs("span",{className:"font-medium text-gray-900",children:[x.gene,":"]})," ",e.jsx("span",{className:"text-gray-700",children:x.genotype})]},f)),s.filter(x=>["CLOCK","PER3","ARNTL"].includes(x.gene)).length===0&&e.jsx("p",{className:"text-sm text-gray-700",children:"No circadian-related genetic data available"})]})]})]})})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üéØ Circadian Rhythm Markers"}),e.jsx(K,{width:"100%",height:400,children:e.jsxs(ua,{data:u,children:[e.jsx(xa,{stroke:"#e5e7eb"}),e.jsx(ga,{dataKey:"name",tick:{fontSize:12}}),e.jsx(fa,{angle:90,domain:[0,"dataMax"],tick:{fontSize:10},tickFormatter:x=>`${x}`}),e.jsx(pa,{name:"Circadian Health",dataKey:"value",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3,strokeWidth:2}),e.jsx(B,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üìà Sleep Duration & Quality"}),e.jsx(K,{width:"100%",height:300,children:e.jsxs(ge,{data:m,children:[e.jsx(Z,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(q,{dataKey:"date",stroke:"#6b7280"}),e.jsx(H,{yAxisId:"left",stroke:"#6b7280"}),e.jsx(H,{yAxisId:"right",orientation:"right",stroke:"#6b7280"}),e.jsx(B,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(te,{}),e.jsx(V,{yAxisId:"left",type:"monotone",dataKey:"sleepDuration",name:"Sleep Duration (h)",stroke:"#3b82f6",strokeWidth:3,dot:{r:4}}),e.jsx(V,{yAxisId:"right",type:"monotone",dataKey:"deepSleep",name:"Deep Sleep (%)",stroke:"#10B981",strokeWidth:3,dot:{r:4}})]})})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"‚ù§Ô∏è Nighttime Recovery"}),e.jsx(K,{width:"100%",height:300,children:e.jsxs(ge,{data:m,children:[e.jsx(Z,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(q,{dataKey:"date",stroke:"#6b7280"}),e.jsx(H,{yAxisId:"left",stroke:"#6b7280"}),e.jsx(H,{yAxisId:"right",orientation:"right",stroke:"#6b7280"}),e.jsx(B,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(te,{}),e.jsx(V,{yAxisId:"left",type:"monotone",dataKey:"hrvNight",name:"Night HRV (ms)",stroke:"#8b5cf6",strokeWidth:3,dot:{r:4}}),e.jsx(V,{yAxisId:"right",type:"monotone",dataKey:"restingHr",name:"Resting HR (bpm)",stroke:"#EF4444",strokeWidth:3,dot:{r:4}})]})})]})]}),c.length>0&&e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"‚ö†Ô∏è Circadian Disruptions"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map((x,f)=>e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center",children:e.jsx("span",{className:"text-red-600",children:"‚ö†Ô∏è"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-red-800",children:x}),e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[x==="Irregular Sleep Schedule"&&"Inconsistent bed/wake times disrupt circadian rhythm",x==="Chronic Sleep Deprivation"&&"Insufficient sleep duration affects hormone regulation",x==="Insufficient Deep Sleep"&&"Reduced deep sleep impairs physical recovery",x==="Elevated Nighttime Heart Rate"&&"High stress levels preventing proper recovery",x==="Poor Nighttime Recovery"&&"Low HRV indicates inadequate parasympathetic activity"]})]})]})},f))})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üí° Personalized Recommendations"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map((x,f)=>e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600",children:"üí°"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-blue-800",children:x})})]})},f))})]})]})},Ux=({athlete:t,biometricData:s,geneticProfiles:n})=>{const[i,r]=A.useState([]),[l,a]=A.useState(""),[o,c]=A.useState(!1),[d,m]=A.useState(!1),u=A.useRef(null);s.length>0&&s[0];const x=s.length>0&&s.some(w=>w.hrv_night&&w.hrv_night>0),f=()=>{u.current?.scrollIntoView({behavior:"smooth"})};A.useEffect(()=>{f()},[i]);const g=()=>{const w=s.slice(-7),N=n.reduce((S,R)=>(S[R.gene]=R.genotype,S),{}),j={name:t.name,sport:t.sport,age:t.age,team:t.team,biometricHistory:w.map(S=>({HrvNight:S.hrv_night,RestingHr:S.resting_hr,DeepSleepPct:S.deep_sleep_pct,RemSleepPct:S.rem_sleep_pct,SleepDurationH:S.sleep_duration_h,Spo2Night:S.spo2_night,TrainingLoadPct:S.training_load_pct,Date:S.date})),latestBiometrics:w[w.length-1]?{HrvNight:w[w.length-1].hrv_night,RestingHr:w[w.length-1].resting_hr,DeepSleepPct:w[w.length-1].deep_sleep_pct,RemSleepPct:w[w.length-1].rem_sleep_pct,SleepDurationH:w[w.length-1].sleep_duration_h,Spo2Night:w[w.length-1].spo2_night,TrainingLoadPct:w[w.length-1].training_load_pct,Date:w[w.length-1].date}:null,geneticProfile:N,totalBiometricRecords:s.length,totalGeneticMarkers:n.length};return j.latestBiometrics,j},p=async()=>{if(!l.trim()||o)return;const w={id:Date.now().toString(),role:"user",content:l.trim(),timestamp:new Date};if(r(N=>[...N,w]),a(""),c(!0),d){const N=g(),j=y(l,N),S={id:(Date.now()+1).toString(),role:"assistant",content:j,timestamp:new Date};r(R=>[...R,S]),c(!1);return}try{const N=g(),j=await xl.askAI(w.content,N),S={id:(Date.now()+1).toString(),role:"assistant",content:j.response,timestamp:new Date};r(R=>[...R,S])}catch{const j=g(),S=y(l,j),R={id:(Date.now()+1).toString(),role:"assistant",content:`${S}

‚ö†Ô∏è **AI Service Unavailable** - Using intelligent offline analysis based on ${t.name}'s actual biometric and genetic data. (Online mode available in Azure production deployment)`,timestamp:new Date};r(T=>[...T,R])}finally{c(!1)}},b=w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),p())},y=(w,N)=>{const j=w.toLowerCase();if(j.includes("training")||j.includes("workout")||j.includes("exercise")){const S=N.latestBiometrics?.TrainingLoadPct||0;return S>85?`Based on ${t.name}'s current training load (${S}%), I recommend focusing on recovery today. Consider light technique work or active recovery sessions. High-intensity training might lead to overtraining given the current load.`:`${t.name} shows moderate training load (${S}%). This is a good day for quality training sessions. Focus on sport-specific skills and maintain good form.`}if(j.includes("sleep")||j.includes("rest")){const S=N.latestBiometrics?.SleepDurationH||0,R=N.latestBiometrics?.DeepSleepPct||0;return`Sleep analysis for ${t.name}: ${S} hours total with ${R}% deep sleep. ${S>=7?"Good sleep duration - recovery should be optimal.":"Sleep duration is below recommended 7+ hours. Consider adjusting bedtime routine."} Deep sleep percentage is ${R>20?"excellent":"moderate"}.`}if(j.includes("recovery")||j.includes("hrv")||j.includes("heart rate")){const S=N.latestBiometrics?.HrvNight||0,R=N.latestBiometrics?.RestingHr||0;return`Recovery status for ${t.name}: HRV at ${S}ms and resting HR at ${R}bpm. ${S>50?"Good recovery capacity detected.":"Recovery may need attention."} ${R<60?"Resting heart rate is optimal.":"Resting heart rate is elevated - monitor stress levels."}`}return j.includes("nutrition")||j.includes("diet")||j.includes("food")?`For ${t.name}'s ${t.sport} training, focus on: adequate protein (1.6-2.2g/kg body weight), complex carbohydrates for sustained energy, and proper hydration. Consider their genetic profile for personalized nutrition strategies.`:`I can help you analyze ${t.name}'s performance data including training load, sleep quality, recovery status, and nutrition recommendations. Ask me about specific aspects like "How is the training load today?" or "What does the sleep data show?"`};return e.jsxs("div",{className:"flex flex-col h-[600px] bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-purple-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ü§ñ"}),"AI Assistant for ",t.name]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:()=>m(!d),className:`px-3 py-1 text-xs rounded-full transition-colors ${d?"bg-green-100 text-green-700 border border-green-300":"bg-blue-100 text-blue-700 border border-blue-300"}`,children:d?"üì± Offline":"üåê Azure"})})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[d?"üì± AI Assistant using intelligent analysis of athlete data":"üåê AI service available in Azure production deployment",x&&e.jsx("span",{className:"block text-xs text-green-600 mt-1",children:"‚úÖ Connected to real biometric data from Current Metrics, Sleep Metrics, and other tabs"}),!x&&e.jsx("span",{className:"block text-xs text-yellow-600 mt-1",children:"‚ö†Ô∏è No biometric data available - check Current Metrics tab for data"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("div",{className:"text-4xl mb-3",children:"ü§ñ"}),e.jsxs("p",{className:"font-medium mb-2",children:["AI Assistant for ",t.name]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-sm text-green-800 font-medium mb-2",children:"ü§ñ AI Assistant Active"}),e.jsxs("p",{className:"text-xs text-green-700",children:["Connected to AI service with access to ",t.name,"'s biometric data from Current Metrics, Sleep Metrics, and other tabs."]})]}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsx("p",{className:"font-medium",children:"Ask me about:"}),e.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Training recommendations based on current load"}),e.jsx("li",{children:"‚Ä¢ Sleep analysis and recovery status"}),e.jsx("li",{children:"‚Ä¢ HRV and heart rate trends"}),e.jsxs("li",{children:["‚Ä¢ Nutrition advice for ",t.sport]}),e.jsx("li",{children:"‚Ä¢ Performance optimization strategies"})]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-3",children:'üí° Try: "How is the training load today?" or "What does the sleep data show?"'})]}),i.map(w=>e.jsx("div",{className:`flex ${w.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] p-3 rounded-lg ${w.role==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:w.content}),e.jsx("p",{className:`text-xs mt-2 ${w.role==="user"?"text-blue-100":"text-gray-500"}`,children:w.timestamp.toLocaleTimeString()})]})},w.id)),o&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-gray-100 p-3 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),e.jsx("span",{className:"text-sm text-gray-600",children:"AI is thinking..."})]})})}),e.jsx("div",{ref:u})]}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("textarea",{value:l,onChange:w=>a(w.target.value),onKeyPress:b,placeholder:"Ask about training, recovery, nutrition...",className:"flex-1 p-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 bg-white",rows:2,disabled:o}),e.jsxs("button",{onClick:p,disabled:!l.trim()||o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors duration-200 flex items-center gap-2",children:[e.jsx("span",{children:"Send"}),e.jsx("span",{children:"üì§"})]})]})})]})},ee=(t,s)=>{const n=[s,s.toLowerCase(),s.toUpperCase(),s.charAt(0).toUpperCase()+s.slice(1).toLowerCase(),s.charAt(0).toLowerCase()+s.slice(1).toUpperCase()];for(const i of n)if(t[i])return t[i];return""},Wx=({geneticSummary:t,onFilteredResults:s})=>{const[n,i]=A.useState(""),[r,l]=A.useState("all"),[a,o]=A.useState("all"),[c,d]=A.useState("gene"),m=Array.from(new Set(t.map(u=>ee(u,"category"))));return A.useEffect(()=>{const u=t.reduce((f,g)=>{const p=g.DbsnpRsId||"",b=g.RSID||g.rsid||g.RSID||"",y=g.Gene||g.gene||g.GENE||"",w=g.GeneticCall||g.genetic_call||g.GENETIC_CALL||g.Genotype||g.genotype||"",N=p||b||`${y}_${w||"unknown"}`;return f.has(N)||f.set(N,g),f},new Map);let x=Array.from(u.values());n&&(x=x.filter(f=>ee(f,"gene").toLowerCase().includes(n.toLowerCase())||ee(f,"dbsnp_rs_id").toLowerCase().includes(n.toLowerCase())||ee(f,"rsid").toLowerCase().includes(n.toLowerCase())||ee(f,"genetic_call").toLowerCase().includes(n.toLowerCase()))),r!=="all"&&(x=x.filter(f=>ee(f,"category")===r)),a!=="all"&&(a==="high"?x=x.filter(f=>{const g=ee(f,"genetic_call");return g.includes("AA")||g.includes("GG")||g.includes("TT")||g.includes("CC")}):a==="medium"&&(x=x.filter(f=>{const g=ee(f,"genetic_call");return g.includes("AG")||g.includes("CT")||g.includes("AC")}))),x.sort((f,g)=>{switch(c){case"gene":return ee(f,"gene").localeCompare(ee(g,"gene"));case"dbsnp":return ee(f,"dbsnp_rs_id").localeCompare(ee(g,"dbsnp_rs_id"));case"category":return ee(f,"category").localeCompare(ee(g,"category"));case"rsid":return ee(f,"rsid").localeCompare(ee(g,"rsid"));default:return 0}}),s(x)},[n,r,a,c,t,s]),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search genes, dbSNP RSID, or RSID...",value:n,onChange:u=>i(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-black"}),e.jsx("span",{className:"absolute left-3 top-2.5 text-gray-400",children:"üîç"})]})}),e.jsxs("select",{value:r,onChange:u=>l(u.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-black",children:[e.jsx("option",{value:"all",children:"All Categories"}),m.map(u=>e.jsx("option",{value:u,children:u.replace("_"," ")},u))]}),e.jsxs("select",{value:a,onChange:u=>o(u.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-black",children:[e.jsx("option",{value:"all",children:"All Impact Levels"}),e.jsx("option",{value:"high",children:"High Impact"}),e.jsx("option",{value:"medium",children:"Medium Impact"})]}),e.jsxs("select",{value:c,onChange:u=>d(u.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-black",children:[e.jsx("option",{value:"gene",children:"Sort by Gene"}),e.jsx("option",{value:"dbsnp",children:"Sort by dbSNP RSID"}),e.jsx("option",{value:"category",children:"Sort by Category"}),e.jsx("option",{value:"rsid",children:"Sort by RSID"})]})]})},Bx=({geneticSummary:t,athlete:s,athleteBiometrics:n})=>{const[i,r]=A.useState("overview"),l=[{id:"overview",label:"Overview",icon:"üìä"},{id:"detailed",label:"Detailed Analysis",icon:"üî¨"},{id:"insights",label:"Smart Insights",icon:"üí°"},{id:"performance",label:"Performance Matrix",icon:"üéØ"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8",children:l.map(a=>{const o=i===a.id;return e.jsxs("button",{onClick:()=>r(a.id),className:`flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${o?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("span",{children:a.icon}),a.label]},a.id)})})}),i==="overview"&&e.jsx(zx,{geneticSummary:t}),i==="detailed"&&e.jsx(Xx,{geneticSummary:t}),i==="insights"&&e.jsx(qx,{geneticSummary:t,athlete:s}),i==="performance"&&e.jsx(Yx,{geneticSummary:t,athleteBiometrics:n})]})},zx=({geneticSummary:t})=>{const s=Array.from(new Set(t.map(n=>n.Category||n.category||n.CATEGORY)));return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(n=>{const i=t.filter(a=>(a.Category||a.category||a.CATEGORY)===n),l={performance:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",icon:"üí™"},recovery:{bg:"bg-green-50",border:"border-green-200",text:"text-green-800",icon:"üîÑ"},pharmacogenomics:{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-800",icon:"üíä"},nutrigenomics:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-800",icon:"ü•ó"},injury:{bg:"bg-red-50",border:"border-red-200",text:"text-red-800",icon:"üõ°Ô∏è"},metabolism:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800",icon:"‚ö°"},cognition:{bg:"bg-indigo-50",border:"border-indigo-200",text:"text-indigo-800",icon:"üß†"},sleep:{bg:"bg-pink-50",border:"border-pink-200",text:"text-pink-800",icon:"üò¥"}}[n.toLowerCase()]||{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-800",icon:"üß¨"};return e.jsxs("div",{className:`card-enhanced p-6 ${l.bg} ${l.border} border`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"text-2xl",children:l.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-semibold capitalize ${l.text}`,children:n.replace("_"," ")}),e.jsxs("p",{className:"text-sm text-gray-600",children:[i.length," marker",i.length!==1?"s":""]})]})]}),e.jsxs("div",{className:"space-y-3",children:[i.slice(0,3).map((a,o)=>{const c=a.Gene||a.gene||a.GENE||"Unknown",d=a.DbsnpRsId||"N/A",m=a.RSID||a.rsid||a.RSID||null;return e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:`font-semibold ${l.text} text-sm`,children:c}),e.jsx("div",{className:"text-xs text-gray-500 font-mono",children:d})]}),m&&e.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:m})]},o)}),i.length>3&&e.jsxs("div",{className:"text-center text-xs text-gray-500 py-2",children:["+",i.length-3," more markers"]})]})]},n)})})})},Xx=({geneticSummary:t})=>e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-3 text-gray-900",children:[e.jsx("span",{className:"bg-gradient-to-r from-green-100 to-blue-100 p-2 rounded-full text-green-700",children:"üìã"}),"Detailed Genetic Analysis"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Gene"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"dbSNP RSID"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Category"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"RSID"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Impact"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Details"})]})}),e.jsx("tbody",{children:t.map((s,n)=>{const i=s.Gene||s.gene||s.GENE||"Unknown",r=s.DbsnpRsId||"N/A",l=s.Category||s.category||s.CATEGORY||"Unknown",a=s.RSID||s.rsid||s.RSID||"N/A",c=(d=>d.startsWith("rs")&&d.length>5?{level:"Standard",color:"text-blue-600",bg:"bg-blue-100"}:{level:"Standard",color:"text-blue-600",bg:"bg-blue-100"})(r);return e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"font-medium text-gray-900",children:i})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`font-mono font-bold ${c.color}`,children:r})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium capitalize ${c.bg} ${c.color}`,children:l.replace("_"," ")})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"font-mono text-gray-600 text-xs",children:a})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c.bg} ${c.color}`,children:[c.level," Impact"]})}),e.jsx("td",{className:"py-3 px-4",children:s.Description&&e.jsx("div",{className:"text-xs text-gray-600 max-w-xs truncate",title:s.Description,children:s.Description})})]},n)})})]})})]}),qx=({geneticSummary:t,athlete:s})=>{const n=(o,c)=>{if(c==="dbsnp_rs_id")return o.DbsnpRsId||o.dbsnp_rs_id||o.DBSNP_RS_ID||o.dbsnpRsId||o.dbSNPRSID||"";const d=[c,c.toLowerCase(),c.toUpperCase(),c.charAt(0).toUpperCase()+c.slice(1).toLowerCase(),c.charAt(0).toLowerCase()+c.slice(1).toUpperCase()];for(const m of d)if(o[m])return o[m];return""},i=t.map(o=>{const c=n(o,"gene")||"Unknown",d=n(o,"genetic_call")||"",m=o.DbsnpRsId||"";return{gene:c,genotype:d,dbsnpId:m,marker:o}}).filter(o=>o.gene!=="Unknown"),r=i.filter(o=>["ACTN3","MSTN","IGF1"].includes(o.gene)&&o.genotype.includes("RR")),l=i.filter(o=>o.gene==="ACE"&&o.genotype.includes("II")),a=i.filter(o=>o.gene==="COL5A1"&&!o.genotype.includes("TT"));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("h4",{className:"font-semibold text-green-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-green-100 p-1.5 rounded-full text-green-700",children:"‚úÖ"}),"Genetic Strengths (",r.length+l.length," found)"]}),e.jsxs("div",{className:"space-y-3",children:[r.map((o,c)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("span",{className:"text-green-600 mt-0.5",children:"üí™"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-green-800",children:"Elite Power Genetics"}),e.jsxs("div",{className:"text-sm text-green-600",children:[o.gene," ",o.genotype," genotype suggests exceptional sprint and strength capacity",o.dbsnpId&&` (${o.dbsnpId})`]})]})]},c)),l.map((o,c)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("span",{className:"text-blue-600 mt-0.5",children:"üèÉ"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-blue-800",children:"Superior Endurance Capacity"}),e.jsxs("div",{className:"text-sm text-blue-600",children:[o.gene," ",o.genotype," genotype indicates excellent cardiovascular efficiency",o.dbsnpId&&` (${o.dbsnpId})`]})]})]},c)),i.length===0&&e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No genetic data available for analysis"}),i.length>0&&r.length===0&&l.length===0&&e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No specific genetic advantages identified in current markers"})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("h4",{className:"font-semibold text-orange-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-orange-100 p-1.5 rounded-full text-orange-700",children:"‚ö†Ô∏è"}),"Optimization Areas (",a.length," found)"]}),e.jsxs("div",{className:"space-y-3",children:[a.map((o,c)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("span",{className:"text-red-600 mt-0.5",children:"üõ°Ô∏è"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-red-800",children:"Injury Risk Consideration"}),e.jsxs("div",{className:"text-sm text-red-600",children:[o.gene," ",o.genotype," variant suggests higher soft tissue injury risk",o.dbsnpId&&` (${o.dbsnpId})`]})]})]},c)),i.length>0&&a.length===0&&e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No specific injury risk markers identified"}),i.length===0&&e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No genetic data available for analysis"})]})]})]}),i.length>0&&e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-blue-100 p-1.5 rounded-full text-blue-700",children:"üìã"}),"Genetic Markers Summary (",i.length," markers)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.slice(0,6).map((o,c)=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-800",children:o.gene}),e.jsx("span",{className:"text-xs text-gray-500 bg-white px-2 py-1 rounded",children:o.dbsnpId||"No RSID"})]}),e.jsx("div",{className:"text-sm font-mono text-gray-700",children:o.genotype})]},c)),i.length>6&&e.jsxs("div",{className:"text-center py-4 text-gray-500 text-sm",children:["+",i.length-6," more markers"]})]})]})]})},Yx=({geneticSummary:t,athleteBiometrics:s})=>{const n=[{trait:"Power & Strength",genes:t.filter(i=>["ACTN3","MSTN","IGF1"].includes(i.Gene||i.gene||i.GENE)),icon:"üí™",color:"orange",description:"Explosive power & muscle strength"},{trait:"Endurance",genes:t.filter(i=>["ACE","PPARA","PPARGC1A"].includes(i.Gene||i.gene||i.GENE)),icon:"üèÉ",color:"blue",description:"Cardiovascular efficiency"},{trait:"Recovery",genes:t.filter(i=>["PPARA","BDNF","COMT"].includes(i.Gene||i.gene||i.GENE)),icon:"üîÑ",color:"green",description:"Recovery & adaptation rate"},{trait:"Injury Risk",genes:t.filter(i=>["COL5A1","ADRB2"].includes(i.Gene||i.gene||i.GENE)),icon:"üõ°Ô∏è",color:"red",description:"Injury susceptibility"},{trait:"Metabolism",genes:t.filter(i=>["PPARGC1A","PPARA","FTO"].includes(i.Gene||i.gene||i.GENE)),icon:"‚ö°",color:"yellow",description:"Energy & nutrient metabolism"},{trait:"Cognition",genes:t.filter(i=>["BDNF","COMT"].includes(i.Gene||i.gene||i.GENE)),icon:"üß†",color:"indigo",description:"Mental performance & stress"}];return e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-3 text-gray-900",children:[e.jsx("span",{className:"bg-gradient-to-r from-purple-100 to-blue-100 p-2 rounded-full text-purple-700",children:"üéØ"}),"Genetic Performance Matrix"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((i,r)=>e.jsxs("div",{className:"card-enhanced p-4 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"text-2xl",children:i.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:i.trait}),e.jsx("p",{className:"text-xs text-gray-500",children:i.description})]})]}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:`text-3xl font-bold text-${i.color}-600`,children:i.genes.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Genetic Markers"})]}),i.genes.length>0&&e.jsx("div",{className:"space-y-2",children:i.genes.map((l,a)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700",children:l.Gene||l.gene||l.GENE}),e.jsx("span",{className:`font-bold text-${i.color}-600 font-mono`,children:l.DbsnpRsId||"N/A"})]},a))}),i.genes.length===0&&e.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No markers in this category"})]},r))})]})},d0=()=>{const{id:t}=gl(),s=fl(),n=parseInt(t||"0"),[i,r]=A.useState("metrics"),l=A.useRef(null);A.useState(null);const[a,o]=A.useState([]),[c,d]=A.useState([]),{athlete:m,biometricData:u,geneticProfiles:x,loading:f}=vl(n,!0),{biometricData:g}=Nl(!0);if(A.useEffect(()=>{n&&(async()=>{try{const _=await Ve.getGeneticSummaryByAthlete(n);o(_),d(_)}catch{}})()},[n]),f)return e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-600",children:"Loading athlete data..."})});if(!m)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-600",children:"Athlete not found"}),e.jsx("button",{onClick:()=>s("/"),className:"mt-4 text-blue-600 hover:text-blue-800",children:"‚Üê Back to Team Overview"})]});const p=bl(m?.athlete_id||n.toString(),u,x),b=wl(u),y=_n(b),w=Al(u),N=y?yl(y):0,j=jl(x),R=(Array.isArray(x)?x:[]).reduce((h,_)=>(h[_.gene]=_.genotype,h),{}),T=[{id:"metrics",label:"Current Metrics",icon:"üìä",count:u.length>0?9:0},{id:"bloodResults",label:"Blood Results",icon:"ü©∏",count:1},{id:"circadian",label:"Circadian Rhythm",icon:"‚è∞",count:1},{id:"trends",label:"Trends & Analysis",icon:"üìà",count:u.length},{id:"insights",label:"Predictive Insights",icon:"üß†",count:a.length>0?a.length:j.length},{id:"geneticSummary",label:"Genetic Summary",icon:"üß¨",count:c.length},{id:"scaleReport",label:"Scale Report",icon:"‚öñÔ∏è",count:1},{id:"digitalTwin",label:"Digital Twin",icon:"üåê",count:1},{id:"digitalTwinV2",label:"Digital Twin v2",icon:"üöÄ",count:1},{id:"trainingLoad",label:"Training Load",icon:"üî•",count:u.length},{id:"recoveryTimeline",label:"Recovery Timeline",icon:"üìÖ",count:u.length},{id:"pharmacogenomics",label:"Pharmacogenomics",icon:"üíä",count:a.filter(h=>h.category==="pharmacogenomics").length||x.length},{id:"nutrigenomics",label:"Nutrigenomics",icon:"ü•ó",count:a.filter(h=>h.category==="nutrigenomics").length||x.length},{id:"recoveryGenes",label:"Recovery Genes",icon:"üß¨",count:a.filter(h=>h.category==="recovery").length||x.length},{id:"sleep",label:"Sleep Metrics",icon:"üåô",count:u.length},{id:"stress",label:"Stress Management",icon:"üßò",count:u.length},{id:"weather",label:"Weather Impact",icon:"üå§Ô∏è",count:1},{id:"chatAI",label:"Chat With AI",icon:"ü§ñ",count:1}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("button",{onClick:()=>s("/"),className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors duration-200 mb-4",children:[e.jsx(Ul,{className:"w-5 h-5 mr-2"}),"Back to Team Overview"]})}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2 text-gray-900",children:m.name}),e.jsx("p",{className:"text-xl text-gray-700 mb-1",children:m.sport}),e.jsxs("p",{className:"text-gray-600",children:["Age ",m.age," | ",m.team]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900",children:"üß¨ Genetic Profile"}),a.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 gap-2",children:a.slice(0,10).map((h,_)=>e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsxs("strong",{children:[h.Gene||h.gene||"Unknown",":"]})," ",h.GeneticCall||h.genetic_call||"Unknown",e.jsx("div",{className:"text-xs text-gray-500",children:h.Category||h.category||"Unknown"})]},_))}),a.length>10&&e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Showing top 10 of ",a.length," genetic markers"]})]}):Object.entries(R).length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(R).slice(0,10).map(([h,_],k)=>e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsxs("strong",{children:[h||"Unknown",":"]})," ",_||"Unknown"]},h))}),Object.entries(R).length>10&&e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Showing top 10 of ",Object.entries(R).length," genes"]})]}):e.jsx("div",{className:"text-sm text-gray-500",children:"No genetic data available"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold mb-2 text-gray-900",children:y?`${N.toFixed(0)}%`:"N/A"}),e.jsx("div",{className:"text-gray-600",children:"Readiness Score"}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:y?"Based on HRV, RHR, Sleep & SpO‚ÇÇ":"No biometric data available"})]})]})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-1 sm:gap-0",children:T.map(h=>{const _=i===h.id;return e.jsxs("button",{onClick:()=>{r(h.id),l.current&&l.current.scrollIntoView({behavior:"smooth",block:"start"})},className:`flex items-center justify-start sm:justify-center gap-2 px-4 py-3 sm:py-2 text-sm font-medium transition-all duration-200 relative group
                  ${_?"text-blue-600 bg-blue-50":"text-gray-600 hover:text-blue-600 hover:bg-gray-50"}`,children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{children:h.icon}),e.jsx("span",{className:"sm:hidden",children:h.label}),e.jsx("span",{className:"hidden sm:inline",children:h.label})]}),h.count>0&&e.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 text-xs font-semibold rounded-full
                      ${_?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 group-hover:bg-gray-300"}`,children:h.count}),_&&e.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500"})]},h.id)})})}),e.jsxs("div",{ref:l,className:"mt-6",children:[i==="bloodResults"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"ü©∏ Blood Results"}),e.jsx(Ox,{athleteId:n}),e.jsx("div",{className:"mt-8",children:e.jsx(ml,{athleteId:n})})]}),i==="metrics"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"üìä Current Readiness Metrics"}),y&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-100 px-3 py-1.5 rounded-full",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${N>75?"bg-green-500":N>50?"bg-yellow-500":"bg-red-500"}`}),m.name.split(" ")[0]," is"," ",N>75?"ready":N>50?"recovering":"fatigued"]})]}),y?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:[e.jsx(pe,{title:"HRV (Night)",value:y.hrv_night||0,unit:"ms",icon:"‚ù§Ô∏è",subtitle:N>75?"Excellent recovery":"Moderate recovery",trend:N>75?"up":"down",data:w.slice(-7).map(h=>({date:h.date,value:h.hrv_night||0})),teamAverage:fe("hrv_night",m?.athlete_id||"",g),goalValue:50,goalLabel:"Target"}),e.jsx(pe,{title:"Resting HR (Sleeping HR)",value:y.resting_hr||0,unit:"bpm",icon:"‚ù§Ô∏è",subtitle:(y.resting_hr||0)<60?"Optimal":(y.resting_hr||0)<65?"Good":"Elevated",trend:(y.resting_hr||0)<60?"up":"down",data:w.slice(-7).map(h=>({date:h.date,value:h.resting_hr||0})),teamAverage:fe("resting_hr",m?.athlete_id||"",g),goalValue:60,goalLabel:"Ideal"}),e.jsx(pe,{title:"Avg Heart Rate",value:y.avg_heart_rate||0,unit:"bpm",icon:"‚ù§Ô∏è",subtitle:(y.avg_heart_rate||0)<60?"Optimal":(y.avg_heart_rate||0)<65?"Good":"Elevated",trend:(y.avg_heart_rate||0)<60?"up":"down",data:w.slice(-7).map(h=>({date:h.date,value:h.avg_heart_rate||0})),teamAverage:fe("avg_heart_rate",m?.athlete_id||"",g),goalValue:60,goalLabel:"Target"}),e.jsx(pe,{title:"Deep Sleep",value:y.deep_sleep_pct||0,unit:"%",icon:"üí§",subtitle:(y.deep_sleep_pct||0)>20?"Restorative":"Low",trend:(y.deep_sleep_pct||0)>20?"up":"down",data:w.slice(-7).map(h=>({date:h.date,value:h.deep_sleep_pct||0})),teamAverage:fe("deep_sleep_pct",m?.athlete_id||"",g),goalValue:20,goalLabel:"Min"}),e.jsx(pe,{title:"REM Sleep",value:y.rem_sleep_pct||0,unit:"%",icon:"üß†",subtitle:(y.rem_sleep_pct||0)>18?"Cognitive recovery":"Below ideal",trend:(y.rem_sleep_pct||0)>18?"up":"down",data:w.slice(-7).map(h=>({date:h.date,value:h.rem_sleep_pct||0})),teamAverage:fe("rem_sleep_pct",m?.athlete_id||"",g),goalValue:18,goalLabel:"Target"}),e.jsx(pe,{title:"Sleep Duration",value:y.sleep_duration_h||0,unit:"h",icon:"üåô",subtitle:(y.sleep_duration_h||0)>=7?"Adequate":"Short",trend:(y.sleep_duration_h||0)>=7?"up":"down",data:w.slice(-7).map(h=>({date:h.date,value:h.sleep_duration_h||0})),teamAverage:fe("sleep_duration_h",m?.athlete_id||"",g),goalValue:7,goalLabel:"Recommended"}),e.jsx(pe,{title:"SpO‚ÇÇ (Night)",value:y.spo2_night||0,unit:"%",icon:"ü´Å",subtitle:(y.spo2_night||0)>96?"Normal":"Monitor",trend:(y.spo2_night||0)>96?"up":"down",data:w.slice(-7).map(h=>({date:h.date,value:h.spo2_night||0})),teamAverage:fe("spo2_night",m?.athlete_id||"",g),goalValue:96,goalLabel:"Healthy"}),e.jsx(pe,{title:"Respiratory Rate",value:y.resp_rate_night||0,unit:"/min",icon:"üå¨Ô∏è",subtitle:(y.resp_rate_night||0)<=16?"Normal":"Elevated",trend:(y.resp_rate_night||0)<=16?"up":"down",data:w.slice(-7).map(h=>({date:h.date,value:h.resp_rate_night||0})),teamAverage:fe("resp_rate_night",m?.athlete_id||"",g),goalValue:16,goalLabel:"Max"}),e.jsx(pe,{title:"Body Temp",value:y.temp_trend_c||0,unit:"¬∞C",icon:"üå°Ô∏è",subtitle:Math.abs((y.temp_trend_c||0)-36.8)<.3?"Stable":"Elevated",trend:Math.abs((y.temp_trend_c||0)-36.8)<.3?"up":"down",data:w.slice(-7).map(h=>({date:h.date,value:h.temp_trend_c||0})),teamAverage:fe("temp_trend_c",m?.athlete_id||"",g),goalValue:36.8,goalLabel:"Normal"}),e.jsx(pe,{title:"Training Load",value:y.training_load_pct||0,unit:"%",icon:"üí™",subtitle:(y.training_load_pct||0)>85?"High":"Moderate",trend:"neutral",data:w.slice(-7).map(h=>({date:h.date,value:h.training_load_pct||0})),teamAverage:fe("training_load_pct",m?.athlete_id||"",g),goalValue:85,goalLabel:"Optimal"})]}),e.jsxs("div",{className:"mt-8 card-enhanced p-5",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"üìã Readiness Summary"}),e.jsx("p",{className:"text-gray-700 text-sm",children:N>75?`${m.name.split(" ")[0]} shows strong recovery markers. Ready for high-intensity training.`:N>50?"Recovery is moderate. Consider active recovery or technique work.":"Fatigue detected. Prioritize sleep, hydration, and low-intensity sessions."})]})]}):e.jsxs("div",{className:"text-center py-12 card-enhanced rounded-xl",children:[e.jsx("p",{className:"text-gray-600 mb-2",children:"üìä No biometric data available"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Biometric data is required to display readiness metrics. Please ensure wearable data is being collected and synced."})]})]}),i==="circadian"&&e.jsx(Kx,{biometricData:u,geneticData:x,athleteId:n.toString()}),i==="trends"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Performance Trends"}),u.length>=2?e.jsx(Ho,{data:u.map(h=>({...h,hrv_night:h.hrv_night||0,resting_hr:h.resting_hr||0,spo2_night:h.spo2_night||0,resp_rate_night:h.resp_rate_night||0,deep_sleep_pct:h.deep_sleep_pct||0,rem_sleep_pct:h.rem_sleep_pct||0,light_sleep_pct:h.light_sleep_pct||0,sleep_duration_h:h.sleep_duration_h||0,temp_trend_c:h.temp_trend_c||0,training_load_pct:h.training_load_pct||0}))}):e.jsxs("div",{className:"text-center py-12 card-enhanced rounded-xl",children:[e.jsx("p",{className:"text-gray-600 mb-2",children:"üìä Insufficient data for trend analysis"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Need at least 2 days of data. Current data points: ",u.length]})]})]}),i==="insights"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white-900 mb-2",children:"üß† Advanced Predictive Insights"}),e.jsxs("p",{className:"text-gray-600 text-lg",children:["AI-powered analysis combining ",a.length," genetic markers with biometric trends"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:a.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Genetic Markers"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Analyzed"})]}),e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsxs("div",{className:`text-3xl font-bold mb-2 ${N>75?"text-green-600":N>50?"text-yellow-600":"text-red-600"}`,children:[N.toFixed(0),"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Current Readiness"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Based on biometrics"})]}),e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:j.length>0?j.length:"N/A"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Key Genetic Insights"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Performance factors"})]}),e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-indigo-600 mb-2",children:u.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Biometric Records"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Historical data"})]})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-3 text-black",children:[e.jsx("span",{className:"bg-purple-100 p-2 rounded-full text-purple-700",children:"üîç"}),"Current Status Analysis"]}),e.jsx(Vo,{alert:p})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-3 text-black",children:[e.jsx("span",{className:"bg-green-100 p-2 rounded-full text-black-700",children:"üß¨"}),"Advanced Genetic Performance Analysis"]}),a.length>0?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Performance Genetics"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"card-enhanced p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h5",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"üí™"}),"Power Performance"]}),e.jsxs("span",{className:`text-sm px-2 py-1 rounded-full ${a.filter(h=>["ACTN3","ACE","PPARGC1A","MSTN","IGF1","NOS3","BDKRB2"].includes(h.Gene||h.gene)).length>0?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-600"}`,children:[a.filter(h=>["ACTN3","ACE","PPARGC1A","MSTN","IGF1","NOS3","BDKRB2"].includes(h.Gene||h.gene)).length," markers"]})]}),e.jsxs("div",{className:"space-y-4",children:[a.filter(h=>h.Gene==="ACTN3").map((h,_)=>{const k=h.GeneticCall||h.genetic_call,C=k?.includes("RR");return e.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-orange-800",children:"ACTN3 (Sprint/Power)"}),e.jsx("span",{className:`font-bold ${C?"text-orange-600":"text-gray-500"}`,children:k})]}),e.jsx("div",{className:"w-full bg-orange-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${C?"bg-orange-500":"bg-orange-300"}`,style:{width:C?"100%":"60%"}})}),e.jsx("p",{className:"text-xs text-orange-700",children:C?"Elite power athlete genetics - exceptional sprint and strength capacity":"Standard power capacity - focus on technique and explosive training"})]},_)}),a.filter(h=>h.Gene==="ACE").map((h,_)=>{const k=h.GeneticCall||h.genetic_call,C=k?.includes("DD");return e.jsxs("div",{className:"p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-red-800",children:"ACE (Power/Endurance)"}),e.jsx("span",{className:`font-bold ${C?"text-red-600":"text-blue-600"}`,children:k})]}),e.jsx("div",{className:"w-full bg-red-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${C?"bg-red-500":"bg-blue-500"}`,style:{width:C?"85%":"90%"}})}),e.jsx("p",{className:"text-xs text-red-700",children:C?"DD genotype favors power - enhanced strength and anaerobic capacity":"II genotype favors endurance - superior cardiovascular efficiency"})]},_)}),a.filter(h=>h.Gene==="PPARGC1A").map((h,_)=>{const k=h.GeneticCall||h.genetic_call;return e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-green-800",children:"PPARGC1A (Mitochondrial)"}),e.jsx("span",{className:"font-bold text-green-600",children:k})]}),e.jsx("div",{className:"w-full bg-green-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full bg-green-500 transition-all duration-300",style:{width:"88%"}})}),e.jsx("p",{className:"text-xs text-green-700",children:"Influences mitochondrial biogenesis and muscle fiber composition"})]},_)}),a.filter(h=>h.Gene==="MSTN").map((h,_)=>{const k=h.GeneticCall||h.genetic_call;return e.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-purple-800",children:"MSTN (Muscle Growth)"}),e.jsx("span",{className:"font-bold text-purple-600",children:k})]}),e.jsx("div",{className:"w-full bg-purple-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full bg-purple-500 transition-all duration-300",style:{width:"92%"}})}),e.jsx("p",{className:"text-xs text-purple-700",children:"Myostatin regulation affects muscle mass and strength potential"})]},_)}),a.filter(h=>h.Gene==="IGF1").map((h,_)=>{const k=h.GeneticCall||h.genetic_call;return e.jsxs("div",{className:"p-3 bg-indigo-50 rounded-lg border border-indigo-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-indigo-800",children:"IGF1 (Growth Factor)"}),e.jsx("span",{className:"font-bold text-indigo-600",children:k})]}),e.jsx("div",{className:"w-full bg-indigo-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full bg-indigo-500 transition-all duration-300",style:{width:"87%"}})}),e.jsx("p",{className:"text-xs text-indigo-700",children:"Insulin-like growth factor influences muscle development and recovery"})]},_)}),a.filter(h=>h.Gene==="NOS3").map((h,_)=>{const k=h.GeneticCall||h.genetic_call;return e.jsxs("div",{className:"p-3 bg-pink-50 rounded-lg border border-pink-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-pink-800",children:"NOS3 (Nitric Oxide)"}),e.jsx("span",{className:"font-bold text-pink-600",children:k})]}),e.jsx("div",{className:"w-full bg-pink-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full bg-pink-500 transition-all duration-300",style:{width:"85%"}})}),e.jsx("p",{className:"text-xs text-pink-700",children:"Endothelial nitric oxide synthase affects blood flow and oxygen delivery"})]},_)}),a.filter(h=>h.Gene==="BDKRB2").map((h,_)=>{const k=h.GeneticCall||h.genetic_call;return e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-yellow-800",children:"BDKRB2 (Bradykinin)"}),e.jsx("span",{className:"font-bold text-yellow-600",children:k})]}),e.jsx("div",{className:"w-full bg-yellow-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full bg-yellow-500 transition-all duration-300",style:{width:"83%"}})}),e.jsx("p",{className:"text-xs text-yellow-700",children:"Bradykinin receptor affects cardiovascular response to exercise"})]},_)})]})]}),e.jsxs("div",{className:"card-enhanced p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h5",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"üèÉ"}),"Endurance Performance"]}),e.jsxs("span",{className:`text-sm px-2 py-1 rounded-full ${a.some(h=>h.Gene==="ACE"&&(h.GeneticCall||h.genetic_call)?.includes("II")||h.Gene==="PPARA"&&(h.GeneticCall||h.genetic_call)?.includes("GG"))?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:[a.filter(h=>h.Gene==="ACE"||h.Gene==="PPARA").length," markers"]})]}),a.filter(h=>h.Gene==="ACE"||h.Gene==="PPARA").slice(0,2).map((h,_)=>{const k=h.Gene||h.gene,C=h.GeneticCall||h.genetic_call,L=k==="ACE"&&C?.includes("II")||k==="PPARA"&&C?.includes("GG");return e.jsxs("div",{className:"mb-3 last:mb-0",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[k," Genotype"]}),e.jsx("span",{className:`text-sm font-bold ${L?"text-blue-600":"text-gray-500"}`,children:C})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${L?"bg-blue-500":"bg-gray-400"}`,style:{width:L?"100%":"60%"}})}),e.jsx("p",{className:"text-xs text-gray-600",children:k==="ACE"&&C?.includes("II")?"Superior cardiovascular efficiency - ideal for endurance sports":k==="PPARA"&&C?.includes("GG")?"Enhanced fat metabolism - improved endurance capacity":"Standard endurance capacity - maintain aerobic training"})]},_)})]})]}),e.jsxs("div",{className:"card-enhanced p-4 mt-4",children:[e.jsxs("h5",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üéØ"}),"Genetic-Based Training Recommendations"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.some(h=>h.Gene==="ACTN3"&&(h.GeneticCall||h.genetic_call)?.includes("RR"))&&e.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("div",{className:"font-medium text-orange-800 mb-1",children:"Power Athlete Profile"}),e.jsxs("div",{className:"text-xs text-orange-600",children:["ACTN3 RR genotype suggests excellent power capacity. Prioritize:",e.jsx("br",{}),"‚Ä¢ High-intensity interval training",e.jsx("br",{}),"‚Ä¢ Strength and power development",e.jsx("br",{}),"‚Ä¢ Sprint and explosive movements"]})]}),a.some(h=>h.Gene==="ACE"&&(h.GeneticCall||h.genetic_call)?.includes("II"))&&e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"font-medium text-blue-800 mb-1",children:"Endurance Athlete Profile"}),e.jsxs("div",{className:"text-xs text-blue-600",children:["ACE II genotype indicates superior cardiovascular efficiency. Focus on:",e.jsx("br",{}),"‚Ä¢ Long-duration aerobic training",e.jsx("br",{}),"‚Ä¢ Cardiovascular endurance development",e.jsx("br",{}),"‚Ä¢ Steady-state cardio protocols"]})]}),a.some(h=>h.Gene==="PPARA"&&(h.GeneticCall||h.genetic_call)?.includes("GG"))&&e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Metabolic Efficiency Profile"}),e.jsxs("div",{className:"text-xs text-green-600",children:["PPARA GG genotype suggests enhanced fat metabolism. Benefits from:",e.jsx("br",{}),"‚Ä¢ Longer training sessions",e.jsx("br",{}),"‚Ä¢ Carbohydrate-focused nutrition",e.jsx("br",{}),"‚Ä¢ Endurance-based activities"]})]}),a.some(h=>h.Gene==="COL5A1"&&!(h.GeneticCall||h.genetic_call)?.includes("TT"))&&e.jsxs("div",{className:"p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("div",{className:"font-medium text-red-800 mb-1",children:"Injury Risk Profile"}),e.jsxs("div",{className:"text-xs text-red-600",children:["COL5A1 variant detected - higher soft tissue injury risk. Implement:",e.jsx("br",{}),"‚Ä¢ Enhanced flexibility protocols",e.jsx("br",{}),"‚Ä¢ Regular mobility work",e.jsx("br",{}),"‚Ä¢ Progressive loading strategies"]})]})]})]})]})}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Enhanced Genetic Performance Matrix"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[{trait:"Sprint/Power",genes:a.filter(h=>h.Gene==="ACTN3"),icon:"üí™",color:"orange",description:"Explosive power & sprint capacity"},{trait:"Strength",genes:a.filter(h=>h.Gene==="MSTN"||h.Gene==="IGF1"),icon:"üèãÔ∏è",color:"red",description:"Muscle strength & development"},{trait:"Endurance",genes:a.filter(h=>h.Gene==="ACE"||h.Gene==="PPARA"),icon:"üèÉ",color:"blue",description:"Cardiovascular efficiency"},{trait:"Mitochondrial",genes:a.filter(h=>h.Gene==="PPARGC1A"),icon:"‚ö°",color:"green",description:"Energy production capacity"},{trait:"Recovery",genes:a.filter(h=>h.Gene==="PPARA"||h.Gene==="BDNF"),icon:"üîÑ",color:"purple",description:"Recovery & adaptation rate"},{trait:"Injury Risk",genes:a.filter(h=>h.Gene==="COL5A1"||h.Gene==="ADRB2"),icon:"üõ°Ô∏è",color:"gray",description:"Injury susceptibility"}].map((h,_)=>e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"text-2xl mb-2",children:h.icon}),e.jsx("div",{className:"font-semibold text-gray-900 text-sm mb-1",children:h.trait}),e.jsx("div",{className:`text-lg font-bold mb-1 text-${h.color}-600`,children:h.genes.length}),e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"markers"}),e.jsx("div",{className:"text-xs text-gray-400 leading-tight",children:h.description})]},_))}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"card-enhanced p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:Math.round(a.filter(h=>h.Gene==="ACTN3"&&(h.GeneticCall||h.genetic_call)?.includes("RR")).length*25+a.filter(h=>h.Gene==="ACE"&&(h.GeneticCall||h.genetic_call)?.includes("DD")).length*20+a.filter(h=>h.Gene==="MSTN").length*15+a.filter(h=>h.Gene==="IGF1").length*15)}),e.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:"Power Score"}),e.jsx("div",{className:"text-xs text-gray-500",children:"/100"})]}),e.jsxs("div",{className:"card-enhanced p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:Math.round(a.filter(h=>h.Gene==="ACE"&&(h.GeneticCall||h.genetic_call)?.includes("II")).length*25+a.filter(h=>h.Gene==="PPARA"&&(h.GeneticCall||h.genetic_call)?.includes("GG")).length*20+a.filter(h=>h.Gene==="PPARGC1A").length*18+a.filter(h=>h.Gene==="NOS3").length*15)}),e.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:"Endurance Score"}),e.jsx("div",{className:"text-xs text-gray-500",children:"/100"})]}),e.jsxs("div",{className:"card-enhanced p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:Math.round(a.filter(h=>h.Gene==="PPARA"&&(h.GeneticCall||h.genetic_call)?.includes("GG")).length*20+a.filter(h=>h.Gene==="BDNF"&&(h.GeneticCall||h.genetic_call)?.includes("Val/Val")).length*15+(y&&(y.sleep_duration_h||0)>=7?10:0)+(y&&(y.hrv_night||0)>50?10:0))}),e.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:"Recovery Score"}),e.jsx("div",{className:"text-xs text-gray-500",children:"/100"})]})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üß¨"}),e.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Genetic Analysis Unavailable"}),e.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Comprehensive genetic data is required for advanced performance insights and personalized recommendations."})]})]}),u.length>=3&&y&&e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-3 text-black",children:[e.jsx("span",{className:"bg-indigo-100 p-2 rounded-full text-indigo-700",children:"üîÆ"}),"AI-Powered Performance Forecast"]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-blue-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-blue-100 p-1.5 rounded-full text-blue-700",children:"üìà"}),"Biometric Trends"]}),e.jsx("div",{className:"space-y-3 text-sm",children:[{label:"HRV Recovery",value:y.hrv_night||0,unit:"ms",trend:"up",desc:"Heart rate variability",icon:"‚ù§Ô∏è"},{label:"Resting HR",value:y.resting_hr||0,unit:"bpm",trend:"down",desc:"Cardiac stress level",icon:"üíì"},{label:"Sleep Duration",value:y.sleep_duration_h||0,unit:"h",trend:"up",desc:"Recovery quality",icon:"üò¥"},{label:"SpO‚ÇÇ Level",value:y.spo2_night||0,unit:"%",trend:"up",desc:"Oxygen saturation",icon:"ü´Å"}].map(h=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-lg",children:h.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-700",children:h.label}),e.jsx("div",{className:"text-xs text-gray-500",children:h.desc})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-gray-900",children:[h.value.toFixed(1)," ",h.unit]}),e.jsxs("div",{className:`text-xs font-medium ${h.trend==="up"?h.value>(h.label==="HRV Recovery"?50:h.label==="Sleep Duration"?7:95)?"text-green-600":"text-red-600":h.value<(h.label==="Resting HR"?65:0)?"text-green-600":"text-red-600"}`,children:[h.trend==="up"?"‚Üó":"‚Üò"," ",h.trend==="up"?h.value>(h.label==="HRV Recovery"?50:h.label==="Sleep Duration"?7:95)?"Good":"Low":h.value<(h.label==="Resting HR"?65:0)?"Optimal":"High"]})]})]},h.label))})]}),e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-purple-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-purple-100 p-1.5 rounded-full text-purple-700",children:"üß¨‚ö°"}),"Genetic Performance Integration"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-orange-800",children:"Power Genetic Score"}),e.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[Math.round(a.filter(h=>h.Gene==="ACTN3"&&(h.GeneticCall||h.genetic_call)?.includes("RR")).length*25+a.filter(h=>h.Gene==="ACE"&&(h.GeneticCall||h.genetic_call)?.includes("DD")).length*20+a.filter(h=>h.Gene==="MSTN").length*15+a.filter(h=>h.Gene==="IGF1").length*15+a.filter(h=>h.Gene==="NOS3").length*13+a.filter(h=>h.Gene==="BDKRB2").length*12),"/100"]})]}),e.jsx("div",{className:"w-full bg-orange-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full bg-orange-500 transition-all duration-300",style:{width:`${Math.min(100,a.filter(h=>h.Gene==="ACTN3"&&(h.GeneticCall||h.genetic_call)?.includes("RR")).length*25+a.filter(h=>h.Gene==="ACE"&&(h.GeneticCall||h.genetic_call)?.includes("DD")).length*20+a.filter(h=>h.Gene==="MSTN").length*15+a.filter(h=>h.Gene==="IGF1").length*15+a.filter(h=>h.Gene==="NOS3").length*13+a.filter(h=>h.Gene==="BDKRB2").length*12)}%`}})}),e.jsxs("p",{className:"text-xs text-orange-700",children:["Based on ",a.filter(h=>["ACTN3","ACE","MSTN","IGF1","NOS3","BDKRB2"].includes(h.Gene||h.gene)).length," power-related genetic markers"]})]}),e.jsxs("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-blue-800",children:"Endurance Genetic Score"}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[Math.round(a.filter(h=>h.Gene==="ACE"&&(h.GeneticCall||h.genetic_call)?.includes("II")).length*25+a.filter(h=>h.Gene==="PPARGC1A").length*20+a.filter(h=>h.Gene==="PPARA"&&(h.GeneticCall||h.genetic_call)?.includes("GG")).length*18+a.filter(h=>h.Gene==="NOS3").length*15+a.filter(h=>h.Gene==="BDKRB2").length*12+a.filter(h=>h.Gene==="IGF1").length*10),"/100"]})]}),e.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full bg-blue-500 transition-all duration-300",style:{width:`${Math.min(100,a.filter(h=>h.Gene==="ACE"&&(h.GeneticCall||h.genetic_call)?.includes("II")).length*25+a.filter(h=>h.Gene==="PPARGC1A").length*20+a.filter(h=>h.Gene==="PPARA"&&(h.GeneticCall||h.genetic_call)?.includes("GG")).length*18+a.filter(h=>h.Gene==="NOS3").length*15+a.filter(h=>h.Gene==="BDKRB2").length*12+a.filter(h=>h.Gene==="IGF1").length*10)}%`}})}),e.jsxs("p",{className:"text-xs text-blue-700",children:["Based on ",a.filter(h=>["ACE","PPARGC1A","PPARA","NOS3","BDKRB2","IGF1"].includes(h.Gene||h.gene)).length," endurance-related genetic markers"]})]})]})]}),e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-green-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-green-100 p-1.5 rounded-full text-green-700",children:"üéØ"}),"Training Optimization Forecast"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-3 text-sm",children:"7-Day Performance Forecast"}),e.jsx("div",{className:"space-y-2",children:Array.from({length:7},(h,_)=>{const k=new Date;k.setDate(k.getDate()+_);const C=k.toLocaleDateString("en-US",{weekday:"short"}),L=Math.min(100,a.filter(E=>E.Gene==="ACTN3"&&(E.GeneticCall||E.genetic_call)?.includes("RR")).length*25+a.filter(E=>E.Gene==="ACE"&&(E.GeneticCall||E.genetic_call)?.includes("DD")).length*20+((y.hrv_night||0)>50?15:0)+((y.resting_hr||0)<65?10:0)),P=Math.min(100,a.filter(E=>E.Gene==="ACE"&&(E.GeneticCall||E.genetic_call)?.includes("II")).length*25+a.filter(E=>E.Gene==="PPARA"&&(E.GeneticCall||E.genetic_call)?.includes("GG")).length*18+((y.sleep_duration_h||0)>=7?15:0)+((y.spo2_night||0)>96?10:0));return e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-xs",children:[e.jsx("span",{className:"font-medium text-gray-700",children:C}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`font-bold ${L>70?"text-orange-600":"text-gray-500"}`,children:L.toFixed(0)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Power"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`font-bold ${P>70?"text-blue-600":"text-gray-500"}`,children:P.toFixed(0)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Endurance"})]})]})]},_)})})]}),e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("h5",{className:"font-medium text-green-800 mb-2 text-sm",children:"Optimal Training This Week"}),e.jsxs("div",{className:"space-y-2 text-xs text-green-700",children:[a.some(h=>h.Gene==="ACTN3"&&(h.GeneticCall||h.genetic_call)?.includes("RR"))&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),e.jsx("span",{children:"Power-focused sessions: Mon, Wed, Fri"})]}),a.some(h=>h.Gene==="ACE"&&(h.GeneticCall||h.genetic_call)?.includes("II"))&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Endurance sessions: Tue, Thu, Sat"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{children:"Recovery focus: Sun"})]})]})]})]})]})]}),e.jsxs("div",{className:"mt-6 card-enhanced p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Comprehensive Readiness Assessment"}),e.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered analysis combining biometrics and genetics"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-4xl font-bold mb-1 ${N>75?"text-green-600":N>50?"text-yellow-600":"text-red-600"}`,children:[N.toFixed(0),"%"]}),e.jsx("div",{className:`text-sm font-medium ${N>75?"text-green-600":N>50?"text-yellow-600":"text-red-600"}`,children:N>75?"Excellent":N>50?"Good":"Needs Attention"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-4",children:[e.jsxs("h5",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"bg-blue-100 p-1 rounded-full text-blue-700",children:"üìä"}),"Biometric Assessment"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",style:{backgroundColor:"rgba(59, 130, 246, 0.1)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"‚ù§Ô∏è"}),e.jsx("span",{className:"text-black",children:"HRV Recovery"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold ${(y.hrv_night||0)>50?"text-green-600":"text-red-600"}`,children:[(y.hrv_night||0).toFixed(0),"ms"]}),e.jsx("div",{className:`text-xs ${(y.hrv_night||0)>50?"text-green-600":"text-red-600"}`,children:(y.hrv_night||0)>50?"Optimal":"Low"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",style:{backgroundColor:"rgba(59, 130, 246, 0.1)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üíì"}),e.jsx("span",{className:"text-black",children:"Resting HR"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold ${(y.resting_hr||0)<65?"text-green-600":"text-red-600"}`,children:[(y.resting_hr||0).toFixed(0),"bpm"]}),e.jsx("div",{className:`text-xs ${(y.resting_hr||0)<65?"text-green-600":"text-red-600"}`,children:(y.resting_hr||0)<65?"Normal":"Elevated"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",style:{backgroundColor:"rgba(59, 130, 246, 0.1)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üò¥"}),e.jsx("span",{className:"text-black",children:"Sleep Quality"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold ${(y.sleep_duration_h||0)>=7?"text-green-600":"text-red-600"}`,children:[(y.sleep_duration_h||0).toFixed(1),"h"]}),e.jsx("div",{className:`text-xs ${(y.sleep_duration_h||0)>=7?"text-green-600":"text-red-600"}`,children:(y.sleep_duration_h||0)>=7?"Adequate":"Insufficient"})]})]})]})]}),e.jsxs("div",{className:"card-enhanced p-4",children:[e.jsxs("h5",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"bg-purple-100 p-1 rounded-full text-purple-700",children:"üß¨"}),"Genetic Assessment"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",style:{backgroundColor:"rgba(147, 51, 234, 0.1)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üí™"}),e.jsx("span",{className:"text-black",children:"Power Genetics"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`font-bold ${a.some(h=>h.Gene==="ACTN3")?"text-purple-600":"text-gray-400"}`,children:a.filter(h=>h.Gene==="ACTN3").length}),e.jsx("div",{className:`text-xs ${a.some(h=>h.Gene==="ACTN3")?"text-purple-600":"text-gray-400"}`,children:"markers"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",style:{backgroundColor:"rgba(147, 51, 234, 0.1)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üèÉ"}),e.jsx("span",{className:"text-black",children:"Endurance Genetics"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`font-bold ${a.some(h=>h.Gene==="ACE"||h.Gene==="PPARA")?"text-purple-600":"text-gray-400"}`,children:a.filter(h=>h.Gene==="ACE"||h.Gene==="PPARA").length}),e.jsx("div",{className:`text-xs ${a.some(h=>h.Gene==="ACE"||h.Gene==="PPARA")?"text-purple-600":"text-gray-400"}`,children:"markers"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",style:{backgroundColor:"rgba(147, 51, 234, 0.1)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üõ°Ô∏è"}),e.jsx("span",{className:"text-black",children:"Injury Resistance"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`font-bold ${a.some(h=>h.Gene==="COL5A1")?"text-purple-600":"text-gray-400"}`,children:a.filter(h=>h.Gene==="COL5A1").length}),e.jsx("div",{className:`text-xs ${a.some(h=>h.Gene==="COL5A1")?"text-purple-600":"text-gray-400"}`,children:"markers"})]})]})]})]}),e.jsxs("div",{className:"card-enhanced p-4",children:[e.jsxs("h5",{className:"font-medium text-green-700 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"bg-green-100 p-1 rounded-full",children:"üéØ"}),"Combined Insights"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"p-3 bg-gradient-to-r from-green-50 to-green-100 rounded-lg border border-green-200",children:[e.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Training Capacity"}),e.jsx("div",{className:"text-xs text-green-600",children:a.some(h=>h.Gene==="ACTN3"&&(h.GeneticCall||h.genetic_call)?.includes("RR"))&&(y.hrv_night||0)>50?"High-intensity training optimal":a.some(h=>h.Gene==="ACE"&&(h.GeneticCall||h.genetic_call)?.includes("II"))?"Endurance training recommended":"Monitor recovery before increasing load"})]}),e.jsxs("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"font-medium text-blue-800 mb-1",children:"Recovery Strategy"}),e.jsx("div",{className:"text-xs text-blue-600",children:a.some(h=>h.Gene==="PPARA"&&(h.GeneticCall||h.genetic_call)?.includes("GG"))?"Enhanced fat metabolism - carb-focused recovery":(y.sleep_duration_h||0)>=7?"Good sleep foundation - maintain current protocols":"Prioritize sleep optimization"})]}),e.jsxs("div",{className:"p-3 bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg border border-orange-200",children:[e.jsx("div",{className:"font-medium text-orange-800 mb-1",children:"Risk Management"}),e.jsx("div",{className:"text-xs text-orange-600",children:a.some(h=>h.Gene==="COL5A1"&&!(h.GeneticCall||h.genetic_call)?.includes("TT"))?"Soft tissue risk - implement preventive measures":(y.resting_hr||0)>70?"Monitor cardiac stress indicators":"Standard protocols appropriate"})]})]})]})]})]})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"bg-rose-100 p-2 rounded-full text-rose-700",children:"üí°"}),"AI-Powered Recovery Intelligence"]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-purple-100 p-1.5 rounded-full text-purple-700",children:"üß¨"}),"Genetic Recovery Profile"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-700 mb-1",children:a.filter(h=>h.Gene==="PPARA"&&(h.GeneticCall||h.genetic_call)?.includes("GG")||h.Gene==="BDNF"&&(h.GeneticCall||h.genetic_call)?.includes("Val/Val")).length}),e.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Fast Recovery Markers"})]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-700 mb-1",children:a.filter(h=>h.Gene==="ACTN3"&&(h.GeneticCall||h.genetic_call)?.includes("XX")||h.Gene==="COMT"&&(h.GeneticCall||h.genetic_call)?.includes("Met/Met")).length}),e.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"Extended Recovery Markers"})]})]}),e.jsxs("div",{className:"space-y-3",children:[a.filter(h=>h.Gene==="ACTN3"||h.Gene==="PPARA"||h.Gene==="BDNF"||h.Gene==="COMT").slice(0,4).map((h,_)=>{const k=h.Gene||h.gene,C=h.GeneticCall||h.genetic_call;let L="",P="üß¨",E="bg-purple-50",G="border-purple-200",M="text-purple-800";return k==="ACTN3"&&C?.includes("XX")?(L="Endurance genotype: May need extended recovery periods between high-intensity sessions",P="üèÉ",E="bg-blue-50",G="border-blue-200",M="text-blue-800"):k==="PPARA"&&C?.includes("GG")?(L="Enhanced fat metabolism: Omega-3 supplementation may accelerate recovery processes",P="ü•ó",E="bg-green-50",G="border-green-200",M="text-green-800"):k==="BDNF"&&C?.includes("Met")?(L="Neuroplasticity focus: Cognitive training during recovery may enhance adaptation",P="üß†",E="bg-indigo-50",G="border-indigo-200",M="text-indigo-800"):k==="COMT"&&C?.includes("Met/Met")&&(L="Stress-sensitive genotype: Prioritize stress management for optimal recovery",P="üßò",E="bg-amber-50",G="border-amber-200",M="text-amber-800"),L?e.jsx("div",{className:`p-3 bg-gradient-to-r from-${E.split("-")[1]}-50 to-${E.split("-")[1]}-100 rounded-lg border ${G}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-lg",children:P}),e.jsxs("div",{children:[e.jsxs("div",{className:`font-medium ${M} text-sm`,children:[k,": ",C]}),e.jsx("div",{className:`text-xs ${M.replace("800","600")} mt-1`,children:L})]})]})},_):null}),a.filter(h=>h.Gene==="ACTN3"||h.Gene==="PPARA"||h.Gene==="BDNF"||h.Gene==="COMT").length===0&&e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-lg",children:"üìã"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 text-sm",children:"Standard Recovery Profile"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"No specific recovery genetics identified. Follow standard recovery protocols based on training load and biometric indicators."})]})]})})]}),e.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg border border-purple-200",children:[e.jsx("h5",{className:"font-medium text-purple-800 mb-2",children:"Recovery Protocol Recommendations"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{className:"text-purple-700",children:a.some(h=>h.Gene==="PPARA"&&(h.GeneticCall||h.genetic_call)?.includes("GG"))?"Omega-3 supplementation for enhanced recovery":"Standard protein supplementation protocol"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{className:"text-purple-700",children:a.some(h=>h.Gene==="COMT"&&(h.GeneticCall||h.genetic_call)?.includes("Met/Met"))?"Stress management essential for recovery":"Standard stress management protocols"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{className:"text-purple-700",children:a.some(h=>h.Gene==="ACTN3"&&(h.GeneticCall||h.genetic_call)?.includes("XX"))?"Extended recovery between sessions":"Standard recovery timing"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{className:"text-purple-700",children:a.some(h=>h.Gene==="BDNF"&&(h.GeneticCall||h.genetic_call)?.includes("Met"))?"Include cognitive training in recovery":"Focus on physical recovery modalities"})]})]})]})]})]})]}),e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-blue-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-blue-100 p-1.5 rounded-full text-blue-700",children:"üìä"}),"Current Recovery Status"]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"‚ù§Ô∏è"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:"HRV Recovery"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Heart rate variability"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold text-lg ${y&&(y.hrv_night||0)>50?"text-green-600":"text-red-600"}`,children:[y?(y.hrv_night||0).toFixed(0):"0","ms"]}),e.jsx("div",{className:`text-xs ${y&&(y.hrv_night||0)>50?"text-green-600":"text-red-600"}`,children:y&&(y.hrv_night||0)>50?"Good":"Needs work"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"üò¥"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:"Sleep Quality"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Duration & deep sleep"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold text-lg ${y&&(y.sleep_duration_h||0)>=7?"text-green-600":"text-red-600"}`,children:[y?(y.sleep_duration_h||0).toFixed(1):"0.0","h"]}),e.jsx("div",{className:`text-xs ${y&&(y.sleep_duration_h||0)>=7?"text-green-600":"text-red-600"}`,children:y&&(y.sleep_duration_h||0)>=7?"Adequate":"Insufficient"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"üí™"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:"Training Stress"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Current load vs capacity"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold text-lg ${y&&(y.training_load_pct||0)<80?"text-green-600":"text-orange-600"}`,children:[y?(y.training_load_pct||0).toFixed(0):"0","%"]}),e.jsx("div",{className:`text-xs ${y&&(y.training_load_pct||0)<80?"text-green-600":"text-orange-600"}`,children:y&&(y.training_load_pct||0)<80?"Manageable":"High"})]})]})]})})]}),e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-green-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-green-100 p-1.5 rounded-full text-green-700",children:"üéØ"}),"Personalized Recovery Plan"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Priority Actions"}),e.jsxs("div",{className:"space-y-2",children:[y&&(y.sleep_duration_h||0)<6&&e.jsxs("div",{className:"flex items-start gap-3 p-2 bg-red-50 rounded-lg border-l-4 border-red-500",children:[e.jsx("span",{className:"text-red-500 mt-0.5",children:"üî¥"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-red-800 text-sm",children:"Sleep Priority"}),e.jsx("div",{className:"text-xs text-red-600",children:"Extend sleep duration to 7-9 hours"})]})]}),y&&(y.hrv_night||0)<40&&e.jsxs("div",{className:"flex items-start gap-3 p-2 bg-orange-50 rounded-lg border-l-4 border-orange-500",children:[e.jsx("span",{className:"text-orange-500 mt-0.5",children:"üü†"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-orange-800 text-sm",children:"HRV Recovery"}),e.jsx("div",{className:"text-xs text-orange-600",children:"Include active recovery and stress reduction"})]})]}),a.some(h=>h.Gene==="COL5A1"&&!(h.GeneticCall||h.genetic_call)?.includes("TT"))&&e.jsxs("div",{className:"flex items-start gap-3 p-2 bg-blue-50 rounded-lg border-l-4 border-blue-500",children:[e.jsx("span",{className:"text-blue-500 mt-0.5",children:"üîµ"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-blue-800 text-sm",children:"Soft Tissue Care"}),e.jsx("div",{className:"text-xs text-blue-600",children:"Genetic risk - focus on flexibility and mobility"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Recovery Timeline"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"flex justify-between items-center p-2 bg-green-50 rounded",children:[e.jsx("span",{className:"text-green-800",children:"Today"}),e.jsx("span",{className:"font-medium text-green-700",children:N>75?"Full training capacity":"Modified training load"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-blue-50 rounded",children:[e.jsx("span",{className:"text-blue-800",children:"Next 48h"}),e.jsx("span",{className:"font-medium text-blue-700",children:a.some(h=>h.Gene==="PPARA")?"Enhanced recovery expected":"Standard recovery protocols"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-purple-50 rounded",children:[e.jsx("span",{className:"text-purple-800",children:"This Week"}),e.jsx("span",{className:"font-medium text-purple-700",children:"Monitor genetic risk factors"})]})]})]})]})]})]})]}),e.jsx("section",{className:"card-enhanced p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("span",{className:"text-3xl",children:"üí°"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-rose-700 mb-2",children:"Daily Recovery Intelligence"}),e.jsx("p",{className:"text-rose-600 text-sm leading-relaxed",children:(()=>{const h=["Hydration impacts HRV. Aim for 35ml/kg body weight daily.","Blue light after 9 PM suppresses melatonin. Use night mode.","Cold exposure post-training can delay muscle recovery in ACTN3 XX carriers.","Magnesium glycinate may improve deep sleep in PER3 long genotype athletes.","Morning sunlight resets circadian rhythm ‚Äî get 10 mins upon waking.","Omega-3s may enhance recovery in BDNF Met carriers.","Caffeine clearance is slower in evening types (PER3 long) ‚Äî avoid after 2 PM."];return a.some(_=>_.Gene==="ACTN3")?"Power athletes (ACTN3 RR) benefit from protein-rich recovery meals within 30 minutes post-training.":a.some(_=>_.Gene==="PPARA")?"Endurance genetics (PPARA GG) respond well to carbohydrate-focused recovery nutrition.":a.some(_=>_.Gene==="COL5A1")?"Soft tissue injury risk detected - incorporate regular flexibility and mobility work.":h[(m?.athlete_id||"").charCodeAt((m?.athlete_id||"").length-1)%h.length]})()})]})]})})]}),i==="geneticSummary"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-black mb-2",children:"üß¨ Advanced Genetic Analysis"}),e.jsxs("p",{className:"text-gray-600 text-lg",children:["Interactive genetic profile for ",m.name," ‚Ä¢ ",c.length," markers analyzed"]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.length}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total Markers"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:new Set(a.map(h=>h.Category||h.category)).size}),e.jsx("div",{className:"text-xs text-gray-500",children:"Categories"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:a.filter(h=>(h.Category||h.category)==="performance").length}),e.jsx("div",{className:"text-xs text-gray-500",children:"Performance"})]})]})]}),e.jsx(Wx,{geneticSummary:a,onFilteredResults:d})]}),c.length>0?e.jsx(Bx,{geneticSummary:c,athlete:m,athleteBiometrics:u}):e.jsxs("div",{className:"text-center py-12 card-enhanced",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üß¨"}),e.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Genetic Data Available"}),e.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Genetic summary data is not available for this athlete. Please ensure genetic testing has been completed and data has been uploaded to the system."})]})]}),i==="scaleReport"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"‚öñÔ∏è Scale Report"}),e.jsx(Jo,{athleteId:n.toString()})]}),i==="digitalTwin"&&e.jsx(pl,{athleteId:n.toString()}),i==="digitalTwinV2"&&e.jsx(px,{athleteId:n.toString(),athlete:m,biometricData:u}),i==="trainingLoad"&&e.jsx(Fo,{}),i==="recoveryTimeline"&&e.jsx(Io,{athleteId:n.toString()}),i==="pharmacogenomics"&&e.jsx(bx,{athleteId:n.toString()}),i==="nutrigenomics"&&e.jsx(yx,{athleteId:n.toString()}),i==="recoveryGenes"&&e.jsx(jx,{athleteId:n.toString()}),i==="predictive"&&e.jsx(Go,{athleteId:n.toString()}),i==="sleep"&&e.jsx(kx,{biometricData:u,athleteId:n.toString()}),i==="stress"&&e.jsx(Cx,{athleteId:n.toString(),biometricData:u}),i==="weather"&&e.jsx(Oo,{athleteId:n.toString(),geneticData:x}),i==="chatAI"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"ü§ñ Chat With AI"}),e.jsxs("div",{className:"mb-4 p-4 bg-gray-100 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Data Status:"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Athlete: ",m?.name]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Biometric Data Count: ",u.length]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Genetic Profiles Count: ",x.length]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Athlete ID: ",m?.athlete_id]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Latest Biometric Date: ",_n(u)?.date||"None"]}),u.length===0&&e.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"‚ö†Ô∏è No biometric data available. Check Current Metrics tab for data."})]}),e.jsx(Ux,{athlete:m,biometricData:u,geneticProfiles:x})]})]})]})};export{d0 as AthleteProfile};
