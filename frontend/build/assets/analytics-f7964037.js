function y(r,i,o){const e=Array.isArray(i)?i:[],n=Array.isArray(o)?o:[];if(e.length===0)return{type:"no_data",title:"ðŸ“Š No Data",cause:"No recent biometric data available",rec:"Please ensure data collection is active."};const t=e[e.length-1];n.reduce((s,m)=>(s[m.gene]=m.genotype,s),{});let a=!1,c=!1;if(i.length>=2){const s=i[i.length-2];a=(s.hrv_night-t.hrv_night)/s.hrv_night>.15,c=(t.resting_hr-s.resting_hr)/s.resting_hr>.05}else a=t.hrv_night<40,c=t.resting_hr>70;const l=t.temp_trend_c>=37,p=t.spo2_night<=94,h=t.deep_sleep_pct<17,d=t.rem_sleep_pct<16;t.sleep_duration_h<7;const g=t.resp_rate_night>=17,u=t.sleep_onset_time&&new Date(`1970-01-01T${t.sleep_onset_time}:00`).getHours()>=23.5;return a&&c&&l&&p?{type:"inflammation",title:"âš ï¸ Inflammation/Illness Risk",cause:`HRVâ†“(${t.hrv_night}) + RHRâ†‘(${t.resting_hr}) + Tempâ†‘(${t.temp_trend_c}) + SpOâ‚‚â†“(${t.spo2_night})`,rec:"Prioritize rest, hydration, anti-inflammatory nutrition. Monitor temperature closely."}:a&&h&&u?{type:"circadian",title:"ðŸŒ™ Circadian Misalignment",cause:`HRVâ†“ + Deep Sleepâ†“(${t.deep_sleep_pct}%) + Late Sleep`,rec:"Advance bedtime by 45min, increase morning light exposure, avoid screens after 9PM."}:a&&d&&!l?{type:"nutrition",title:"ðŸ¥— Possible Nutrient Gap",cause:`HRVâ†“ + REMâ†“(${t.rem_sleep_pct}%) with stable temperature`,rec:"Check iron, magnesium, omega-3, B12 status. Increase nutrient-dense foods."}:p&&g?{type:"airway",title:"ðŸŒ¬ï¸ Airway/Respiratory Stress",cause:`SpOâ‚‚=${t.spo2_night}% + Resp Rate=${t.resp_rate_night}/min`,rec:"Evaluate sleep environment, nasal breathing. Consider air quality assessment."}:{type:"green",title:"ðŸŸ¢ Optimal Recovery State",cause:"All metrics within target ranges",rec:"Maintain current training and recovery protocols."}}const v=(r,i,o)=>{const n=o.filter(t=>t.athlete_id!==i).map(t=>t[r]).filter(Boolean);return n.length>0?Number((n.reduce((t,a)=>t+a,0)/n.length).toFixed(1)):0};function A(r){const i=r.hrv_night>45?1:r.hrv_night>35?.5:0,o=r.resting_hr<65?1:r.resting_hr<75?.5:0,e=r.sleep_duration_h>7.5?1:r.sleep_duration_h>6.5?.5:0,n=r.spo2_night>96?1:r.spo2_night>94?.5:0;return(i+o+e+n)/4*100}function f(r){const i=[],e=(Array.isArray(r)?r:[]).reduce((n,t)=>(n[t.gene]=t.genotype,n),{});return e.PER3==="long"?i.push({gene:"PER3 (Long variant)",trait:"Natural night owl tendency",recommendation:"Allow later bedtimes when possible, prioritize consistent wake times, use bright light therapy in morning"}):e.PER3==="short"&&i.push({gene:"PER3 (Short variant)",trait:"Natural early bird tendency",recommendation:"Optimize early morning training, avoid late evening intense exercise, maintain regular early bedtime"}),e.CLOCK==="AA"&&i.push({gene:"CLOCK (AA genotype)",trait:"Enhanced circadian sensitivity",recommendation:"Maintain strict sleep schedule, minimize blue light exposure 2h before bed, prioritize sleep environment optimization"}),e.ACTN3==="XX"?i.push({gene:"ACTN3 (XX genotype)",trait:"Enhanced endurance capacity",recommendation:"Focus on aerobic base building, longer recovery periods between high-intensity sessions, emphasize mitochondrial health"}):e.ACTN3==="RR"&&i.push({gene:"ACTN3 (RR genotype)",trait:"Enhanced power/sprint capacity",recommendation:"Optimize explosive training, shorter but more intense sessions, focus on neuromuscular recovery"}),i}function C(r){const i=[],e=(Array.isArray(r)?r:[]).reduce((n,t)=>(n[t.gene]=t.genotype,n),{});return e.IL6&&i.push({gene:"IL6",genotype:e.IL6,trait:"Inflammatory Response",impact:e.IL6==="GG"?"Higher baseline inflammation, slower recovery":e.IL6==="GC"?"Moderate inflammation response":"Lower baseline inflammation, faster recovery",recoveryProtocol:e.IL6==="GG"?"Emphasize anti-inflammatory nutrition (omega-3s, turmeric), longer recovery periods":e.IL6==="GC"?"Standard recovery protocols with attention to inflammation markers":"May recover quickly with standard protocols",priority:e.IL6==="GG"?"high":"medium"}),e.TNF&&i.push({gene:"TNF",genotype:e.TNF,trait:"Inflammatory Cytokine Production",impact:e.TNF==="AA"?"Higher TNF-alpha production, increased inflammation":e.TNF==="AG"?"Moderate TNF-alpha production":"Lower TNF-alpha production, reduced inflammation",recoveryProtocol:e.TNF==="AA"?"Prioritize anti-inflammatory interventions (cryotherapy, massage), monitor CRP levels":e.TNF==="AG"?"Standard anti-inflammatory approaches sufficient":"May require less intensive anti-inflammatory interventions",priority:e.TNF==="AA"?"high":"medium"}),e.IL10&&i.push({gene:"IL10",genotype:e.IL10,trait:"Anti-inflammatory Response",impact:e.IL10==="AA"?"Higher IL-10 production, better inflammation control":e.IL10==="AC"?"Moderate IL-10 production":"Lower IL-10 production, reduced anti-inflammatory capacity",recoveryProtocol:e.IL10==="AA"?"May recover well with standard protocols":e.IL10==="AC"?"Standard recovery protocols appropriate":"Emphasize anti-inflammatory nutrition and recovery modalities",priority:e.IL10==="CC"?"high":"low"}),e.VDR&&i.push({gene:"VDR",genotype:e.VDR,trait:"Vitamin D Receptor Sensitivity",impact:e.VDR==="FF"?"Reduced vitamin D receptor sensitivity, potential deficiency effects":e.VDR==="Ff"?"Moderate sensitivity":"Normal sensitivity",recoveryProtocol:e.VDR==="FF"?"Ensure optimal vitamin D status (supplementation if needed), supports immune function":e.VDR==="Ff"?"Monitor vitamin D levels, supplement as needed":"Maintain adequate vitamin D through sun exposure and diet",priority:e.VDR==="FF"?"high":"medium"}),e.ADRB1&&i.push({gene:"ADRB1",genotype:e.ADRB1,trait:"Catecholamine Sensitivity",impact:e.ADRB1==="AA"?"Higher adrenaline sensitivity, increased stress response":e.ADRB1==="AG"?"Moderate sensitivity":"Lower adrenaline sensitivity, reduced stress response",recoveryProtocol:e.ADRB1==="AA"?"Emphasize parasympathetic activation (meditation, breathing), avoid overstimulation":e.ADRB1==="AG"?"Standard stress management techniques":"May tolerate higher stimulation, monitor for under-recovery",priority:e.ADRB1==="AA"?"high":"medium"}),e.CLOCK&&i.push({gene:"CLOCK",genotype:e.CLOCK,trait:"Circadian Rhythm Regulation",impact:e.CLOCK==="AA"?"Enhanced circadian sensitivity, strict schedule benefits":e.CLOCK==="AG"?"Moderate circadian sensitivity":"Reduced circadian sensitivity, more flexible timing",recoveryProtocol:e.CLOCK==="AA"?"Maintain strict sleep/wake times, minimize blue light exposure 2h before bed":e.CLOCK==="AG"?"Consistent schedule beneficial but some flexibility allowed":"More adaptable to schedule changes, but still prioritize consistency",priority:e.CLOCK==="AA"?"high":"medium"}),e.HSD11B1&&i.push({gene:"HSD11B1",genotype:e.HSD11B1,trait:"Cortisol Regeneration",impact:e.HSD11B1==="TT"?"Higher cortisol regeneration, increased stress response":e.HSD11B1==="TC"?"Moderate cortisol regeneration":"Lower cortisol regeneration, reduced stress response",recoveryProtocol:e.HSD11B1==="TT"?"Prioritize stress management, cortisol-lowering interventions (adaptogens, meditation)":e.HSD11B1==="TC"?"Standard stress management sufficient":"May be more resilient to stress, but still monitor recovery markers",priority:e.HSD11B1==="TT"?"high":"medium"}),e.COMT&&i.push({gene:"COMT",genotype:e.COMT,trait:"Catecholamine Breakdown",impact:e.COMT==="AA"?"Slower breakdown of adrenaline/noradrenaline, prolonged stress response":e.COMT==="AG"?"Moderate breakdown rate":"Faster breakdown, quicker return to baseline",recoveryProtocol:e.COMT==="AA"?"Emphasize parasympathetic activation, longer recovery periods after high-stress sessions":e.COMT==="AG"?"Standard recovery protocols appropriate":"May recover quickly but monitor for under-recovery from overtraining",priority:e.COMT==="AA"?"high":"medium"}),i}export{f as a,v as b,A as c,C as d,y as g};
