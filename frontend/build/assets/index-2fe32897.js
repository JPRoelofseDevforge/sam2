import{r as d,a as za,c as Er}from"./vendor-26c3c1d8.js";import{C as Le,V as ie,S as Vr,F as qr,P as Gr,W as Jr,E as Xr,R as Yr,U as Qr,a as Zr,b as en,A as tn,D as rn,c as Dt,G as nn,M as Ze,d as Be,e as an,f as on,g as sn,L as Ke,B as Lt,h as Ve,i as ln,O as cn,j as un,k as dn,l as fn,m as pn}from"./three-f2a0a5ce.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Hn={exports:{}},Vt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wa=d,Ka=Symbol.for("react.element"),Va=Symbol.for("react.fragment"),qa=Object.prototype.hasOwnProperty,Ga=Wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ja={key:!0,ref:!0,__self:!0,__source:!0};function zn(e,t,r){var n,a={},o=null,s=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)qa.call(t,n)&&!Ja.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Ka,type:e,key:o,ref:s,props:a,_owner:Ga.current}}Vt.Fragment=Va;Vt.jsx=zn;Vt.jsxs=zn;Hn.exports=Vt;var f=Hn.exports,Wn,hn=za;Wn=hn.createRoot,hn.hydrateRoot;const Xa="modulepreload",Ya=function(e){return"/"+e},mn={},Ee=function(t,r,n){if(!r||r.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(r.map(o=>{if(o=Ya(o),o in mn)return;mn[o]=!0;const s=o.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(!!n)for(let u=a.length-1;u>=0;u--){const p=a[u];if(p.href===o&&(!s||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${i}`))return;const l=document.createElement("link");if(l.rel=s?"stylesheet":Xa,s||(l.as="script",l.crossOrigin=""),l.href=o,document.head.appendChild(l),s)return new Promise((u,p)=>{l.addEventListener("load",u),l.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};var gn="popstate";function Qa(e={}){function t(n,a){let{pathname:o,search:s,hash:i}=n.location;return gr("",{pathname:o,search:s,hash:i},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:_t(a)}return eo(t,r,null,e)}function q(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Te(e,t){if(!e)try{throw new Error(t)}catch{}}function Za(){return Math.random().toString(36).substring(2,10)}function yn(e,t){return{usr:e.state,key:e.key,idx:t}}function gr(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?at(t):t,state:r,key:t&&t.key||n||Za()}}function _t({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function at(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function eo(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,s=a.history,i="POP",c=null,l=u();l==null&&(l=0,s.replaceState({...s.state,idx:l},""));function u(){return(s.state||{idx:null}).idx}function p(){i="POP";let y=u(),_=y==null?null:y-l;l=y,c&&c({action:i,location:x.location,delta:_})}function b(y,_){i="PUSH";let v=gr(x.location,y,_);r&&r(v,y),l=u()+1;let A=yn(v,l),$=x.createHref(v);try{s.pushState(A,"",$)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign($)}o&&c&&c({action:i,location:x.location,delta:1})}function m(y,_){i="REPLACE";let v=gr(x.location,y,_);r&&r(v,y),l=u();let A=yn(v,l),$=x.createHref(v);s.replaceState(A,"",$),o&&c&&c({action:i,location:x.location,delta:0})}function g(y){return to(y)}let x={get action(){return i},get location(){return e(a,s)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(gn,p),c=y,()=>{a.removeEventListener(gn,p),c=null}},createHref(y){return t(a,y)},createURL:g,encodeLocation(y){let _=g(y);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:b,replace:m,go(y){return s.go(y)}};return x}function to(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),q(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:_t(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Kn(e,t,r="/"){return ro(e,t,r,!1)}function ro(e,t,r,n){let a=typeof t=="string"?at(t):t,o=Fe(a.pathname||"/",r);if(o==null)return null;let s=Vn(e);no(s);let i=null;for(let c=0;i==null&&c<s.length;++c){let l=mo(o);i=po(s[c],l,n)}return i}function Vn(e,t=[],r=[],n="",a=!1){let o=(s,i,c=a,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&c)return;q(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let p=Ie([n,u.relativePath]),b=r.concat(u);s.children&&s.children.length>0&&(q(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Vn(s.children,t,b,p,c)),!(s.path==null&&!s.index)&&t.push({path:p,score:uo(p,s.index),routesMeta:b})};return e.forEach((s,i)=>{if(s.path===""||!s.path?.includes("?"))o(s,i);else for(let c of qn(s.path))o(s,i,!0,c)}),t}function qn(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let s=qn(n.join("/")),i=[];return i.push(...s.map(c=>c===""?o:[o,c].join("/"))),a&&i.push(...s),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function no(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:fo(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var ao=/^:[\w-]+$/,oo=3,so=2,io=1,lo=10,co=-2,wn=e=>e==="*";function uo(e,t){let r=e.split("/"),n=r.length;return r.some(wn)&&(n+=co),t&&(n+=so),r.filter(a=>!wn(a)).reduce((a,o)=>a+(ao.test(o)?oo:o===""?io:lo),n)}function fo(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function po(e,t,r=!1){let{routesMeta:n}=e,a={},o="/",s=[];for(let i=0;i<n.length;++i){let c=n[i],l=i===n.length-1,u=o==="/"?t:t.slice(o.length)||"/",p=Ut({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),b=c.route;if(!p&&l&&r&&!n[n.length-1].route.index&&(p=Ut({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!p)return null;Object.assign(a,p.params),s.push({params:a,pathname:Ie([o,p.pathname]),pathnameBase:bo(Ie([o,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(o=Ie([o,p.pathnameBase]))}return s}function Ut(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=ho(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],s=o.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:n.reduce((l,{paramName:u,isOptional:p},b)=>{if(u==="*"){let g=i[b]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const m=i[b];return p&&!m?l[u]=void 0:l[u]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:o,pathnameBase:s,pattern:e}}function ho(e,t=!1,r=!0){Te(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,i,c)=>(n.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function mo(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Te(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Fe(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function go(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?at(e):e;return{pathname:r?r.startsWith("/")?r:yo(r,t):t,search:xo(n),hash:vo(a)}}function yo(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function cr(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wo(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Cr(e){let t=wo(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function kr(e,t,r,n=!1){let a;typeof e=="string"?a=at(e):(a={...e},q(!a.pathname||!a.pathname.includes("?"),cr("?","pathname","search",a)),q(!a.pathname||!a.pathname.includes("#"),cr("#","pathname","hash",a)),q(!a.search||!a.search.includes("#"),cr("#","search","hash",a)));let o=e===""||a.pathname==="",s=o?"/":a.pathname,i;if(s==null)i=r;else{let p=t.length-1;if(!n&&s.startsWith("..")){let b=s.split("/");for(;b[0]==="..";)b.shift(),p-=1;a.pathname=b.join("/")}i=p>=0?t[p]:"/"}let c=go(a,i),l=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}var Ie=e=>e.join("/").replace(/\/\/+/g,"/"),bo=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xo=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vo=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _o(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Gn=["POST","PUT","PATCH","DELETE"];new Set(Gn);var Ro=["GET",...Gn];new Set(Ro);var ot=d.createContext(null);ot.displayName="DataRouter";var qt=d.createContext(null);qt.displayName="DataRouterState";d.createContext(!1);var Jn=d.createContext({isTransitioning:!1});Jn.displayName="ViewTransition";var So=d.createContext(new Map);So.displayName="Fetchers";var Ao=d.createContext(null);Ao.displayName="Await";var Ce=d.createContext(null);Ce.displayName="Navigation";var St=d.createContext(null);St.displayName="Location";var ke=d.createContext({outlet:null,matches:[],isDataRoute:!1});ke.displayName="Route";var Dr=d.createContext(null);Dr.displayName="RouteError";function To(e,{relative:t}={}){q(st(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=d.useContext(Ce),{hash:a,pathname:o,search:s}=At(e,{relative:t}),i=o;return r!=="/"&&(i=o==="/"?r:Ie([r,o])),n.createHref({pathname:i,search:s,hash:a})}function st(){return d.useContext(St)!=null}function Ue(){return q(st(),"useLocation() may be used only in the context of a <Router> component."),d.useContext(St).location}var Xn="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yn(e){d.useContext(Ce).static||d.useLayoutEffect(e)}function Lr(){let{isDataRoute:e}=d.useContext(ke);return e?Io():Eo()}function Eo(){q(st(),"useNavigate() may be used only in the context of a <Router> component.");let e=d.useContext(ot),{basename:t,navigator:r}=d.useContext(Ce),{matches:n}=d.useContext(ke),{pathname:a}=Ue(),o=JSON.stringify(Cr(n)),s=d.useRef(!1);return Yn(()=>{s.current=!0}),d.useCallback((c,l={})=>{if(Te(s.current,Xn),!s.current)return;if(typeof c=="number"){r.go(c);return}let u=kr(c,JSON.parse(o),a,l.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Ie([t,u.pathname])),(l.replace?r.replace:r.push)(u,l.state,l)},[t,r,o,a,e])}d.createContext(null);function El(){let{matches:e}=d.useContext(ke),t=e[e.length-1];return t?t.params:{}}function At(e,{relative:t}={}){let{matches:r}=d.useContext(ke),{pathname:n}=Ue(),a=JSON.stringify(Cr(r));return d.useMemo(()=>kr(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function Co(e,t){return Qn(e,t)}function Qn(e,t,r,n,a){q(st(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=d.useContext(Ce),{matches:s}=d.useContext(ke),i=s[s.length-1],c=i?i.params:{},l=i?i.pathname:"/",u=i?i.pathnameBase:"/",p=i&&i.route;{let v=p&&p.path||"";Zn(l,!p||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let b=Ue(),m;if(t){let v=typeof t=="string"?at(t):t;q(u==="/"||v.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${v.pathname}" was given in the \`location\` prop.`),m=v}else m=b;let g=m.pathname||"/",x=g;if(u!=="/"){let v=u.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=Kn(e,{pathname:x});Te(p||y!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Te(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=No(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:Ie([u,o.encodeLocation?o.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:Ie([u,o.encodeLocation?o.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n,a);return t&&_?d.createElement(St.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},_):_}function ko(){let e=Bo(),t=_o(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},s=null;return s=d.createElement(d.Fragment,null,d.createElement("p",null,"💿 Hey developer 👋"),d.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",d.createElement("code",{style:o},"ErrorBoundary")," or"," ",d.createElement("code",{style:o},"errorElement")," prop on your route.")),d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),r?d.createElement("pre",{style:a},r):null,s)}var Do=d.createElement(ko,null),Lo=class extends d.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError&&this.props.unstable_onError(e,t)}render(){return this.state.error!==void 0?d.createElement(ke.Provider,{value:this.props.routeContext},d.createElement(Dr.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Po({routeContext:e,match:t,children:r}){let n=d.useContext(ot);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),d.createElement(ke.Provider,{value:e},r)}function No(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=r?.errors;if(s!=null){let l=o.findIndex(u=>u.route.id&&s?.[u.route.id]!==void 0);q(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,l+1))}let i=!1,c=-1;if(r)for(let l=0;l<o.length;l++){let u=o[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=l),u.route.id){let{loaderData:p,errors:b}=r,m=u.route.loader&&!p.hasOwnProperty(u.route.id)&&(!b||b[u.route.id]===void 0);if(u.route.lazy||m){i=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((l,u,p)=>{let b,m=!1,g=null,x=null;r&&(b=s&&u.route.id?s[u.route.id]:void 0,g=u.route.errorElement||Do,i&&(c<0&&p===0?(Zn("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,x=null):c===p&&(m=!0,x=u.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,p+1)),_=()=>{let v;return b?v=g:m?v=x:u.route.Component?v=d.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=l,d.createElement(Po,{match:u,routeContext:{outlet:l,matches:y,isDataRoute:r!=null},children:v})};return r&&(u.route.ErrorBoundary||u.route.errorElement||p===0)?d.createElement(Lo,{location:r.location,revalidation:r.revalidation,component:g,error:b,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0},unstable_onError:n}):_()},null)}function Pr(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jo(e){let t=d.useContext(ot);return q(t,Pr(e)),t}function Mo(e){let t=d.useContext(qt);return q(t,Pr(e)),t}function $o(e){let t=d.useContext(ke);return q(t,Pr(e)),t}function Nr(e){let t=$o(e),r=t.matches[t.matches.length-1];return q(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Oo(){return Nr("useRouteId")}function Bo(){let e=d.useContext(Dr),t=Mo("useRouteError"),r=Nr("useRouteError");return e!==void 0?e:t.errors?.[r]}function Io(){let{router:e}=jo("useNavigate"),t=Nr("useNavigate"),r=d.useRef(!1);return Yn(()=>{r.current=!0}),d.useCallback(async(a,o={})=>{Te(r.current,Xn),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var bn={};function Zn(e,t,r){!t&&!bn[e]&&(bn[e]=!0,Te(!1,r))}d.memo(Fo);function Fo({routes:e,future:t,state:r,unstable_onError:n}){return Qn(e,void 0,r,n,t)}function ea({to:e,replace:t,state:r,relative:n}){q(st(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=d.useContext(Ce);Te(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=d.useContext(ke),{pathname:s}=Ue(),i=Lr(),c=kr(e,Cr(o),s,n==="path"),l=JSON.stringify(c);return d.useEffect(()=>{i(JSON.parse(l),{replace:t,state:r,relative:n})},[i,l,n,t,r]),null}function ue(e){q(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Uo({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:o=!1}){q(!st(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),i=d.useMemo(()=>({basename:s,navigator:a,static:o,future:{}}),[s,a,o]);typeof r=="string"&&(r=at(r));let{pathname:c="/",search:l="",hash:u="",state:p=null,key:b="default"}=r,m=d.useMemo(()=>{let g=Fe(c,s);return g==null?null:{location:{pathname:g,search:l,hash:u,state:p,key:b},navigationType:n}},[s,c,l,u,p,b,n]);return Te(m!=null,`<Router basename="${s}"> is not able to match the URL "${c}${l}${u}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:d.createElement(Ce.Provider,{value:i},d.createElement(St.Provider,{children:t,value:m}))}function ta({children:e,location:t}){return Co(yr(e),t)}function yr(e,t=[]){let r=[];return d.Children.forEach(e,(n,a)=>{if(!d.isValidElement(n))return;let o=[...t,a];if(n.type===d.Fragment){r.push.apply(r,yr(n.props.children,o));return}q(n.type===ue,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),q(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=yr(n.props.children,o)),r.push(s)}),r}var jt="get",Mt="application/x-www-form-urlencoded";function Gt(e){return e!=null&&typeof e.tagName=="string"}function Ho(e){return Gt(e)&&e.tagName.toLowerCase()==="button"}function zo(e){return Gt(e)&&e.tagName.toLowerCase()==="form"}function Wo(e){return Gt(e)&&e.tagName.toLowerCase()==="input"}function Ko(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Vo(e,t){return e.button===0&&(!t||t==="_self")&&!Ko(e)}var Pt=null;function qo(){if(Pt===null)try{new FormData(document.createElement("form"),0),Pt=!1}catch{Pt=!0}return Pt}var Go=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ur(e){return e!=null&&!Go.has(e)?(Te(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mt}"`),null):e}function Jo(e,t){let r,n,a,o,s;if(zo(e)){let i=e.getAttribute("action");n=i?Fe(i,t):null,r=e.getAttribute("method")||jt,a=ur(e.getAttribute("enctype"))||Mt,o=new FormData(e)}else if(Ho(e)||Wo(e)&&(e.type==="submit"||e.type==="image")){let i=e.form;if(i==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||i.getAttribute("action");if(n=c?Fe(c,t):null,r=e.getAttribute("formmethod")||i.getAttribute("method")||jt,a=ur(e.getAttribute("formenctype"))||ur(i.getAttribute("enctype"))||Mt,o=new FormData(i,e),!qo()){let{name:l,type:u,value:p}=e;if(u==="image"){let b=l?`${l}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else l&&o.append(l,p)}}else{if(Gt(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=jt,n=null,a=Mt,s=e}return o&&a==="text/plain"&&(s=o,o=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xo(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Fe(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Yo(e,t){if(e.id in t)return t[e.id];try{let r=await Ee(()=>import(e.module),[]);return t[e.id]=r,r}catch{return window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qo(e){return e!=null&&typeof e.page=="string"}function Zo(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function es(e,t,r){let n=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let s=await Yo(o,r);return s.links?s.links():[]}return[]}));return as(n.flat(1).filter(Zo).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function xn(e,t,r,n,a,o){let s=(c,l)=>r[l]?c.route.id!==r[l].route.id:!0,i=(c,l)=>r[l].pathname!==c.pathname||r[l].route.path?.endsWith("*")&&r[l].params["*"]!==c.params["*"];return o==="assets"?t.filter((c,l)=>s(c,l)||i(c,l)):o==="data"?t.filter((c,l)=>{let u=n.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(s(c,l)||i(c,l))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function ts(e,t,{includeHydrateFallback:r}={}){return rs(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function rs(e){return[...new Set(e)]}function ns(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function as(e,t){let r=new Set,n=new Set(t);return e.reduce((a,o)=>{if(t&&!Qo(o)&&o.as==="script"&&o.href&&n.has(o.href))return a;let i=JSON.stringify(ns(o));return r.has(i)||(r.add(i),a.push({key:i,link:o})),a},[])}function ra(){let e=d.useContext(ot);return jr(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function os(){let e=d.useContext(qt);return jr(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Mr=d.createContext(void 0);Mr.displayName="FrameworkContext";function na(){let e=d.useContext(Mr);return jr(e,"You must render this element inside a <HydratedRouter> element"),e}function ss(e,t){let r=d.useContext(Mr),[n,a]=d.useState(!1),[o,s]=d.useState(!1),{onFocus:i,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:p}=t,b=d.useRef(null);d.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let x=_=>{_.forEach(v=>{s(v.isIntersecting)})},y=new IntersectionObserver(x,{threshold:.5});return b.current&&y.observe(b.current),()=>{y.disconnect()}}},[e]),d.useEffect(()=>{if(n){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[n]);let m=()=>{a(!0)},g=()=>{a(!1),s(!1)};return r?e!=="intent"?[o,b,{}]:[o,b,{onFocus:wt(i,m),onBlur:wt(c,g),onMouseEnter:wt(l,m),onMouseLeave:wt(u,g),onTouchStart:wt(p,m)}]:[!1,b,{}]}function wt(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function is({page:e,...t}){let{router:r}=ra(),n=d.useMemo(()=>Kn(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?d.createElement(cs,{page:e,matches:n,...t}):null}function ls(e){let{manifest:t,routeModules:r}=na(),[n,a]=d.useState([]);return d.useEffect(()=>{let o=!1;return es(e,t,r).then(s=>{o||a(s)}),()=>{o=!0}},[e,t,r]),n}function cs({page:e,matches:t,...r}){let n=Ue(),{manifest:a,routeModules:o}=na(),{basename:s}=ra(),{loaderData:i,matches:c}=os(),l=d.useMemo(()=>xn(e,t,c,a,n,"data"),[e,t,c,a,n]),u=d.useMemo(()=>xn(e,t,c,a,n,"assets"),[e,t,c,a,n]),p=d.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let g=new Set,x=!1;if(t.forEach(_=>{let v=a.routes[_.route.id];!v||!v.hasLoader||(!l.some(A=>A.route.id===_.route.id)&&_.route.id in i&&o[_.route.id]?.shouldRevalidate||v.hasClientLoader?x=!0:g.add(_.route.id))}),g.size===0)return[];let y=Xo(e,s,"data");return x&&g.size>0&&y.searchParams.set("_routes",t.filter(_=>g.has(_.route.id)).map(_=>_.route.id).join(",")),[y.pathname+y.search]},[s,i,n,a,l,t,e,o]),b=d.useMemo(()=>ts(u,a),[u,a]),m=ls(u);return d.createElement(d.Fragment,null,p.map(g=>d.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),b.map(g=>d.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),m.map(({key:g,link:x})=>d.createElement("link",{key:g,nonce:r.nonce,...x})))}function us(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var aa=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aa&&(window.__reactRouterVersion="7.9.1")}catch{}function ds({basename:e,children:t,window:r}){let n=d.useRef();n.current==null&&(n.current=Qa({window:r,v5Compat:!0}));let a=n.current,[o,s]=d.useState({action:a.action,location:a.location}),i=d.useCallback(c=>{d.startTransition(()=>s(c))},[s]);return d.useLayoutEffect(()=>a.listen(i),[a,i]),d.createElement(Uo,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a})}var oa=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ae=d.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:o,replace:s,state:i,target:c,to:l,preventScrollReset:u,viewTransition:p,...b},m){let{basename:g}=d.useContext(Ce),x=typeof l=="string"&&oa.test(l),y,_=!1;if(typeof l=="string"&&x&&(y=l,aa))try{let K=new URL(window.location.href),xe=l.startsWith("//")?new URL(K.protocol+l):new URL(l),ct=Fe(xe.pathname,g);xe.origin===K.origin&&ct!=null?l=ct+xe.search+xe.hash:_=!0}catch{Te(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=To(l,{relative:a}),[A,$,j]=ss(n,b),W=ms(l,{replace:s,state:i,target:c,preventScrollReset:u,relative:a,viewTransition:p});function z(K){t&&t(K),K.defaultPrevented||W(K)}let ce=d.createElement("a",{...b,...j,href:y||v,onClick:_||o?t:z,ref:us(m,$),target:c,"data-discover":!x&&r==="render"?"true":void 0});return A&&!x?d.createElement(d.Fragment,null,ce,d.createElement(is,{page:v})):ce});ae.displayName="Link";var fs=d.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:o,to:s,viewTransition:i,children:c,...l},u){let p=At(s,{relative:l.relative}),b=Ue(),m=d.useContext(qt),{navigator:g,basename:x}=d.useContext(Ce),y=m!=null&&xs(p)&&i===!0,_=g.encodeLocation?g.encodeLocation(p).pathname:p.pathname,v=b.pathname,A=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(v=v.toLowerCase(),A=A?A.toLowerCase():null,_=_.toLowerCase()),A&&x&&(A=Fe(A,x)||A);const $=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let j=v===_||!a&&v.startsWith(_)&&v.charAt($)==="/",W=A!=null&&(A===_||!a&&A.startsWith(_)&&A.charAt(_.length)==="/"),z={isActive:j,isPending:W,isTransitioning:y},ce=j?t:void 0,K;typeof n=="function"?K=n(z):K=[n,j?"active":null,W?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let xe=typeof o=="function"?o(z):o;return d.createElement(ae,{...l,"aria-current":ce,className:K,ref:u,style:xe,to:s,viewTransition:i},typeof c=="function"?c(z):c)});fs.displayName="NavLink";var ps=d.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:o,method:s=jt,action:i,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:p,...b},m)=>{let g=ws(),x=bs(i,{relative:l}),y=s.toLowerCase()==="get"?"get":"post",_=typeof i=="string"&&oa.test(i),v=A=>{if(c&&c(A),A.defaultPrevented)return;A.preventDefault();let $=A.nativeEvent.submitter,j=$?.getAttribute("formmethod")||s;g($||A.currentTarget,{fetcherKey:t,method:j,navigate:r,replace:a,state:o,relative:l,preventScrollReset:u,viewTransition:p})};return d.createElement("form",{ref:m,method:y,action:x,onSubmit:n?c:v,...b,"data-discover":!_&&e==="render"?"true":void 0})});ps.displayName="Form";function hs(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sa(e){let t=d.useContext(ot);return q(t,hs(e)),t}function ms(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:o,viewTransition:s}={}){let i=Lr(),c=Ue(),l=At(e,{relative:o});return d.useCallback(u=>{if(Vo(u,t)){u.preventDefault();let p=r!==void 0?r:_t(c)===_t(l);i(e,{replace:p,state:n,preventScrollReset:a,relative:o,viewTransition:s})}},[c,i,l,r,n,t,e,a,o,s])}var gs=0,ys=()=>`__${String(++gs)}__`;function ws(){let{router:e}=sa("useSubmit"),{basename:t}=d.useContext(Ce),r=Oo();return d.useCallback(async(n,a={})=>{let{action:o,method:s,encType:i,formData:c,body:l}=Jo(n,t);if(a.navigate===!1){let u=a.fetcherKey||ys();await e.fetch(u,r,a.action||o,{preventScrollReset:a.preventScrollReset,formData:c,body:l,formMethod:a.method||s,formEncType:a.encType||i,flushSync:a.flushSync})}else await e.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:c,body:l,formMethod:a.method||s,formEncType:a.encType||i,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function bs(e,{relative:t}={}){let{basename:r}=d.useContext(Ce),n=d.useContext(ke);q(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={...At(e||".",{relative:t})},s=Ue();if(e==null){o.search=s.search;let i=new URLSearchParams(o.search),c=i.getAll("index");if(c.some(u=>u==="")){i.delete("index"),c.filter(p=>p).forEach(p=>i.append("index",p));let u=i.toString();o.search=u?`?${u}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Ie([r,o.pathname])),_t(o)}function xs(e,{relative:t}={}){let r=d.useContext(Jn);q(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=sa("useViewTransitionState"),a=At(e,{relative:t});if(!r.isTransitioning)return!1;let o=Fe(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Fe(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ut(a.pathname,s)!=null||Ut(a.pathname,o)!=null}const M={renderCount:0,lastRenderTime:Date.now(),authStateChanges:[],logAuthChange:(e,t)=>{const r=Date.now();M.authStateChanges.push({timestamp:r,action:e,details:t}),M.authStateChanges.length>50&&(M.authStateChanges=M.authStateChanges.slice(-50))},logRender:e=>{M.renderCount++;const t=Date.now();t-M.lastRenderTime,M.lastRenderTime=t},getStats:()=>({totalRenders:M.renderCount,authChanges:M.authStateChanges.length,recentChanges:M.authStateChanges.slice(-10)})};window.authPerformanceMonitor=M;const ia=d.createContext(void 0),vs=({children:e})=>{M.logRender("AuthProvider");const[t,r]=d.useState(!1),[n,a]=d.useState(null),[o,s]=d.useState(null),[i,c]=d.useState(!1),l=d.useCallback(w=>{const D=typeof w=="function"?w(t):w;D!==t&&(M.logAuthChange("setIsAuthenticated",{from:t,to:D}),r(D))},[t]),u=d.useCallback(w=>{const D=typeof w=="function"?w(n):w;JSON.stringify(D)!==JSON.stringify(n)&&(M.logAuthChange("setUser",{from:n,to:D}),a(D))},[n]),p=d.useCallback(w=>{const D=typeof w=="function"?w(o):w;D!==o&&(M.logAuthChange("setToken",{from:o?o.substring(0,10)+"...":null,to:D?D.substring(0,10)+"...":null}),s(D))},[o]),b=d.useCallback(w=>{const D=typeof w=="function"?w(i):w;D!==i&&(M.logAuthChange("setIsRefreshing",{from:i,to:D}),c(D))},[i]),m=d.useRef(null),g=d.useRef(null),x=d.useRef(0),y=3,_=1e3,A=(()=>"https://samintelligeneapi.azurewebsites.net/api")(),$={getItem:w=>{try{return localStorage.getItem(w)}catch{return null}},setItem:(w,D)=>{try{return localStorage.setItem(w,D),!0}catch{return!1}},removeItem:w=>{try{return localStorage.removeItem(w),!0}catch{return!1}}},j=w=>w&&typeof w=="object"&&typeof w.token=="string"&&w.token.length>0&&w.user&&typeof w.user=="object"&&typeof w.user.user_id=="number"&&typeof w.user.username=="string"&&typeof w.expiresAt=="number"&&w.expiresAt>Date.now(),W=d.useCallback(()=>{M.logAuthChange("clearAuthState",{reason:"manual_clear"}),l(!1),u(null),p(null),$.removeItem("authToken"),$.removeItem("user"),$.removeItem("authData"),m.current&&(clearInterval(m.current),m.current=null),g.current&&(clearTimeout(g.current),g.current=null)},[]),z=d.useCallback((w,D,L=36e5)=>{const B=Date.now()+L,R={token:w,user:D,expiresAt:B},P=$.setItem("authData",JSON.stringify(R));return P&&($.setItem("authToken",w),$.setItem("user",JSON.stringify(D))),P},[]),ce=d.useCallback(w=>{m.current&&(clearInterval(m.current),m.current=null);const D=Math.max(0,w-Date.now()-3e5);M.logAuthChange("startTokenRefreshMonitoring",{expiresAt:w,timeUntilRefresh:D,willRefresh:D>0}),D>0&&(m.current=setTimeout(async()=>{if(M.logAuthChange("tokenRefresh timeout triggered",{tokenExists:!!o,isRefreshing:i}),o&&!i){if(i)return!1;M.logAuthChange("refreshToken started from timeout",{token:o.substring(0,10)+"..."}),b(!0);try{const L=`${A}/auth/refresh`,B=await fetch(L,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(B.ok){const R=await B.json();if(R&&typeof R=="object"&&"Code"in R&&"Info"in R){if(R.Code===1&&R.Data?.Token){const P=R.Data.Token,G=n||R.Data.User;return M.logAuthChange("refreshToken success from timeout",{newToken:P.substring(0,10)+"...",hasUser:!!G}),p(P),G&&(u(G),z(P,G),ce(Date.now()+36e5)),!0}}else if(R.token){const P=R.token,G=R.user||n;if(M.logAuthChange("refreshToken success from timeout (legacy)",{newToken:P.substring(0,10)+"...",hasUser:!!G}),p(P),G){u(G),z(P,G);const oe=Date.now()+36e5;m.current&&(clearInterval(m.current),m.current=null);const qe=Math.max(0,oe-Date.now()-3e5);qe>0&&(m.current=setTimeout(async()=>{P&&!i&&await K(P)},qe))}return!0}}M.logAuthChange("refreshToken failed from timeout",{status:B.status})}catch(L){M.logAuthChange("refreshToken error from timeout",{error:L instanceof Error?L.message:String(L)})}finally{b(!1)}}else i&&M.logAuthChange("tokenRefresh skipped",{reason:"already_refreshing_in_timeout"})},D))},[o,i,A,n,z,b,p,u]),K=d.useCallback(async w=>{if(i)return M.logAuthChange("refreshToken skipped",{reason:"already_refreshing"}),!1;M.logAuthChange("refreshToken started",{token:w.substring(0,10)+"..."}),b(!0);try{const D=`${A}/auth/refresh`,L=await fetch(D,{method:"POST",headers:{Authorization:`Bearer ${w}`,"Content-Type":"application/json"}});if(L.ok){const B=await L.json();if(B&&typeof B=="object"&&"Code"in B&&"Info"in B){if(B.Code===1&&B.Data?.Token){const R=B.Data.Token,P=n||B.Data.User;if(M.logAuthChange("refreshToken success",{newToken:R.substring(0,10)+"...",hasUser:!!P}),p(R),P){u(P),z(R,P);const G=Date.now()+36e5;m.current&&(clearInterval(m.current),m.current=null);const oe=Math.max(0,G-Date.now()-3e5);oe>0&&(m.current=setTimeout(async()=>{R&&!i&&await K(R)},oe))}return!0}}else if(B.token){const R=B.token,P=B.user||n;return M.logAuthChange("refreshToken success (legacy)",{newToken:R.substring(0,10)+"...",hasUser:!!P}),p(R),P&&(u(P),z(R,P),ce(Date.now()+36e5)),!0}}M.logAuthChange("refreshToken failed",{status:L.status})}catch(D){M.logAuthChange("refreshToken error",{error:D instanceof Error?D.message:String(D)})}finally{b(!1)}return!1},[A,i,n,z]),xe=d.useCallback(async(w,D,L=1)=>{try{const B=`${A}/auth/verify`,R=await fetch(B,{headers:{Authorization:`Bearer ${w}`}});if(R.ok){const P=await R.json();if(P&&typeof P=="object"&&"Code"in P&&"Info"in P){if(P.Code===1&&P.Data?.user){M.logAuthChange("verifyTokenWithRetry success",{userId:P.Data.user.user_id}),p(w),u(P.Data.user),l(!0),z(w,P.Data.user);const G=Date.now()+36e5;m.current&&(clearInterval(m.current),m.current=null);const oe=Math.max(0,G-Date.now()-3e5);oe>0&&(m.current=setTimeout(async()=>{w&&!i&&await K(w)},oe)),x.current=0;return}}else{M.logAuthChange("verifyTokenWithRetry success (legacy)",{userId:(P.user||D).user_id}),p(w),u(P.user||D),l(!0),z(w,P.user||D);const G=Date.now()+36e5;m.current&&(clearInterval(m.current),m.current=null);const oe=Math.max(0,G-Date.now()-3e5);oe>0&&(m.current=setTimeout(async()=>{w&&!i&&await K(w)},oe)),x.current=0;return}}throw new Error(`Verification failed with status: ${R.status}`)}catch{L<y?(x.current=L,g.current=setTimeout(()=>{xe(w,D,L+1)},_*L)):(W(),x.current=0)}},[A,y,_,z,W]);d.useEffect(()=>{(async()=>{try{const D=$.getItem("authData");if(D)try{const R=JSON.parse(D);if(j(R))if(R.expiresAt>Date.now()+3e5){M.logAuthChange("initializeAuth restored",{userId:R.user.user_id,expiresAt:R.expiresAt}),p(R.token),u(R.user),l(!0),ce(R.expiresAt);return}else{M.logAuthChange("initializeAuth token_expired",{userId:R.user.user_id}),await K(R.token);return}}catch{}const L=$.getItem("authToken"),B=$.getItem("user");if(L&&B)try{const R=JSON.parse(B);R&&typeof R=="object"&&await xe(L,R)}catch{W()}}catch{W()}})()},[W,z,l,u,p,K]);const ct=d.useCallback(async(w,D)=>{try{const L=`${A}/auth/login`,B=await fetch(L,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:w,password:D})});if(!B.ok)try{const R=await B.text();if(B.status===404){const P=A.includes("/api")?L.replace("/api/auth/login","/auth/login"):L.replace("/auth/login","/api/auth/login")}}catch{}if(B.ok){const R=await B.json();if(R&&typeof R=="object"&&"Code"in R&&"Info"in R){if(R.Code===1&&R.Data?.Token){const P=Array.isArray(R.Data.Roles)?R.Data.Roles:[],G={user_id:R.Data.UserId,username:R.Data.Username,email:R.Data.Email,first_name:R.Data.Username,last_name:"",role_name:P[0]||"user",is_admin:P.includes("admin")||!1};if(M.logAuthChange("login success",{userId:G.user_id}),p(R.Data.Token),u(G),l(!0),z(R.Data.Token,G,36e5)){const qe=Date.now()+36e5;m.current&&(clearInterval(m.current),m.current=null);const ut=Math.max(0,qe-Date.now()-3e5);ut>0&&(m.current=setTimeout(async()=>{R.Data.Token&&!i&&await K(R.Data.Token)},ut))}return!0}}else if(R.token&&R.user){if(M.logAuthChange("login success (legacy)",{userId:R.user.user_id}),p(R.token),u(R.user),l(!0),z(R.token,R.user,36e5)){const G=Date.now()+36e5;m.current&&(clearInterval(m.current),m.current=null);const oe=Math.max(0,G-Date.now()-3e5);oe>0&&(m.current=setTimeout(async()=>{R.token&&!i&&await K(R.token)},oe))}return!0}}return!1}catch{return!1}},[A,z,p,u,l,i,K]),He=d.useCallback(()=>{W()},[W]);d.useEffect(()=>()=>{m.current&&clearInterval(m.current),g.current&&clearTimeout(g.current)},[]);const ve=d.useCallback(()=>n?.is_admin||!1,[n?.is_admin]),nr=Er.useMemo(()=>({isAuthenticated:t,user:n,token:o,login:ct,logout:He,isAdmin:ve}),[t,n,o]);return f.jsx(ia.Provider,{value:nr,children:e})},$r=()=>{const e=d.useContext(ia);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},la=Er.memo(()=>{const[e,t]=d.useState(""),[r,n]=d.useState(""),[a,o]=d.useState(""),{login:s}=$r(),i=Lr(),c=async p=>{p.preventDefault(),o(""),await s(e,r)?i("/",{replace:!0}):o("Invalid username or password")},l=d.useCallback(p=>{t(p.target.value)},[]),u=d.useCallback(p=>{n(p.target.value)},[]);return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:f.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-2xl p-8 w-full max-w-md border border-white/20",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"SAM Recovery Intelligence V1"}),f.jsx("p",{className:"text-white/80",children:"Please sign in to access the dashboard"})]}),f.jsxs("form",{onSubmit:c,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-white/90 mb-2",children:"Username"}),f.jsx("input",{id:"username",type:"text",value:e,onChange:l,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-sm",placeholder:"Enter your username",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white/90 mb-2",children:"Password"}),f.jsx("input",{id:"password",type:"password",value:r,onChange:u,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-sm",placeholder:"Enter your password",required:!0})]}),a&&f.jsx("div",{className:"text-red-300 text-sm bg-red-500/20 p-3 rounded-lg",children:a}),f.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-300 transform hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:"Sign In"})]})]})})}),_s=({isMobileMenuOpen:e,setIsMobileMenuOpen:t})=>{const{logout:r}=$r(),n=Ue(),a=c=>{t(!1)},o=()=>{r(),t(!1)},s=c=>`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${n.pathname===c?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,i=c=>`mobile-menu-item block pl-3 pr-4 py-2 border-l-4 text-base font-medium w-full text-left ${n.pathname===c?"mobile-menu-item active bg-blue-50 border-blue-500 text-blue-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`;return f.jsxs("nav",{className:"bg-white/90 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-10",children:[f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between h-16",children:[f.jsx("div",{className:"flex items-center md:hidden",children:f.jsxs("button",{onClick:()=>t(!e),className:"mobile-menu-button inline-flex items-center justify-center p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500","aria-expanded":"false",children:[f.jsx("span",{className:"sr-only",children:"Open main menu"}),f.jsx("svg",{className:`${e?"hidden":"block"} h-6 w-6`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})}),f.jsx("svg",{className:`${e?"block":"hidden"} h-6 w-6`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})}),f.jsxs("div",{className:"hidden md:flex md:space-x-8",children:[f.jsx(ae,{to:"/",className:s("/"),children:"Team Overview"}),f.jsx(ae,{to:"/comparison",className:s("/comparison"),children:"Team Comparison"}),f.jsx(ae,{to:"/training-load",className:s("/training-load"),children:"Training Load"}),f.jsx(ae,{to:"/recovery-timeline",className:s("/recovery-timeline"),children:"Recovery Timeline"}),f.jsx(ae,{to:"/predictive",className:s("/predictive"),children:"Predictive Analytics"}),f.jsx(ae,{to:"/pharma-watchlist",className:s("/pharma-watchlist"),children:"Pharma Interactions"}),f.jsx(ae,{to:"/body-composition",className:s("/body-composition"),children:"Body Composition"}),f.jsx(ae,{to:"/user-management",className:s("/user-management"),children:"User Management"}),f.jsx("button",{onClick:r,className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Logout"})]})]})}),f.jsx("div",{className:`${e?"block":"hidden"} md:hidden mobile-menu`,children:f.jsxs("div",{className:"pt-2 pb-3 space-y-1",children:[f.jsx(ae,{to:"/",onClick:()=>a(),className:i("/"),children:"Team Overview"}),f.jsx(ae,{to:"/comparison",onClick:()=>a(),className:i("/comparison"),children:"Team Comparison"}),f.jsx(ae,{to:"/training-load",onClick:()=>a(),className:i("/training-load"),children:"Training Load"}),f.jsx(ae,{to:"/recovery-timeline",onClick:()=>a(),className:i("/recovery-timeline"),children:"Recovery Timeline"}),f.jsx(ae,{to:"/predictive",onClick:()=>a(),className:i("/predictive"),children:"Predictive Analytics"}),f.jsx(ae,{to:"/pharma-watchlist",onClick:()=>a(),className:i("/pharma-watchlist"),children:"Pharma Interactions"}),f.jsx(ae,{to:"/body-composition",onClick:()=>a(),className:i("/body-composition"),children:"Body Composition"}),f.jsx(ae,{to:"/user-management",onClick:()=>a(),className:i("/user-management"),children:"User Management"}),f.jsx("button",{onClick:o,className:"block w-full text-left pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-red-600 hover:bg-red-50",children:"Logout"})]})})]})},Rs=d.memo(_s);function ca(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ss}=Object.prototype,{getPrototypeOf:Or}=Object,{iterator:Jt,toStringTag:ua}=Symbol,Xt=(e=>t=>{const r=Ss.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),De=e=>(e=e.toLowerCase(),t=>Xt(t)===e),Yt=e=>t=>typeof t===e,{isArray:it}=Array,Rt=Yt("undefined");function Tt(e){return e!==null&&!Rt(e)&&e.constructor!==null&&!Rt(e.constructor)&&he(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const da=De("ArrayBuffer");function As(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&da(e.buffer),t}const Ts=Yt("string"),he=Yt("function"),fa=Yt("number"),Et=e=>e!==null&&typeof e=="object",Es=e=>e===!0||e===!1,$t=e=>{if(Xt(e)!=="object")return!1;const t=Or(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ua in e)&&!(Jt in e)},Cs=e=>{if(!Et(e)||Tt(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ks=De("Date"),Ds=De("File"),Ls=De("Blob"),Ps=De("FileList"),Ns=e=>Et(e)&&he(e.pipe),js=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||he(e.append)&&((t=Xt(e))==="formdata"||t==="object"&&he(e.toString)&&e.toString()==="[object FormData]"))},Ms=De("URLSearchParams"),[$s,Os,Bs,Is]=["ReadableStream","Request","Response","Headers"].map(De),Fs=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ct(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),it(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Tt(e))return;const o=r?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let i;for(n=0;n<s;n++)i=o[n],t.call(null,e[i],i,e)}}function pa(e,t){if(Tt(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const et=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ha=e=>!Rt(e)&&e!==et;function wr(){const{caseless:e}=ha(this)&&this||{},t={},r=(n,a)=>{const o=e&&pa(t,a)||a;$t(t[o])&&$t(n)?t[o]=wr(t[o],n):$t(n)?t[o]=wr({},n):it(n)?t[o]=n.slice():t[o]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Ct(arguments[n],r);return t}const Us=(e,t,r,{allOwnKeys:n}={})=>(Ct(t,(a,o)=>{r&&he(a)?e[o]=ca(a,r):e[o]=a},{allOwnKeys:n}),e),Hs=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),zs=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Ws=(e,t,r,n)=>{let a,o,s;const i={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)s=a[o],(!n||n(s,e,t))&&!i[s]&&(t[s]=e[s],i[s]=!0);e=r!==!1&&Or(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Ks=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Vs=e=>{if(!e)return null;if(it(e))return e;let t=e.length;if(!fa(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},qs=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Or(Uint8Array)),Gs=(e,t)=>{const n=(e&&e[Jt]).call(e);let a;for(;(a=n.next())&&!a.done;){const o=a.value;t.call(e,o[0],o[1])}},Js=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Xs=De("HTMLFormElement"),Ys=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),vn=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Qs=De("RegExp"),ma=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ct(r,(a,o)=>{let s;(s=t(a,o,e))!==!1&&(n[o]=s||a)}),Object.defineProperties(e,n)},Zs=e=>{ma(e,(t,r)=>{if(he(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(he(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ei=(e,t)=>{const r={},n=a=>{a.forEach(o=>{r[o]=!0})};return it(e)?n(e):n(String(e).split(t)),r},ti=()=>{},ri=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function ni(e){return!!(e&&he(e.append)&&e[ua]==="FormData"&&e[Jt])}const ai=e=>{const t=new Array(10),r=(n,a)=>{if(Et(n)){if(t.indexOf(n)>=0)return;if(Tt(n))return n;if(!("toJSON"in n)){t[a]=n;const o=it(n)?[]:{};return Ct(n,(s,i)=>{const c=r(s,a+1);!Rt(c)&&(o[i]=c)}),t[a]=void 0,o}}return n};return r(e,0)},oi=De("AsyncFunction"),si=e=>e&&(Et(e)||he(e))&&he(e.then)&&he(e.catch),ga=((e,t)=>e?setImmediate:t?((r,n)=>(et.addEventListener("message",({source:a,data:o})=>{a===et&&o===r&&n.length&&n.shift()()},!1),a=>{n.push(a),et.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",he(et.postMessage)),ii=typeof queueMicrotask<"u"?queueMicrotask.bind(et):typeof process<"u"&&process.nextTick||ga,li=e=>e!=null&&he(e[Jt]),h={isArray:it,isArrayBuffer:da,isBuffer:Tt,isFormData:js,isArrayBufferView:As,isString:Ts,isNumber:fa,isBoolean:Es,isObject:Et,isPlainObject:$t,isEmptyObject:Cs,isReadableStream:$s,isRequest:Os,isResponse:Bs,isHeaders:Is,isUndefined:Rt,isDate:ks,isFile:Ds,isBlob:Ls,isRegExp:Qs,isFunction:he,isStream:Ns,isURLSearchParams:Ms,isTypedArray:qs,isFileList:Ps,forEach:Ct,merge:wr,extend:Us,trim:Fs,stripBOM:Hs,inherits:zs,toFlatObject:Ws,kindOf:Xt,kindOfTest:De,endsWith:Ks,toArray:Vs,forEachEntry:Gs,matchAll:Js,isHTMLForm:Xs,hasOwnProperty:vn,hasOwnProp:vn,reduceDescriptors:ma,freezeMethods:Zs,toObjectSet:ei,toCamelCase:Ys,noop:ti,toFiniteNumber:ri,findKey:pa,global:et,isContextDefined:ha,isSpecCompliantForm:ni,toJSONObject:ai,isAsyncFn:oi,isThenable:si,setImmediate:ga,asap:ii,isIterable:li};function N(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}h.inherits(N,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:h.toJSONObject(this.config),code:this.code,status:this.status}}});const ya=N.prototype,wa={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{wa[e]={value:e}});Object.defineProperties(N,wa);Object.defineProperty(ya,"isAxiosError",{value:!0});N.from=(e,t,r,n,a,o)=>{const s=Object.create(ya);return h.toFlatObject(e,s,function(c){return c!==Error.prototype},i=>i!=="isAxiosError"),N.call(s,e.message,t,r,n,a),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const ci=null;function br(e){return h.isPlainObject(e)||h.isArray(e)}function ba(e){return h.endsWith(e,"[]")?e.slice(0,-2):e}function _n(e,t,r){return e?e.concat(t).map(function(a,o){return a=ba(a),!r&&o?"["+a+"]":a}).join(r?".":""):t}function ui(e){return h.isArray(e)&&!e.some(br)}const di=h.toFlatObject(h,{},null,function(t){return/^is[A-Z]/.test(t)});function Qt(e,t,r){if(!h.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=h.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,y){return!h.isUndefined(y[x])});const n=r.metaTokens,a=r.visitor||u,o=r.dots,s=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&h.isSpecCompliantForm(t);if(!h.isFunction(a))throw new TypeError("visitor must be a function");function l(g){if(g===null)return"";if(h.isDate(g))return g.toISOString();if(h.isBoolean(g))return g.toString();if(!c&&h.isBlob(g))throw new N("Blob is not supported. Use a Buffer instead.");return h.isArrayBuffer(g)||h.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,x,y){let _=g;if(g&&!y&&typeof g=="object"){if(h.endsWith(x,"{}"))x=n?x:x.slice(0,-2),g=JSON.stringify(g);else if(h.isArray(g)&&ui(g)||(h.isFileList(g)||h.endsWith(x,"[]"))&&(_=h.toArray(g)))return x=ba(x),_.forEach(function(A,$){!(h.isUndefined(A)||A===null)&&t.append(s===!0?_n([x],$,o):s===null?x:x+"[]",l(A))}),!1}return br(g)?!0:(t.append(_n(y,x,o),l(g)),!1)}const p=[],b=Object.assign(di,{defaultVisitor:u,convertValue:l,isVisitable:br});function m(g,x){if(!h.isUndefined(g)){if(p.indexOf(g)!==-1)throw Error("Circular reference detected in "+x.join("."));p.push(g),h.forEach(g,function(_,v){(!(h.isUndefined(_)||_===null)&&a.call(t,_,h.isString(v)?v.trim():v,x,b))===!0&&m(_,x?x.concat(v):[v])}),p.pop()}}if(!h.isObject(e))throw new TypeError("data must be an object");return m(e),t}function Rn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Br(e,t){this._pairs=[],e&&Qt(e,this,t)}const xa=Br.prototype;xa.append=function(t,r){this._pairs.push([t,r])};xa.toString=function(t){const r=t?function(n){return t.call(this,n,Rn)}:Rn;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function fi(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function va(e,t,r){if(!t)return e;const n=r&&r.encode||fi;h.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let o;if(a?o=a(t,r):o=h.isURLSearchParams(t)?t.toString():new Br(t,r).toString(n),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class pi{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){h.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Sn=pi,_a={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hi=typeof URLSearchParams<"u"?URLSearchParams:Br,mi=typeof FormData<"u"?FormData:null,gi=typeof Blob<"u"?Blob:null,yi={isBrowser:!0,classes:{URLSearchParams:hi,FormData:mi,Blob:gi},protocols:["http","https","file","blob","url","data"]},Ir=typeof window<"u"&&typeof document<"u",xr=typeof navigator=="object"&&navigator||void 0,wi=Ir&&(!xr||["ReactNative","NativeScript","NS"].indexOf(xr.product)<0),bi=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),xi=Ir&&window.location.href||"http://localhost",vi=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ir,hasStandardBrowserEnv:wi,hasStandardBrowserWebWorkerEnv:bi,navigator:xr,origin:xi},Symbol.toStringTag,{value:"Module"})),le={...vi,...yi};function _i(e,t){return Qt(e,new le.classes.URLSearchParams,{visitor:function(r,n,a,o){return le.isNode&&h.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function Ri(e){return h.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Si(e){const t={},r=Object.keys(e);let n;const a=r.length;let o;for(n=0;n<a;n++)o=r[n],t[o]=e[o];return t}function Ra(e){function t(r,n,a,o){let s=r[o++];if(s==="__proto__")return!0;const i=Number.isFinite(+s),c=o>=r.length;return s=!s&&h.isArray(a)?a.length:s,c?(h.hasOwnProp(a,s)?a[s]=[a[s],n]:a[s]=n,!i):((!a[s]||!h.isObject(a[s]))&&(a[s]=[]),t(r,n,a[s],o)&&h.isArray(a[s])&&(a[s]=Si(a[s])),!i)}if(h.isFormData(e)&&h.isFunction(e.entries)){const r={};return h.forEachEntry(e,(n,a)=>{t(Ri(n),a,r,0)}),r}return null}function Ai(e,t,r){if(h.isString(e))try{return(t||JSON.parse)(e),h.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Fr={transitional:_a,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,o=h.isObject(t);if(o&&h.isHTMLForm(t)&&(t=new FormData(t)),h.isFormData(t))return a?JSON.stringify(Ra(t)):t;if(h.isArrayBuffer(t)||h.isBuffer(t)||h.isStream(t)||h.isFile(t)||h.isBlob(t)||h.isReadableStream(t))return t;if(h.isArrayBufferView(t))return t.buffer;if(h.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return _i(t,this.formSerializer).toString();if((i=h.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Qt(i?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||a?(r.setContentType("application/json",!1),Ai(t)):t}],transformResponse:[function(t){const r=this.transitional||Fr.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(h.isResponse(t)||h.isReadableStream(t))return t;if(t&&h.isString(t)&&(n&&!this.responseType||a)){const s=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(i){if(s)throw i.name==="SyntaxError"?N.from(i,N.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:le.classes.FormData,Blob:le.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};h.forEach(["delete","get","head","post","put","patch"],e=>{Fr.headers[e]={}});const Ur=Fr,Ti=h.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ei=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(s){a=s.indexOf(":"),r=s.substring(0,a).trim().toLowerCase(),n=s.substring(a+1).trim(),!(!r||t[r]&&Ti[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},An=Symbol("internals");function bt(e){return e&&String(e).trim().toLowerCase()}function Ot(e){return e===!1||e==null?e:h.isArray(e)?e.map(Ot):String(e)}function Ci(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const ki=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function dr(e,t,r,n,a){if(h.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!h.isString(t)){if(h.isString(n))return t.indexOf(n)!==-1;if(h.isRegExp(n))return n.test(t)}}function Di(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Li(e,t){const r=h.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,o,s){return this[n].call(this,t,a,o,s)},configurable:!0})})}let Zt=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function o(i,c,l){const u=bt(c);if(!u)throw new Error("header name must be a non-empty string");const p=h.findKey(a,u);(!p||a[p]===void 0||l===!0||l===void 0&&a[p]!==!1)&&(a[p||c]=Ot(i))}const s=(i,c)=>h.forEach(i,(l,u)=>o(l,u,c));if(h.isPlainObject(t)||t instanceof this.constructor)s(t,r);else if(h.isString(t)&&(t=t.trim())&&!ki(t))s(Ei(t),r);else if(h.isObject(t)&&h.isIterable(t)){let i={},c,l;for(const u of t){if(!h.isArray(u))throw TypeError("Object iterator must return a key-value pair");i[l=u[0]]=(c=i[l])?h.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}s(i,r)}else t!=null&&o(r,t,n);return this}get(t,r){if(t=bt(t),t){const n=h.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return Ci(a);if(h.isFunction(r))return r.call(this,a,n);if(h.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=bt(t),t){const n=h.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||dr(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function o(s){if(s=bt(s),s){const i=h.findKey(n,s);i&&(!r||dr(n,n[i],i,r))&&(delete n[i],a=!0)}}return h.isArray(t)?t.forEach(o):o(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const o=r[n];(!t||dr(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const r=this,n={};return h.forEach(this,(a,o)=>{const s=h.findKey(n,o);if(s){r[s]=Ot(a),delete r[o];return}const i=t?Di(o):String(o).trim();i!==o&&delete r[o],r[i]=Ot(a),n[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return h.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&h.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[An]=this[An]={accessors:{}}).accessors,a=this.prototype;function o(s){const i=bt(s);n[i]||(Li(a,s),n[i]=!0)}return h.isArray(t)?t.forEach(o):o(t),this}};Zt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);h.reduceDescriptors(Zt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});h.freezeMethods(Zt);const Ae=Zt;function fr(e,t){const r=this||Ur,n=t||r,a=Ae.from(n.headers);let o=n.data;return h.forEach(e,function(i){o=i.call(r,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function Sa(e){return!!(e&&e.__CANCEL__)}function lt(e,t,r){N.call(this,e??"canceled",N.ERR_CANCELED,t,r),this.name="CanceledError"}h.inherits(lt,N,{__CANCEL__:!0});function Aa(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new N("Request failed with status code "+r.status,[N.ERR_BAD_REQUEST,N.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Pi(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Ni(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,o=0,s;return t=t!==void 0?t:1e3,function(c){const l=Date.now(),u=n[o];s||(s=l),r[a]=c,n[a]=l;let p=o,b=0;for(;p!==a;)b+=r[p++],p=p%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),l-s<t)return;const m=u&&l-u;return m?Math.round(b*1e3/m):void 0}}function ji(e,t){let r=0,n=1e3/t,a,o;const s=(l,u=Date.now())=>{r=u,a=null,o&&(clearTimeout(o),o=null),e(...l)};return[(...l)=>{const u=Date.now(),p=u-r;p>=n?s(l,u):(a=l,o||(o=setTimeout(()=>{o=null,s(a)},n-p)))},()=>a&&s(a)]}const Ht=(e,t,r=3)=>{let n=0;const a=Ni(50,250);return ji(o=>{const s=o.loaded,i=o.lengthComputable?o.total:void 0,c=s-n,l=a(c),u=s<=i;n=s;const p={loaded:s,total:i,progress:i?s/i:void 0,bytes:c,rate:l||void 0,estimated:l&&i&&u?(i-s)/l:void 0,event:o,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(p)},r)},Tn=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},En=e=>(...t)=>h.asap(()=>e(...t)),Mi=le.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,le.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(le.origin),le.navigator&&/(msie|trident)/i.test(le.navigator.userAgent)):()=>!0,$i=le.hasStandardBrowserEnv?{write(e,t,r,n,a,o){const s=[e+"="+encodeURIComponent(t)];h.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),h.isString(n)&&s.push("path="+n),h.isString(a)&&s.push("domain="+a),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Oi(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Bi(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ta(e,t,r){let n=!Oi(t);return e&&(n||r==!1)?Bi(e,t):t}const Cn=e=>e instanceof Ae?{...e}:e;function rt(e,t){t=t||{};const r={};function n(l,u,p,b){return h.isPlainObject(l)&&h.isPlainObject(u)?h.merge.call({caseless:b},l,u):h.isPlainObject(u)?h.merge({},u):h.isArray(u)?u.slice():u}function a(l,u,p,b){if(h.isUndefined(u)){if(!h.isUndefined(l))return n(void 0,l,p,b)}else return n(l,u,p,b)}function o(l,u){if(!h.isUndefined(u))return n(void 0,u)}function s(l,u){if(h.isUndefined(u)){if(!h.isUndefined(l))return n(void 0,l)}else return n(void 0,u)}function i(l,u,p){if(p in t)return n(l,u);if(p in e)return n(void 0,l)}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:i,headers:(l,u,p)=>a(Cn(l),Cn(u),p,!0)};return h.forEach(Object.keys({...e,...t}),function(u){const p=c[u]||a,b=p(e[u],t[u],u);h.isUndefined(b)&&p!==i||(r[u]=b)}),r}const Ea=e=>{const t=rt({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:o,headers:s,auth:i}=t;t.headers=s=Ae.from(s),t.url=va(Ta(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&s.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):"")));let c;if(h.isFormData(r)){if(le.hasStandardBrowserEnv||le.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[l,...u]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];s.setContentType([l||"multipart/form-data",...u].join("; "))}}if(le.hasStandardBrowserEnv&&(n&&h.isFunction(n)&&(n=n(t)),n||n!==!1&&Mi(t.url))){const l=a&&o&&$i.read(o);l&&s.set(a,l)}return t},Ii=typeof XMLHttpRequest<"u",Fi=Ii&&function(e){return new Promise(function(r,n){const a=Ea(e);let o=a.data;const s=Ae.from(a.headers).normalize();let{responseType:i,onUploadProgress:c,onDownloadProgress:l}=a,u,p,b,m,g;function x(){m&&m(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(a.method.toUpperCase(),a.url,!0),y.timeout=a.timeout;function _(){if(!y)return;const A=Ae.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),j={data:!i||i==="text"||i==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:A,config:e,request:y};Aa(function(z){r(z),x()},function(z){n(z),x()},j),y=null}"onloadend"in y?y.onloadend=_:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(_)},y.onabort=function(){y&&(n(new N("Request aborted",N.ECONNABORTED,e,y)),y=null)},y.onerror=function(){n(new N("Network Error",N.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let $=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const j=a.transitional||_a;a.timeoutErrorMessage&&($=a.timeoutErrorMessage),n(new N($,j.clarifyTimeoutError?N.ETIMEDOUT:N.ECONNABORTED,e,y)),y=null},o===void 0&&s.setContentType(null),"setRequestHeader"in y&&h.forEach(s.toJSON(),function($,j){y.setRequestHeader(j,$)}),h.isUndefined(a.withCredentials)||(y.withCredentials=!!a.withCredentials),i&&i!=="json"&&(y.responseType=a.responseType),l&&([b,g]=Ht(l,!0),y.addEventListener("progress",b)),c&&y.upload&&([p,m]=Ht(c),y.upload.addEventListener("progress",p),y.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(u=A=>{y&&(n(!A||A.type?new lt(null,e,y):A),y.abort(),y=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const v=Pi(a.url);if(v&&le.protocols.indexOf(v)===-1){n(new N("Unsupported protocol "+v+":",N.ERR_BAD_REQUEST,e));return}y.send(o||null)})},Ui=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const o=function(l){if(!a){a=!0,i();const u=l instanceof Error?l:this.reason;n.abort(u instanceof N?u:new lt(u instanceof Error?u.message:u))}};let s=t&&setTimeout(()=>{s=null,o(new N(`timeout ${t} of ms exceeded`,N.ETIMEDOUT))},t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(o):l.removeEventListener("abort",o)}),e=null)};e.forEach(l=>l.addEventListener("abort",o));const{signal:c}=n;return c.unsubscribe=()=>h.asap(i),c}},Hi=Ui,zi=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},Wi=async function*(e,t){for await(const r of Ki(e))yield*zi(r,t)},Ki=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},kn=(e,t,r,n)=>{const a=Wi(e,t);let o=0,s,i=c=>{s||(s=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:l,value:u}=await a.next();if(l){i(),c.close();return}let p=u.byteLength;if(r){let b=o+=p;r(b)}c.enqueue(new Uint8Array(u))}catch(l){throw i(l),l}},cancel(c){return i(c),a.return()}},{highWaterMark:2})},er=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ca=er&&typeof ReadableStream=="function",Vi=er&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),ka=(e,...t)=>{try{return!!e(...t)}catch{return!1}},qi=Ca&&ka(()=>{let e=!1;const t=new Request(le.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Dn=64*1024,vr=Ca&&ka(()=>h.isReadableStream(new Response("").body)),zt={stream:vr&&(e=>e.body)};er&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!zt[t]&&(zt[t]=h.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new N(`Response type '${t}' is not supported`,N.ERR_NOT_SUPPORT,n)})})})(new Response);const Gi=async e=>{if(e==null)return 0;if(h.isBlob(e))return e.size;if(h.isSpecCompliantForm(e))return(await new Request(le.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(h.isArrayBufferView(e)||h.isArrayBuffer(e))return e.byteLength;if(h.isURLSearchParams(e)&&(e=e+""),h.isString(e))return(await Vi(e)).byteLength},Ji=async(e,t)=>{const r=h.toFiniteNumber(e.getContentLength());return r??Gi(t)},Xi=er&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:o,timeout:s,onDownloadProgress:i,onUploadProgress:c,responseType:l,headers:u,withCredentials:p="same-origin",fetchOptions:b}=Ea(e);l=l?(l+"").toLowerCase():"text";let m=Hi([a,o&&o.toAbortSignal()],s),g;const x=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let y;try{if(c&&qi&&r!=="get"&&r!=="head"&&(y=await Ji(u,n))!==0){let j=new Request(t,{method:"POST",body:n,duplex:"half"}),W;if(h.isFormData(n)&&(W=j.headers.get("content-type"))&&u.setContentType(W),j.body){const[z,ce]=Tn(y,Ht(En(c)));n=kn(j.body,Dn,z,ce)}}h.isString(p)||(p=p?"include":"omit");const _="credentials"in Request.prototype;g=new Request(t,{...b,signal:m,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:_?p:void 0});let v=await fetch(g,b);const A=vr&&(l==="stream"||l==="response");if(vr&&(i||A&&x)){const j={};["status","statusText","headers"].forEach(K=>{j[K]=v[K]});const W=h.toFiniteNumber(v.headers.get("content-length")),[z,ce]=i&&Tn(W,Ht(En(i),!0))||[];v=new Response(kn(v.body,Dn,z,()=>{ce&&ce(),x&&x()}),j)}l=l||"text";let $=await zt[h.findKey(zt,l)||"text"](v,e);return!A&&x&&x(),await new Promise((j,W)=>{Aa(j,W,{data:$,headers:Ae.from(v.headers),status:v.status,statusText:v.statusText,config:e,request:g})})}catch(_){throw x&&x(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new N("Network Error",N.ERR_NETWORK,e,g),{cause:_.cause||_}):N.from(_,_&&_.code,e,g)}}),_r={http:ci,xhr:Fi,fetch:Xi};h.forEach(_r,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ln=e=>`- ${e}`,Yi=e=>h.isFunction(e)||e===null||e===!1,Da={getAdapter:e=>{e=h.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let o=0;o<t;o++){r=e[o];let s;if(n=r,!Yi(r)&&(n=_r[(s=String(r)).toLowerCase()],n===void 0))throw new N(`Unknown adapter '${s}'`);if(n)break;a[s||"#"+o]=n}if(!n){const o=Object.entries(a).map(([i,c])=>`adapter ${i} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=t?o.length>1?`since :
`+o.map(Ln).join(`
`):" "+Ln(o[0]):"as no adapter specified";throw new N("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:_r};function pr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new lt(null,e)}function Pn(e){return pr(e),e.headers=Ae.from(e.headers),e.data=fr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Da.getAdapter(e.adapter||Ur.adapter)(e).then(function(n){return pr(e),n.data=fr.call(e,e.transformResponse,n),n.headers=Ae.from(n.headers),n},function(n){return Sa(n)||(pr(e),n&&n.response&&(n.response.data=fr.call(e,e.transformResponse,n.response),n.response.headers=Ae.from(n.response.headers))),Promise.reject(n)})}const La="1.11.0",tr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{tr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Nn={};tr.transitional=function(t,r,n){function a(o,s){return"[Axios v"+La+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return(o,s,i)=>{if(t===!1)throw new N(a(s," has been removed"+(r?" in "+r:"")),N.ERR_DEPRECATED);return r&&!Nn[s]&&(Nn[s]=!0),t?t(o,s,i):!0}};tr.spelling=function(t){return(r,n)=>!0};function Qi(e,t,r){if(typeof e!="object")throw new N("options must be an object",N.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const o=n[a],s=t[o];if(s){const i=e[o],c=i===void 0||s(i,o,e);if(c!==!0)throw new N("option "+o+" must be "+c,N.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new N("Unknown option "+o,N.ERR_BAD_OPTION)}}const Bt={assertOptions:Qi,validators:tr},Pe=Bt.validators;let Wt=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Sn,response:new Sn}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=rt(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:o}=r;n!==void 0&&Bt.assertOptions(n,{silentJSONParsing:Pe.transitional(Pe.boolean),forcedJSONParsing:Pe.transitional(Pe.boolean),clarifyTimeoutError:Pe.transitional(Pe.boolean)},!1),a!=null&&(h.isFunction(a)?r.paramsSerializer={serialize:a}:Bt.assertOptions(a,{encode:Pe.function,serialize:Pe.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Bt.assertOptions(r,{baseUrl:Pe.spelling("baseURL"),withXsrfToken:Pe.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=o&&h.merge(o.common,o[r.method]);o&&h.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),r.headers=Ae.concat(s,o);const i=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,i.unshift(x.fulfilled,x.rejected))});const l=[];this.interceptors.response.forEach(function(x){l.push(x.fulfilled,x.rejected)});let u,p=0,b;if(!c){const g=[Pn.bind(this),void 0];for(g.unshift(...i),g.push(...l),b=g.length,u=Promise.resolve(r);p<b;)u=u.then(g[p++],g[p++]);return u}b=i.length;let m=r;for(p=0;p<b;){const g=i[p++],x=i[p++];try{m=g(m)}catch(y){x.call(this,y);break}}try{u=Pn.call(this,m)}catch(g){return Promise.reject(g)}for(p=0,b=l.length;p<b;)u=u.then(l[p++],l[p++]);return u}getUri(t){t=rt(this.defaults,t);const r=Ta(t.baseURL,t.url,t.allowAbsoluteUrls);return va(r,t.params,t.paramsSerializer)}};h.forEach(["delete","get","head","options"],function(t){Wt.prototype[t]=function(r,n){return this.request(rt(n||{},{method:t,url:r,data:(n||{}).data}))}});h.forEach(["post","put","patch"],function(t){function r(n){return function(o,s,i){return this.request(rt(i||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Wt.prototype[t]=r(),Wt.prototype[t+"Form"]=r(!0)});const It=Wt;let Zi=class Pa{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(a=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](a);n._listeners=null}),this.promise.then=a=>{let o;const s=new Promise(i=>{n.subscribe(i),o=i}).then(a);return s.cancel=function(){n.unsubscribe(o)},s},t(function(o,s,i){n.reason||(n.reason=new lt(o,s,i),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Pa(function(a){t=a}),cancel:t}}};const el=Zi;function tl(e){return function(r){return e.apply(null,r)}}function rl(e){return h.isObject(e)&&e.isAxiosError===!0}const Rr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Rr).forEach(([e,t])=>{Rr[t]=e});const nl=Rr;function Na(e){const t=new It(e),r=ca(It.prototype.request,t);return h.extend(r,It.prototype,t,{allOwnKeys:!0}),h.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return Na(rt(e,a))},r}const ee=Na(Ur);ee.Axios=It;ee.CanceledError=lt;ee.CancelToken=el;ee.isCancel=Sa;ee.VERSION=La;ee.toFormData=Qt;ee.AxiosError=N;ee.Cancel=ee.CanceledError;ee.all=function(t){return Promise.all(t)};ee.spread=tl;ee.isAxiosError=rl;ee.mergeConfig=rt;ee.AxiosHeaders=Ae;ee.formToJSON=e=>Ra(h.isHTMLForm(e)?new FormData(e):e);ee.getAdapter=Da.getAdapter;ee.HttpStatusCode=nl;ee.default=ee;const rr=ee,{Axios:Dl,AxiosError:Sr,CanceledError:Ll,isCancel:Pl,CancelToken:Nl,VERSION:jl,all:Ml,Cancel:$l,isAxiosError:Ol,spread:Bl,toFormData:Il,AxiosHeaders:Fl,HttpStatusCode:Ul,formToJSON:Hl,getAdapter:zl,mergeConfig:Wl}=rr;class Kt extends Error{constructor(t){super(t),this.name="AuthError"}}class xt extends Error{constructor(t){super(t),this.name="ApiError"}}const al="https://jcringapi.azurewebsites.net",de=rr.create({baseURL:al,headers:{"Content-Type":"application/json"}});let jn=localStorage.getItem("token");jn&&(de.defaults.headers.common.Authorization=`Bearer ${jn}`);de.interceptors.response.use(e=>e,async e=>{const t=e.config;if(e.response?.status===401&&!t._retry){t._retry=!0;try{return await ol(),t.headers.Authorization=`Bearer ${localStorage.getItem("token")}`,de(t)}catch(r){return tt.logout(),Promise.reject(r)}}else if(e.response?.status&&e.response.status>=500)return Promise.reject(new xt("Server error occurred"));return Promise.reject(e)});const ol=async()=>{try{const e=localStorage.getItem("token");if(!e)throw new Kt("No token to refresh");const t=await de.get("/userv3/user/refreshUserToken",{headers:{Authorization:`Bearer ${e}`}}),{token:r,unionId:n}=t.data;localStorage.setItem("token",r),n&&localStorage.setItem("unionId",n),de.defaults.headers.common.Authorization=`Bearer ${r}`}catch{throw tt.logout(),new Kt("Token refresh failed")}},tt={async login(e,t){try{const r=await de.post("/userv3/user/login",{phone:e,userpwd:t}),{token:n,unionId:a}=r.data;return localStorage.setItem("token",n),localStorage.setItem("unionId",a),de.defaults.headers.common.Authorization=`Bearer ${n}`,{token:n,unionId:a}}catch{return tt.logout(),null}},async getUserInfo(){try{return(await de.get("/userv3/userInfo/queryAll")).data}catch{return null}},async refreshToken(){try{const e=localStorage.getItem("token");if(!e)throw new Kt("No token to refresh");const t=await de.get("/userv3/user/refreshUserToken",{headers:{Authorization:`Bearer ${e}`}}),{token:r,unionId:n}=t.data;localStorage.setItem("token",r),n&&localStorage.setItem("unionId",n),de.defaults.headers.common.Authorization=`Bearer ${r}`}catch{throw tt.logout(),new Kt("Token refresh failed")}},async logout(){localStorage.removeItem("token"),localStorage.removeItem("unionId"),delete de.defaults.headers.common.Authorization}},Mn=e=>{const t=r=>{if(!r)return 0;const n=new Date(r),a=new Date;let o=a.getFullYear()-n.getFullYear();const s=a.getMonth()-n.getMonth();return(s<0||s===0&&a.getDate()<n.getDate())&&o--,o};return e.map(r=>({id:r.Id||r.$id||r.id,athlete_id:(r.UnionId||r.unionId)?.toString()||"",name:`${r.FirstName||""} ${r.LastName||""}`.trim()||r.FullName||r.fullName||"Athlete Unknown",age:r.Age||r.age||t(r.DateOfBirth||r.dateOfBirth),sport:r.SportName||r.sportName||"General",team:"Default Team",baseline_start_date:void 0,date_of_birth:r.DateOfBirth||r.dateOfBirth,latestSteps:r.LatestSteps||r.latestSteps,latestCalories:r.LatestCalories||r.latestCalories,latestDistanceKm:r.LatestDistanceKm||r.latestDistanceKm,avgHeartRate7Days:r.AvgHeartRate7Days||r.avgHeartRate7Days,latestRestingHeartRate:r.LatestRestingHeartRate||r.latestRestingHeartRate,latestSpO2:r.LatestSpO2||r.latestSpO2,latestBodyTemperature:r.LatestBodyTemperature||r.latestBodyTemperature,recoveryScore:r.RecoveryScore||r.recoveryScore,gender:r.Gender||r.gender}))},hr=e=>e.map(t=>{const r=(m,g=0)=>{if(m==null||m==="")return g;const x=Number(m);return isNaN(x)?g:x},n=r(t.HeartRateVariability??t.HRV??t.Hrv??t.heart_rate_variability??t.hrv_night??t.HRVNight??t.HrvNight),a=n<10?n*10:n,o=r(t.RestingHeartRate??t.RHR??t.Rhr??t.resting_heart_rate??t.resting_hr??t.RestingHR??t.RestingHr),s=r(t.SleepQuality??t.Sleep??t.sleep_duration??t.sleep_hours??t.SleepDuration??t.sleep_duration_h??t.SleepDurationH),i=r(t.RecoveryScore??t.Recovery??t.recovery_score??t.RecoveryScore),c=i<10?i*10:i;let l=t.FatigueLevel??t.Fatigue??t.fatigue_level??t.fatigueLevel??t.training_load_pct??t.TrainingLoadPct??t.trainingLoadPct??t.training_load??t.TrainingLoad??t.trainingLoad??t.Training_Load??t.TrainingLoadPercentage??t.trainingLoadPercentage??t.load_percentage??t.LoadPercentage??t.intensity??t.Intensity??t.workload??t.Workload??t.effort??t.Effort,u=0;if(l!=null&&l!==""){const m=Number(l);isNaN(m)||(t.FatigueLevel!==void 0||t.Fatigue!==void 0||t.fatigue_level!==void 0||t.fatigueLevel!==void 0?u=m*10:u=m>10?m:m*10)}else u=0;return{athlete_id:t.union_id?.toString()||t.UnionId?.toString()||t.AthleteId?.toString()||t.athlete_id?.toString()||t.athleteId?.toString()||t.Athlete?.UnionId?.toString()||t.Athlete?.Id?.toString()||"",date:t.Date||t.date||"",hrv_night:a,resting_hr:o,spo2_night:r(t.SpO2??t.SPO2??t.SpO2Night??t.Spo2Night,0),resp_rate_night:r(t.RespiratoryRate??t.RespRate??t.RespiratoryRateNight??t.RespRateNight,0),deep_sleep_pct:r(t.DeepSleep??t.DeepSleepPct??t.DeepSleepPercent??t.DeepSleepPct,0),rem_sleep_pct:r(t.RemSleep??t.RemSleepPct??t.RemSleepPercent??t.RemSleepPct,0),light_sleep_pct:r(t.LightSleep??t.LightSleepPct??t.LightSleepPercent??t.LightSleepPct,0),sleep_duration_h:s,temp_trend_c:r(t.BodyTemperature??t.Temperature??t.BodyTemp??t.TempTrendC,0),training_load_pct:u,recovery_score:c,sleep_onset_time:t.SleepOnsetTime??t.SleepOnset,wake_time:t.WakeTime??t.WakeUpTime,avg_heart_rate:r(t.avg_heart_rate??t.avg_heart_rate??t.AvgHeartRate,0),blood_pressure_systolic:r(t.SystolicBP??t.BloodPressureSystolic??t.BPSystolic??t.systolic_bp,0),blood_pressure_diastolic:r(t.DiastolicBP??t.BloodPressureDiastolic??t.BPDiastolic??t.diastolic_bp,0)}}),$n=e=>e.filter(t=>!t.$ref&&(t.AthleteId||t.UnionId||t.GeneName||t.Gene||t.Variant||t.Genotype)).map(t=>({athlete_id:t.AthleteId?.toString()||t.UnionId||"",gene:t.GeneName||t.Gene||"",genotype:t.Variant||t.Genotype||""})),mr=e=>e.map(t=>{const r={id:t.Id,AthleteId:t.athlete_id,name:t.athlete_name||"",code:t.BloodTestTypeId,date:t.date,created_at:t.created_at,lab_name:t.lab_name,test_method:t.test_method,reference_ranges:t.reference_ranges,notes:t.Notes,is_abnormal:t.is_abnormal,flagged_values:t.flagged_values};return["cortisol_nmol_l","vitamin_d","testosterone","ck","fasting_glucose","hba1c","hba1c_ifcc","estimated_average_glucose","urea","creatinine","egfr","uric_acid","s_glutamyl_transferase","s_alanine_transaminase","s_aspartate_transaminase","lactate_dehydrogenase","calcium_adjusted","calcium_measured","magnesium","albumin_bcg","c_reactive_protein","total_protein","esr","erythrocyte_count","hemoglobin","hematocrit","mcv","mch","mchc","rdw","leucocyte_count","neutrophils_pct","neutrophil_absolute_count","lymphocytes_pct","lymphocytes_absolute_count","monocytes_pct","monocytes_absolute_count","eosinophils_pct","eosinophils_absolute_count","basophils_pct","basophils_absolute_count","nlr","platelets"].forEach(a=>{t[a]!==void 0&&t[a]!==null&&(r[a]=t[a])}),t.Markers&&t.Markers.$values&&Array.isArray(t.Markers.$values)&&t.Markers.$values.forEach(a=>{const o=a.MarkerName?.toLowerCase().replace(/[^a-z0-9_]/g,"_");if(o){const i={cortisol:"cortisol_nmol_l",vitamin_d:"vitamin_d",testosterone:"testosterone",creatine_kinase:"ck",ck:"ck",fasting_glucose:"fasting_glucose",glucose:"fasting_glucose",hba1c:"hba1c",hba1c_ifcc:"hba1c_ifcc",estimated_average_glucose:"estimated_average_glucose",urea:"urea",creatinine:"creatinine",egfr:"egfr",uric_acid:"uric_acid",ggt:"s_glutamyl_transferase",glutamyl_transferase:"s_glutamyl_transferase",alt:"s_alanine_transaminase",alanine_transaminase:"s_alanine_transaminase",ast:"s_aspartate_transaminase",aspartate_transaminase:"s_aspartate_transaminase",ldh:"lactate_dehydrogenase",lactate_dehydrogenase:"lactate_dehydrogenase",calcium_adjusted:"calcium_adjusted",calcium_measured:"calcium_measured",magnesium:"magnesium",albumin:"albumin_bcg",crp:"c_reactive_protein",c_reactive_protein:"c_reactive_protein",total_protein:"total_protein",esr:"esr",erythrocyte_count:"erythrocyte_count",rbc:"erythrocyte_count",hemoglobin:"hemoglobin",hematocrit:"hematocrit",mcv:"mcv",mch:"mch",mchc:"mchc",rdw:"rdw",leucocyte_count:"leucocyte_count",wbc:"leucocyte_count",neutrophils_pct:"neutrophils_pct",neutrophil_absolute_count:"neutrophil_absolute_count",lymphocytes_pct:"lymphocytes_pct",lymphocytes_absolute_count:"lymphocytes_absolute_count",monocytes_pct:"monocytes_pct",monocytes_absolute_count:"monocytes_absolute_count",eosinophils_pct:"eosinophils_pct",eosinophils_absolute_count:"eosinophils_absolute_count",basophils_pct:"basophils_pct",basophils_absolute_count:"basophils_absolute_count",nlr:"nlr",platelets:"platelets"}[o]||o;r[i]=a.Value}}),r}),Ft=e=>e.filter(t=>t.$ref?!1:t.Id&&t.AthleteId&&t.MeasurementDate).map(t=>{const r=(o,s=0)=>{if(o==null||o==="")return s;const i=Number(o);return isNaN(i)?s:i},n=o=>{if(!o)return"";try{let s=o.toString();s=s.replace(/([+-]\d{2}):?(\d{2})?$/,"");const i=new Date(s);return isNaN(i.getTime())?"":o}catch{return""}};return{id:t.Id,athleteId:t.AthleteId,measurementDate:n(t.MeasurementDate),weight:r(t.Weight),bodyFat:r(t.BodyFat),muscleMass:r(t.MuscleMass),boneDensity:r(t.BoneDensity),targetWeight:r(t.TargetWeight),weightRangeMin:r(t.WeightRangeMin),weightRangeMax:r(t.WeightRangeMax),bmi:r(t.BMI),visceralFatGrade:r(t.VisceralFatGrade),basalMetabolicRate:r(t.BasalMetabolicRate),subcutaneousFatPercent:r(t.SubcutaneousFatPercent),bodyAge:r(t.BodyAge),smi:r(t.SMI),armMassRightKg:r(t.ArmMassRightKg),armMassLeftKg:r(t.ArmMassLeftKg),legMassRightKg:r(t.LegMassRightKg),legMassLeftKg:r(t.LegMassLeftKg),trunkMassKg:r(t.TrunkMassKg),ArmMassRightFatKg:r(t.ArmMassRightFatKg),ArmMassLeftFatKg:r(t.ArmMassLeftFatKg),LegMassRightFatKg:r(t.LegMassRightFatKg),LegMassLeftFatKg:r(t.LegMassLeftFatKg),TrunkMassFatKg:r(t.TrunkMassFatKg),athlete:t.Athlete||null}}),ja="https://samintelligeneapi.azurewebsites.net/api",sl=()=>{const e=new Date,t=new Date;return t.setDate(e.getDate()-90),{startDate:t.toISOString().split("T")[0],endDate:e.toISOString().split("T")[0]}},U=rr.create({baseURL:ja,headers:{"Content-Type":"application/json"}}),vt=rr.create({baseURL:ja});U.interceptors.request.use(e=>e,e=>Promise.reject(e));U.interceptors.response.use(e=>e,e=>Promise.reject(e));const Ar={async getAllAthletes(e=1,t=50,r){const n=new URLSearchParams;n.append("page",e.toString()),n.append("limit",t.toString()),r&&n.append("sportId",r.toString());const o=(await U.get(`/athletes?${n.toString()}`)).data.Data;let s=[];if(o&&typeof o=="object")if(o.athletes)Array.isArray(o.athletes)?s=o.athletes:o.athletes.$values&&Array.isArray(o.athletes.$values)&&(s=o.athletes.$values);else if(o.Value&&Array.isArray(o.Value))s=o.Value;else if(o.$values&&Array.isArray(o.$values))s=o.$values;else if(Array.isArray(o))s=o;else{const i=Object.values(o).filter(c=>Array.isArray(c));i.length>0&&(s=i[0])}else Array.isArray(o)&&(s=o);return{athletes:Mn(s)}},async getAthleteById(e){const t=await U.get(`/athletes/${e}`);let r=null;const n=t.data;if(n&&typeof n=="object"&&(n.Data?Array.isArray(n.Data)?r=n.Data[0]||null:n.Data.$values&&Array.isArray(n.Data.$values)?r=n.Data.$values[0]||null:r=n.Data:Array.isArray(n)?r=n[0]||null:n.$values&&Array.isArray(n.$values)?r=n.$values[0]||null:r=n),!r||typeof r!="object")throw new Error(`Athlete with ID ${e} not found`);return Mn([r])[0]},async getAthletesByTeam(e){return(await U.get(`/organizations/${e}/athletes`)).data.Data}},Tr={async getAllBiometricData(e,t,r,n=1,a=50){try{const o=new URLSearchParams;t&&o.append("startDate",t),r&&o.append("endDate",r),o.append("dataType","all"),o.append("page",n.toString()),o.append("limit",a.toString());const s=`/Wearable/biometric/${e}?${o.toString()}`,i=await vt.get(s);let c=i.data?.data||i.data||[];c&&typeof c=="object"&&c.$values&&Array.isArray(c.$values)&&(c=c.$values);let l=Array.isArray(c)?hr(c):[];(t||r)&&(l=l.filter(b=>{const m=b.date;return!(!m||t&&m<t||r&&m>r)}));const u=(n-1)*a,p=u+a;return l=l.slice(u,p),l.map(b=>({...b,athlete_id:e.toString()}))}catch(o){return o instanceof Sr&&o.response?.status===404?[]:[]}},async getAllAthletesBiometricData(e,t,r=1,n=1e3){try{const a=new URLSearchParams;e&&a.append("startDate",e),t&&a.append("endDate",t),a.append("dataType","all"),a.append("page",r.toString()),a.append("limit",n.toString());const o=`/Wearable/biometric/all?${a.toString()}`,s=await vt.get(o);let i=[];s.data&&(s.data.Data&&Array.isArray(s.data.Data)?i=s.data.Data:s.data.data&&Array.isArray(s.data.data)?i=s.data.data:Array.isArray(s.data)?i=s.data:s.data.$values&&Array.isArray(s.data.$values)?i=s.data.$values:i=[]);const c=Array.isArray(i)?hr(i):[];let l=c;(e||t)&&(l=c.filter(m=>{const g=m.date;return!(!g||e&&g<e||t&&g>t)}));const u=(r-1)*n,p=u+n;return l.slice(u,p)}catch{return[]}},async getBiometricDataByAthlete(e,t,r){try{const n=["heartrate","hrv","sleep","spo2","temperature","trainingload","steps","respiratory"],a=await Promise.all(n.map(async c=>{try{const l=new URLSearchParams;t&&l.append("startDate",t),r&&l.append("endDate",r),l.append("page","1"),l.append("limit","100");const u=`/Wearable/biometric/${e}?dataType=${c}&${l.toString()}`,p=await U.get(u);return{dataType:c,data:p.data||[]}}catch{return{dataType:c,data:[]}}})),o=[];a.forEach(({dataType:c,data:l})=>{l&&Array.isArray(l)&&hr(l).forEach(p=>{const b={date:p.date,athlete_id:e.toString()};Object.keys(p).forEach(m=>{if(m!=="date"&&m!=="athlete_id"){const g=p[m];g!=null&&(typeof g!="number"||g!==0)&&(typeof g!="string"||g!=="")&&(b[m]=g)}}),Object.keys(b).length>2&&o.push(b)})});const s=[],i=new Map;return o.forEach(c=>{const l=c.date;if(!i.has(l))i.set(l,{date:l,athlete_id:e.toString(),...c});else{const u=i.get(l);Object.assign(u,c)}}),Array.from(i.values()).map(c=>({...c,resting_hr:Number(c.resting_hr)||0,hrv_night:Number(c.hrv_night)||0,sleep_duration_h:Number(c.sleep_duration_h)||0,deep_sleep_pct:Number(c.deep_sleep_pct)||0,rem_sleep_pct:Number(c.rem_sleep_pct)||0,light_sleep_pct:Number(c.light_sleep_pct)||0,spo2_night:Number(c.spo2_night)||0,resp_rate_night:Number(c.resp_rate_night)||0,temp_trend_c:Number(c.temp_trend_c)||0,training_load_pct:Number(c.training_load_pct)||0}))}catch{return[]}},async getLatestBiometricData(e){try{const{startDate:t,endDate:r}=sl();return await Tr.getAllBiometricData(parseInt(e),t,r,1,50)}catch{return[]}},async saveBiometricData(e,t){await U.post(`/athletes/${e}/biometric-data`,t)},async getPreviousNightSleep(e,t){try{const r=new URLSearchParams;t&&r.append("targetDate",t);const n=`/Wearable/previous-night-sleep/${e}?${r.toString()}`,o=(await vt.get(n)).data;return o?{date:o.Date||o.date||"",sleepDurationH:Number(o.SleepDurationH||o.sleepDurationH)||0,deepSleepPct:Number(o.DeepSleepPct||o.deepSleepPct)||0,remSleepPct:Number(o.RemSleepPct||o.remSleepPct)||0,lightSleepPct:Number(o.LightSleepPct||o.lightSleepPct)||0,sleepOnsetTime:o.SleepOnsetTime||o.sleepOnsetTime||"",wakeTime:o.WakeTime||o.wakeTime||""}:null}catch(r){return r instanceof Sr&&r.response?.status===404,null}}},On={async getAllGeneticProfiles(e=1,t=50){try{const r=new URLSearchParams;r.append("page",e.toString()),r.append("limit",t.toString());const a=(await U.get(`/genetic-profiles?${r.toString()}`)).data?.Data||[];return Array.isArray(a)?$n(a):[]}catch{return[]}},async getGeneticProfileByAthlete(e){try{const t=await U.get(`/genetic-profiles/athletes/${e}`);let r=t.data.Data||t.data,n=[];return r&&typeof r=="object"&&!Array.isArray(r)?r.profiles&&r.profiles.$values&&Array.isArray(r.profiles.$values)?n=r.profiles.$values:r.profiles&&Array.isArray(r.profiles)?n=r.profiles:r.$values&&Array.isArray(r.$values)?n=r.$values:Array.isArray(r)&&(n=r):Array.isArray(r)&&(n=r),$n(n)}catch{return[]}},async getGeneticProfilesByCategory(e){return(await U.get(`/genetic-profiles/category/${e}`)).data.Data},async getSpecificGenes(e){return(await U.post("/genetic-profiles/search",{genes:e})).data.Data},async getAvailableGenes(){return(await U.get("/genes")).data.Data},async getGeneticSummaryByAthlete(e){try{let r=(await U.get(`/GeneticsAthletes/summary/${e}`)).data||[];return r&&typeof r=="object"&&r.$values&&Array.isArray(r.$values)&&(r=r.$values),Array.isArray(r)?r:[]}catch{return[]}},async getGeneticCellularByAthlete(e){try{let r=(await U.get(`/GeneticsAthletes/cellular/${e}`)).data||[];return r&&typeof r=="object"&&r.$values&&Array.isArray(r.$values)&&(r=r.$values),Array.isArray(r)?r:[]}catch{return[]}},async getPharmacogenomicsByAthlete(e){try{let r=(await U.get(`/GeneticsAthletes/pharmacogenomics/${e}`)).data||[];return r&&typeof r=="object"&&r.$values&&Array.isArray(r.$values)&&(r=r.$values),Array.isArray(r)?r:[]}catch{return[]}},async getNutrigenomicsByAthlete(e){try{let r=(await U.get(`/GeneticsAthletes/nutrigenomics/${e}`)).data||[];return r&&typeof r=="object"&&r.$values&&Array.isArray(r.$values)&&(r=r.$values),Array.isArray(r)?r:[]}catch{return[]}},async getRecoveryGeneticsByAthlete(e){try{let r=(await U.get(`/GeneticsAthletes/recovery/${e}`)).data||[];return r&&typeof r=="object"&&r.$values&&Array.isArray(r.$values)&&(r=r.$values),Array.isArray(r)?r:[]}catch{return[]}},async getAllGeneticDataByAthlete(e){try{let r=(await U.get(`/GeneticsAthletes/all/${e}`)).data||{geneticSummary:[],geneticCellular:[]};return r&&typeof r=="object"&&(r.geneticSummary&&r.geneticSummary.$values&&Array.isArray(r.geneticSummary.$values)&&(r.geneticSummary=r.geneticSummary.$values),r.geneticCellular&&r.geneticCellular.$values&&Array.isArray(r.geneticCellular.$values)&&(r.geneticCellular=r.geneticCellular.$values)),r}catch{return{geneticSummary:[],geneticCellular:[]}}}},Bn={async getAllBodyComposition(e,t,r=1,n=50){try{const a=new URLSearchParams;e&&a.append("startDate",e),t&&a.append("endDate",t),a.append("page",r.toString()),a.append("limit",n.toString());const s=(await U.get(`/body-composition?${a.toString()}`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})).data.Data;return Array.isArray(s)?Ft(s):[]}catch{return[]}},async getBodyCompositionByAthlete(e,t,r){try{const n=new URLSearchParams;t&&n.append("startDate",t),r&&n.append("endDate",r);const o=(await U.get(`/body-composition?${n.toString()}`)).data.Data;let s=[];o&&(Array.isArray(o)?s=o:o.records&&o.records.$values&&Array.isArray(o.records.$values)?s=o.records.$values:o.$values&&Array.isArray(o.$values)&&(s=o.$values));const i=s.filter(l=>l&&l.AthleteId===e);return Ft(i)}catch{return[]}},async getLatestBodyComposition(){try{const t=(await U.get("/body-composition/latest")).data?.Data;let r=[];return t&&(Array.isArray(t)?r=t:t.records&&t.records.$values&&Array.isArray(t.records.$values)?r=t.records.$values:t.$values&&Array.isArray(t.$values)?r=t.$values:typeof t=="object"&&(r=Object.values(t).filter(a=>typeof a=="object"&&a!==null))),Array.isArray(r)?Ft(r):[]}catch{return[]}},async saveBodyComposition(e,t){await U.post(`/athletes/${e}/body-composition`,t)},async deleteBodyComposition(e,t){t?await U.delete(`/body-composition/${t}/${e}`):await U.delete(`/body-composition/${e}`)},async getAllAthletes(e=1,t=50){return(await Ar.getAllAthletes(e,t)).athletes||[]}},Kl={async getHeartRateData(e,t,r,n=1,a=100){try{const o=new URLSearchParams;t&&o.append("startDate",t),r&&o.append("endDate",r),o.append("dataType","dynamicHeartRateData"),o.append("page",n.toString()),o.append("limit",a.toString());const s=`/Wearable/biometric/${e}?${o.toString()}`,i=await vt.get(s);let c=i.data?.data||i.data||[];return c&&typeof c=="object"&&c.$values&&Array.isArray(c.$values)&&(c=c.$values),Array.isArray(c)?c.map(u=>({measuredAt:new Date(u.MeasuredAt||u.measuredAt||u.date),heartRateBPM:Number(u.HeartRateBPM||u.heartRateBPM||u.bpm||u.HeartRate||u.heartRate)||0,type:u.Type||u.type||"Unknown"})).filter(u=>u.heartRateBPM>0):[]}catch{return[]}},async getPreviousNightSleep(e,t){try{const r=new URLSearchParams;t&&r.append("targetDate",t);const n=`/Wearable/previous-night-sleep/${e}?${r.toString()}`,o=(await vt.get(n)).data;return o?{date:o.Date||o.date||"",sleepDurationH:Number(o.SleepDurationH||o.sleepDurationH)||0,deepSleepPct:Number(o.DeepSleepPct||o.deepSleepPct)||0,remSleepPct:Number(o.RemSleepPct||o.remSleepPct)||0,lightSleepPct:Number(o.LightSleepPct||o.lightSleepPct)||0,sleepOnsetTime:o.SleepOnsetTime||o.sleepOnsetTime||"",wakeTime:o.WakeTime||o.wakeTime||""}:null}catch(r){return r instanceof Sr&&r.response?.status===404,null}}},In={async getAllBloodResults(e=1,t=50){try{const r=new URLSearchParams;r.append("page",e.toString()),r.append("limit",t.toString());const a=(await U.get(`/blood-results?${r.toString()}`)).data.Data,o=a?.$values||a||[];return Array.isArray(o)?mr(o):[]}catch{return[]}},async getBloodResultsByAthlete(e){try{const r=(await U.get(`/blood-results/athlete/${e}`)).data.Data,n=r?.$values||r||[];return Array.isArray(n)?mr(n):[]}catch{return[]}},async getLatestBloodResults(){try{const t=(await U.get("/blood-results/latest")).data.Data,r=t?.$values||t||[];return Array.isArray(r)?mr(r):[]}catch{return[]}},async saveBloodResults(e,t){await U.post(`/blood-results/athletes/${e}/blood-results`,t)}},Fn={async getDashboardData(){try{const t=(await Ar.getAllAthletes(1,50)).athletes||[];let r=[];try{r=await Tr.getAllAthletesBiometricData(void 0,void 0,1,1e3)}catch{r=[]}let n=[];try{const s=await Bn.getAllBodyComposition(void 0,void 0,1,2e3);Array.isArray(s)?n=Ft(s):n=s||[]}catch{n=[]}let a=[];try{a=await On.getAllGeneticProfiles(1,1e3)}catch{a=[]}let o=[];try{o=await In.getLatestBloodResults()}catch{o=[]}return{athletes:t,biometricData:r,geneticProfiles:a,bodyComposition:n,bloodResults:o}}catch{return{athletes:[],biometricData:[],geneticProfiles:[],bodyComposition:[],bloodResults:[]}}},async getAthleteAllData(e,t,r){try{const n=await Ar.getAthleteById(e);if(!n)return{athlete:void 0,biometricData:[],geneticProfile:[],bodyComposition:[],bloodResults:[]};let a=[];try{a=await Tr.getAllBiometricData(e,void 0,void 0,1,1e3)}catch{a=[]}let o=[];try{o=await On.getGeneticProfileByAthlete(e)}catch{o=[]}let s=[];try{s=await Bn.getBodyCompositionByAthlete(e)}catch{s=[]}let i=[];try{i=await In.getBloodResultsByAthlete(e)}catch{i=[]}return{athlete:n,biometricData:a,geneticProfile:o,bodyComposition:s,bloodResults:i}}catch{return{athlete:void 0,biometricData:[],geneticProfile:[],bodyComposition:[],bloodResults:[]}}}},il={async getData(e=!0){if(e)try{return await Fn.getDashboardData()}catch{return{athletes:[],biometricData:[],geneticProfiles:[],bodyComposition:[],bloodResults:[]}}else return{athletes:[],biometricData:[],geneticProfiles:[],bodyComposition:[],bloodResults:[]}},async getAthleteData(e,t=!0){if(t)try{return await Fn.getAthleteAllData(e)}catch{return{athlete:void 0,biometricData:[],geneticProfile:[],bodyComposition:[],bloodResults:[]}}else return{athlete:void 0,biometricData:[],geneticProfile:[],bodyComposition:[],bloodResults:[]}},async getWomenHealthRecords(e,t){try{const r=await tt.getUserInfo();if(!r||r.length===0)return[];const n=parseInt(r[0].athlete_id||"0");if(!n)return[];const a=await U.get(`/Wearable/women-health/${n}?start=${e}&end=${t}`);return!a||!Array.isArray(a)?[]:a.map(o=>({day:o.Day||"",flowRate:Number(o.FlowRate)||0,symptoms:JSON.parse(o.Symptoms||"[]")}))}catch{return[]}},async getGpsData(e,t=1,r=50){try{const n=await tt.getUserInfo();if(!n)return[];const a=n[0]?.unionId||"";if(!a)throw new xt("No unionId found");const o=await de.get(`/wearableblev3/ring/queryBind?unionId=${a}`);if(!o.data||o.data.length===0)throw new xt("No MAC found");const s=o.data[0].mac||"",i=new URLSearchParams({unionId:a,mac:s,dataType:"gpsData",deviceType:"2026",page:t.toString(),limit:r.toString()});e&&i.append("start",e);const c=await de.get(`/wearablequeryv3/ring/queryByPage?${i.toString()}`);return!c.data||!Array.isArray(c.data)?[]:c.data.map(l=>({gpsDate:l.gpsDate||l.date||"",latitude:Number(l.latitude||l.lat)||0,longitude:Number(l.longitude||l.lon)||0}))}catch{return[]}},async getApneaRecords(e=1,t=500){try{const r=await tt.getUserInfo();if(!r)return[];const n=r[0]?.unionId||"";if(!n)throw new xt("No unionId found");const a=await de.get(`/wearableblev3/ring/queryBind?unionId=${n}`);if(!a.data||a.data.length===0)throw new xt("No MAC found");const o=a.data[0].mac||"",s=new FormData;s.append("mac",o),s.append("page",e.toString()),s.append("limit",t.toString());const i=await de.post("/wearableblev3/data/getSleepBreathPause",s,{headers:{"Content-Type":"multipart/form-data"}});return!i.data||!Array.isArray(i.data)?[]:i.data.map(c=>({id:Number(c.id)||0,mac:c.mac||"",day:c.day||c.date||""}))}catch{return[]}}},Vl={async askAI(e,t){try{return(await U.post("/chat-ai/ask",{message:e,context:t})).data}catch(r){throw r}}},Un="/models/3d_human_body_wireframe_model.glb";let Nt=class extends Er.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,r){}render(){return this.state.hasError?this.props.fallback:this.props.children}};const Gl=({athleteId:e})=>{const t=d.useRef(null),r=d.useRef(null),n=d.useRef(null),a=d.useRef(null),o=d.useRef(null),s=d.useRef(null),i=d.useRef(null),c=d.useRef(null),l=d.useRef([]),u=d.useRef(null),p=d.useRef(null),b=d.useRef(null),m=d.useRef(null),g=d.useRef(null),x=d.useRef(null),y=d.useRef(null),_=d.useRef(null),v=d.useRef([]),A=d.useRef(0),$=d.useRef(0),j=d.useRef([]),W=d.useRef(null),[z,ce]=d.useState(!1),[K,xe]=d.useState(!1),[ct,He]=d.useState(""),[ve,nr]=d.useState(void 0),[w,D]=d.useState(void 0),[L,B]=d.useState(void 0),[R,P]=d.useState([]),[G,oe]=d.useState(!0),[qe,ut]=d.useState(null),[Q,Ma]=d.useState(void 0),[se,$a]=d.useState(void 0),[_e,ar]=d.useState("side-by-side"),Oa=()=>{if(!w||!L||!ve)return;const T={...w,bodyFat:Math.max(6,Math.min(15,w.bodyFat*.8)),muscleMass:w.muscleMass*1.15,armMassLeftKg:Math.max(w.armMassLeftKg||0,w.armMassRightKg||0),armMassRightKg:Math.max(w.armMassLeftKg||0,w.armMassRightKg||0),legMassLeftKg:Math.max(w.legMassLeftKg||0,w.legMassRightKg||0),legMassRightKg:Math.max(w.legMassLeftKg||0,w.legMassRightKg||0)},E={...L,resting_hr:Math.max(45,Math.min(60,(L.resting_hr||60)*.9)),hrv_night:Math.min(100,(L.hrv_night||60)*1.2),training_load_pct:Math.min(85,(L.training_load_pct||80)*.95),spo2_night:Math.min(100,(L.spo2_night||97)*1.02),temp_trend_c:36.8,sleep_duration_h:Math.min(9,(L.sleep_duration_h||7.5)*1.1)};Ma(T),$a(E)};d.useEffect(()=>{Oa()},[w,L,ve]),d.useEffect(()=>{e&&(async()=>{try{oe(!0),ut(null);const E=typeof e=="string"?parseInt(e,10):e,S=await il.getAthleteData(E);if(nr(S.athlete),P(S.biometricData),S.bodyComposition.length>0){const O=S.bodyComposition.sort((I,Y)=>new Date(Y.measurementDate||"").getTime()-new Date(I.measurementDate||"").getTime())[0];D(O)}if(S.biometricData.length>0){const O=S.biometricData.sort((I,Y)=>new Date(Y.date).getTime()-new Date(I.date).getTime())[0];B(O)}}catch{ut("Failed to load athlete data")}finally{oe(!1)}})()},[e]);const Hr=L?.resting_hr||60,zr=L?.hrv_night||60,nt=L?.training_load_pct||80,kt=L?.spo2_night||97,dt=L?.temp_trend_c||37,or=L?.sleep_duration_h||7.5,Ne=Math.max(10,zr*(1-nt/150)),Ba=Ne>55?"#00ff88":Ne>45?"#ffcc00":"#ff4757";new Le().lerpColors(new Le(255),new Le(16711680),1-Ne/80);const Ia=new Le().lerpColors(new Le(255),new Le(16711680),(dt-36)/2),Ge=Math.round(Ne/80*40+or/9*30+(1-nt/100)*30),Fa=Ge>80?"#00ff88":Ge>50?"#ffcc00":"#ff4757";d.useEffect(()=>{Ge<60?nt>90?He("High training load – consider rest"):or<7?He("Low sleep duration"):Ne<45?He("Low HRV – recovery impaired"):dt>37.2?He("Elevated body temperature"):He("Multiple stressors affecting recovery"):He("Optimal recovery state")},[Ge,nt,or,Ne,dt]),d.useMemo(()=>{if(!R.length)return Array.from({length:7},(S,O)=>({date:new Date(Date.now()-(6-O)*864e5).toLocaleDateString("en",{month:"short",day:"numeric"}),temp:36.8+Math.random()*.4}));const T=new Date(Date.now()-7*24*60*60*1e3),E=R.filter(S=>S.athlete_id===e&&new Date(S.date)>=T).sort((S,O)=>new Date(S.date).getTime()-new Date(O.date).getTime()).map(S=>({date:new Date(S.date).toLocaleDateString("en",{month:"short",day:"numeric"}),temp:parseFloat((S.temp_trend_c||0).toFixed(1))}));return E.length>0?E:Array.from({length:7},(S,O)=>({date:new Date(Date.now()-(6-O)*864e5).toLocaleDateString("en",{month:"short",day:"numeric"}),temp:36.8+Math.random()*.4}))},[R,e]);const Wr=()=>{const T=[];for(let E=-.2;E<=0;E+=.02){const S=.1*Math.exp(-((E+.1)**2)*100);T.push(E,S,0)}for(let E=0;E<=.04;E+=.01)T.push(E,E<.02?-.1:.3,0);for(let E=.04;E<=.2;E+=.02){const S=.15*Math.exp(-((E-.12)**2)*50);T.push(E,S,0)}return T},Ua=()=>{const T=performance.now()/1e3,E=j.current.filter(I=>I.time>T-60);if(E.length<2)return Hr;const S=E[E.length-1].time-E[0].time;return(E.length-1)/S*60},ft=d.useMemo(()=>{if(!w||!ve||!L)return[];const T=Ua(),E=[{id:"muscle",text:`Muscle: ${w.muscleMass?.toFixed(1)||"0.0"}kg`,position:"chest",color:"#00ff88",value:w.muscleMass||0,unit:"kg"},{id:"fat",text:`Fat: ${w.bodyFat?.toFixed(1)||"0.0"}%`,position:"trunk",color:"#ff6b6b",value:w.bodyFat||0,unit:"%"},{id:"armLeft",text:`L Arm: ${w.armMassLeftKg?.toFixed(1)||"0.0"}kg`,position:"leftArm",color:(w.armMassLeftKg||0)<(w.armMassRightKg||0)?"#ffcc00":"#00ff88",value:w.armMassLeftKg||0,unit:"kg"},{id:"armRight",text:`R Arm: ${w.armMassRightKg?.toFixed(1)||"0.0"}kg`,position:"rightArm",color:(w.armMassRightKg||0)<(w.armMassLeftKg||0)?"#ffcc00":"#00ff88",value:w.armMassRightKg||0,unit:"kg"},{id:"legLeft",text:`L Leg: ${w.legMassLeftKg?.toFixed(1)||"0.0"}kg`,position:"leftLeg",color:(w.legMassLeftKg||0)<(w.legMassRightKg||0)?"#ffcc00":"#00ff88",value:w.legMassLeftKg||0,unit:"kg"},{id:"legRight",text:`R Leg: ${w.legMassRightKg?.toFixed(1)||"0.0"}kg`,position:"rightLeg",color:(w.legMassRightKg||0)<(w.legMassLeftKg||0)?"#ffcc00":"#00ff88",value:w.legMassRightKg||0,unit:"kg"},{id:"bpm",text:`${Math.round(T)} BPM`,position:"heartRate",color:Ba,value:T,unit:"BPM"},{id:"ecg",text:"",position:"ecg",color:"#00d8ff",value:0,unit:""},{id:"ecgTooltip",text:`HRV: ${Math.round(Ne)} ms`,position:"ecgTooltip",color:"#00d8ff",value:Ne,unit:"ms"},{id:"recovery",text:`Recovery: ${Ge}/100`,position:"head",color:Fa,value:Ge,unit:""}];return kt<95&&E.push({id:"spo2Warning",text:`⚠️ Low O₂: ${kt.toFixed(1)}%`,position:"trunk",color:"#ff4757",value:kt,unit:"%"}),E},[w,ve,L,zr,nt,kt,Ge]),pt=d.useMemo(()=>{if(!Q||!se)return[];const T=se.resting_hr||60,E=se.hrv_night||60,S=se.training_load_pct||80,O=se.spo2_night||97;se.temp_trend_c;const I=se.sleep_duration_h||7.5,Y=Math.max(10,E*(1-S/150)),Re=Y>55?"#00ff88":Y>45?"#ffcc00":"#ff4757",X=Math.round(Y/80*40+I/9*30+(1-S/100)*30),ht=X>80?"#00ff88":X>50?"#ffcc00":"#ff4757",ze=[{id:"muscle",text:`Muscle: ${Q.muscleMass?.toFixed(1)||"0.0"}kg`,position:"chest",color:"#00ff88",value:Q.muscleMass||0,unit:"kg"},{id:"fat",text:`Fat: ${Q.bodyFat?.toFixed(1)||"0.0"}%`,position:"trunk",color:"#00ff88",value:Q.bodyFat||0,unit:"%"},{id:"armLeft",text:`L Arm: ${Q.armMassLeftKg?.toFixed(1)||"0.0"}kg`,position:"leftArm",color:"#00ff88",value:Q.armMassLeftKg||0,unit:"kg"},{id:"armRight",text:`R Arm: ${Q.armMassRightKg?.toFixed(1)||"0.0"}kg`,position:"rightArm",color:"#00ff88",value:Q.armMassRightKg||0,unit:"kg"},{id:"legLeft",text:`L Leg: ${Q.legMassLeftKg?.toFixed(1)||"0.0"}kg`,position:"leftLeg",color:"#00ff88",value:Q.legMassLeftKg||0,unit:"kg"},{id:"legRight",text:`R Leg: ${Q.legMassRightKg?.toFixed(1)||"0.0"}kg`,position:"rightLeg",color:"#00ff88",value:Q.legMassRightKg||0,unit:"kg"},{id:"bpm",text:`${Math.round(T)} BPM`,position:"heartRate",color:Re,value:T,unit:"BPM"},{id:"ecg",text:"",position:"ecg",color:"#00ff88",value:0,unit:""},{id:"ecgTooltip",text:`HRV: ${Math.round(Y)} ms`,position:"ecgTooltip",color:"#00ff88",value:Y,unit:"ms"},{id:"recovery",text:`Recovery: ${X}/100`,position:"head",color:ht,value:X,unit:""}];return O<95&&ze.push({id:"spo2Warning",text:`⚠️ Low O₂: ${O.toFixed(1)}%`,position:"trunk",color:"#ff4757",value:O,unit:"%"}),ze},[Q,se]);d.useEffect(()=>{!l.current.length||!ft||l.current.forEach((T,E)=>{const S=ft[E];S&&T.element.textContent!==S.text&&(T.element.textContent=S.text,T.element.style.borderColor=S.color,T.element.style.color=S.color,T.element.style.textShadow=`0 0 4px ${S.color}`,T.element.style.fontSize=window.innerWidth<768?"10px":"12px",T.element.style.padding=window.innerWidth<768?"2px 4px":"4px 6px",T.element.style.whiteSpace="nowrap",S.id==="recovery"&&(T.element.style.fontSize=window.innerWidth<768?"11px":"14px",T.element.style.fontWeight="bold"))})},[ft]),d.useEffect(()=>{!v.current.length||!pt||v.current.forEach((T,E)=>{const S=pt[E];S&&T.element.textContent!==S.text&&(T.element.textContent=S.text,T.element.style.borderColor=S.color,T.element.style.color=S.color,T.element.style.textShadow=`0 0 4px ${S.color}`,T.element.style.fontSize=window.innerWidth<768?"10px":"12px",T.element.style.padding=window.innerWidth<768?"2px 4px":"4px 6px",T.element.style.whiteSpace="nowrap",S.id==="recovery"&&(T.element.style.fontSize=window.innerWidth<768?"11px":"14px",T.element.style.fontWeight="bold"))})},[pt]);const Kr={chest:new ie(0,1.15,.4),head:new ie(0,2.3,.3),leftArm:new ie(-.8,1.3,.2),rightArm:new ie(.8,1.3,.2),leftLeg:new ie(-.6,-.3,.3),rightLeg:new ie(.6,-.3,.3),trunk:new ie(0,.7,.4),heartRate:new ie(0,1.9,.5),ecg:new ie(0,1.15,.5),ecgTooltip:new ie(0,1.7,.5),recovery:new ie(0,2.3,.3),spo2Warning:new ie(0,0,.4)};return d.useEffect(()=>{if(!t.current||!ve)return;const T=()=>t.current?.clientWidth||400,E=()=>t.current?.clientHeight||600,S=new Vr;S.background=new Le(657962),S.fog=new qr(17,5,15),r.current=S;const O=new Gr(45,T()/E(),.1,1e3);O.position.z=window.innerWidth<768?12:10,O.position.y=.5,O.lookAt(0,0,0),n.current=O;const I=new Jr({antialias:!0,alpha:!0});I.setSize(T(),E()),I.setClearColor(657962),I.outputColorSpace="srgb",I.setPixelRatio(window.devicePixelRatio),t.current.appendChild(I.domElement),a.current=I;const Y=new Xr(I);Y.addPass(new Yr(S,O));const Re=new Qr(new Zr(T(),E()),1.8,.4,.85);Re.threshold=.2,Re.strength=.7,Re.radius=.7,Y.addPass(Re),o.current=Y;const X=new en;X.setSize(T(),E()),X.domElement.style.position="absolute",X.domElement.style.top="0px",X.domElement.style.pointerEvents="none",t.current.appendChild(X.domElement),c.current=X;const ht=new tn(4210752,.4);S.add(ht);const ze=new rn(16777215,.8);ze.position.set(1,2,3),S.add(ze);const mt=new Dt(55551,1.5,10);mt.position.set(0,2,0),S.add(mt);const me=new Dt(16711680,0,0);me.decay=2,S.add(me),new nn().load(Un,re=>{const C=re.scene,Je=window.innerWidth<768?1.8:2.5,Me=window.innerWidth<768?1.2:1.4;C.scale.set(Me,Je,Me),C.position.set(0,window.innerWidth<768?-.3:-.5,0),C.rotation.y=Math.PI,S.add(C),i.current=C;const We=new Ze({color:Ia,transparent:!0,opacity:.3,wireframe:!0});C.traverse(k=>{k instanceof Be&&(k.name.toLowerCase().includes("eye")?k.material=new an({color:55551,emissive:55551,emissiveIntensity:2,metalness:.8,roughness:.2,transparent:!0,opacity:.9}):k.material=We)}),me.position.set(0,.8,.4),me.parent=C;const Xe=new on(.075,32,32),$e=new Ze({color:16711680,transparent:!0,opacity:.8}),H=new Be(Xe,$e);H.position.set(0,.8,.4),C.add(H),S.userData.heartGlow=H;const Z=new sn;Z.position.set(0,1.15,.5);for(let k=-3;k<=3;k+=.5){const we=new Ke(new Lt().setFromPoints([new ie(k,-.1,0),new ie(k,.3,0)]),new Ve({color:3359829,transparent:!0,opacity:.4}));Z.add(we)}C.add(Z),S.userData.ecgGrid=Z;const fe=300,V=new Lt,F=new Float32Array(fe*3);for(let k=0;k<fe;k++){const we=k/(fe-1)*6-3;F[k*3]=we,F[k*3+1]=0,F[k*3+2]=0}V.setAttribute("position",new ln(F,3));const pe=new Ve({color:16711680,linewidth:3}),ge=new Ke(V,pe);ge.position.set(0,1.15,.5),C.add(ge);const ne=new Ve({color:16711680,linewidth:2,transparent:!0,opacity:.7}),ye=new Ke(V.clone(),ne);ye.position.set(0,1.15,.51),C.add(ye);const Ye=new Ve({color:16724787,linewidth:1,transparent:!0,opacity:.5}),Se=new Ke(V.clone(),Ye);Se.position.set(0,1.15,.49),C.add(Se),S.userData.ecgLine=ge;const Oe=[];ft.forEach(k=>{const we=Kr[k.position],be=new cn;be.position.copy(we),C.add(be);const J=document.createElement("div");J.className="font-bold text-xs px-2 py-1 rounded border bg-black/70 text-white pointer-events-none",J.textContent=k.text,J.style.borderColor=k.color,J.style.color=k.color,J.style.textShadow=`0 0 4px ${k.color}`,J.style.whiteSpace="nowrap",J.style.fontSize=window.innerWidth<768?"10px":"12px",J.style.padding=window.innerWidth<768?"2px 4px":"4px 6px",k.id==="recovery"&&(J.style.fontSize=window.innerWidth<768?"11px":"14px",J.style.fontWeight="bold");const Qe=new un(J);Qe.center.set(.5,.5),be.add(Qe),Oe.push(Qe)}),l.current=Oe,ce(!0)},re=>{},re=>{});const te=new dn(O,I.domElement);te.enableDamping=!0,te.dampingFactor=.1,te.rotateSpeed=window.innerWidth<768?.5:.8,te.zoomSpeed=window.innerWidth<768?.8:1,te.minDistance=window.innerWidth<768?8:10,te.maxDistance=window.innerWidth<768?20:25,te.enablePan=!1,s.current=te;const sr=new fn(1,1.2,32),ir=new Ze({color:55551,transparent:!0,opacity:.3,side:pn}),je=new Be(sr,ir);je.rotation.x=Math.PI/2,je.position.y=-1.6,S.add(je);const gt=()=>{const C=performance.now()/1e3;if(te.update(),i.current){A.current+=.016*2;const H=1+.03*Math.sin(A.current*5);i.current.traverse(Z=>{Z instanceof Be&&Z.name.toLowerCase().includes("chest")&&Z.scale.set(H,H,H)})}const Je=60/Hr,Me=(70-Ne)/100,We=(Math.random()*2-1)*Me*(nt/100),Xe=Je+We;if(C-$.current>Xe){$.current=C,j.current.push({time:C,wave:Wr()}),j.current=j.current.filter(Z=>Z.time>C-60);const H=S.userData.heartGlow;H&&(H.scale.set(1.8,1.8,1.8),H.material.opacity=1,setTimeout(()=>{H.scale.set(1,1,1),H.material.opacity=.8},100)),me.intensity=8,setTimeout(()=>{me.intensity=0},100)}const $e=S.userData.ecgLine;if($e?.geometry){const H=$e.geometry.attributes.position.array,Z=6,fe=300;for(let V=0;V<fe;V++){const F=V/(fe-1)*6-3;H[V*3]=F,H[V*3+1]*=.95}j.current.forEach(V=>{const F=C-V.time;if(F>=0&&F<=Z){const pe=Math.round(F/Z*fe);V.wave.forEach((ge,ne)=>{if(ne%3===1){const ye=V.wave[ne-1],Ye=V.wave[ne],Se=pe-Math.round(ye*50);Se>=0&&Se<fe&&(H[Se*3+1]=Math.max(H[Se*3+1],Ye))}})}}),$e.geometry.attributes.position.needsUpdate=!0}i.current&&i.current.traverse(H=>{H instanceof Be&&H.material instanceof Ze&&!H.name.toLowerCase().includes("eye")&&H.material.color.lerpColors(new Le(255),new Le(16711680),(dt-36)/2)}),je.rotation.z+=.005,Y.render(),X.render(S,O),W.current=requestAnimationFrame(gt)};gt();const lr=()=>{if(!t.current)return;const re=T(),C=E();O.aspect=re/C,O.updateProjectionMatrix(),I.setSize(re,C),Y.setSize(re,C),X.setSize(re,C)},yt=new ResizeObserver(lr);return yt.observe(t.current),()=>{W.current&&cancelAnimationFrame(W.current),yt.disconnect(),t.current?.contains(I.domElement)&&t.current.removeChild(I.domElement),c.current?.domElement&&t.current?.contains(c.current.domElement)&&t.current.removeChild(c.current.domElement),o.current?.dispose(),a.current?.dispose(),r.current?.clear()}},[e,ve,ft,dt,w,L]),d.useEffect(()=>{if(!u.current||!ve||!Q||!se)return;const T=()=>u.current?.clientWidth||400,E=()=>u.current?.clientHeight||600,S=new Vr;S.background=new Le(657962),S.fog=new qr(17,5,15),p.current=S;const O=new Gr(45,T()/E(),.1,1e3);O.position.z=window.innerWidth<768?12:10,O.position.y=.5,O.lookAt(0,0,0),b.current=O;const I=new Jr({antialias:!0,alpha:!0});I.setSize(T(),E()),I.setClearColor(657962),I.outputColorSpace="srgb",I.setPixelRatio(window.devicePixelRatio),u.current.appendChild(I.domElement),m.current=I;const Y=new Xr(I);Y.addPass(new Yr(S,O));const Re=new Qr(new Zr(T(),E()),1.8,.4,.85);Re.threshold=.2,Re.strength=.7,Re.radius=.7,Y.addPass(Re),g.current=Y;const X=new en;X.setSize(T(),E()),X.domElement.style.position="absolute",X.domElement.style.top="0px",X.domElement.style.pointerEvents="none",u.current.appendChild(X.domElement),_.current=X;const ht=new tn(4210752,.4);S.add(ht);const ze=new rn(16777215,.8);ze.position.set(1,2,3),S.add(ze);const mt=new Dt(65416,1.5,10);mt.position.set(0,2,0),S.add(mt);const me=new Dt(16711680,0,0);me.decay=2,S.add(me),new nn().load(Un,re=>{const C=re.scene,Je=window.innerWidth<768?1.8:2.5,Me=window.innerWidth<768?1.2:1.4;C.scale.set(Me,Je,Me),C.position.set(0,window.innerWidth<768?-.3:-.5,0),C.rotation.y=Math.PI,S.add(C),y.current=C;const We=new Ze({color:65416,transparent:!0,opacity:.3,wireframe:!0});C.traverse(k=>{k instanceof Be&&(k.name.toLowerCase().includes("eye")?k.material=new an({color:65416,emissive:65416,emissiveIntensity:2,metalness:.8,roughness:.2,transparent:!0,opacity:.9}):k.material=We)}),me.position.set(0,.8,.4),me.parent=C;const Xe=new on(.075,32,32),$e=new Ze({color:16711680,transparent:!0,opacity:.8}),H=new Be(Xe,$e);H.position.set(0,.8,.4),C.add(H),S.userData.heartGlow=H;const Z=new sn;Z.position.set(0,1.15,.5);for(let k=-3;k<=3;k+=.5){const we=new Ke(new Lt().setFromPoints([new ie(k,-.1,0),new ie(k,.3,0)]),new Ve({color:3359829,transparent:!0,opacity:.4}));Z.add(we)}C.add(Z),S.userData.ecgGrid=Z;const fe=300,V=new Lt,F=new Float32Array(fe*3);for(let k=0;k<fe;k++){const we=k/(fe-1)*6-3;F[k*3]=we,F[k*3+1]=0,F[k*3+2]=0}V.setAttribute("position",new ln(F,3));const pe=new Ve({color:16711680,linewidth:3}),ge=new Ke(V,pe);ge.position.set(0,1.15,.5),C.add(ge);const ne=new Ve({color:16711680,linewidth:2,transparent:!0,opacity:.7}),ye=new Ke(V.clone(),ne);ye.position.set(0,1.15,.51),C.add(ye);const Ye=new Ve({color:16724787,linewidth:1,transparent:!0,opacity:.5}),Se=new Ke(V.clone(),Ye);Se.position.set(0,1.15,.49),C.add(Se),S.userData.ecgLine=ge;const Oe=[];pt.forEach(k=>{const we=Kr[k.position],be=new cn;be.position.copy(we),C.add(be);const J=document.createElement("div");J.className="font-bold text-xs px-2 py-1 rounded border bg-black/70 text-white pointer-events-none",J.textContent=k.text,J.style.borderColor=k.color,J.style.color=k.color,J.style.textShadow=`0 0 4px ${k.color}`,J.style.whiteSpace="nowrap",J.style.fontSize=window.innerWidth<768?"10px":"12px",J.style.padding=window.innerWidth<768?"2px 4px":"4px 6px",k.id==="recovery"&&(J.style.fontSize=window.innerWidth<768?"11px":"14px",J.style.fontWeight="bold");const Qe=new un(J);Qe.center.set(.5,.5),be.add(Qe),Oe.push(Qe)}),v.current=Oe,xe(!0)},re=>{},re=>{});const te=new dn(O,I.domElement);te.enableDamping=!0,te.dampingFactor=.1,te.rotateSpeed=window.innerWidth<768?.5:.8,te.zoomSpeed=window.innerWidth<768?.8:1,te.minDistance=window.innerWidth<768?8:10,te.maxDistance=window.innerWidth<768?20:25,te.enablePan=!1,x.current=te;const sr=new fn(1,1.2,32),ir=new Ze({color:65416,transparent:!0,opacity:.3,side:pn}),je=new Be(sr,ir);je.rotation.x=Math.PI/2,je.position.y=-1.6,S.add(je);const gt=()=>{const C=performance.now()/1e3;if(te.update(),y.current){A.current+=.016*2;const F=1+.03*Math.sin(A.current*5);y.current.traverse(pe=>{pe instanceof Be&&pe.name.toLowerCase().includes("chest")&&pe.scale.set(F,F,F)})}const Je=se.resting_hr||60,Me=se.hrv_night||60,We=se.training_load_pct||80,Xe=Math.max(10,Me*(1-We/150)),$e=60/Je,H=(70-Xe)/100,Z=(Math.random()*2-1)*H*(We/100),fe=$e+Z;if(C-$.current>fe){$.current=C,j.current.push({time:C,wave:Wr()}),j.current=j.current.filter(pe=>pe.time>C-60);const F=S.userData.heartGlow;F&&(F.scale.set(1.8,1.8,1.8),F.material.opacity=1,setTimeout(()=>{F.scale.set(1,1,1),F.material.opacity=.8},100)),me.intensity=8,setTimeout(()=>{me.intensity=0},100)}const V=S.userData.ecgLine;if(V?.geometry){const F=V.geometry.attributes.position.array,pe=6,ge=300;for(let ne=0;ne<ge;ne++){const ye=ne/(ge-1)*6-3;F[ne*3]=ye,F[ne*3+1]*=.95}j.current.forEach(ne=>{const ye=C-ne.time;if(ye>=0&&ye<=pe){const Ye=Math.round(ye/pe*ge);ne.wave.forEach((Se,Oe)=>{if(Oe%3===1){const k=ne.wave[Oe-1],we=ne.wave[Oe],be=Ye-Math.round(k*50);be>=0&&be<ge&&(F[be*3+1]=Math.max(F[be*3+1],we))}})}}),V.geometry.attributes.position.needsUpdate=!0}je.rotation.z+=.005,Y.render(),X.render(S,O),requestAnimationFrame(gt)};gt();const lr=()=>{if(!u.current)return;const re=T(),C=E();O.aspect=re/C,O.updateProjectionMatrix(),I.setSize(re,C),Y.setSize(re,C),X.setSize(re,C)},yt=new ResizeObserver(lr);return yt.observe(u.current),()=>{yt.disconnect(),u.current?.contains(I.domElement)&&u.current.removeChild(I.domElement),_.current?.domElement&&u.current?.contains(_.current.domElement)&&u.current.removeChild(_.current.domElement),g.current?.dispose(),m.current?.dispose(),p.current?.clear()}},[e,ve,Q,se,pt]),G?f.jsx(Nt,{fallback:f.jsx("div",{className:"text-red-500 p-4",children:"Something went wrong with the 3D twin."}),children:f.jsx("div",{className:"relative w-full h-full bg-indigo-900 flex items-center justify-center min-h-[800px]",children:f.jsxs("div",{className:"text-white text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),f.jsx("p",{children:"Loading athlete data..."})]})})}):qe?f.jsx(Nt,{fallback:f.jsx("div",{className:"text-red-500 p-4",children:"Something went wrong with the 3D twin."}),children:f.jsx("div",{className:"relative w-full h-full bg-indigo-900 flex items-center justify-center min-h-[800px]",children:f.jsxs("div",{className:"text-white text-center",children:[f.jsx("div",{className:"text-red-500 text-4xl mb-4",children:"⚠️"}),f.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Failed to Load Data"}),f.jsx("p",{className:"text-gray-300 mb-4",children:qe}),f.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Retry"})]})})}):ve?f.jsx(Nt,{fallback:f.jsx("div",{className:"text-red-500 p-4",children:"Something went wrong with the 3D twin."}),children:f.jsxs("div",{className:"relative w-full h-full bg-indigo-900 flex flex-col",children:[f.jsxs("div",{className:"flex justify-between items-center p-4 bg-indigo-800",children:[f.jsx("h2",{className:"text-white text-xl font-bold",children:"Digital Twin Comparison"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:()=>ar("side-by-side"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${_e==="side-by-side"?"bg-blue-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:"Side by Side"}),f.jsx("button",{onClick:()=>ar("current-only"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${_e==="current-only"?"bg-blue-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:"Current"}),f.jsx("button",{onClick:()=>ar("target-only"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${_e==="target-only"?"bg-green-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:"Target"})]})]}),f.jsxs("div",{className:`flex-1 min-h-[800px] ${_e==="side-by-side"?"flex flex-col lg:flex-row":""}`,children:[(_e==="side-by-side"||_e==="current-only")&&f.jsxs("div",{className:`${_e==="side-by-side"?"flex-1":"w-full"} relative bg-indigo-900 p-4`,children:[f.jsxs("div",{className:"text-center mb-4",children:[f.jsx("h3",{className:"text-white text-lg font-semibold",children:"Current State"}),f.jsx("p",{className:"text-gray-300 text-sm",children:"Current biometric and body composition data"})]}),f.jsx("div",{ref:t,className:"w-full h-[600px] lg:h-[700px] rounded-lg overflow-hidden",style:{minHeight:"600px"}})]}),(_e==="side-by-side"||_e==="target-only")&&f.jsxs("div",{className:`${_e==="side-by-side"?"flex-1":"w-full"} relative bg-indigo-900 p-4`,children:[f.jsxs("div",{className:"text-center mb-4",children:[f.jsx("h3",{className:"text-green-400 text-lg font-semibold",children:"Target State"}),f.jsx("p",{className:"text-gray-300 text-sm",children:"Optimal biometric and body composition goals"})]}),f.jsx("div",{ref:u,className:"w-full h-[600px] lg:h-[700px] rounded-lg overflow-hidden",style:{minHeight:"600px"}})]})]}),Q&&se&&_e==="side-by-side"&&f.jsxs("div",{className:"p-4 bg-indigo-800 border-t border-indigo-700",children:[f.jsx("h4",{className:"text-white text-md font-semibold mb-2",children:"Key Improvements Needed:"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-red-400 font-semibold",children:[((w?.bodyFat||0)-(Q?.bodyFat||0)).toFixed(1),"%"]}),f.jsx("div",{className:"text-gray-300",children:"Body Fat Reduction"})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-green-400 font-semibold",children:["+",(Q?.muscleMass||0)-(w?.muscleMass||0)>=0?"+":"",((Q?.muscleMass||0)-(w?.muscleMass||0)).toFixed(1),"kg"]}),f.jsx("div",{className:"text-gray-300",children:"Muscle Gain"})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-blue-400 font-semibold",children:["-",((L?.resting_hr||60)-(se?.resting_hr||60)).toFixed(0)," BPM"]}),f.jsx("div",{className:"text-gray-300",children:"Resting HR"})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-purple-400 font-semibold",children:["+",((se?.hrv_night||60)-(L?.hrv_night||60)).toFixed(0),"ms"]}),f.jsx("div",{className:"text-gray-300",children:"HRV Improvement"})]})]})]})]})}):f.jsx(Nt,{fallback:f.jsx("div",{className:"text-red-500 p-4",children:"Something went wrong with the 3D twin."}),children:f.jsx("div",{className:"relative w-full h-full bg-indigo-900 flex items-center justify-center min-h-[800px]",children:f.jsxs("div",{className:"text-white text-center",children:[f.jsx("div",{className:"text-gray-400 text-4xl mb-4",children:"👤"}),f.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Athlete Not Found"}),f.jsx("p",{className:"text-gray-300",children:"No data available for the selected athlete."})]})})})};class ll extends d.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:f.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[f.jsxs("div",{className:"flex items-center mb-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("svg",{className:"h-8 w-8 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),f.jsx("div",{className:"ml-3",children:f.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Something went wrong"})})]}),f.jsx("div",{className:"mb-4",children:f.jsx("p",{className:"text-sm text-gray-600",children:"An unexpected error occurred. Please try refreshing the page."})}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Refresh Page"}),f.jsx("button",{onClick:()=>this.setState({hasError:!1,error:void 0,errorInfo:void 0}),className:"flex-1 bg-gray-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Try Again"})]}),!1]})}):this.props.children}}function cl(e){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}cl(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);const ul=d.lazy(()=>Ee(()=>import("./TeamOverview-d8ec4b6b.js"),["assets/TeamOverview-d8ec4b6b.js","assets/athleteUtils-f52ec51e.js","assets/vendor-26c3c1d8.js","assets/weatherUtils-fe320b1d.js","assets/analytics-ac2fb86e.js","assets/three-f2a0a5ce.js"]).then(e=>({default:e.TeamOverview}))),dl=d.lazy(()=>Ee(()=>import("./AthleteProfile-e91a994a.js"),["assets/AthleteProfile-e91a994a.js","assets/vendor-26c3c1d8.js","assets/api-90359d14.js","assets/analytics-ac2fb86e.js","assets/athleteUtils-f52ec51e.js","assets/ui-8425ddff.js","assets/WeatherImpact-78a1836c.js","assets/weatherUtils-fe320b1d.js","assets/three-f2a0a5ce.js"]).then(e=>({default:e.AthleteProfile}))),fl=d.lazy(()=>Ee(()=>import("./TeamComparisonDashboard-65a2d2ec.js"),["assets/TeamComparisonDashboard-65a2d2ec.js","assets/vendor-26c3c1d8.js","assets/analytics-ac2fb86e.js","assets/ui-8425ddff.js","assets/three-f2a0a5ce.js"]).then(e=>({default:e.TeamComparisonDashboard}))),pl=d.lazy(()=>Ee(()=>import("./TrainingLoadHeatmap-7aed2229.js"),["assets/TrainingLoadHeatmap-7aed2229.js","assets/vendor-26c3c1d8.js","assets/three-f2a0a5ce.js"]).then(e=>({default:e.TrainingLoadHeatmap}))),hl=d.lazy(()=>Ee(()=>import("./RecoveryTimeline-5ec3762c.js"),["assets/RecoveryTimeline-5ec3762c.js","assets/vendor-26c3c1d8.js","assets/api-90359d14.js","assets/ui-8425ddff.js","assets/three-f2a0a5ce.js"]).then(e=>({default:e.RecoveryTimeline}))),ml=d.lazy(()=>Ee(()=>import("./PredictiveAnalytics-4789ada4.js"),["assets/PredictiveAnalytics-4789ada4.js","assets/vendor-26c3c1d8.js","assets/ui-8425ddff.js","assets/three-f2a0a5ce.js"]).then(e=>({default:e.PredictiveAnalytics}))),gl=d.lazy(()=>Ee(()=>import("./AdminDashboard-13ec859c.js"),["assets/AdminDashboard-13ec859c.js","assets/vendor-26c3c1d8.js","assets/three-f2a0a5ce.js"]).then(e=>({default:e.AdminDashboard}))),yl=d.lazy(()=>Ee(()=>import("./WeatherImpactTest-b0bf8991.js"),["assets/WeatherImpactTest-b0bf8991.js","assets/vendor-26c3c1d8.js","assets/WeatherImpact-78a1836c.js","assets/weatherUtils-fe320b1d.js","assets/ui-8425ddff.js","assets/three-f2a0a5ce.js"]).then(e=>({default:e.WeatherImpactTest}))),wl=d.lazy(()=>Ee(()=>import("./BodyCompositionManagement-7770bd21.js"),["assets/BodyCompositionManagement-7770bd21.js","assets/vendor-26c3c1d8.js","assets/three-f2a0a5ce.js"]).then(e=>({default:e.BodyCompositionManagement}))),bl=d.lazy(()=>Ee(()=>import("./PharmaCoWatchlist-f81fba32.js"),["assets/PharmaCoWatchlist-f81fba32.js","assets/vendor-26c3c1d8.js","assets/ui-8425ddff.js","assets/three-f2a0a5ce.js"])),xl=()=>f.jsx("div",{className:"flex items-center justify-center h-screen",children:f.jsx("div",{className:"text-white text-2xl",children:"Loading..."})}),vl=({children:e})=>{const{isAuthenticated:t}=$r();return t?f.jsx(f.Fragment,{children:e}):f.jsx(ea,{to:"/login",replace:!0})},_l=()=>{const[e,t]=d.useState(!1);return f.jsxs("div",{className:"app-container",children:[f.jsx("div",{className:"background-gradient"}),f.jsx("div",{className:"background-rings"}),f.jsx(Rs,{isMobileMenuOpen:e,setIsMobileMenuOpen:t}),f.jsx("div",{className:"main-content",children:f.jsx(ll,{children:f.jsx(d.Suspense,{fallback:f.jsx(xl,{}),children:f.jsxs(ta,{children:[f.jsx(ue,{path:"/",element:f.jsx(ul,{})}),f.jsx(ue,{path:"/comparison",element:f.jsx(fl,{})}),f.jsx(ue,{path:"/training-load",element:f.jsx(pl,{})}),f.jsx(ue,{path:"/recovery-timeline",element:f.jsx(hl,{})}),f.jsx(ue,{path:"/predictive",element:f.jsx(ml,{})}),f.jsx(ue,{path:"/user-management",element:f.jsx(gl,{})}),f.jsx(ue,{path:"/weather-test",element:f.jsx(yl,{})}),f.jsx(ue,{path:"/body-composition",element:f.jsx(wl,{})}),f.jsx(ue,{path:"/pharma-watchlist",element:f.jsx(bl,{})}),f.jsx(ue,{path:"/athlete/:id",element:f.jsx(dl,{})}),f.jsx(ue,{path:"/login",element:f.jsx(la,{})}),f.jsx(ue,{path:"*",element:f.jsx(ea,{to:"/",replace:!0})})]})})})})]})};function Rl(){return f.jsx(ds,{children:f.jsxs(ta,{children:[f.jsx(ue,{path:"/login",element:f.jsx(la,{})}),f.jsx(ue,{path:"/*",element:f.jsx(vl,{children:f.jsx(_l,{})})})]})})}const Sl=Wn(document.getElementById("root"));Sl.render(f.jsx(d.StrictMode,{children:f.jsx(vs,{children:f.jsx(Rl,{})})}));export{Gl as D,In as a,Bn as b,Vl as c,il as d,El as e,Ar as f,On as g,Kl as h,Tr as i,f as j,$r as k,Lr as u};
