import{j as e,b as ly,c as ry,d as fa,g as En,a as oy,e as cy,f as dy,u as uy,D as my}from"./index-68cd4404.js";import{r as C,c as hy,g as xy}from"./vendor-c778fe58.js";import{g as fy,c as gy,a as py,b as ns}from"./analytics-f7964037.js";import{c as yy,u as by,f as vy,d as Im,e as jy}from"./athleteUtils-96ccaa44.js";import{R as Ce,L as Wt,X as Ye,Y as Me,T as Ve,a as Ie,b as fe,C as Zo,c as We,d as ot,B as Gl,S as V0,e as z0,f as k0,P as F0,g as U0,h as K0,i as B0,j as q0,k as Y0,l as Ac,u as Ny,m as Sy,A as My,n as is,o as Wm,V as wy,p as Ay,q as Is,H as Io,G as Ty,r as Ey,D as Jm,s as $m,t as eh,v as Ry,w as _y,M as Dy,x as Cy,W as Gy,y as Oy,Z as Ly,z as Wo,E as X0,F as Q0,I as Py,J as Hy,K as Vy,N as zy,O as th,Q as ky,U as Fy,_ as Uy,$ as Ky,a0 as By}from"./ui-87255102.js";import{W as qy,n as Yy,o as Tc,P as Ec,S as Xy,p as Mo,q as Qy,r as Zy,s as Z0,N as Iy,t as Wy,u as sh,C as Jy,v as $y,w as eb,x as tb,y as sb,z as nb,V as Zs,a as I0,H as ab,T as ib,m as lb,k as rb,e as ob}from"./three-1c465152.js";import{TrainingLoadHeatmap as cb}from"./TrainingLoadHeatmap-0326b8cb.js";import{RecoveryTimeline as db}from"./RecoveryTimeline-f4862f0f.js";import{PredictiveAnalytics as ub}from"./PredictiveAnalytics-4fabd98d.js";import{W as mb}from"./WeatherImpact-eaca237c.js";import"./weatherUtils-fe320b1d.js";const as=({title:t,value:a,unit:l,icon:r,subtitle:c,trend:m,data:d=[],teamAverage:h,goalValue:x,goalLabel:p="Goal"})=>{const g=a??0,b=m==="up"?"text-green-600":m==="down"?"text-red-600":"text-gray-500",v=[...d].sort((T,O)=>new Date(T.date).getTime()-new Date(O.date).getTime()),N=v.map((T,O)=>({...T,index:O,name:new Date(T.date).toLocaleDateString("en",{month:"short",day:"numeric"})})),j=[...v.map(T=>T.value),g,h,x].filter(Boolean),w=Math.min(...j)*.98,A=Math.max(...j)*1.02,R=(()=>g>=x?"good":g>=x*.85?"warning":"alert")(),_=R==="good"?"bg-green-500":R==="warning"?"bg-yellow-500":"bg-red-500";return e.jsxs("div",{className:"card-enhanced p-5 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-2xl",children:r}),e.jsx("div",{className:`w-3 h-3 rounded-full ${_}`,title:`Status: ${R}`})]}),e.jsxs("div",{className:"flex items-baseline mb-2",children:[e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:g.toFixed(1)}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:l})]}),e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:t}),e.jsx("div",{className:"flex-1 min-h-[70px] mb-3",children:e.jsx(Ce,{width:"100%",height:"100%",children:e.jsxs(Wt,{data:N,margin:{top:4,right:8,left:0,bottom:4},children:[e.jsx(Ye,{hide:!0,dataKey:"name"}),e.jsx(Me,{hide:!0,domain:[w,A]}),e.jsx(Ve,{content:({active:T,payload:O,label:V})=>{if(T&&O&&O.length){const K=O[0].payload,F=new Date(K.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}),Y={"HRV (Night)":"ms","Resting HR":"bpm","Avg Heart Rate":"bpm","SpO‚ÇÇ (Night)":"%","Sleep Duration":"h","Deep Sleep":"%","REM Sleep":"%","Respiratory Rate":"/min","Body Temp":"¬∞C","Training Load":"%"},X=O[0].name||"Metric",$=Y[X]||"",q=O[0].value;return e.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[e.jsx("p",{className:"font-medium text-gray-900 mb-1",children:F}),e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsxs("span",{className:"font-medium",children:[X,":"]})," ",q?.toFixed(1)," ",$]})]})}return null}}),x&&e.jsx(Ie,{y:x,stroke:"#6c00ff",strokeDasharray:"3 3",label:{value:p,position:"left",fill:"#6c00ff",fontSize:10,offset:5}}),h&&e.jsx(Ie,{y:h,stroke:"#38bdf8",strokeDasharray:"4 2",label:{value:"Team Avg",position:"right",fill:"#38bdf8",fontSize:10,offset:5}}),e.jsx(fe,{type:"monotone",dataKey:"value",stroke:m==="up"?"#10b981":m==="down"?"#ef4444":"#6b7280",strokeWidth:2,dot:!1,animationDuration:600,isAnimationActive:!0})]})})}),(x&&p||h)&&e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500 mt-1",children:[x&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-0.5 bg-[#6c00ff] mr-1 border-dashed"}),e.jsx("span",{children:p})]}),h&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-0.5 bg-[#38bdf8] mr-1 border-dashed border-0.5"}),e.jsx("span",{children:"Team Avg"})]})]}),c&&e.jsxs("p",{className:`text-xs ${b} flex items-center mt-auto`,children:[m==="up"&&e.jsx("span",{children:"‚Üë"}),m==="down"&&e.jsx("span",{children:"‚Üì"}),m==="neutral"&&e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{className:"ml-1",children:c})]})]})},hb=({alert:t})=>{const a=()=>{switch(t.type){case"inflammation":case"airway":return"bg-red-50 border-red-200 text-red-800";case"circadian":case"nutrition":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"green":return"bg-green-50 border-green-200 text-green-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},l=()=>{switch(t.type){case"inflammation":return"üî•";case"circadian":return"üåô";case"nutrition":return"ü•ó";case"airway":return"üå¨Ô∏è";case"green":return"‚úÖ";default:return"üìä"}};return e.jsx("div",{className:`card-enhanced p-5 rounded-xl border-l-4 ${a()} mb-4`,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-2xl mr-3 mt-1",children:l()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:t.title}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"font-medium mb-1",children:"Cause:"}),e.jsx("p",{className:"text-sm opacity-90",children:t.cause})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium mb-1",children:"Recommendation:"}),e.jsx("p",{className:"text-sm opacity-90",children:t.rec})]})]})]})})},Nn=t=>new Date(t),nh=t=>Nn(t).toLocaleDateString("en",{month:"short",day:"numeric"}),ah=t=>{const a=((t.hrv_night||0)-40)/30,l=(70-(t.resting_hr||70))/20,r=(t.sleep_duration_h||6)/9,c=((t.spo2_night||95)-90)/10;return Math.max(0,Math.min(100,(a+l+r+c)*25))},xb=({data:t,bodyCompData:a=[],geneticData:l=[]})=>{if(!t||t.length===0)return e.jsx("div",{className:"text-center py-8 text-gray-600",children:"No biometric data available"});const r=[...t].filter(p=>p.date&&!isNaN(Nn(p.date).getTime())).sort((p,g)=>Nn(p.date).getTime()-Nn(g.date).getTime()).map(p=>({...p,readiness:ah(p),dateLabel:nh(p.date),dayOfWeek:Nn(p.date).getDay()})),c=a&&a.length>0,m=c?[...a].sort((p,g)=>Nn(p.date).getTime()-Nn(g.date).getTime()):[],d={ACTN3:0,PPARGC1A:0,PER3:0,CLOCK:0,BDNF:0,ADRB2:0};l.forEach(p=>{switch(p.gene){case"ACTN3":d[p.gene]=p.genotype==="RR"?1:p.genotype==="RX"?.6:.3;break;case"PPARGC1A":d[p.gene]=p.genotype.includes("Gly")?.9:.4;break;case"PER3":d[p.gene]=p.genotype==="long"?.8:.3;break;case"CLOCK":d[p.gene]=p.genotype==="AA"?.9:p.genotype==="AG"?.6:.3;break;case"BDNF":d[p.gene]=p.genotype==="Val66Val"?.9:p.genotype==="Val/Met"?.6:.3;break;case"ADRB2":d[p.gene]=p.genotype==="Arg16Arg"?.9:p.genotype==="Gly16Gly"?.4:.6;break}});const h=Object.entries(d).map(([p,g])=>({subject:p,A:g,fullMark:1})),x=new Date;return Array.from({length:49},(p,g)=>{const b=new Date(x);b.setDate(x.getDate()-48+g);const v=b.toISOString().split("T")[0],N=r.find(w=>w.date===v),j=N?Math.round(ah(N)):null;return{date:v,value:j}}),e.jsxs("div",{className:"space-y-12 py-6 px-2",children:[e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üìä Key Performance Metrics"}),e.jsx(Ce,{width:"100%",height:300,children:e.jsxs(Zo,{data:r,margin:{top:10,right:30,left:0,bottom:0},children:[e.jsx(We,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(Ye,{dataKey:"dateLabel",stroke:"#6b7280"}),e.jsx(Me,{yAxisId:"left",stroke:"#6b7280"}),e.jsx(Me,{yAxisId:"right",orientation:"right",stroke:"#6b7280"}),e.jsx(Ve,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(ot,{}),e.jsx(fe,{yAxisId:"left",type:"monotone",dataKey:"hrv_night",name:"HRV (ms)",stroke:"#6366f1",strokeWidth:3}),e.jsx(fe,{yAxisId:"left",type:"monotone",dataKey:"resting_hr",name:"RHR (bpm)",stroke:"#10b981",strokeWidth:3}),e.jsx(fe,{yAxisId:"right",type:"monotone",dataKey:"sleep_duration_h",name:"Sleep (h)",stroke:"#3b82f6",strokeWidth:3}),e.jsx(fe,{yAxisId:"left",type:"monotone",dataKey:"spo2_night",name:"SpO‚ÇÇ (%)",stroke:"#f97316",strokeWidth:3}),e.jsx(fe,{yAxisId:"right",type:"monotone",dataKey:"training_load_pct",name:"Load (%)",stroke:"#8b5cf6",strokeWidth:3,dot:!1})]})})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üåô Sleep Stage Breakdown"}),e.jsx(Ce,{width:"100%",height:300,children:e.jsxs(Wt,{data:r,children:[e.jsx(We,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(Ye,{dataKey:"dateLabel",stroke:"#6b7280"}),e.jsx(Me,{domain:[0,100],stroke:"#6b7280"}),e.jsx(Ve,{formatter:p=>`${p.toFixed(1)}%`,contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(ot,{}),e.jsx(fe,{type:"monotone",dataKey:"deep_sleep_pct",name:"Deep Sleep",stroke:"#059669",strokeWidth:4,dot:{r:4}}),e.jsx(fe,{type:"monotone",dataKey:"rem_sleep_pct",name:"REM Sleep",stroke:"#7c3aed",strokeWidth:4,dot:{r:4}}),e.jsx(fe,{type:"monotone",dataKey:"light_sleep_pct",name:"Light Sleep",stroke:"#d97706",strokeWidth:4,strokeDasharray:"5 5",dot:!1})]})})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üîÅ Recovery vs. Training Load"}),e.jsx(Ce,{width:"100%",height:300,children:e.jsxs(Zo,{data:r,children:[e.jsx(We,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(Ye,{dataKey:"dateLabel",stroke:"#6b7280",label:{value:"Date",position:"insideBottom",offset:-5}}),e.jsx(Me,{yAxisId:"left",stroke:"#6b7280",label:{value:"Training Load (%)",angle:-90,position:"insideLeft"}}),e.jsx(Me,{yAxisId:"right",orientation:"right",stroke:"#6b7280",label:{value:"HRV (ms)",angle:90,position:"insideRight"}}),e.jsx(Gl,{yAxisId:"left",dataKey:"training_load_pct",name:"Training Load",fill:"#e74c3c"}),e.jsx(fe,{yAxisId:"right",type:"monotone",dataKey:"hrv_night",name:"HRV (Recovery)",stroke:"#2ecc71",strokeWidth:4})]})}),e.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[e.jsx("p",{children:"This chart shows the relationship between training load and recovery (measured by HRV):"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1 mt-2",children:[e.jsx("li",{children:"Higher training loads should ideally be followed by higher HRV values (better recovery)"}),e.jsx("li",{children:"Consistently low HRV despite high training loads may indicate overtraining"}),e.jsx("li",{children:"Optimal performance occurs when training load and recovery are balanced"})]})]})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"üîÑ HRV vs. Resting HR (Recovery State)"}),e.jsx(Ce,{width:"100%",height:350,children:e.jsxs(V0,{margin:{top:20,right:30,left:0,bottom:0},children:[e.jsx(We,{}),e.jsx(Ye,{type:"number",dataKey:"hrv_night",name:"HRV",unit:"ms",domain:[30,70]}),e.jsx(Me,{type:"number",dataKey:"resting_hr",name:"RHR",unit:"bpm",reversed:!0,domain:[40,80]}),e.jsx(Ve,{cursor:{strokeDasharray:"3 3"},content:({active:p,payload:g,label:b})=>{if(p&&g&&g.length){const v=g[0].payload;return e.jsxs("div",{className:"bg-white border border-gray-200 p-3 rounded shadow-sm",children:[e.jsx("p",{className:"font-semibold text-gray-800",children:"Recovery State"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["HRV: ",v.hrv_night," ms"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["RHR: ",v.resting_hr," bpm"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",v.dateLabel]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["SpO2: ",v.spo2_night?`${v.spo2_night}%`:"N/A"]})]})}return null}}),e.jsx(z0,{name:"Recovery State",data:r,fill:"#3498db",shape:"circle"})]})}),e.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[e.jsx("p",{className:"mb-2",children:"This chart shows the relationship between Heart Rate Variability (HRV) and Resting Heart Rate (RHR):"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[e.jsx("li",{children:"Higher HRV (right) indicates better recovery and parasympathetic nervous system activity"}),e.jsx("li",{children:"Lower RHR (top) indicates better cardiovascular fitness and recovery"}),e.jsx("li",{children:"Points in the top-right quadrant represent optimal recovery state"}),e.jsx("li",{children:"Points in the bottom-left quadrant may indicate fatigue or overtraining"})]})]})]}),c&&e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"‚öñÔ∏è Body Composition Over Time"}),e.jsx(Ce,{width:"100%",height:300,children:e.jsxs(Wt,{data:m,children:[e.jsx(We,{strokeDasharray:"3 3"}),e.jsx(Ye,{dataKey:"date",tickFormatter:p=>nh(p)}),e.jsx(Me,{yAxisId:"left",label:{value:"Weight (kg)",angle:-90,position:"insideLeft"}}),e.jsx(Me,{yAxisId:"right",orientation:"right",label:{value:"Mass (kg)",angle:90,position:"insideRight"}}),e.jsx(Ve,{}),e.jsx(ot,{}),e.jsx(fe,{yAxisId:"left",type:"monotone",dataKey:"weight_kg",name:"Weight",stroke:"#3498db",strokeWidth:3}),e.jsx(fe,{yAxisId:"right",type:"monotone",dataKey:"muscle_mass_kg",name:"Muscle Mass",stroke:"#2ecc71",strokeWidth:3}),e.jsx(fe,{yAxisId:"right",type:"monotone",dataKey:"fat_mass_kg",name:"Fat Mass",stroke:"#e67e22",strokeWidth:3,strokeDasharray:"5 5"})]})})]}),l.length>0&&e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"üß¨ Genetic Predisposition Profile"}),e.jsx(Ce,{width:"100%",height:400,children:e.jsxs(k0,{outerRadius:"80%",data:h,children:[e.jsx(F0,{}),e.jsx(U0,{dataKey:"subject"}),e.jsx(K0,{angle:30,domain:[0,1],tickFormatter:p=>p.toFixed(1)}),e.jsx(B0,{name:"Athlete",dataKey:"A",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6}),e.jsx(Ve,{formatter:p=>[`${(p*100).toFixed(0)}%`,"Predisposition"]})]})})]})]})},fb=({loading:t,error:a,hasData:l})=>t?e.jsxs("div",{className:"space-y-8 text-gray-900",children:[e.jsx("h1",{className:"text-3xl font-bold text-center text-white mb-8",children:"‚öñÔ∏è Body Composition Analysis"}),e.jsxs("div",{className:"text-center py-12 card-enhanced rounded-xl",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading body composition data..."})]})]}):a?e.jsxs("div",{className:"space-y-8 text-gray-900",children:[e.jsx("h1",{className:"text-3xl font-bold text-center text-white mb-8",children:"‚öñÔ∏è Body Composition Analysis"}),e.jsxs("div",{className:"text-center py-12 card-enhanced rounded-xl",children:[e.jsx("p",{className:"text-red-600 mb-2",children:"‚ö†Ô∏è Error loading data"}),e.jsx("p",{className:"text-sm text-gray-500",children:a})]})]}):l?e.jsx("div",{className:"space-y-8 text-gray-900",children:e.jsx("h1",{className:"text-3xl font-bold text-center text-white mb-8",children:"‚öñÔ∏è Body Composition Analysis"})}):e.jsxs("div",{className:"space-y-8 text-gray-900",children:[e.jsx("h1",{className:"text-3xl font-bold text-center text-white mb-8",children:"‚öñÔ∏è Body Composition Analysis"}),e.jsxs("div",{className:"text-center py-12 card-enhanced rounded-xl",children:[e.jsx("p",{className:"text-gray-600 mb-2",children:"‚öñÔ∏è No body composition data available"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Please ensure body composition measurements are recorded"})]})]}),D=t=>typeof t=="number"&&!isNaN(t)?t:0,gb=({athleteBodyComp:t})=>{const a=parseFloat(D(t.bodyFat).toFixed(1)),l=parseFloat((D(t.muscleMass)/D(t.weight)*100).toFixed(1)),r=parseFloat((D(t.muscleMass+t.boneDensity)/D(t.weight)*100-D(t.bodyFat)).toFixed(1)),c=parseFloat((D(t.muscleMass)*.2/D(t.weight)*100).toFixed(1)),m=15,d=a+l+r+c+m,h=a/d*100,x=l/d*100,p=r/d*100,g=c/d*100,b=m/d*100,v=[{name:"Fat Mass",value:h,weight:`${(D(t.weight)*D(t.bodyFat)/100).toFixed(1)}kg`},{name:"Muscle Mass",value:x,weight:`${D(t.muscleMass).toFixed(1)}kg`},{name:"Water Weight",value:p,weight:`${D(t.muscleMass+t.boneDensity).toFixed(1)}kg`},{name:"Protein Mass",value:g,weight:`${(D(t.muscleMass)*.2).toFixed(1)}kg`},{name:"Bone Mass",value:b,weight:`${(D(t.weight)*.15).toFixed(1)}kg`}],N=["#f97316","#10b981","#3b82f6","#8b5cf6","#f59e0b"];return e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"üìà Body Composition Breakdown"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(Ce,{width:"100%",height:300,children:e.jsxs(q0,{children:[e.jsx(Y0,{data:v,cx:"50%",cy:"50%",labelLine:!0,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:j,percent:w})=>`${j}: ${(w?w*100:0).toFixed(0)}%`,children:v.map((j,w)=>e.jsx(Ac,{fill:N[w%N.length]},`cell-${w}`))}),e.jsx(Ve,{formatter:(j,w,A)=>[`${Number(j).toFixed(1)}% (${A.payload.weight})`,w],contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(ot,{})]})})})]})},pb=({athleteBodyComp:t})=>e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"üìà Muscle Fat Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-600 mb-4",children:"‚öñÔ∏è Weight Analysis"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Current:"}),e.jsxs("span",{className:"font-bold text-purple-600",children:[D(t.weight).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Target Weight:"}),e.jsx("span",{className:"font-bold text-green-600",children:t.targetWeight?D(t.targetWeight).toFixed(1)+" kg":"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Healthy Range:"}),e.jsx("span",{className:"font-bold text-blue-600",children:t.weightRangeMin&&t.weightRangeMax?`${D(t.weightRangeMin)}-${D(t.weightRangeMax)} kg`:"N/A"})]})]}),e.jsxs("div",{className:"mt-4 relative",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-purple-500 transition-all duration-300",style:{width:`${t.weightRangeMin&&t.weightRangeMax&&t.weightRangeMax!==t.weightRangeMin?Math.min(100,Math.max(0,(D(t.weight)-D(t.weightRangeMin))/(D(t.weightRangeMax)-D(t.weightRangeMin))*100)):50}%`}})}),e.jsx("div",{className:"absolute top-0 w-0 h-0",style:{left:`${t.weightRangeMin&&t.weightRangeMax&&t.weightRangeMax!==t.weightRangeMin?Math.min(100,Math.max(0,(D(t.weight)-D(t.weightRangeMin))/(D(t.weightRangeMax)-D(t.weightRangeMin))*100)):50}%`,transform:"translateX(-50%)"},children:e.jsx("div",{className:"w-0 h-0 border-l-2 border-r-2 border-b-3 border-l-transparent border-r-transparent border-b-purple-600 mx-auto"})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:t.weightRangeMin?`${D(t.weightRangeMin)}kg`:"N/A"}),e.jsx("span",{children:t.weightRangeMax?`${D(t.weightRangeMax)}kg`:"N/A"})]})]}),e.jsxs("div",{className:"mt-3 p-2 bg-purple-50 rounded text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Status"}),e.jsx("div",{className:`text-sm font-semibold ${t.weightRangeMin&&t.weightRangeMax&&t.weight>=t.weightRangeMin&&t.weight<=t.weightRangeMax?"text-green-600":"text-orange-600"}`,children:t.weightRangeMin&&t.weightRangeMax&&t.weight>=t.weightRangeMin&&t.weight<=t.weightRangeMax?"Optimal":"Needs Adjustment"})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-600 mb-4",children:"üí™ Skeletal Muscle Analysis"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Current:"}),e.jsxs("span",{className:"font-bold text-green-600",children:[D(t.muscleMass).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Standard Range:"}),e.jsx("span",{className:"font-bold text-blue-600",children:"30.2-37.0 kg"})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Muscle Mass:"}),e.jsxs("span",{className:"font-bold text-green-600",children:[D(t.muscleMass).toFixed(1)," kg"]})]})]}),e.jsxs("div",{className:"mt-4 relative",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 transition-all duration-300",style:{width:`${Math.min(100,(D(t.muscleMass)-30.2)/(37-30.2)*100)}%`}})}),e.jsx("div",{className:"absolute top-0 w-0 h-0",style:{left:`${Math.min(100,Math.max(0,(D(t.muscleMass)-30.2)/(37-30.2)*100))}%`,transform:"translateX(-50%)"},children:e.jsx("div",{className:"w-0 h-0 border-l-2 border-r-2 border-b-3 border-l-transparent border-r-transparent border-b-green-600 mx-auto"})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"30.2kg"}),e.jsx("span",{children:"37.0kg"})]})]}),e.jsxs("div",{className:"mt-3 p-2 bg-green-50 rounded text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Muscle Status"}),e.jsx("div",{className:`text-sm font-semibold ${t.muscleMass>=30.2&&t.muscleMass<=37?"text-green-600":"text-orange-600"}`,children:t.muscleMass>=30.2&&t.muscleMass<=37?"Excellent":"Needs Work"})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-600 mb-4",children:"üî• Fat Mass Analysis"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Current:"}),e.jsxs("span",{className:"font-bold text-orange-600",children:[(D(t.weight)*D(t.bodyFat)/100).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Body Fat %:"}),e.jsxs("span",{className:"font-bold text-orange-600",children:[D(t.bodyFat).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Healthy Range:"}),e.jsx("span",{className:"font-bold text-blue-600",children:"8-20%"})]})]}),e.jsxs("div",{className:"mt-4 relative",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-orange-500 transition-all duration-300",style:{width:`${Math.min(100,D(t.bodyFat)/20*100)}%`}})}),e.jsx("div",{className:"absolute top-0 w-0 h-0",style:{left:`${Math.min(100,Math.max(0,D(t.bodyFat)/20*100))}%`,transform:"translateX(-50%)"},children:e.jsx("div",{className:"w-0 h-0 border-l-2 border-r-2 border-b-3 border-l-transparent border-r-transparent border-b-orange-600 mx-auto"})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"8%"}),e.jsx("span",{children:"20%"})]})]}),e.jsxs("div",{className:"mt-3 p-2 bg-orange-50 rounded text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Fat Status"}),e.jsx("div",{className:`text-sm font-semibold ${t.bodyFat>=8&&t.bodyFat<=20?"text-green-600":t.bodyFat<8?"text-blue-600":"text-red-600"}`,children:t.bodyFat>=8&&t.bodyFat<=20?"Healthy":t.bodyFat<8?"Low":"High"})]})]})]})]}),yb=({athleteBodyComp:t})=>e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"‚öñÔ∏è Obesity Analysis"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-700 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üìä"}),"BMI Analysis"]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex mb-2 relative",children:[e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-1 bg-blue-200"}),e.jsx("div",{className:"flex-1 bg-green-200"}),e.jsx("div",{className:"flex-1 bg-yellow-200"}),e.jsx("div",{className:"flex-1 bg-orange-200"}),e.jsx("div",{className:"flex-1 bg-red-200"})]}),e.jsxs("div",{className:"relative w-full flex",children:[e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-blue-800",children:"Underweight"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-green-800",children:"Normal"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-yellow-800",children:"Overweight"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-orange-800",children:"Obese"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-red-800",children:"Severely Obese"})]}),e.jsxs("div",{className:"absolute top-0 w-0 h-0",style:{left:`${Math.min(100,Math.max(0,(D(t.bmi)-0)/40*100))}%`,transform:"translateX(-50%)"},children:[e.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-b-4 border-l-transparent border-r-transparent border-b-blue-600 mx-auto"}),e.jsx("div",{className:"w-1 h-8 bg-blue-600 mx-auto"})]})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-2",children:[e.jsx("span",{children:"0"}),e.jsx("span",{children:"18.5"}),e.jsx("span",{children:"25"}),e.jsx("span",{children:"30"}),e.jsx("span",{children:"35"}),e.jsx("span",{children:"40+"})]})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Your BMI"}),e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:D(t.bmi).toFixed(1)}),e.jsx("div",{className:"text-sm font-medium text-gray-700",children:D(t.bmi)<18.5?"Underweight":D(t.bmi)<25?"Normal Weight":D(t.bmi)<30?"Overweight":D(t.bmi)<35?"Obese":"Severely Obese"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-purple-700 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üî•"}),"Body Fat Analysis"]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex mb-2 relative",children:[e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-1 bg-blue-200"}),e.jsx("div",{className:"flex-1 bg-green-200"}),e.jsx("div",{className:"flex-1 bg-yellow-200"}),e.jsx("div",{className:"flex-1 bg-orange-200"}),e.jsx("div",{className:"flex-1 bg-red-200"})]}),e.jsxs("div",{className:"relative w-full flex",children:[e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-blue-800",children:"Essential"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-green-800",children:"Athletic"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-yellow-800",children:"Average"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-orange-800",children:"High"}),e.jsx("div",{className:"flex-1 h-8 flex items-center justify-center text-xs font-medium text-red-800",children:"Obese"})]}),e.jsxs("div",{className:"absolute top-0 w-0 h-0",style:{left:`${Math.min(100,Math.max(0,D(t.bodyFat)/40*100))}%`,transform:"translateX(-50%)"},children:[e.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-b-4 border-l-transparent border-r-transparent border-b-purple-600 mx-auto"}),e.jsx("div",{className:"w-1 h-8 bg-purple-600 mx-auto"})]})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-2",children:[e.jsx("span",{children:"0%"}),e.jsx("span",{children:"6%"}),e.jsx("span",{children:"14%"}),e.jsx("span",{children:"24%"}),e.jsx("span",{children:"32%"}),e.jsx("span",{children:"40%+"})]})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Your Body Fat"}),e.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-1",children:[D(t.bodyFat).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm font-medium text-gray-700",children:D(t.bodyFat)<6?"Essential Fat":D(t.bodyFat)<14?"Athletic":D(t.bodyFat)<24?"Average":D(t.bodyFat)<32?"High":"Obese"})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"üí° Health Insights"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full mt-1 ${D(t.bmi)<18.5?"bg-blue-500":D(t.bmi)<25?"bg-green-500":D(t.bmi)<30?"bg-yellow-500":"bg-red-500"}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"BMI Status"}),e.jsx("div",{className:"text-gray-600",children:D(t.bmi)<18.5?"Consider gaining weight for optimal health":D(t.bmi)<25?"Excellent BMI range for health":D(t.bmi)<30?"Consider weight management":"Focus on weight reduction for better health"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full mt-1 ${D(t.bodyFat)<6?"bg-blue-500":D(t.bodyFat)<14?"bg-green-500":D(t.bodyFat)<24?"bg-yellow-500":"bg-red-500"}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Body Fat Status"}),e.jsx("div",{className:"text-gray-600",children:D(t.bodyFat)<6?"Essential fat level - monitor closely":D(t.bodyFat)<14?"Optimal for athletic performance":D(t.bodyFat)<24?"Average range - room for improvement":"Consider fat reduction strategies"})]})]})]})]})]})]}),bb=({athleteBodyComp:t})=>e.jsxs("div",{className:"card-enhanced p-6 mt-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"üìä Body Composition Metrics"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Measurement (kg)"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Proportion of weight (%)"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Evaluation"})]})}),e.jsx("tbody",{children:[{label:"Weight",value:`${D(t.weight)} (${D(t.weightRangeMin)}-${D(t.weightRangeMax)})`,percent:"100.0",eval:"Standard"},{label:"Fat mass",value:`${(D(t.weight)*D(t.bodyFat)/100).toFixed(1)} (${(D(t.weightRangeMin)*8/100).toFixed(1)}-${(D(t.weightRangeMax)*20/100).toFixed(1)})`,percent:D(t.bodyFat).toFixed(1),eval:"Standard"},{label:"Muscle mass",value:`${D(t.muscleMass).toFixed(1)} (${(D(t.weightRangeMin)*30.2/100).toFixed(1)}-${(D(t.weightRangeMax)*37/100).toFixed(1)})`,percent:(D(t.muscleMass)/D(t.weight)*100).toFixed(1),eval:"Standard"},{label:"Skeletal muscle",value:`${D(t.muscleMass).toFixed(1)} (30.2-37.0)`,percent:(D(t.muscleMass)/D(t.weight)*100).toFixed(1),eval:"Standard"},{label:"Water weight",value:`${D(t.muscleMass+t.boneDensity).toFixed(1)} (37.7-47.0)`,percent:(D(t.muscleMass+t.boneDensity)/D(t.weight)*100-D(t.bodyFat)).toFixed(1),eval:"Standard"},{label:"Protein mass",value:`${(D(t.muscleMass)*.2).toFixed(1)} (10.3-12.8)`,percent:(D(t.muscleMass)*.2/D(t.weight)*100).toFixed(1),eval:"Standard"},{label:"Bone Mass",value:`${(D(t.weight)*.15).toFixed(1)} (3.4-4.3)`,percent:"15.0",eval:"Standard"}].map((a,l)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2 font-semibold bg-gray-50",children:a.label}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:a.value}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:a.percent}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:a.eval})]},l))})]})})]}),vb=({athleteBodyComp:t})=>e.jsxs("div",{className:"card-enhanced p-6 mt-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"üèãÔ∏è Body Type Assessment"}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 p-6 rounded-lg",children:[e.jsxs("div",{className:"mb-4 text-center",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Your Current Position"}),e.jsxs("div",{className:"text-lg font-semibold text-indigo-700",children:["BMI: ",D(t.bmi).toFixed(1)," | Body Fat: ",D(t.bodyFat).toFixed(1),"%"]})]}),e.jsxs("div",{className:"relative bg-white rounded-lg p-4 shadow-sm",children:[e.jsxs("div",{className:"relative w-full h-96 border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 grid grid-cols-3 grid-rows-3",children:[e.jsx("div",{className:"bg-gray-100 border-r border-b border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Too thin"})}),e.jsx("div",{className:"bg-gray-100 border-r border-b border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Thin"})}),e.jsx("div",{className:"bg-gray-100 border-b border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Invisible fat"})}),e.jsx("div",{className:"bg-gray-100 border-r border-b border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Muscular slim"})}),e.jsxs("div",{className:"bg-teal-100 border-r border-b border-gray-200 flex items-center justify-center relative",children:[e.jsx("span",{className:"text-xs font-semibold text-teal-800 text-center",children:"Fit"}),e.jsx("div",{className:"absolute inset-0 border-2 border-teal-300 rounded-sm"})]}),e.jsx("div",{className:"bg-gray-100 border-b border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Slightly fat"})}),e.jsx("div",{className:"bg-gray-100 border-r border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Athletes"})}),e.jsx("div",{className:"bg-gray-100 border-r border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Muscle"})}),e.jsx("div",{className:"bg-gray-100 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:"Overweight"})})]}),(()=>{const a=D(t.bmi),l=D(t.bodyFat),r=Math.min(100,Math.max(0,l/30*100)),c=Math.min(100,Math.max(0,100-(a-15)/15*100));return e.jsx("div",{className:"absolute w-4 h-4 bg-red-500 rounded-full border-2 border-white shadow-lg z-10",style:{left:`${r}%`,top:`${c}%`,transform:"translate(-50%, -50%)"},children:e.jsx("div",{className:"absolute inset-0 bg-red-500 rounded-full animate-pulse"})})})()]}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-600",children:[e.jsx("span",{children:"Body Fat Rate (%)"}),e.jsx("span",{children:"BMI (kg/m¬≤)"})]}),e.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-500",children:[e.jsx("span",{children:"0"}),e.jsx("span",{children:"10"}),e.jsx("span",{children:"20"}),e.jsx("span",{children:"30"})]}),e.jsxs("div",{className:"absolute right-2 top-4 bottom-4 flex flex-col justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"30"}),e.jsx("span",{children:"25"}),e.jsx("span",{children:"20"}),e.jsx("span",{children:"15"})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-2",children:"üìç Your Position"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("span",{className:"text-gray-700",children:"Current BMI & Body Fat position"})]}),e.jsx("div",{className:"mt-2 text-xs text-gray-600",children:'üí° The highlighted "Fit" region represents the optimal balance of BMI and body fat for health and fitness.'})]})]})]}),jb=({athleteBodyComp:t})=>{const a=D(t.bodyFat)/100*D(t.weight),l=D(t.muscleMass),r=a*.025,c=a*.5,m=a*.225,d=l*.05,h=l*.4,x=l*.25,p=(b,v)=>{const N=D(b);return v===0?"0.0":(N/v*100).toFixed(1)},g=(b,v)=>{const j={arm:{min:80,max:115},trunk:{min:90,max:110},leg:{min:90,max:110}}[v];return b>=j.min&&b<=j.max?"text-green-600 bg-green-100":"text-yellow-600 bg-yellow-100"};return e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"üîç Segmental Analysis"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-center text-gray-900 mb-6",children:"Body Composition Distribution"}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative inline-block",style:{padding:"40px"},children:[e.jsx("img",{src:"/humanmodel.png",alt:"Human Body Model",className:"max-w-full h-auto drop-shadow-lg",style:{maxHeight:"400px"}}),e.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{top:"-60px",left:"-60px",width:"calc(100% + 120px)",height:"calc(100% + 120px)"},viewBox:"0 0 120 120",preserveAspectRatio:"none",children:[e.jsx("line",{x1:"25",y1:"30",x2:"35",y2:"35",stroke:"#f97316",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"95",y1:"30",x2:"85",y2:"35",stroke:"#f97316",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"60",y1:"25",x2:"60",y2:"40",stroke:"#f97316",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"20",y1:"45",x2:"30",y2:"50",stroke:"#10b981",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"100",y1:"45",x2:"90",y2:"50",stroke:"#10b981",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"60",y1:"55",x2:"60",y2:"65",stroke:"#10b981",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"30",y1:"95",x2:"40",y2:"85",stroke:"#f97316",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"90",y1:"95",x2:"80",y2:"85",stroke:"#f97316",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"35",y1:"85",x2:"45",y2:"75",stroke:"#10b981",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"85",y1:"85",x2:"75",y2:"75",stroke:"#10b981",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"40",y1:"105",x2:"50",y2:"95",stroke:"#10b981",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("line",{x1:"80",y1:"105",x2:"70",y2:"95",stroke:"#10b981",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"}),e.jsx("defs",{children:e.jsx("marker",{id:"arrowhead",markerWidth:"3",markerHeight:"2",refX:"2",refY:"1",orient:"auto",children:e.jsx("polygon",{points:"0 0, 3 1, 0 2",fill:"#666"})})}),e.jsxs("text",{x:"22",y:"28","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Right Arm Fat: ",D(t.ArmMassRightFatKg).toFixed(1),"kg"]}),e.jsxs("text",{x:"98",y:"28","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Left Arm Fat: ",D(t.ArmMassLeftFatKg).toFixed(1),"kg"]}),e.jsxs("text",{x:"57",y:"23","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Trunk Fat: ",D(t.TrunkMassFatKg).toFixed(1),"kg"]}),e.jsxs("text",{x:"17",y:"43","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Right Arm Muscle: ",t.armMassRightKg?D(t.armMassRightKg).toFixed(1):"N/A","kg"]}),e.jsxs("text",{x:"103",y:"43","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Left Arm Muscle: ",t.armMassLeftKg?D(t.armMassLeftKg).toFixed(1):"N/A","kg"]}),e.jsxs("text",{x:"57",y:"53","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Trunk Muscle: ",t.trunkMassKg?D(t.trunkMassKg).toFixed(1):"N/A","kg"]}),e.jsxs("text",{x:"27",y:"97","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Right Leg Fat: ",D(t.LegMassRightFatKg).toFixed(1),"kg"]}),e.jsxs("text",{x:"93",y:"97","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Left Leg Fat: ",D(t.LegMassLeftFatKg).toFixed(1),"kg"]}),e.jsxs("text",{x:"32",y:"87","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Right Leg Muscle: ",t.legMassRightKg?D(t.legMassRightKg).toFixed(1):"N/A","kg"]}),e.jsxs("text",{x:"88",y:"87","font-size":"2.5",fill:"white",stroke:"black","stroke-width":"0.1","text-anchor":"middle",children:["Left Leg Muscle: ",t.legMassLeftKg?D(t.legMassLeftKg).toFixed(1):"N/A","kg"]})]})]})}),e.jsxs("div",{className:"flex justify-center mt-4 space-x-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Fat Mass"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-green-500 rounded mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Muscle Mass"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-600 mb-4",children:"Fat Mass Distribution"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Right Arm"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[t.ArmMassRightFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${g(parseFloat(p(t.ArmMassRightFatKg,r)),"arm")} px-2 py-1 rounded mt-1`,children:[p(t.ArmMassRightFatKg,r),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Left Arm"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[t.ArmMassLeftFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${g(parseFloat(p(t.ArmMassLeftFatKg,r)),"arm")} px-2 py-1 rounded mt-1`,children:[p(t.ArmMassLeftFatKg,r),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Right Leg"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[t.LegMassRightFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${g(parseFloat(p(t.LegMassRightFatKg,m)),"leg")} px-2 py-1 rounded mt-1`,children:[p(t.LegMassRightFatKg,m),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Left Leg"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[t.LegMassLeftFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${g(parseFloat(p(t.LegMassLeftFatKg,m)),"leg")} px-2 py-1 rounded mt-1`,children:[p(t.LegMassLeftFatKg,m),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Trunk"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[t.TrunkMassFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${g(parseFloat(p(t.TrunkMassFatKg,c)),"trunk")} px-2 py-1 rounded mt-1`,children:[p(t.TrunkMassFatKg,c),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Right Leg"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[t.LegMassRightFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${g(parseFloat(p(t.LegMassRightFatKg,m)),"leg")} px-2 py-1 rounded mt-1`,children:[p(t.LegMassRightFatKg,m),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Left Leg"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[t.LegMassLeftFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${g(parseFloat(p(t.LegMassLeftFatKg,m)),"leg")} px-2 py-1 rounded mt-1`,children:[p(t.LegMassLeftFatKg,m),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Trunk"}),e.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[t.TrunkMassFatKg,"kg"]}),e.jsxs("div",{className:`text-xs ${g(parseFloat(p(t.TrunkMassFatKg,c)),"trunk")} px-2 py-1 rounded mt-1`,children:[p(t.TrunkMassFatKg,c),"% Standard"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-green-600 mb-4",children:"Muscle Mass Distribution"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Trunk"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:[t.trunkMassKg?D(t.trunkMassKg).toFixed(1):"N/A","kg"]}),e.jsxs("div",{className:`text-xs ${g(parseFloat(p(t.trunkMassKg,h)),"trunk")} px-2 py-1 rounded mt-1`,children:[p(t.trunkMassKg,h),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Right Arm"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:[t.armMassRightKg?D(t.armMassRightKg).toFixed(1):"N/A","kg"]}),e.jsxs("div",{className:`text-xs ${g(parseFloat(p(t.armMassRightKg,d)),"arm")} px-2 py-1 rounded mt-1`,children:[p(t.armMassRightKg,d),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Left Arm"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:[t.armMassLeftKg?D(t.armMassLeftKg).toFixed(1):"N/A","kg"]}),e.jsxs("div",{className:`text-xs ${g(parseFloat(p(t.armMassLeftKg,d)),"arm")} px-2 py-1 rounded mt-1`,children:[p(t.armMassLeftKg,d),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Right Leg"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:[t.legMassRightKg?D(t.legMassRightKg).toFixed(1):"N/A","kg"]}),e.jsxs("div",{className:`text-xs ${g(parseFloat(p(t.legMassRightKg,x)),"leg")} px-2 py-1 rounded mt-1`,children:[p(t.legMassRightKg,x),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Left Leg"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:[t.legMassLeftKg?D(t.legMassLeftKg).toFixed(1):"N/A","kg"]}),e.jsxs("div",{className:`text-xs ${g(parseFloat(p(t.legMassLeftKg,x)),"leg")} px-2 py-1 rounded mt-1`,children:[p(t.legMassLeftKg,x),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Right Leg"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:[t.legMassRightKg?D(t.legMassRightKg).toFixed(1):"N/A","kg"]}),e.jsxs("div",{className:`text-xs ${g(parseFloat(p(t.legMassRightKg,x)),"leg")} px-2 py-1 rounded mt-1`,children:[p(t.legMassRightKg,x),"% Standard"]})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Left Leg"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:[t.legMassLeftKg?D(t.legMassLeftKg).toFixed(1):"N/A","kg"]}),e.jsxs("div",{className:`text-xs ${g(parseFloat(p(t.legMassLeftKg,x)),"leg")} px-2 py-1 rounded mt-1`,children:[p(t.legMassLeftKg,x),"% Standard"]})]})]})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg text-sm text-gray-600",children:[e.jsx("strong",{children:"Note:"})," Standard range: 80%-160% ‚Ä¢ Segmental fat analysis is an inferred value ‚Ä¢ Left/right upper limbs (80%-115%), Trunk/lower limbs (90%-110%)"]})]})},Nb=({athleteBodyComp:t})=>e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6 text-center",children:"üèÜ Body Score Analysis"}),(()=>{const a=Math.max(0,Math.min(25,25-Math.abs(D(t.bmi)-22)*2)),l=Math.max(0,Math.min(25,25-Math.abs(D(t.bodyFat)-15)*1.5)),r=Math.max(0,Math.min(25,(D(t.muscleMass)-30.2)/(37-30.2)*25)),c=Math.max(0,Math.min(15,(t.muscleMass-30.2)/(37-30.2)*15)),m=Math.max(0,Math.min(10,10-D(t.visceralFatGrade)*.1)),d=Math.round(a+l+r+c+m);return e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center shadow-lg",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx("div",{className:"text-2xl font-bold",children:d}),e.jsx("div",{className:"text-sm",children:"Points"})]})}),e.jsx("div",{className:"absolute inset-0 w-32 h-32 rounded-full border-4 border-green-200",children:e.jsx("div",{className:"absolute top-0 left-1/2 w-1/2 h-1/2 border-4 border-green-500 rounded-full transform -translate-x-1/2 origin-bottom",style:{transform:`rotate(${Math.min(180,d/100*180)}deg)`}})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-lg font-semibold text-green-600",children:d>=80?"Excellent":d>=60?"Good":d>=40?"Fair":"Needs Improvement"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Out of 100 possible points"})]})]})})(),(()=>{const a=Math.max(0,Math.min(25,25-Math.abs(D(t.bmi)-22)*2)),l=Math.max(0,Math.min(25,25-Math.abs(D(t.bodyFat)-15)*1.5)),r=Math.max(0,Math.min(25,(D(t.muscleMass)-30.2)/(37-30.2)*25)),c=Math.max(0,Math.min(15,(t.muscleMass-30.2)/(37-30.2)*15)),m=Math.max(0,Math.min(10,10-D(t.visceralFatGrade)*.1)),d=Math.round(a+l+r+c+m);return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"üìä Score Components"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"BMI Score"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[Math.round(a),"/25"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Body Fat Score"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[Math.round(l),"/25"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Muscle Mass Score"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[Math.round(r),"/25"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Skeletal Muscle Score"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[Math.round(c),"/15"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Visceral Fat Score"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[Math.round(m),"/10"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-3",children:"üéØ Score Interpretation"}),e.jsxs("div",{className:"space-y-3 text-sm text-green-700",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Overall Health:"})," Your score indicates ",d>=80?"excellent":d>=60?"good":"fair"," body composition"]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Muscle Quality:"})," ",r>=20?"High muscle quality detected":"Room for muscle development"]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Body Balance:"})," ",c>=10?"Excellent symmetry":"Good overall balance"]})]})]})]})]})})(),(()=>{const a=Math.max(0,Math.min(25,25-Math.abs(D(t.bmi)-22)*2)),l=Math.max(0,Math.min(25,25-Math.abs(D(t.bodyFat)-15)*1.5)),r=Math.max(0,Math.min(25,(D(t.muscleMass)-30.2)/(37-30.2)*25)),c=Math.max(0,Math.min(15,(t.muscleMass-30.2)/(37-30.2)*15)),m=Math.max(0,Math.min(10,10-D(t.visceralFatGrade)*.1)),d=Math.round(a+l+r+c+m),h=Math.max(0,Math.min(25,25-Math.abs(22-22)*2)),x=Math.max(0,Math.min(25,25-Math.abs(15-15)*1.5)),p=Math.max(0,Math.min(25,(37-30.2)/(37-30.2)*25)),g=Math.max(0,Math.min(15,(37-30.2)/(37-30.2)*15)),b=Math.max(0,Math.min(10,10-1*.1)),v=Math.round(h+x+p+g+b);return e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-indigo-800 mb-4 text-center",children:"üìà Score Comparison"}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:d}),e.jsx("div",{className:"text-sm text-indigo-600",children:"Your Score"})]}),e.jsx("div",{className:"w-16 h-1 bg-gray-300"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:v}),e.jsx("div",{className:"text-sm text-green-600",children:"Target Score"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-2",children:e.jsx("div",{className:"bg-indigo-500 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,d/v*100)}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[e.jsx("span",{children:"0"}),e.jsx("span",{children:Math.round(v/2)}),e.jsx("span",{children:v})]})]})})(),e.jsx("div",{className:"mt-6 p-3 bg-gray-50 rounded-lg text-center",children:e.jsxs("p",{className:"text-xs text-gray-600",children:["üí° ",e.jsx("strong",{children:"Note:"})," The total score reflects the evaluated value of body composition. A muscular person may get more than 100 points. This score is for informational purposes only."]})})]}),Sb=({athleteBodyComp:t})=>e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6 text-center",children:"üéØ Weight Control Goals"}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Current Weight"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[D(t.weight).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Target Weight"}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[D(t.targetWeight).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Difference"}),e.jsxs("div",{className:`text-2xl font-bold ${D(t.weight)-D(t.targetWeight)>=0?"text-orange-600":"text-red-600"}`,children:[D(t.weight)-D(t.targetWeight)>=0?"+":"",(D(t.weight)-D(t.targetWeight)).toFixed(1)," kg"]})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"üìä Progress to Target Weight"}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 p-6 rounded-lg shadow-sm border-2 border-blue-200",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm font-medium text-gray-700 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[D(t.weight).toFixed(1),"kg"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"CURRENT"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[D(t.targetWeight).toFixed(1),"kg"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"TARGET"})]})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx("div",{className:"w-full bg-gray-300 rounded-full h-6 shadow-inner",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 via-blue-600 to-green-500 h-6 rounded-full transition-all duration-500 shadow-lg",style:{width:`${Math.min(100,Math.max(0,(D(t.targetWeight)-D(t.weight))/(D(t.targetWeight)-D(t.weight)+Math.abs(D(t.weight)-D(t.targetWeight)))*100))}%`}})}),e.jsx("div",{className:"absolute top-0 w-1 h-8 bg-green-600 rounded-full shadow-lg",style:{left:"100%",transform:"translateX(-50%)"},children:e.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2",children:e.jsx("div",{className:"text-xs font-bold text-green-600",children:"üéØ"})})}),e.jsx("div",{className:"absolute top-0 w-4 h-10 bg-blue-600 rounded-full shadow-lg border-2 border-white",style:{left:`${Math.min(100,Math.max(0,(D(t.targetWeight)-D(t.weight))/(D(t.targetWeight)-D(t.weight)+Math.abs(D(t.weight)-D(t.targetWeight)))*100))}%`,transform:"translateX(-50%)"},children:e.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2",children:e.jsxs("div",{className:"text-xs font-bold text-blue-600 whitespace-nowrap",children:["üìç ",D(t.weight).toFixed(1),"kg"]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Difference"}),e.jsxs("div",{className:`text-lg font-bold ${D(t.weight)-D(t.targetWeight)>=0?"text-orange-600":"text-green-600"}`,children:[D(t.weight)-D(t.targetWeight)>=0?"+":"",(D(t.weight)-D(t.targetWeight)).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Progress"}),e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[Math.min(100,Math.max(0,(D(t.targetWeight)-D(t.weight))/(D(t.targetWeight)-D(t.weight)+Math.abs(D(t.weight)-D(t.targetWeight)))*100)).toFixed(0),"%"]})]}),e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Status"}),e.jsx("div",{className:`text-lg font-bold ${D(t.weight)-D(t.targetWeight)<=0?"text-green-600":"text-orange-600"}`,children:D(t.weight)-D(t.targetWeight)<=0?"On Track":"Adjusting"})]})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("div",{className:"text-sm text-gray-700 bg-white p-3 rounded-lg shadow-sm",children:D(t.weight)-D(t.targetWeight)<=0?`üéâ Great progress! Only ${Math.abs(D(t.weight)-D(t.targetWeight)).toFixed(1)}kg to reach your target!`:`üí™ You're ${Math.abs(D(t.weight)-D(t.targetWeight)).toFixed(1)}kg above target. Let's adjust your plan!`})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"‚öñÔ∏è"}),"Weight Management"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Target Weight"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[D(t.targetWeight).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Current Status"}),e.jsx("span",{className:`font-bold ${D(t.weight)-D(t.targetWeight)>=0?"text-orange-600":"text-green-600"}`,children:D(t.weight)-D(t.targetWeight)>=0?"Above Target":"On Track"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Weekly Goal"}),e.jsx("span",{className:"font-bold text-blue-600",children:D(t.weight)-D(t.targetWeight)>2?`-${Math.min(1,(D(t.weight)-D(t.targetWeight))/8).toFixed(2)} kg/week`:D(t.weight)-D(t.targetWeight)>0?`-${Math.min(.5,(D(t.weight)-D(t.targetWeight))/8).toFixed(2)} kg/week`:D(t.weight)-D(t.targetWeight)<-2?`+${Math.min(.5,Math.abs(D(t.weight)-D(t.targetWeight))/8).toFixed(2)} kg/week`:"Maintain"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üí™"}),"Body Composition Goals"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Fat Control"}),e.jsxs("span",{className:`font-bold ${D(t.bodyFat)-15>=0?"text-red-600":"text-green-600"}`,children:[D(t.bodyFat)-15>=0?"+":"",(D(t.bodyFat)-15).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Muscle Control"}),e.jsxs("span",{className:`font-bold ${D(t.muscleMass)-35>=0?"text-green-600":"text-red-600"}`,children:[D(t.muscleMass)-35>=0?"+":"",(D(t.muscleMass)-35).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Target Fat %"}),e.jsx("span",{className:"font-bold text-green-600",children:"15%"})]})]})]})]}),e.jsxs("div",{className:"mt-6 bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-800 mb-3",children:"üéØ Action Plan"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-purple-700",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Nutrition Focus"}),e.jsx("div",{children:D(t.weight)-D(t.targetWeight)>2?`Calorie deficit: ${Math.round((D(t.weight)-D(t.targetWeight))*1250)} kcal/day`:D(t.weight)-D(t.targetWeight)>0?`Calorie deficit: ${Math.round((D(t.weight)-D(t.targetWeight))*625)} kcal/day`:D(t.weight)-D(t.targetWeight)<-2?`Calorie surplus: ${Math.round(Math.abs(D(t.weight)-D(t.targetWeight))*625)} kcal/day`:"Balanced nutrition"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Training Focus"}),e.jsx("div",{children:D(t.muscleMass)<35?"Strength training 3x/week":D(t.bodyFat)>15?"HIIT + cardio 3x/week":"Mixed training program"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Timeline"}),e.jsx("div",{children:Math.abs(D(t.weight)-D(t.targetWeight))>5?`${Math.round(Math.abs(D(t.weight)-D(t.targetWeight))*2.4)} weeks`:Math.abs(D(t.weight)-D(t.targetWeight))>2?`${Math.round(Math.abs(D(t.weight)-D(t.targetWeight))*1.5)} weeks`:"4-6 weeks"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Monitoring"}),e.jsx("div",{children:"Weekly weigh-ins + monthly body composition"})]})]})]})]})]}),Mb=({athleteBodyComp:t})=>e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6 text-center",children:"üìã Health Indicators Overview"}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üî•"}),"Metabolic Health"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Basal Metabolic Rate"}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[D(t.basalMetabolicRate).toFixed(0)," kcal"]})]}),e.jsx("div",{className:"text-xs text-blue-600 mb-2",children:"Daily calories burned at rest"}),e.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Math.min(100,D(t.basalMetabolicRate)/2500*100)}%`}})}),e.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Range: 1200-2500 kcal"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-green-700",children:"Visceral Fat Grade"}),e.jsxs("span",{className:"text-lg font-bold text-green-600",children:[D(t.visceralFatGrade),"/10"]})]}),e.jsx("div",{className:"text-xs text-green-600 mb-2",children:"Fat around internal organs"}),e.jsx("div",{className:"w-full bg-green-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${Math.min(100,D(t.visceralFatGrade)/10*100)}%`}})}),e.jsx("div",{className:"text-xs text-green-600 mt-1",children:"Ideal: 1-3"})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-purple-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üí™"}),"Body Composition"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Fat-Free Body Weight"}),e.jsxs("span",{className:"text-lg font-bold text-purple-600",children:[D(t.weight-t.weight*t.bodyFat/100).toFixed(1)," kg"]})]}),e.jsx("div",{className:"text-xs text-purple-600 mb-2",children:"Weight without fat"}),e.jsx("div",{className:"w-full bg-purple-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${Math.min(100,D(t.weight-t.weight*t.bodyFat/100)/80*100)}%`}})}),e.jsx("div",{className:"text-xs text-purple-600 mt-1",children:"Higher is better for muscle mass"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-orange-700",children:"Subcutaneous Fat"}),e.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[D(t.bodyFat).toFixed(1),"%"]})]}),e.jsx("div",{className:"text-xs text-orange-600 mb-2",children:"Fat under the skin"}),e.jsx("div",{className:"w-full bg-orange-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${Math.min(100,D(t.bodyFat))}%`}})}),e.jsx("div",{className:"text-xs text-orange-600 mt-1",children:"Healthy range: 8-20%"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-indigo-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"‚è≥"}),"Age & Body Ratios"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 p-4 rounded-lg text-center",children:[e.jsx("div",{className:"text-sm font-medium text-indigo-700 mb-1",children:"Body Age"}),e.jsx("div",{className:"text-2xl font-bold text-indigo-600 mb-1",children:D(t.bodyAge)}),e.jsx("div",{className:"text-xs text-indigo-600",children:"years"}),e.jsx("div",{className:`text-xs mt-2 px-2 py-1 rounded-full ${D(t.bodyAge)<=25?"bg-green-100 text-green-800":D(t.bodyAge)<=35?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:D(t.bodyAge)<=25?"Excellent":D(t.bodyAge)<=35?"Good":"Needs Attention"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 p-4 rounded-lg text-center",children:[e.jsx("div",{className:"text-sm font-medium text-pink-700 mb-1",children:"SMI"}),e.jsx("div",{className:"text-2xl font-bold text-pink-600 mb-1",children:D(t.muscleMass/1.8**2).toFixed(1)}),e.jsx("div",{className:"text-xs text-pink-600",children:"kg/m¬≤"}),e.jsx("div",{className:`text-xs mt-2 px-2 py-1 rounded-full ${D(t.muscleMass/1.8**2)>=7?"bg-green-100 text-green-800":D(t.muscleMass/1.8**2)>=5?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:D(t.muscleMass/1.8**2)>=7?"Strong":D(t.muscleMass/1.8**2)>=5?"Average":"Low"}),e.jsx("div",{className:"text-xs text-pink-600 mt-2 italic",children:"Skeletal Muscle Index - measures muscle mass relative to height"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-teal-100 p-4 rounded-lg text-center",children:[e.jsx("div",{className:"text-sm font-medium text-teal-700 mb-1",children:"WHR"}),e.jsx("div",{className:"text-2xl font-bold text-teal-600 mb-1",children:"0.86"}),e.jsx("div",{className:"text-xs text-teal-600",children:"ratio"}),e.jsx("div",{className:"text-xs mt-2 px-2 py-1 rounded-full bg-green-100 text-green-800",children:"Healthy"}),e.jsx("div",{className:"text-xs text-teal-600 mt-2 italic",children:"Waist-to-Hip Ratio - measures body fat distribution and health risks"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"üí° Key Insights"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Metabolic Rate:"})," Your BMR indicates ",D(t.basalMetabolicRate)>1800?"good muscle mass":"potential for improvement"," with strength training."]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Body Age:"})," ",D(t.bodyAge)<=25?"Excellent! Your body is in peak condition.":"Focus on consistent training and nutrition to improve."]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Muscle Quality:"})," Your SMI suggests ",D(t.muscleMass/1.8**2)>=7?"excellent muscle quality":"room for muscle development","."]})]})]})]})]}),wb=({athleteBodyComp:t})=>e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"‚öñÔ∏è Body Balance Evaluation"}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-semibold text-green-700 mb-2",children:"Overall Balance Status"}),e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"Excellent"}),e.jsx("div",{className:"text-sm text-green-600",children:"Your body shows excellent symmetry and balance"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üí™"}),"Upper Body Balance"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Left Arm Strength"}),e.jsx("span",{className:"font-bold text-blue-600",children:"95.2%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Right Arm Strength"}),e.jsx("span",{className:"font-bold text-blue-600",children:"94.8%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Shoulder Symmetry"}),e.jsx("span",{className:"font-bold text-green-600",children:"98.5%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Upper Body Status"}),e.jsx("span",{className:"font-bold text-green-600",children:"Excellent"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-teal-50 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"ü¶µ"}),"Lower Body Balance"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Left Leg Strength"}),e.jsx("span",{className:"font-bold text-green-600",children:"96.1%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Right Leg Strength"}),e.jsx("span",{className:"font-bold text-green-600",children:"95.9%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Hip Alignment"}),e.jsx("span",{className:"font-bold text-green-600",children:"97.8%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Lower Body Status"}),e.jsx("span",{className:"font-bold text-green-600",children:"Excellent"})]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"üìä Balance Comparison"}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[e.jsx("span",{children:"Upper Body"}),e.jsx("span",{children:"Lower Body"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-blue-500 h-3 rounded-full",style:{width:"98%"}})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"98%"}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-green-500 h-3 rounded-full",style:{width:"97%"}})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[e.jsx("span",{children:"Left Side"}),e.jsx("span",{children:"Right Side"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-purple-500 h-3 rounded-full",style:{width:"96%"}})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"99%"}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-orange-500 h-3 rounded-full",style:{width:"95%"}})})]})]})]})})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"üí° Balance Insights"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Excellent Symmetry:"})," Your left and right sides show remarkable balance, indicating well-rounded training."]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Upper-Lower Harmony:"})," Perfect balance between upper and lower body strength prevents injury and optimizes performance."]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Muscle Coordination:"})," Your balanced development suggests excellent neuromuscular coordination and training efficiency."]})]})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"üéØ Recommendations"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Continue with your balanced training approach. Consider adding unilateral exercises to maintain this excellent symmetry."})]})]}),Ab=({athleteId:t})=>{const[a,l]=C.useState(null),[r,c]=C.useState(!0),[m,d]=C.useState(null);return C.useEffect(()=>{t&&(async()=>{try{c(!0),d(null);const x=parseInt(t,10);if(isNaN(x))throw new Error("Invalid athlete ID");const p=await ly.getBodyCompositionByAthlete(x),g=Array.isArray(p)?p.filter(b=>b.measurementDate).sort((b,v)=>new Date(v.measurementDate).getTime()-new Date(b.measurementDate).getTime())[0]:null;l(g||null)}catch(x){d(x instanceof Error?x.message:"Failed to load body composition data")}finally{c(!1)}})()},[t]),e.jsxs("div",{className:"space-y-8 text-gray-900",children:[e.jsx(fb,{loading:r,error:m,hasData:!!a}),a&&e.jsxs(e.Fragment,{children:[e.jsx(gb,{athleteBodyComp:a}),e.jsx(pb,{athleteBodyComp:a}),e.jsx(yb,{athleteBodyComp:a}),e.jsx(bb,{athleteBodyComp:a}),e.jsx(vb,{athleteBodyComp:a}),e.jsx(jb,{athleteBodyComp:a}),e.jsx(Nb,{athleteBodyComp:a}),e.jsx(Sb,{athleteBodyComp:a}),e.jsx(Mb,{athleteBodyComp:a}),e.jsx(wb,{athleteBodyComp:a})]})]})},Rc=C.createContext({});function _c(t){const a=C.useRef(null);return a.current===null&&(a.current=t()),a.current}const Dc=typeof window<"u",W0=Dc?C.useLayoutEffect:C.useEffect,Ol=C.createContext(null);function Cc(t,a){t.indexOf(a)===-1&&t.push(a)}function Gc(t,a){const l=t.indexOf(a);l>-1&&t.splice(l,1)}const Ms=(t,a,l)=>l>a?a:l<t?t:l;let Oc=()=>{};const ws={},J0=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function $0(t){return typeof t=="object"&&t!==null}const ex=t=>/^0[^.\s]+$/u.test(t);function Lc(t){let a;return()=>(a===void 0&&(a=t()),a)}const Bt=t=>t,Tb=(t,a)=>l=>a(t(l)),hi=(...t)=>t.reduce(Tb),li=(t,a,l)=>{const r=a-t;return r===0?1:(l-t)/r};class Pc{constructor(){this.subscriptions=[]}add(a){return Cc(this.subscriptions,a),()=>Gc(this.subscriptions,a)}notify(a,l,r){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](a,l,r);else for(let m=0;m<c;m++){const d=this.subscriptions[m];d&&d(a,l,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ls=t=>t*1e3,Kt=t=>t/1e3;function tx(t,a){return a?t*(1e3/a):0}const sx=(t,a,l)=>(((1-3*l+3*a)*t+(3*l-6*a))*t+3*a)*t,Eb=1e-7,Rb=12;function _b(t,a,l,r,c){let m,d,h=0;do d=a+(l-a)/2,m=sx(d,r,c)-t,m>0?l=d:a=d;while(Math.abs(m)>Eb&&++h<Rb);return d}function xi(t,a,l,r){if(t===a&&l===r)return Bt;const c=m=>_b(m,0,1,t,l);return m=>m===0||m===1?m:sx(c(m),a,r)}const nx=t=>a=>a<=.5?t(2*a)/2:(2-t(2*(1-a)))/2,ax=t=>a=>1-t(1-a),ix=xi(.33,1.53,.69,.99),Hc=ax(ix),lx=nx(Hc),rx=t=>(t*=2)<1?.5*Hc(t):.5*(2-Math.pow(2,-10*(t-1))),Vc=t=>1-Math.sin(Math.acos(t)),ox=ax(Vc),cx=nx(Vc),Db=xi(.42,0,1,1),Cb=xi(0,0,.58,1),dx=xi(.42,0,.58,1),Gb=t=>Array.isArray(t)&&typeof t[0]!="number",ux=t=>Array.isArray(t)&&typeof t[0]=="number",Ob={linear:Bt,easeIn:Db,easeInOut:dx,easeOut:Cb,circIn:Vc,circInOut:cx,circOut:ox,backIn:Hc,backInOut:lx,backOut:ix,anticipate:rx},Lb=t=>typeof t=="string",ih=t=>{if(ux(t)){Oc(t.length===4);const[a,l,r,c]=t;return xi(a,l,r,c)}else if(Lb(t))return Ob[t];return t},dl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],lh={value:null,addProjectionMetrics:null};function Pb(t,a){let l=new Set,r=new Set,c=!1,m=!1;const d=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},x=0;function p(b){d.has(b)&&(g.schedule(b),t()),x++,b(h)}const g={schedule:(b,v=!1,N=!1)=>{const w=N&&c?l:r;return v&&d.add(b),w.has(b)||w.add(b),b},cancel:b=>{r.delete(b),d.delete(b)},process:b=>{if(h=b,c){m=!0;return}c=!0,[l,r]=[r,l],l.forEach(p),a&&lh.value&&lh.value.frameloop[a].push(x),x=0,l.clear(),c=!1,m&&(m=!1,g.process(b))}};return g}const Hb=40;function mx(t,a){let l=!1,r=!0;const c={delta:0,timestamp:0,isProcessing:!1},m=()=>l=!0,d=dl.reduce((_,T)=>(_[T]=Pb(m,a?T:void 0),_),{}),{setup:h,read:x,resolveKeyframes:p,preUpdate:g,update:b,preRender:v,render:N,postRender:j}=d,w=()=>{const _=ws.useManualTiming?c.timestamp:performance.now();l=!1,ws.useManualTiming||(c.delta=r?1e3/60:Math.max(Math.min(_-c.timestamp,Hb),1)),c.timestamp=_,c.isProcessing=!0,h.process(c),x.process(c),p.process(c),g.process(c),b.process(c),v.process(c),N.process(c),j.process(c),c.isProcessing=!1,l&&a&&(r=!1,t(w))},A=()=>{l=!0,r=!0,c.isProcessing||t(w)};return{schedule:dl.reduce((_,T)=>{const O=d[T];return _[T]=(V,K=!1,y=!1)=>(l||A(),O.schedule(V,K,y)),_},{}),cancel:_=>{for(let T=0;T<dl.length;T++)d[dl[T]].cancel(_)},state:c,steps:d}}const{schedule:Re,cancel:Ws,state:et,steps:wo}=mx(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bt,!0);let gl;function Vb(){gl=void 0}const bt={now:()=>(gl===void 0&&bt.set(et.isProcessing||ws.useManualTiming?et.timestamp:performance.now()),gl),set:t=>{gl=t,queueMicrotask(Vb)}},hx=t=>a=>typeof a=="string"&&a.startsWith(t),zc=hx("--"),zb=hx("var(--"),kc=t=>zb(t)?kb.test(t.split("/*")[0].trim()):!1,kb=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ga={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ri={...ga,transform:t=>Ms(0,1,t)},ul={...ga,default:1},ei=t=>Math.round(t*1e5)/1e5,Fc=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Fb(t){return t==null}const Ub=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Uc=(t,a)=>l=>!!(typeof l=="string"&&Ub.test(l)&&l.startsWith(t)||a&&!Fb(l)&&Object.prototype.hasOwnProperty.call(l,a)),xx=(t,a,l)=>r=>{if(typeof r!="string")return r;const[c,m,d,h]=r.match(Fc);return{[t]:parseFloat(c),[a]:parseFloat(m),[l]:parseFloat(d),alpha:h!==void 0?parseFloat(h):1}},Kb=t=>Ms(0,255,t),Ao={...ga,transform:t=>Math.round(Kb(t))},Mn={test:Uc("rgb","red"),parse:xx("red","green","blue"),transform:({red:t,green:a,blue:l,alpha:r=1})=>"rgba("+Ao.transform(t)+", "+Ao.transform(a)+", "+Ao.transform(l)+", "+ei(ri.transform(r))+")"};function Bb(t){let a="",l="",r="",c="";return t.length>5?(a=t.substring(1,3),l=t.substring(3,5),r=t.substring(5,7),c=t.substring(7,9)):(a=t.substring(1,2),l=t.substring(2,3),r=t.substring(3,4),c=t.substring(4,5),a+=a,l+=l,r+=r,c+=c),{red:parseInt(a,16),green:parseInt(l,16),blue:parseInt(r,16),alpha:c?parseInt(c,16)/255:1}}const Jo={test:Uc("#"),parse:Bb,transform:Mn.transform},fi=t=>({test:a=>typeof a=="string"&&a.endsWith(t)&&a.split(" ").length===1,parse:parseFloat,transform:a=>`${a}${t}`}),Xs=fi("deg"),rs=fi("%"),le=fi("px"),qb=fi("vh"),Yb=fi("vw"),rh=(()=>({...rs,parse:t=>rs.parse(t)/100,transform:t=>rs.transform(t*100)}))(),la={test:Uc("hsl","hue"),parse:xx("hue","saturation","lightness"),transform:({hue:t,saturation:a,lightness:l,alpha:r=1})=>"hsla("+Math.round(t)+", "+rs.transform(ei(a))+", "+rs.transform(ei(l))+", "+ei(ri.transform(r))+")"},Be={test:t=>Mn.test(t)||Jo.test(t)||la.test(t),parse:t=>Mn.test(t)?Mn.parse(t):la.test(t)?la.parse(t):Jo.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Mn.transform(t):la.transform(t),getAnimatableNone:t=>{const a=Be.parse(t);return a.alpha=0,Be.transform(a)}},Xb=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Qb(t){return isNaN(t)&&typeof t=="string"&&(t.match(Fc)?.length||0)+(t.match(Xb)?.length||0)>0}const fx="number",gx="color",Zb="var",Ib="var(",oh="${}",Wb=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function oi(t){const a=t.toString(),l=[],r={color:[],number:[],var:[]},c=[];let m=0;const h=a.replace(Wb,x=>(Be.test(x)?(r.color.push(m),c.push(gx),l.push(Be.parse(x))):x.startsWith(Ib)?(r.var.push(m),c.push(Zb),l.push(x)):(r.number.push(m),c.push(fx),l.push(parseFloat(x))),++m,oh)).split(oh);return{values:l,split:h,indexes:r,types:c}}function px(t){return oi(t).values}function yx(t){const{split:a,types:l}=oi(t),r=a.length;return c=>{let m="";for(let d=0;d<r;d++)if(m+=a[d],c[d]!==void 0){const h=l[d];h===fx?m+=ei(c[d]):h===gx?m+=Be.transform(c[d]):m+=c[d]}return m}}const Jb=t=>typeof t=="number"?0:Be.test(t)?Be.getAnimatableNone(t):t;function $b(t){const a=px(t);return yx(t)(a.map(Jb))}const Js={test:Qb,parse:px,createTransformer:yx,getAnimatableNone:$b};function To(t,a,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?t+(a-t)*6*l:l<1/2?a:l<2/3?t+(a-t)*(2/3-l)*6:t}function ev({hue:t,saturation:a,lightness:l,alpha:r}){t/=360,a/=100,l/=100;let c=0,m=0,d=0;if(!a)c=m=d=l;else{const h=l<.5?l*(1+a):l+a-l*a,x=2*l-h;c=To(x,h,t+1/3),m=To(x,h,t),d=To(x,h,t-1/3)}return{red:Math.round(c*255),green:Math.round(m*255),blue:Math.round(d*255),alpha:r}}function Nl(t,a){return l=>l>0?a:t}const Ge=(t,a,l)=>t+(a-t)*l,Eo=(t,a,l)=>{const r=t*t,c=l*(a*a-r)+r;return c<0?0:Math.sqrt(c)},tv=[Jo,Mn,la],sv=t=>tv.find(a=>a.test(t));function ch(t){const a=sv(t);if(!a)return!1;let l=a.parse(t);return a===la&&(l=ev(l)),l}const dh=(t,a)=>{const l=ch(t),r=ch(a);if(!l||!r)return Nl(t,a);const c={...l};return m=>(c.red=Eo(l.red,r.red,m),c.green=Eo(l.green,r.green,m),c.blue=Eo(l.blue,r.blue,m),c.alpha=Ge(l.alpha,r.alpha,m),Mn.transform(c))},$o=new Set(["none","hidden"]);function nv(t,a){return $o.has(t)?l=>l<=0?t:a:l=>l>=1?a:t}function av(t,a){return l=>Ge(t,a,l)}function Kc(t){return typeof t=="number"?av:typeof t=="string"?kc(t)?Nl:Be.test(t)?dh:rv:Array.isArray(t)?bx:typeof t=="object"?Be.test(t)?dh:iv:Nl}function bx(t,a){const l=[...t],r=l.length,c=t.map((m,d)=>Kc(m)(m,a[d]));return m=>{for(let d=0;d<r;d++)l[d]=c[d](m);return l}}function iv(t,a){const l={...t,...a},r={};for(const c in l)t[c]!==void 0&&a[c]!==void 0&&(r[c]=Kc(t[c])(t[c],a[c]));return c=>{for(const m in r)l[m]=r[m](c);return l}}function lv(t,a){const l=[],r={color:0,var:0,number:0};for(let c=0;c<a.values.length;c++){const m=a.types[c],d=t.indexes[m][r[m]],h=t.values[d]??0;l[c]=h,r[m]++}return l}const rv=(t,a)=>{const l=Js.createTransformer(a),r=oi(t),c=oi(a);return r.indexes.var.length===c.indexes.var.length&&r.indexes.color.length===c.indexes.color.length&&r.indexes.number.length>=c.indexes.number.length?$o.has(t)&&!c.values.length||$o.has(a)&&!r.values.length?nv(t,a):hi(bx(lv(r,c),c.values),l):Nl(t,a)};function vx(t,a,l){return typeof t=="number"&&typeof a=="number"&&typeof l=="number"?Ge(t,a,l):Kc(t)(t,a)}const ov=t=>{const a=({timestamp:l})=>t(l);return{start:(l=!0)=>Re.update(a,l),stop:()=>Ws(a),now:()=>et.isProcessing?et.timestamp:bt.now()}},jx=(t,a,l=10)=>{let r="";const c=Math.max(Math.round(a/l),2);for(let m=0;m<c;m++)r+=Math.round(t(m/(c-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Sl=2e4;function Bc(t){let a=0;const l=50;let r=t.next(a);for(;!r.done&&a<Sl;)a+=l,r=t.next(a);return a>=Sl?1/0:a}function cv(t,a=100,l){const r=l({...t,keyframes:[0,a]}),c=Math.min(Bc(r),Sl);return{type:"keyframes",ease:m=>r.next(c*m).value/a,duration:Kt(c)}}const dv=5;function Nx(t,a,l){const r=Math.max(a-dv,0);return tx(l-t(r),a-r)}const He={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ro=.001;function uv({duration:t=He.duration,bounce:a=He.bounce,velocity:l=He.velocity,mass:r=He.mass}){let c,m,d=1-a;d=Ms(He.minDamping,He.maxDamping,d),t=Ms(He.minDuration,He.maxDuration,Kt(t)),d<1?(c=p=>{const g=p*d,b=g*t,v=g-l,N=ec(p,d),j=Math.exp(-b);return Ro-v/N*j},m=p=>{const b=p*d*t,v=b*l+l,N=Math.pow(d,2)*Math.pow(p,2)*t,j=Math.exp(-b),w=ec(Math.pow(p,2),d);return(-c(p)+Ro>0?-1:1)*((v-N)*j)/w}):(c=p=>{const g=Math.exp(-p*t),b=(p-l)*t+1;return-Ro+g*b},m=p=>{const g=Math.exp(-p*t),b=(l-p)*(t*t);return g*b});const h=5/t,x=hv(c,m,h);if(t=ls(t),isNaN(x))return{stiffness:He.stiffness,damping:He.damping,duration:t};{const p=Math.pow(x,2)*r;return{stiffness:p,damping:d*2*Math.sqrt(r*p),duration:t}}}const mv=12;function hv(t,a,l){let r=l;for(let c=1;c<mv;c++)r=r-t(r)/a(r);return r}function ec(t,a){return t*Math.sqrt(1-a*a)}const xv=["duration","bounce"],fv=["stiffness","damping","mass"];function uh(t,a){return a.some(l=>t[l]!==void 0)}function gv(t){let a={velocity:He.velocity,stiffness:He.stiffness,damping:He.damping,mass:He.mass,isResolvedFromDuration:!1,...t};if(!uh(t,fv)&&uh(t,xv))if(t.visualDuration){const l=t.visualDuration,r=2*Math.PI/(l*1.2),c=r*r,m=2*Ms(.05,1,1-(t.bounce||0))*Math.sqrt(c);a={...a,mass:He.mass,stiffness:c,damping:m}}else{const l=uv(t);a={...a,...l,mass:He.mass},a.isResolvedFromDuration=!0}return a}function Ml(t=He.visualDuration,a=He.bounce){const l=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:a}:t;let{restSpeed:r,restDelta:c}=l;const m=l.keyframes[0],d=l.keyframes[l.keyframes.length-1],h={done:!1,value:m},{stiffness:x,damping:p,mass:g,duration:b,velocity:v,isResolvedFromDuration:N}=gv({...l,velocity:-Kt(l.velocity||0)}),j=v||0,w=p/(2*Math.sqrt(x*g)),A=d-m,S=Kt(Math.sqrt(x/g)),R=Math.abs(A)<5;r||(r=R?He.restSpeed.granular:He.restSpeed.default),c||(c=R?He.restDelta.granular:He.restDelta.default);let _;if(w<1){const O=ec(S,w);_=V=>{const K=Math.exp(-w*S*V);return d-K*((j+w*S*A)/O*Math.sin(O*V)+A*Math.cos(O*V))}}else if(w===1)_=O=>d-Math.exp(-S*O)*(A+(j+S*A)*O);else{const O=S*Math.sqrt(w*w-1);_=V=>{const K=Math.exp(-w*S*V),y=Math.min(O*V,300);return d-K*((j+w*S*A)*Math.sinh(y)+O*A*Math.cosh(y))/O}}const T={calculatedDuration:N&&b||null,next:O=>{const V=_(O);if(N)h.done=O>=b;else{let K=O===0?j:0;w<1&&(K=O===0?ls(j):Nx(_,O,V));const y=Math.abs(K)<=r,F=Math.abs(d-V)<=c;h.done=y&&F}return h.value=h.done?d:V,h},toString:()=>{const O=Math.min(Bc(T),Sl),V=jx(K=>T.next(O*K).value,O,30);return O+"ms "+V},toTransition:()=>{}};return T}Ml.applyToOptions=t=>{const a=cv(t,100,Ml);return t.ease=a.ease,t.duration=ls(a.duration),t.type="keyframes",t};function tc({keyframes:t,velocity:a=0,power:l=.8,timeConstant:r=325,bounceDamping:c=10,bounceStiffness:m=500,modifyTarget:d,min:h,max:x,restDelta:p=.5,restSpeed:g}){const b=t[0],v={done:!1,value:b},N=y=>h!==void 0&&y<h||x!==void 0&&y>x,j=y=>h===void 0?x:x===void 0||Math.abs(h-y)<Math.abs(x-y)?h:x;let w=l*a;const A=b+w,S=d===void 0?A:d(A);S!==A&&(w=S-b);const R=y=>-w*Math.exp(-y/r),_=y=>S+R(y),T=y=>{const F=R(y),Y=_(y);v.done=Math.abs(F)<=p,v.value=v.done?S:Y};let O,V;const K=y=>{N(v.value)&&(O=y,V=Ml({keyframes:[v.value,j(v.value)],velocity:Nx(_,y,v.value),damping:c,stiffness:m,restDelta:p,restSpeed:g}))};return K(0),{calculatedDuration:null,next:y=>{let F=!1;return!V&&O===void 0&&(F=!0,T(y),K(y)),O!==void 0&&y>=O?V.next(y-O):(!F&&T(y),v)}}}function pv(t,a,l){const r=[],c=l||ws.mix||vx,m=t.length-1;for(let d=0;d<m;d++){let h=c(t[d],t[d+1]);if(a){const x=Array.isArray(a)?a[d]||Bt:a;h=hi(x,h)}r.push(h)}return r}function yv(t,a,{clamp:l=!0,ease:r,mixer:c}={}){const m=t.length;if(Oc(m===a.length),m===1)return()=>a[0];if(m===2&&a[0]===a[1])return()=>a[1];const d=t[0]===t[1];t[0]>t[m-1]&&(t=[...t].reverse(),a=[...a].reverse());const h=pv(a,r,c),x=h.length,p=g=>{if(d&&g<t[0])return a[0];let b=0;if(x>1)for(;b<t.length-2&&!(g<t[b+1]);b++);const v=li(t[b],t[b+1],g);return h[b](v)};return l?g=>p(Ms(t[0],t[m-1],g)):p}function bv(t,a){const l=t[t.length-1];for(let r=1;r<=a;r++){const c=li(0,a,r);t.push(Ge(l,1,c))}}function vv(t){const a=[0];return bv(a,t.length-1),a}function jv(t,a){return t.map(l=>l*a)}function Nv(t,a){return t.map(()=>a||dx).splice(0,t.length-1)}function ti({duration:t=300,keyframes:a,times:l,ease:r="easeInOut"}){const c=Gb(r)?r.map(ih):ih(r),m={done:!1,value:a[0]},d=jv(l&&l.length===a.length?l:vv(a),t),h=yv(d,a,{ease:Array.isArray(c)?c:Nv(a,c)});return{calculatedDuration:t,next:x=>(m.value=h(x),m.done=x>=t,m)}}const Sv=t=>t!==null;function qc(t,{repeat:a,repeatType:l="loop"},r,c=1){const m=t.filter(Sv),h=c<0||a&&l!=="loop"&&a%2===1?0:m.length-1;return!h||r===void 0?m[h]:r}const Mv={decay:tc,inertia:tc,tween:ti,keyframes:ti,spring:Ml};function Sx(t){typeof t.type=="string"&&(t.type=Mv[t.type])}class Yc{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(a=>{this.resolve=a})}notifyFinished(){this.resolve()}then(a,l){return this.finished.then(a,l)}}const wv=t=>t/100;class Xc extends Yc{constructor(a){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:l}=this.options;l&&l.updatedAt!==bt.now()&&this.tick(bt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=a,this.initAnimation(),this.play(),a.autoplay===!1&&this.pause()}initAnimation(){const{options:a}=this;Sx(a);const{type:l=ti,repeat:r=0,repeatDelay:c=0,repeatType:m,velocity:d=0}=a;let{keyframes:h}=a;const x=l||ti;x!==ti&&typeof h[0]!="number"&&(this.mixKeyframes=hi(wv,vx(h[0],h[1])),h=[0,100]);const p=x({...a,keyframes:h});m==="mirror"&&(this.mirroredGenerator=x({...a,keyframes:[...h].reverse(),velocity:-d})),p.calculatedDuration===null&&(p.calculatedDuration=Bc(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+c,this.totalDuration=this.resolvedDuration*(r+1)-c,this.generator=p}updateTime(a){const l=Math.round(a-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=l}tick(a,l=!1){const{generator:r,totalDuration:c,mixKeyframes:m,mirroredGenerator:d,resolvedDuration:h,calculatedDuration:x}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:b,repeatType:v,repeatDelay:N,type:j,onUpdate:w,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,a):this.speed<0&&(this.startTime=Math.min(a-c/this.speed,this.startTime)),l?this.currentTime=a:this.updateTime(a);const S=this.currentTime-p*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?S<0:S>c;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let _=this.currentTime,T=r;if(b){const y=Math.min(this.currentTime,c)/h;let F=Math.floor(y),Y=y%1;!Y&&y>=1&&(Y=1),Y===1&&F--,F=Math.min(F,b+1),!!(F%2)&&(v==="reverse"?(Y=1-Y,N&&(Y-=N/h)):v==="mirror"&&(T=d)),_=Ms(0,1,Y)*h}const O=R?{done:!1,value:g[0]}:T.next(_);m&&(O.value=m(O.value));let{done:V}=O;!R&&x!==null&&(V=this.playbackSpeed>=0?this.currentTime>=c:this.currentTime<=0);const K=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return K&&j!==tc&&(O.value=qc(g,this.options,A,this.speed)),w&&w(O.value),K&&this.finish(),O}then(a,l){return this.finished.then(a,l)}get duration(){return Kt(this.calculatedDuration)}get iterationDuration(){const{delay:a=0}=this.options||{};return this.duration+Kt(a)}get time(){return Kt(this.currentTime)}set time(a){a=ls(a),this.currentTime=a,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=a:this.driver&&(this.startTime=this.driver.now()-a/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(a){this.updateTime(bt.now());const l=this.playbackSpeed!==a;this.playbackSpeed=a,l&&(this.time=Kt(this.currentTime))}play(){if(this.isStopped)return;const{driver:a=ov,startTime:l}=this.options;this.driver||(this.driver=a(c=>this.tick(c))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=l??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(bt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(a){return this.startTime=0,this.tick(a,!0)}attachTimeline(a){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),a.observe(this)}}function Av(t){for(let a=1;a<t.length;a++)t[a]??(t[a]=t[a-1])}const wn=t=>t*180/Math.PI,sc=t=>{const a=wn(Math.atan2(t[1],t[0]));return nc(a)},Tv={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:sc,rotateZ:sc,skewX:t=>wn(Math.atan(t[1])),skewY:t=>wn(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},nc=t=>(t=t%360,t<0&&(t+=360),t),mh=sc,hh=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),xh=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Ev={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hh,scaleY:xh,scale:t=>(hh(t)+xh(t))/2,rotateX:t=>nc(wn(Math.atan2(t[6],t[5]))),rotateY:t=>nc(wn(Math.atan2(-t[2],t[0]))),rotateZ:mh,rotate:mh,skewX:t=>wn(Math.atan(t[4])),skewY:t=>wn(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ac(t){return t.includes("scale")?1:0}function ic(t,a){if(!t||t==="none")return ac(a);const l=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,c;if(l)r=Ev,c=l;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Tv,c=h}if(!c)return ac(a);const m=r[a],d=c[1].split(",").map(_v);return typeof m=="function"?m(d):d[m]}const Rv=(t,a)=>{const{transform:l="none"}=getComputedStyle(t);return ic(l,a)};function _v(t){return parseFloat(t.trim())}const pa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ya=(()=>new Set(pa))(),fh=t=>t===ga||t===le,Dv=new Set(["x","y","z"]),Cv=pa.filter(t=>!Dv.has(t));function Gv(t){const a=[];return Cv.forEach(l=>{const r=t.getValue(l);r!==void 0&&(a.push([l,r.get()]),r.set(l.startsWith("scale")?1:0))}),a}const An={width:({x:t},{paddingLeft:a="0",paddingRight:l="0"})=>t.max-t.min-parseFloat(a)-parseFloat(l),height:({y:t},{paddingTop:a="0",paddingBottom:l="0"})=>t.max-t.min-parseFloat(a)-parseFloat(l),top:(t,{top:a})=>parseFloat(a),left:(t,{left:a})=>parseFloat(a),bottom:({y:t},{top:a})=>parseFloat(a)+(t.max-t.min),right:({x:t},{left:a})=>parseFloat(a)+(t.max-t.min),x:(t,{transform:a})=>ic(a,"x"),y:(t,{transform:a})=>ic(a,"y")};An.translateX=An.x;An.translateY=An.y;const Tn=new Set;let lc=!1,rc=!1,oc=!1;function Mx(){if(rc){const t=Array.from(Tn).filter(r=>r.needsMeasurement),a=new Set(t.map(r=>r.element)),l=new Map;a.forEach(r=>{const c=Gv(r);c.length&&(l.set(r,c),r.render())}),t.forEach(r=>r.measureInitialState()),a.forEach(r=>{r.render();const c=l.get(r);c&&c.forEach(([m,d])=>{r.getValue(m)?.set(d)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}rc=!1,lc=!1,Tn.forEach(t=>t.complete(oc)),Tn.clear()}function wx(){Tn.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(rc=!0)})}function Ov(){oc=!0,wx(),Mx(),oc=!1}class Qc{constructor(a,l,r,c,m,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...a],this.onComplete=l,this.name=r,this.motionValue=c,this.element=m,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(Tn.add(this),lc||(lc=!0,Re.read(wx),Re.resolveKeyframes(Mx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:a,name:l,element:r,motionValue:c}=this;if(a[0]===null){const m=c?.get(),d=a[a.length-1];if(m!==void 0)a[0]=m;else if(r&&l){const h=r.readValue(l,d);h!=null&&(a[0]=h)}a[0]===void 0&&(a[0]=d),c&&m===void 0&&c.set(a[0])}Av(a)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(a=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,a),Tn.delete(this)}cancel(){this.state==="scheduled"&&(Tn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Lv=t=>t.startsWith("--");function Pv(t,a,l){Lv(a)?t.style.setProperty(a,l):t.style[a]=l}const Hv=Lc(()=>window.ScrollTimeline!==void 0),Vv={};function zv(t,a){const l=Lc(t);return()=>Vv[a]??l()}const Ax=zv(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$a=([t,a,l,r])=>`cubic-bezier(${t}, ${a}, ${l}, ${r})`,gh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$a([0,.65,.55,1]),circOut:$a([.55,0,1,.45]),backIn:$a([.31,.01,.66,-.59]),backOut:$a([.33,1.53,.69,.99])};function Tx(t,a){if(t)return typeof t=="function"?Ax()?jx(t,a):"ease-out":ux(t)?$a(t):Array.isArray(t)?t.map(l=>Tx(l,a)||gh.easeOut):gh[t]}function kv(t,a,l,{delay:r=0,duration:c=300,repeat:m=0,repeatType:d="loop",ease:h="easeOut",times:x}={},p=void 0){const g={[a]:l};x&&(g.offset=x);const b=Tx(h,c);Array.isArray(b)&&(g.easing=b);const v={delay:r,duration:c,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:m+1,direction:d==="reverse"?"alternate":"normal"};return p&&(v.pseudoElement=p),t.animate(g,v)}function Ex(t){return typeof t=="function"&&"applyToOptions"in t}function Fv({type:t,...a}){return Ex(t)&&Ax()?t.applyToOptions(a):(a.duration??(a.duration=300),a.ease??(a.ease="easeOut"),a)}class Uv extends Yc{constructor(a){if(super(),this.finishedTime=null,this.isStopped=!1,!a)return;const{element:l,name:r,keyframes:c,pseudoElement:m,allowFlatten:d=!1,finalKeyframe:h,onComplete:x}=a;this.isPseudoElement=!!m,this.allowFlatten=d,this.options=a,Oc(typeof a.type!="string");const p=Fv(a);this.animation=kv(l,r,c,p,m),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!m){const g=qc(c,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):Pv(l,r,g),this.animation.cancel()}x?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:a}=this;a==="idle"||a==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const a=this.animation.effect?.getComputedTiming?.().duration||0;return Kt(Number(a))}get iterationDuration(){const{delay:a=0}=this.options||{};return this.duration+Kt(a)}get time(){return Kt(Number(this.animation.currentTime)||0)}set time(a){this.finishedTime=null,this.animation.currentTime=ls(a)}get speed(){return this.animation.playbackRate}set speed(a){a<0&&(this.finishedTime=null),this.animation.playbackRate=a}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(a){this.animation.startTime=a}attachTimeline({timeline:a,observe:l}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,a&&Hv()?(this.animation.timeline=a,Bt):l(this)}}const Rx={anticipate:rx,backInOut:lx,circInOut:cx};function Kv(t){return t in Rx}function Bv(t){typeof t.ease=="string"&&Kv(t.ease)&&(t.ease=Rx[t.ease])}const ph=10;class qv extends Uv{constructor(a){Bv(a),Sx(a),super(a),a.startTime&&(this.startTime=a.startTime),this.options=a}updateMotionValue(a){const{motionValue:l,onUpdate:r,onComplete:c,element:m,...d}=this.options;if(!l)return;if(a!==void 0){l.set(a);return}const h=new Xc({...d,autoplay:!1}),x=ls(this.finishedTime??this.time);l.setWithVelocity(h.sample(x-ph).value,h.sample(x).value,ph),h.stop()}}const yh=(t,a)=>a==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Js.test(t)||t==="0")&&!t.startsWith("url("));function Yv(t){const a=t[0];if(t.length===1)return!0;for(let l=0;l<t.length;l++)if(t[l]!==a)return!0}function Xv(t,a,l,r){const c=t[0];if(c===null)return!1;if(a==="display"||a==="visibility")return!0;const m=t[t.length-1],d=yh(c,a),h=yh(m,a);return!d||!h?!1:Yv(t)||(l==="spring"||Ex(l))&&r}function cc(t){t.duration=0,t.type="keyframes"}const Qv=new Set(["opacity","clipPath","filter","transform"]),Zv=Lc(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Iv(t){const{motionValue:a,name:l,repeatDelay:r,repeatType:c,damping:m,type:d}=t;if(!(a?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:x,transformTemplate:p}=a.owner.getProps();return Zv()&&l&&Qv.has(l)&&(l!=="transform"||!p)&&!x&&!r&&c!=="mirror"&&m!==0&&d!=="inertia"}const Wv=40;class Jv extends Yc{constructor({autoplay:a=!0,delay:l=0,type:r="keyframes",repeat:c=0,repeatDelay:m=0,repeatType:d="loop",keyframes:h,name:x,motionValue:p,element:g,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=bt.now();const v={autoplay:a,delay:l,type:r,repeat:c,repeatDelay:m,repeatType:d,name:x,motionValue:p,element:g,...b},N=g?.KeyframeResolver||Qc;this.keyframeResolver=new N(h,(j,w,A)=>this.onKeyframesResolved(j,w,v,!A),x,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(a,l,r,c){this.keyframeResolver=void 0;const{name:m,type:d,velocity:h,delay:x,isHandoff:p,onUpdate:g}=r;this.resolvedAt=bt.now(),Xv(a,m,d,h)||((ws.instantAnimations||!x)&&g?.(qc(a,r,l)),a[0]=a[a.length-1],cc(r),r.repeat=0);const v={startTime:c?this.resolvedAt?this.resolvedAt-this.createdAt>Wv?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:l,...r,keyframes:a},N=!p&&Iv(v)?new qv({...v,element:v.motionValue.owner.current}):new Xc(v);N.finished.then(()=>this.notifyFinished()).catch(Bt),this.pendingTimeline&&(this.stopTimeline=N.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=N}get finished(){return this._animation?this.animation.finished:this._finished}then(a,l){return this.finished.finally(a).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Ov()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(a){this.animation.time=a}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(a){this.animation.speed=a}get startTime(){return this.animation.startTime}attachTimeline(a){return this._animation?this.stopTimeline=this.animation.attachTimeline(a):this.pendingTimeline=a,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const $v=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ej(t){const a=$v.exec(t);if(!a)return[,];const[,l,r,c]=a;return[`--${l??r}`,c]}function _x(t,a,l=1){const[r,c]=ej(t);if(!r)return;const m=window.getComputedStyle(a).getPropertyValue(r);if(m){const d=m.trim();return J0(d)?parseFloat(d):d}return kc(c)?_x(c,a,l+1):c}function Zc(t,a){return t?.[a]??t?.default??t}const Dx=new Set(["width","height","top","left","right","bottom",...pa]),tj={test:t=>t==="auto",parse:t=>t},Cx=t=>a=>a.test(t),Gx=[ga,le,rs,Xs,Yb,qb,tj],bh=t=>Gx.find(Cx(t));function sj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ex(t):!0}const nj=new Set(["brightness","contrast","saturate","opacity"]);function aj(t){const[a,l]=t.slice(0,-1).split("(");if(a==="drop-shadow")return t;const[r]=l.match(Fc)||[];if(!r)return t;const c=l.replace(r,"");let m=nj.has(a)?1:0;return r!==l&&(m*=100),a+"("+m+c+")"}const ij=/\b([a-z-]*)\(.*?\)/gu,dc={...Js,getAnimatableNone:t=>{const a=t.match(ij);return a?a.map(aj).join(" "):t}},vh={...ga,transform:Math.round},lj={rotate:Xs,rotateX:Xs,rotateY:Xs,rotateZ:Xs,scale:ul,scaleX:ul,scaleY:ul,scaleZ:ul,skew:Xs,skewX:Xs,skewY:Xs,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:ri,originX:rh,originY:rh,originZ:le},Ic={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,backgroundPositionX:le,backgroundPositionY:le,...lj,zIndex:vh,fillOpacity:ri,strokeOpacity:ri,numOctaves:vh},rj={...Ic,color:Be,backgroundColor:Be,outlineColor:Be,fill:Be,stroke:Be,borderColor:Be,borderTopColor:Be,borderRightColor:Be,borderBottomColor:Be,borderLeftColor:Be,filter:dc,WebkitFilter:dc},Ox=t=>rj[t];function Lx(t,a){let l=Ox(t);return l!==dc&&(l=Js),l.getAnimatableNone?l.getAnimatableNone(a):void 0}const oj=new Set(["auto","none","0"]);function cj(t,a,l){let r=0,c;for(;r<t.length&&!c;){const m=t[r];typeof m=="string"&&!oj.has(m)&&oi(m).values.length&&(c=t[r]),r++}if(c&&l)for(const m of a)t[m]=Lx(l,c)}class dj extends Qc{constructor(a,l,r,c,m){super(a,l,r,c,m,!0)}readKeyframes(){const{unresolvedKeyframes:a,element:l,name:r}=this;if(!l||!l.current)return;super.readKeyframes();for(let x=0;x<a.length;x++){let p=a[x];if(typeof p=="string"&&(p=p.trim(),kc(p))){const g=_x(p,l.current);g!==void 0&&(a[x]=g),x===a.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Dx.has(r)||a.length!==2)return;const[c,m]=a,d=bh(c),h=bh(m);if(d!==h)if(fh(d)&&fh(h))for(let x=0;x<a.length;x++){const p=a[x];typeof p=="string"&&(a[x]=parseFloat(p))}else An[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:a,name:l}=this,r=[];for(let c=0;c<a.length;c++)(a[c]===null||sj(a[c]))&&r.push(c);r.length&&cj(a,r,l)}measureInitialState(){const{element:a,unresolvedKeyframes:l,name:r}=this;if(!a||!a.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=An[r](a.measureViewportBox(),window.getComputedStyle(a.current)),l[0]=this.measuredOrigin;const c=l[l.length-1];c!==void 0&&a.getValue(r,c).jump(c,!1)}measureEndState(){const{element:a,name:l,unresolvedKeyframes:r}=this;if(!a||!a.current)return;const c=a.getValue(l);c&&c.jump(this.measuredOrigin,!1);const m=r.length-1,d=r[m];r[m]=An[l](a.measureViewportBox(),window.getComputedStyle(a.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,x])=>{a.getValue(h).set(x)}),this.resolveNoneKeyframes()}}function uj(t,a,l){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;a&&(r=a.current);const c=l?.[t]??r.querySelectorAll(t);return c?Array.from(c):[]}return Array.from(t)}const Px=(t,a)=>a&&typeof t=="number"?a.transform(t):t;function Hx(t){return $0(t)&&"offsetHeight"in t}const jh=30,mj=t=>!isNaN(parseFloat(t));class hj{constructor(a,l={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const c=bt.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const m of this.dependents)m.dirty()},this.hasAnimated=!1,this.setCurrent(a),this.owner=l.owner}setCurrent(a){this.current=a,this.updatedAt=bt.now(),this.canTrackVelocity===null&&a!==void 0&&(this.canTrackVelocity=mj(this.current))}setPrevFrameValue(a=this.current){this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt}onChange(a){return this.on("change",a)}on(a,l){this.events[a]||(this.events[a]=new Pc);const r=this.events[a].add(l);return a==="change"?()=>{r(),Re.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const a in this.events)this.events[a].clear()}attach(a,l){this.passiveEffect=a,this.stopPassiveEffect=l}set(a){this.passiveEffect?this.passiveEffect(a,this.updateAndNotify):this.updateAndNotify(a)}setWithVelocity(a,l,r){this.set(l),this.prev=void 0,this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt-r}jump(a,l=!0){this.updateAndNotify(a),this.prev=a,this.prevUpdatedAt=this.prevFrameValue=void 0,l&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(a){this.dependents||(this.dependents=new Set),this.dependents.add(a)}removeDependent(a){this.dependents&&this.dependents.delete(a)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const a=bt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||a-this.updatedAt>jh)return 0;const l=Math.min(this.updatedAt-this.prevUpdatedAt,jh);return tx(parseFloat(this.current)-parseFloat(this.prevFrameValue),l)}start(a){return this.stop(),new Promise(l=>{this.hasAnimated=!0,this.animation=a(l),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ma(t,a){return new hj(t,a)}const{schedule:Wc,cancel:dS}=mx(queueMicrotask,!1),It={x:!1,y:!1};function Vx(){return It.x||It.y}function xj(t){return t==="x"||t==="y"?It[t]?null:(It[t]=!0,()=>{It[t]=!1}):It.x||It.y?null:(It.x=It.y=!0,()=>{It.x=It.y=!1})}function zx(t,a){const l=uj(t),r=new AbortController,c={passive:!0,...a,signal:r.signal};return[l,c,()=>r.abort()]}function Nh(t){return!(t.pointerType==="touch"||Vx())}function fj(t,a,l={}){const[r,c,m]=zx(t,l),d=h=>{if(!Nh(h))return;const{target:x}=h,p=a(x,h);if(typeof p!="function"||!x)return;const g=b=>{Nh(b)&&(p(b),x.removeEventListener("pointerleave",g))};x.addEventListener("pointerleave",g,c)};return r.forEach(h=>{h.addEventListener("pointerenter",d,c)}),m}const kx=(t,a)=>a?t===a?!0:kx(t,a.parentElement):!1,Jc=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,gj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pj(t){return gj.has(t.tagName)||t.tabIndex!==-1}const pl=new WeakSet;function Sh(t){return a=>{a.key==="Enter"&&t(a)}}function _o(t,a){t.dispatchEvent(new PointerEvent("pointer"+a,{isPrimary:!0,bubbles:!0}))}const yj=(t,a)=>{const l=t.currentTarget;if(!l)return;const r=Sh(()=>{if(pl.has(l))return;_o(l,"down");const c=Sh(()=>{_o(l,"up")}),m=()=>_o(l,"cancel");l.addEventListener("keyup",c,a),l.addEventListener("blur",m,a)});l.addEventListener("keydown",r,a),l.addEventListener("blur",()=>l.removeEventListener("keydown",r),a)};function Mh(t){return Jc(t)&&!Vx()}function bj(t,a,l={}){const[r,c,m]=zx(t,l),d=h=>{const x=h.currentTarget;if(!Mh(h))return;pl.add(x);const p=a(x,h),g=(N,j)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",v),pl.has(x)&&pl.delete(x),Mh(N)&&typeof p=="function"&&p(N,{success:j})},b=N=>{g(N,x===window||x===document||l.useGlobalTarget||kx(x,N.target))},v=N=>{g(N,!1)};window.addEventListener("pointerup",b,c),window.addEventListener("pointercancel",v,c)};return r.forEach(h=>{(l.useGlobalTarget?window:h).addEventListener("pointerdown",d,c),Hx(h)&&(h.addEventListener("focus",p=>yj(p,c)),!pj(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),m}function Fx(t){return $0(t)&&"ownerSVGElement"in t}function vj(t){return Fx(t)&&t.tagName==="svg"}const ct=t=>!!(t&&t.getVelocity),jj=[...Gx,Be,Js],Nj=t=>jj.find(Cx(t)),$c=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function wh(t,a){if(typeof t=="function")return t(a);t!=null&&(t.current=a)}function Sj(...t){return a=>{let l=!1;const r=t.map(c=>{const m=wh(c,a);return!l&&typeof m=="function"&&(l=!0),m});if(l)return()=>{for(let c=0;c<r.length;c++){const m=r[c];typeof m=="function"?m():wh(t[c],null)}}}}function Mj(...t){return C.useCallback(Sj(...t),t)}class wj extends C.Component{getSnapshotBeforeUpdate(a){const l=this.props.childRef.current;if(l&&a.isPresent&&!this.props.isPresent){const r=l.offsetParent,c=Hx(r)&&r.offsetWidth||0,m=this.props.sizeRef.current;m.height=l.offsetHeight||0,m.width=l.offsetWidth||0,m.top=l.offsetTop,m.left=l.offsetLeft,m.right=c-m.width-m.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Aj({children:t,isPresent:a,anchorX:l,root:r}){const c=C.useId(),m=C.useRef(null),d=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=C.useContext($c),x=Mj(m,t?.ref);return C.useInsertionEffect(()=>{const{width:p,height:g,top:b,left:v,right:N}=d.current;if(a||!m.current||!p||!g)return;const j=l==="left"?`left: ${v}`:`right: ${N}`;m.current.dataset.motionPopId=c;const w=document.createElement("style");h&&(w.nonce=h);const A=r??document.head;return A.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${j}px !important;
            top: ${b}px !important;
          }
        `),()=>{A.contains(w)&&A.removeChild(w)}},[a]),e.jsx(wj,{isPresent:a,childRef:m,sizeRef:d,children:C.cloneElement(t,{ref:x})})}const Tj=({children:t,initial:a,isPresent:l,onExitComplete:r,custom:c,presenceAffectsLayout:m,mode:d,anchorX:h,root:x})=>{const p=_c(Ej),g=C.useId();let b=!0,v=C.useMemo(()=>(b=!1,{id:g,initial:a,isPresent:l,custom:c,onExitComplete:N=>{p.set(N,!0);for(const j of p.values())if(!j)return;r&&r()},register:N=>(p.set(N,!1),()=>p.delete(N))}),[l,p,r]);return m&&b&&(v={...v}),C.useMemo(()=>{p.forEach((N,j)=>p.set(j,!1))},[l]),C.useEffect(()=>{!l&&!p.size&&r&&r()},[l]),d==="popLayout"&&(t=e.jsx(Aj,{isPresent:l,anchorX:h,root:x,children:t})),e.jsx(Ol.Provider,{value:v,children:t})};function Ej(){return new Map}function Ux(t=!0){const a=C.useContext(Ol);if(a===null)return[!0,null];const{isPresent:l,onExitComplete:r,register:c}=a,m=C.useId();C.useEffect(()=>{if(t)return c(m)},[t]);const d=C.useCallback(()=>t&&r&&r(m),[m,r,t]);return!l&&r?[!1,d]:[!0]}const ml=t=>t.key||"";function Ah(t){const a=[];return C.Children.forEach(t,l=>{C.isValidElement(l)&&a.push(l)}),a}const Rj=({children:t,custom:a,initial:l=!0,onExitComplete:r,presenceAffectsLayout:c=!0,mode:m="sync",propagate:d=!1,anchorX:h="left",root:x})=>{const[p,g]=Ux(d),b=C.useMemo(()=>Ah(t),[t]),v=d&&!p?[]:b.map(ml),N=C.useRef(!0),j=C.useRef(b),w=_c(()=>new Map),[A,S]=C.useState(b),[R,_]=C.useState(b);W0(()=>{N.current=!1,j.current=b;for(let V=0;V<R.length;V++){const K=ml(R[V]);v.includes(K)?w.delete(K):w.get(K)!==!0&&w.set(K,!1)}},[R,v.length,v.join("-")]);const T=[];if(b!==A){let V=[...b];for(let K=0;K<R.length;K++){const y=R[K],F=ml(y);v.includes(F)||(V.splice(K,0,y),T.push(y))}return m==="wait"&&T.length&&(V=T),_(Ah(V)),S(b),null}const{forceRender:O}=C.useContext(Rc);return e.jsx(e.Fragment,{children:R.map(V=>{const K=ml(V),y=d&&!p?!1:b===R||v.includes(K),F=()=>{if(w.has(K))w.set(K,!0);else return;let Y=!0;w.forEach(X=>{X||(Y=!1)}),Y&&(O?.(),_(j.current),d&&g?.(),r&&r())};return e.jsx(Tj,{isPresent:y,initial:!N.current||l?void 0:!1,custom:a,presenceAffectsLayout:c,mode:m,root:x,onExitComplete:y?void 0:F,anchorX:h,children:V},K)})})},Kx=C.createContext({strict:!1}),Th={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ha={};for(const t in Th)ha[t]={isEnabled:a=>Th[t].some(l=>!!a[l])};function _j(t){for(const a in t)ha[a]={...ha[a],...t[a]}}const Dj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Dj.has(t)}let Bx=t=>!wl(t);function Cj(t){typeof t=="function"&&(Bx=a=>a.startsWith("on")?!wl(a):t(a))}try{Cj(require("@emotion/is-prop-valid").default)}catch{}function Gj(t,a,l){const r={};for(const c in t)c==="values"&&typeof t.values=="object"||(Bx(c)||l===!0&&wl(c)||!a&&!wl(c)||t.draggable&&c.startsWith("onDrag"))&&(r[c]=t[c]);return r}const Ll=C.createContext({});function Pl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ci(t){return typeof t=="string"||Array.isArray(t)}const ed=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],td=["initial",...ed];function Hl(t){return Pl(t.animate)||td.some(a=>ci(t[a]))}function qx(t){return!!(Hl(t)||t.variants)}function Oj(t,a){if(Hl(t)){const{initial:l,animate:r}=t;return{initial:l===!1||ci(l)?l:void 0,animate:ci(r)?r:void 0}}return t.inherit!==!1?a:{}}function Lj(t){const{initial:a,animate:l}=Oj(t,C.useContext(Ll));return C.useMemo(()=>({initial:a,animate:l}),[Eh(a),Eh(l)])}function Eh(t){return Array.isArray(t)?t.join(" "):t}const di={};function Pj(t){for(const a in t)di[a]=t[a],zc(a)&&(di[a].isCSSVariable=!0)}function Yx(t,{layout:a,layoutId:l}){return ya.has(t)||t.startsWith("origin")||(a||l!==void 0)&&(!!di[t]||t==="opacity")}const Hj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Vj=pa.length;function zj(t,a,l){let r="",c=!0;for(let m=0;m<Vj;m++){const d=pa[m],h=t[d];if(h===void 0)continue;let x=!0;if(typeof h=="number"?x=h===(d.startsWith("scale")?1:0):x=parseFloat(h)===0,!x||l){const p=Px(h,Ic[d]);if(!x){c=!1;const g=Hj[d]||d;r+=`${g}(${p}) `}l&&(a[d]=p)}}return r=r.trim(),l?r=l(a,c?"":r):c&&(r="none"),r}function sd(t,a,l){const{style:r,vars:c,transformOrigin:m}=t;let d=!1,h=!1;for(const x in a){const p=a[x];if(ya.has(x)){d=!0;continue}else if(zc(x)){c[x]=p;continue}else{const g=Px(p,Ic[x]);x.startsWith("origin")?(h=!0,m[x]=g):r[x]=g}}if(a.transform||(d||l?r.transform=zj(a,t.transform,l):r.transform&&(r.transform="none")),h){const{originX:x="50%",originY:p="50%",originZ:g=0}=m;r.transformOrigin=`${x} ${p} ${g}`}}const nd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Xx(t,a,l){for(const r in a)!ct(a[r])&&!Yx(r,l)&&(t[r]=a[r])}function kj({transformTemplate:t},a){return C.useMemo(()=>{const l=nd();return sd(l,a,t),Object.assign({},l.vars,l.style)},[a])}function Fj(t,a){const l=t.style||{},r={};return Xx(r,l,t),Object.assign(r,kj(t,a)),r}function Uj(t,a){const l={},r=Fj(t,a);return t.drag&&t.dragListener!==!1&&(l.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(l.tabIndex=0),l.style=r,l}const Kj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Bj={offset:"strokeDashoffset",array:"strokeDasharray"};function qj(t,a,l=1,r=0,c=!0){t.pathLength=1;const m=c?Kj:Bj;t[m.offset]=le.transform(-r);const d=le.transform(a),h=le.transform(l);t[m.array]=`${d} ${h}`}function Qx(t,{attrX:a,attrY:l,attrScale:r,pathLength:c,pathSpacing:m=1,pathOffset:d=0,...h},x,p,g){if(sd(t,h,p),x){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:v}=t;b.transform&&(v.transform=b.transform,delete b.transform),(v.transform||b.transformOrigin)&&(v.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),v.transform&&(v.transformBox=g?.transformBox??"fill-box",delete b.transformBox),a!==void 0&&(b.x=a),l!==void 0&&(b.y=l),r!==void 0&&(b.scale=r),c!==void 0&&qj(b,c,m,d,!1)}const Zx=()=>({...nd(),attrs:{}}),Ix=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Yj(t,a,l,r){const c=C.useMemo(()=>{const m=Zx();return Qx(m,a,Ix(r),t.transformTemplate,t.style),{...m.attrs,style:{...m.style}}},[a]);if(t.style){const m={};Xx(m,t.style,t),c.style={...m,...c.style}}return c}const Xj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ad(t){return typeof t!="string"||t.includes("-")?!1:!!(Xj.indexOf(t)>-1||/[A-Z]/u.test(t))}function Qj(t,a,l,{latestValues:r},c,m=!1){const h=(ad(t)?Yj:Uj)(a,r,c,t),x=Gj(a,typeof t=="string",m),p=t!==C.Fragment?{...x,...h,ref:l}:{},{children:g}=a,b=C.useMemo(()=>ct(g)?g.get():g,[g]);return C.createElement(t,{...p,children:b})}function Rh(t){const a=[{},{}];return t?.values.forEach((l,r)=>{a[0][r]=l.get(),a[1][r]=l.getVelocity()}),a}function id(t,a,l,r){if(typeof a=="function"){const[c,m]=Rh(r);a=a(l!==void 0?l:t.custom,c,m)}if(typeof a=="string"&&(a=t.variants&&t.variants[a]),typeof a=="function"){const[c,m]=Rh(r);a=a(l!==void 0?l:t.custom,c,m)}return a}function yl(t){return ct(t)?t.get():t}function Zj({scrapeMotionValuesFromProps:t,createRenderState:a},l,r,c){return{latestValues:Ij(l,r,c,t),renderState:a()}}function Ij(t,a,l,r){const c={},m=r(t,{});for(const v in m)c[v]=yl(m[v]);let{initial:d,animate:h}=t;const x=Hl(t),p=qx(t);a&&p&&!x&&t.inherit!==!1&&(d===void 0&&(d=a.initial),h===void 0&&(h=a.animate));let g=l?l.initial===!1:!1;g=g||d===!1;const b=g?h:d;if(b&&typeof b!="boolean"&&!Pl(b)){const v=Array.isArray(b)?b:[b];for(let N=0;N<v.length;N++){const j=id(t,v[N]);if(j){const{transitionEnd:w,transition:A,...S}=j;for(const R in S){let _=S[R];if(Array.isArray(_)){const T=g?_.length-1:0;_=_[T]}_!==null&&(c[R]=_)}for(const R in w)c[R]=w[R]}}}return c}const Wx=t=>(a,l)=>{const r=C.useContext(Ll),c=C.useContext(Ol),m=()=>Zj(t,a,r,c);return l?m():_c(m)};function ld(t,a,l){const{style:r}=t,c={};for(const m in r)(ct(r[m])||a.style&&ct(a.style[m])||Yx(m,t)||l?.getValue(m)?.liveStyle!==void 0)&&(c[m]=r[m]);return c}const Wj=Wx({scrapeMotionValuesFromProps:ld,createRenderState:nd});function Jx(t,a,l){const r=ld(t,a,l);for(const c in t)if(ct(t[c])||ct(a[c])){const m=pa.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;r[m]=t[c]}return r}const Jj=Wx({scrapeMotionValuesFromProps:Jx,createRenderState:Zx}),$j=Symbol.for("motionComponentSymbol");function ra(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function eN(t,a,l){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),a&&(r?a.mount(r):a.unmount()),l&&(typeof l=="function"?l(r):ra(l)&&(l.current=r))},[a])}const rd=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tN="framerAppearId",$x="data-"+rd(tN),ef=C.createContext({});function sN(t,a,l,r,c){const{visualElement:m}=C.useContext(Ll),d=C.useContext(Kx),h=C.useContext(Ol),x=C.useContext($c).reducedMotion,p=C.useRef(null);r=r||d.renderer,!p.current&&r&&(p.current=r(t,{visualState:a,parent:m,props:l,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:x}));const g=p.current,b=C.useContext(ef);g&&!g.projection&&c&&(g.type==="html"||g.type==="svg")&&nN(p.current,l,c,b);const v=C.useRef(!1);C.useInsertionEffect(()=>{g&&v.current&&g.update(l,h)});const N=l[$x],j=C.useRef(!!N&&!window.MotionHandoffIsComplete?.(N)&&window.MotionHasOptimisedAnimation?.(N));return W0(()=>{g&&(v.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),j.current&&g.animationState&&g.animationState.animateChanges())}),C.useEffect(()=>{g&&(!j.current&&g.animationState&&g.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(N)}),j.current=!1),g.enteringChildren=void 0)}),g}function nN(t,a,l,r){const{layoutId:c,layout:m,drag:d,dragConstraints:h,layoutScroll:x,layoutRoot:p,layoutCrossfade:g}=a;t.projection=new l(t.latestValues,a["data-framer-portal-id"]?void 0:tf(t.parent)),t.projection.setOptions({layoutId:c,layout:m,alwaysMeasureLayout:!!d||h&&ra(h),visualElement:t,animationType:typeof m=="string"?m:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:x,layoutRoot:p})}function tf(t){if(t)return t.options.allowProjection!==!1?t.projection:tf(t.parent)}function Do(t,{forwardMotionProps:a=!1}={},l,r){l&&_j(l);const c=ad(t)?Jj:Wj;function m(h,x){let p;const g={...C.useContext($c),...h,layoutId:aN(h)},{isStatic:b}=g,v=Lj(h),N=c(h,b);if(!b&&Dc){iN();const j=lN(g);p=j.MeasureLayout,v.visualElement=sN(t,N,g,r,j.ProjectionNode)}return e.jsxs(Ll.Provider,{value:v,children:[p&&v.visualElement?e.jsx(p,{visualElement:v.visualElement,...g}):null,Qj(t,h,eN(N,v.visualElement,x),N,b,a)]})}m.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=C.forwardRef(m);return d[$j]=t,d}function aN({layoutId:t}){const a=C.useContext(Rc).id;return a&&t!==void 0?a+"-"+t:t}function iN(t,a){C.useContext(Kx).strict}function lN(t){const{drag:a,layout:l}=ha;if(!a&&!l)return{};const r={...a,...l};return{MeasureLayout:a?.isEnabled(t)||l?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function rN(t,a){if(typeof Proxy>"u")return Do;const l=new Map,r=(m,d)=>Do(m,d,t,a),c=(m,d)=>r(m,d);return new Proxy(c,{get:(m,d)=>d==="create"?r:(l.has(d)||l.set(d,Do(d,void 0,t,a)),l.get(d))})}function sf({top:t,left:a,right:l,bottom:r}){return{x:{min:a,max:l},y:{min:t,max:r}}}function oN({x:t,y:a}){return{top:a.min,right:t.max,bottom:a.max,left:t.min}}function cN(t,a){if(!a)return t;const l=a({x:t.left,y:t.top}),r=a({x:t.right,y:t.bottom});return{top:l.y,left:l.x,bottom:r.y,right:r.x}}function Co(t){return t===void 0||t===1}function uc({scale:t,scaleX:a,scaleY:l}){return!Co(t)||!Co(a)||!Co(l)}function Sn(t){return uc(t)||nf(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function nf(t){return _h(t.x)||_h(t.y)}function _h(t){return t&&t!=="0%"}function Al(t,a,l){const r=t-l,c=a*r;return l+c}function Dh(t,a,l,r,c){return c!==void 0&&(t=Al(t,c,r)),Al(t,l,r)+a}function mc(t,a=0,l=1,r,c){t.min=Dh(t.min,a,l,r,c),t.max=Dh(t.max,a,l,r,c)}function af(t,{x:a,y:l}){mc(t.x,a.translate,a.scale,a.originPoint),mc(t.y,l.translate,l.scale,l.originPoint)}const Ch=.999999999999,Gh=1.0000000000001;function dN(t,a,l,r=!1){const c=l.length;if(!c)return;a.x=a.y=1;let m,d;for(let h=0;h<c;h++){m=l[h],d=m.projectionDelta;const{visualElement:x}=m.options;x&&x.props.style&&x.props.style.display==="contents"||(r&&m.options.layoutScroll&&m.scroll&&m!==m.root&&ca(t,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),d&&(a.x*=d.x.scale,a.y*=d.y.scale,af(t,d)),r&&Sn(m.latestValues)&&ca(t,m.latestValues))}a.x<Gh&&a.x>Ch&&(a.x=1),a.y<Gh&&a.y>Ch&&(a.y=1)}function oa(t,a){t.min=t.min+a,t.max=t.max+a}function Oh(t,a,l,r,c=.5){const m=Ge(t.min,t.max,c);mc(t,a,l,m,r)}function ca(t,a){Oh(t.x,a.x,a.scaleX,a.scale,a.originX),Oh(t.y,a.y,a.scaleY,a.scale,a.originY)}function lf(t,a){return sf(cN(t.getBoundingClientRect(),a))}function uN(t,a,l){const r=lf(t,l),{scroll:c}=a;return c&&(oa(r.x,c.offset.x),oa(r.y,c.offset.y)),r}const Lh=()=>({translate:0,scale:1,origin:0,originPoint:0}),da=()=>({x:Lh(),y:Lh()}),Ph=()=>({min:0,max:0}),ke=()=>({x:Ph(),y:Ph()}),hc={current:null},rf={current:!1};function mN(){if(rf.current=!0,!!Dc)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),a=()=>hc.current=t.matches;t.addEventListener("change",a),a()}else hc.current=!1}const hN=new WeakMap;function xN(t,a,l){for(const r in a){const c=a[r],m=l[r];if(ct(c))t.addValue(r,c);else if(ct(m))t.addValue(r,ma(c,{owner:t}));else if(m!==c)if(t.hasValue(r)){const d=t.getValue(r);d.liveStyle===!0?d.jump(c):d.hasAnimated||d.set(c)}else{const d=t.getStaticValue(r);t.addValue(r,ma(d!==void 0?d:c,{owner:t}))}}for(const r in l)a[r]===void 0&&t.removeValue(r);return a}const Hh=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fN{scrapeMotionValuesFromProps(a,l,r){return{}}constructor({parent:a,props:l,presenceContext:r,reducedMotionConfig:c,blockInitialAnimation:m,visualState:d},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qc,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=bt.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Re.render(this.render,!1,!0))};const{latestValues:x,renderState:p}=d;this.latestValues=x,this.baseTarget={...x},this.initialValues=l.initial?{...x}:{},this.renderState=p,this.parent=a,this.props=l,this.presenceContext=r,this.depth=a?a.depth+1:0,this.reducedMotionConfig=c,this.options=h,this.blockInitialAnimation=!!m,this.isControllingVariants=Hl(l),this.isVariantNode=qx(l),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(a&&a.current);const{willChange:g,...b}=this.scrapeMotionValuesFromProps(l,{},this);for(const v in b){const N=b[v];x[v]!==void 0&&ct(N)&&N.set(x[v])}}mount(a){this.current=a,hN.set(a,this),this.projection&&!this.projection.instance&&this.projection.mount(a),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((l,r)=>this.bindToMotionValue(r,l)),rf.current||mN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hc.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ws(this.notifyUpdate),Ws(this.render),this.valueSubscriptions.forEach(a=>a()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const a in this.events)this.events[a].clear();for(const a in this.features){const l=this.features[a];l&&(l.unmount(),l.isMounted=!1)}this.current=null}addChild(a){this.children.add(a),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(a)}removeChild(a){this.children.delete(a),this.enteringChildren&&this.enteringChildren.delete(a)}bindToMotionValue(a,l){this.valueSubscriptions.has(a)&&this.valueSubscriptions.get(a)();const r=ya.has(a);r&&this.onBindTransform&&this.onBindTransform();const c=l.on("change",d=>{this.latestValues[a]=d,this.props.onUpdate&&Re.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let m;window.MotionCheckAppearSync&&(m=window.MotionCheckAppearSync(this,a,l)),this.valueSubscriptions.set(a,()=>{c(),m&&m(),l.owner&&l.stop()})}sortNodePosition(a){return!this.current||!this.sortInstanceNodePosition||this.type!==a.type?0:this.sortInstanceNodePosition(this.current,a.current)}updateFeatures(){let a="animation";for(a in ha){const l=ha[a];if(!l)continue;const{isEnabled:r,Feature:c}=l;if(!this.features[a]&&c&&r(this.props)&&(this.features[a]=new c(this)),this.features[a]){const m=this.features[a];m.isMounted?m.update():(m.mount(),m.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ke()}getStaticValue(a){return this.latestValues[a]}setStaticValue(a,l){this.latestValues[a]=l}update(a,l){(a.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=a,this.prevPresenceContext=this.presenceContext,this.presenceContext=l;for(let r=0;r<Hh.length;r++){const c=Hh[r];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const m="on"+c,d=a[m];d&&(this.propEventSubscriptions[c]=this.on(c,d))}this.prevMotionValues=xN(this,this.scrapeMotionValuesFromProps(a,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(a){return this.props.variants?this.props.variants[a]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(a){const l=this.getClosestVariantNode();if(l)return l.variantChildren&&l.variantChildren.add(a),()=>l.variantChildren.delete(a)}addValue(a,l){const r=this.values.get(a);l!==r&&(r&&this.removeValue(a),this.bindToMotionValue(a,l),this.values.set(a,l),this.latestValues[a]=l.get())}removeValue(a){this.values.delete(a);const l=this.valueSubscriptions.get(a);l&&(l(),this.valueSubscriptions.delete(a)),delete this.latestValues[a],this.removeValueFromRenderState(a,this.renderState)}hasValue(a){return this.values.has(a)}getValue(a,l){if(this.props.values&&this.props.values[a])return this.props.values[a];let r=this.values.get(a);return r===void 0&&l!==void 0&&(r=ma(l===null?void 0:l,{owner:this}),this.addValue(a,r)),r}readValue(a,l){let r=this.latestValues[a]!==void 0||!this.current?this.latestValues[a]:this.getBaseTargetFromProps(this.props,a)??this.readValueFromInstance(this.current,a,this.options);return r!=null&&(typeof r=="string"&&(J0(r)||ex(r))?r=parseFloat(r):!Nj(r)&&Js.test(l)&&(r=Lx(a,l)),this.setBaseTarget(a,ct(r)?r.get():r)),ct(r)?r.get():r}setBaseTarget(a,l){this.baseTarget[a]=l}getBaseTarget(a){const{initial:l}=this.props;let r;if(typeof l=="string"||typeof l=="object"){const m=id(this.props,l,this.presenceContext?.custom);m&&(r=m[a])}if(l&&r!==void 0)return r;const c=this.getBaseTargetFromProps(this.props,a);return c!==void 0&&!ct(c)?c:this.initialValues[a]!==void 0&&r===void 0?void 0:this.baseTarget[a]}on(a,l){return this.events[a]||(this.events[a]=new Pc),this.events[a].add(l)}notify(a,...l){this.events[a]&&this.events[a].notify(...l)}scheduleRenderMicrotask(){Wc.render(this.render)}}class of extends fN{constructor(){super(...arguments),this.KeyframeResolver=dj}sortInstanceNodePosition(a,l){return a.compareDocumentPosition(l)&2?1:-1}getBaseTargetFromProps(a,l){return a.style?a.style[l]:void 0}removeValueFromRenderState(a,{vars:l,style:r}){delete l[a],delete r[a]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:a}=this.props;ct(a)&&(this.childSubscription=a.on("change",l=>{this.current&&(this.current.textContent=`${l}`)}))}}function cf(t,{style:a,vars:l},r,c){const m=t.style;let d;for(d in a)m[d]=a[d];c?.applyProjectionStyles(m,r);for(d in l)m.setProperty(d,l[d])}function gN(t){return window.getComputedStyle(t)}class pN extends of{constructor(){super(...arguments),this.type="html",this.renderInstance=cf}readValueFromInstance(a,l){if(ya.has(l))return this.projection?.isProjecting?ac(l):Rv(a,l);{const r=gN(a),c=(zc(l)?r.getPropertyValue(l):r[l])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(a,{transformPagePoint:l}){return lf(a,l)}build(a,l,r){sd(a,l,r.transformTemplate)}scrapeMotionValuesFromProps(a,l,r){return ld(a,l,r)}}const df=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yN(t,a,l,r){cf(t,a,void 0,r);for(const c in a.attrs)t.setAttribute(df.has(c)?c:rd(c),a.attrs[c])}class bN extends of{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ke}getBaseTargetFromProps(a,l){return a[l]}readValueFromInstance(a,l){if(ya.has(l)){const r=Ox(l);return r&&r.default||0}return l=df.has(l)?l:rd(l),a.getAttribute(l)}scrapeMotionValuesFromProps(a,l,r){return Jx(a,l,r)}build(a,l,r){Qx(a,l,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(a,l,r,c){yN(a,l,r,c)}mount(a){this.isSVGTag=Ix(a.tagName),super.mount(a)}}const vN=(t,a)=>ad(t)?new bN(a):new pN(a,{allowProjection:t!==C.Fragment});function ua(t,a,l){const r=t.getProps();return id(r,a,l!==void 0?l:r.custom,t)}const xc=t=>Array.isArray(t);function jN(t,a,l){t.hasValue(a)?t.getValue(a).set(l):t.addValue(a,ma(l))}function NN(t){return xc(t)?t[t.length-1]||0:t}function SN(t,a){const l=ua(t,a);let{transitionEnd:r={},transition:c={},...m}=l||{};m={...m,...r};for(const d in m){const h=NN(m[d]);jN(t,d,h)}}function MN(t){return!!(ct(t)&&t.add)}function fc(t,a){const l=t.getValue("willChange");if(MN(l))return l.add(a);if(!l&&ws.WillChange){const r=new ws.WillChange("auto");t.addValue("willChange",r),r.add(a)}}function uf(t){return t.props[$x]}const wN=t=>t!==null;function AN(t,{repeat:a,repeatType:l="loop"},r){const c=t.filter(wN),m=a&&l!=="loop"&&a%2===1?0:c.length-1;return!m||r===void 0?c[m]:r}const TN={type:"spring",stiffness:500,damping:25,restSpeed:10},EN=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),RN={type:"keyframes",duration:.8},_N={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},DN=(t,{keyframes:a})=>a.length>2?RN:ya.has(t)?t.startsWith("scale")?EN(a[1]):TN:_N;function CN({when:t,delay:a,delayChildren:l,staggerChildren:r,staggerDirection:c,repeat:m,repeatType:d,repeatDelay:h,from:x,elapsed:p,...g}){return!!Object.keys(g).length}const od=(t,a,l,r={},c,m)=>d=>{const h=Zc(r,t)||{},x=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-ls(x);const g={keyframes:Array.isArray(l)?l:[null,l],ease:"easeOut",velocity:a.getVelocity(),...h,delay:-p,onUpdate:v=>{a.set(v),h.onUpdate&&h.onUpdate(v)},onComplete:()=>{d(),h.onComplete&&h.onComplete()},name:t,motionValue:a,element:m?void 0:c};CN(h)||Object.assign(g,DN(t,g)),g.duration&&(g.duration=ls(g.duration)),g.repeatDelay&&(g.repeatDelay=ls(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let b=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(cc(g),g.delay===0&&(b=!0)),(ws.instantAnimations||ws.skipAnimations)&&(b=!0,cc(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,b&&!m&&a.get()!==void 0){const v=AN(g.keyframes,h);if(v!==void 0){Re.update(()=>{g.onUpdate(v),g.onComplete()});return}}return h.isSync?new Xc(g):new Jv(g)};function GN({protectedKeys:t,needsAnimating:a},l){const r=t.hasOwnProperty(l)&&a[l]!==!0;return a[l]=!1,r}function mf(t,a,{delay:l=0,transitionOverride:r,type:c}={}){let{transition:m=t.getDefaultTransition(),transitionEnd:d,...h}=a;r&&(m=r);const x=[],p=c&&t.animationState&&t.animationState.getState()[c];for(const g in h){const b=t.getValue(g,t.latestValues[g]??null),v=h[g];if(v===void 0||p&&GN(p,g))continue;const N={delay:l,...Zc(m||{},g)},j=b.get();if(j!==void 0&&!b.isAnimating&&!Array.isArray(v)&&v===j&&!N.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const S=uf(t);if(S){const R=window.MotionHandoffAnimation(S,g,Re);R!==null&&(N.startTime=R,w=!0)}}fc(t,g),b.start(od(g,b,v,t.shouldReduceMotion&&Dx.has(g)?{type:!1}:N,t,w));const A=b.animation;A&&x.push(A)}return d&&Promise.all(x).then(()=>{Re.update(()=>{d&&SN(t,d)})}),x}function hf(t,a,l,r=0,c=1){const m=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(a),d=t.size,h=(d-1)*r;return typeof l=="function"?l(m,d):c===1?m*r:h-m*r}function gc(t,a,l={}){const r=ua(t,a,l.type==="exit"?t.presenceContext?.custom:void 0);let{transition:c=t.getDefaultTransition()||{}}=r||{};l.transitionOverride&&(c=l.transitionOverride);const m=r?()=>Promise.all(mf(t,r,l)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(x=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:b}=c;return ON(t,a,x,p,g,b,l)}:()=>Promise.resolve(),{when:h}=c;if(h){const[x,p]=h==="beforeChildren"?[m,d]:[d,m];return x().then(()=>p())}else return Promise.all([m(),d(l.delay)])}function ON(t,a,l=0,r=0,c=0,m=1,d){const h=[];for(const x of t.variantChildren)x.notify("AnimationStart",a),h.push(gc(x,a,{...d,delay:l+(typeof r=="function"?0:r)+hf(t.variantChildren,x,r,c,m)}).then(()=>x.notify("AnimationComplete",a)));return Promise.all(h)}function LN(t,a,l={}){t.notify("AnimationStart",a);let r;if(Array.isArray(a)){const c=a.map(m=>gc(t,m,l));r=Promise.all(c)}else if(typeof a=="string")r=gc(t,a,l);else{const c=typeof a=="function"?ua(t,a,l.custom):a;r=Promise.all(mf(t,c,l))}return r.then(()=>{t.notify("AnimationComplete",a)})}function xf(t,a){if(!Array.isArray(a))return!1;const l=a.length;if(l!==t.length)return!1;for(let r=0;r<l;r++)if(a[r]!==t[r])return!1;return!0}const PN=td.length;function ff(t){if(!t)return;if(!t.isControllingVariants){const l=t.parent?ff(t.parent)||{}:{};return t.props.initial!==void 0&&(l.initial=t.props.initial),l}const a={};for(let l=0;l<PN;l++){const r=td[l],c=t.props[r];(ci(c)||c===!1)&&(a[r]=c)}return a}const HN=[...ed].reverse(),VN=ed.length;function zN(t){return a=>Promise.all(a.map(({animation:l,options:r})=>LN(t,l,r)))}function kN(t){let a=zN(t),l=Vh(),r=!0;const c=x=>(p,g)=>{const b=ua(t,g,x==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:v,transitionEnd:N,...j}=b;p={...p,...j,...N}}return p};function m(x){a=x(t)}function d(x){const{props:p}=t,g=ff(t.parent)||{},b=[],v=new Set;let N={},j=1/0;for(let A=0;A<VN;A++){const S=HN[A],R=l[S],_=p[S]!==void 0?p[S]:g[S],T=ci(_),O=S===x?R.isActive:null;O===!1&&(j=A);let V=_===g[S]&&_!==p[S]&&T;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),R.protectedKeys={...N},!R.isActive&&O===null||!_&&!R.prevProp||Pl(_)||typeof _=="boolean")continue;const K=FN(R.prevProp,_);let y=K||S===x&&R.isActive&&!V&&T||A>j&&T,F=!1;const Y=Array.isArray(_)?_:[_];let X=Y.reduce(c(S),{});O===!1&&(X={});const{prevResolvedValues:$={}}=R,q={...$,...X},Z=L=>{y=!0,v.has(L)&&(F=!0,v.delete(L)),R.needsAnimating[L]=!0;const U=t.getValue(L);U&&(U.liveStyle=!1)};for(const L in q){const U=X[L],I=$[L];if(N.hasOwnProperty(L))continue;let te=!1;xc(U)&&xc(I)?te=!xf(U,I):te=U!==I,te?U!=null?Z(L):v.add(L):U!==void 0&&v.has(L)?Z(L):R.protectedKeys[L]=!0}R.prevProp=_,R.prevResolvedValues=X,R.isActive&&(N={...N,...X}),r&&t.blockInitialAnimation&&(y=!1);const J=V&&K;y&&(!J||F)&&b.push(...Y.map(L=>{const U={type:S};if(typeof L=="string"&&r&&!J&&t.manuallyAnimateOnMount&&t.parent){const{parent:I}=t,te=ua(I,L);if(I.enteringChildren&&te){const{delayChildren:ae}=te.transition||{};U.delay=hf(I.enteringChildren,t,ae)}}return{animation:L,options:U}}))}if(v.size){const A={};if(typeof p.initial!="boolean"){const S=ua(t,Array.isArray(p.initial)?p.initial[0]:p.initial);S&&S.transition&&(A.transition=S.transition)}v.forEach(S=>{const R=t.getBaseTarget(S),_=t.getValue(S);_&&(_.liveStyle=!0),A[S]=R??null}),b.push({animation:A})}let w=!!b.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?a(b):Promise.resolve()}function h(x,p){if(l[x].isActive===p)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(x,p)),l[x].isActive=p;const g=d(x);for(const b in l)l[b].protectedKeys={};return g}return{animateChanges:d,setActive:h,setAnimateFunction:m,getState:()=>l,reset:()=>{l=Vh(),r=!0}}}function FN(t,a){return typeof a=="string"?a!==t:Array.isArray(a)?!xf(a,t):!1}function vn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vh(){return{animate:vn(!0),whileInView:vn(),whileHover:vn(),whileTap:vn(),whileDrag:vn(),whileFocus:vn(),exit:vn()}}class $s{constructor(a){this.isMounted=!1,this.node=a}update(){}}class UN extends $s{constructor(a){super(a),a.animationState||(a.animationState=kN(a))}updateAnimationControlsSubscription(){const{animate:a}=this.node.getProps();Pl(a)&&(this.unmountControls=a.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:a}=this.node.getProps(),{animate:l}=this.node.prevProps||{};a!==l&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let KN=0;class BN extends $s{constructor(){super(...arguments),this.id=KN++}update(){if(!this.node.presenceContext)return;const{isPresent:a,onExitComplete:l}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||a===r)return;const c=this.node.animationState.setActive("exit",!a);l&&!a&&c.then(()=>{l(this.id)})}mount(){const{register:a,onExitComplete:l}=this.node.presenceContext||{};l&&l(this.id),a&&(this.unmount=a(this.id))}unmount(){}}const qN={animation:{Feature:UN},exit:{Feature:BN}};function ui(t,a,l,r={passive:!0}){return t.addEventListener(a,l,r),()=>t.removeEventListener(a,l)}function gi(t){return{point:{x:t.pageX,y:t.pageY}}}const YN=t=>a=>Jc(a)&&t(a,gi(a));function si(t,a,l,r){return ui(t,a,YN(l),r)}const gf=1e-4,XN=1-gf,QN=1+gf,pf=.01,ZN=0-pf,IN=0+pf;function ht(t){return t.max-t.min}function WN(t,a,l){return Math.abs(t-a)<=l}function zh(t,a,l,r=.5){t.origin=r,t.originPoint=Ge(a.min,a.max,t.origin),t.scale=ht(l)/ht(a),t.translate=Ge(l.min,l.max,t.origin)-t.originPoint,(t.scale>=XN&&t.scale<=QN||isNaN(t.scale))&&(t.scale=1),(t.translate>=ZN&&t.translate<=IN||isNaN(t.translate))&&(t.translate=0)}function ni(t,a,l,r){zh(t.x,a.x,l.x,r?r.originX:void 0),zh(t.y,a.y,l.y,r?r.originY:void 0)}function kh(t,a,l){t.min=l.min+a.min,t.max=t.min+ht(a)}function JN(t,a,l){kh(t.x,a.x,l.x),kh(t.y,a.y,l.y)}function Fh(t,a,l){t.min=a.min-l.min,t.max=t.min+ht(a)}function ai(t,a,l){Fh(t.x,a.x,l.x),Fh(t.y,a.y,l.y)}function Ut(t){return[t("x"),t("y")]}const yf=({current:t})=>t?t.ownerDocument.defaultView:null,Uh=(t,a)=>Math.abs(t-a);function $N(t,a){const l=Uh(t.x,a.x),r=Uh(t.y,a.y);return Math.sqrt(l**2+r**2)}class bf{constructor(a,l,{transformPagePoint:r,contextWindow:c=window,dragSnapToOrigin:m=!1,distanceThreshold:d=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Oo(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,j=$N(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!j)return;const{point:w}=v,{timestamp:A}=et;this.history.push({...w,timestamp:A});const{onStart:S,onMove:R}=this.handlers;N||(S&&S(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,v)},this.handlePointerMove=(v,N)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Go(N,this.transformPagePoint),Re.update(this.updatePoint,!0)},this.handlePointerUp=(v,N)=>{this.end();const{onEnd:j,onSessionEnd:w,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Oo(v.type==="pointercancel"?this.lastMoveEventInfo:Go(N,this.transformPagePoint),this.history);this.startEvent&&j&&j(v,S),w&&w(v,S)},!Jc(a))return;this.dragSnapToOrigin=m,this.handlers=l,this.transformPagePoint=r,this.distanceThreshold=d,this.contextWindow=c||window;const h=gi(a),x=Go(h,this.transformPagePoint),{point:p}=x,{timestamp:g}=et;this.history=[{...p,timestamp:g}];const{onSessionStart:b}=l;b&&b(a,Oo(x,this.history)),this.removeListeners=hi(si(this.contextWindow,"pointermove",this.handlePointerMove),si(this.contextWindow,"pointerup",this.handlePointerUp),si(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(a){this.handlers=a}end(){this.removeListeners&&this.removeListeners(),Ws(this.updatePoint)}}function Go(t,a){return a?{point:a(t.point)}:t}function Kh(t,a){return{x:t.x-a.x,y:t.y-a.y}}function Oo({point:t},a){return{point:t,delta:Kh(t,vf(a)),offset:Kh(t,e1(a)),velocity:t1(a,.1)}}function e1(t){return t[0]}function vf(t){return t[t.length-1]}function t1(t,a){if(t.length<2)return{x:0,y:0};let l=t.length-1,r=null;const c=vf(t);for(;l>=0&&(r=t[l],!(c.timestamp-r.timestamp>ls(a)));)l--;if(!r)return{x:0,y:0};const m=Kt(c.timestamp-r.timestamp);if(m===0)return{x:0,y:0};const d={x:(c.x-r.x)/m,y:(c.y-r.y)/m};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function s1(t,{min:a,max:l},r){return a!==void 0&&t<a?t=r?Ge(a,t,r.min):Math.max(t,a):l!==void 0&&t>l&&(t=r?Ge(l,t,r.max):Math.min(t,l)),t}function Bh(t,a,l){return{min:a!==void 0?t.min+a:void 0,max:l!==void 0?t.max+l-(t.max-t.min):void 0}}function n1(t,{top:a,left:l,bottom:r,right:c}){return{x:Bh(t.x,l,c),y:Bh(t.y,a,r)}}function qh(t,a){let l=a.min-t.min,r=a.max-t.max;return a.max-a.min<t.max-t.min&&([l,r]=[r,l]),{min:l,max:r}}function a1(t,a){return{x:qh(t.x,a.x),y:qh(t.y,a.y)}}function i1(t,a){let l=.5;const r=ht(t),c=ht(a);return c>r?l=li(a.min,a.max-r,t.min):r>c&&(l=li(t.min,t.max-c,a.min)),Ms(0,1,l)}function l1(t,a){const l={};return a.min!==void 0&&(l.min=a.min-t.min),a.max!==void 0&&(l.max=a.max-t.min),l}const pc=.35;function r1(t=pc){return t===!1?t=0:t===!0&&(t=pc),{x:Yh(t,"left","right"),y:Yh(t,"top","bottom")}}function Yh(t,a,l){return{min:Xh(t,a),max:Xh(t,l)}}function Xh(t,a){return typeof t=="number"?t:t[a]||0}const o1=new WeakMap;class c1{constructor(a){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ke(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=a}start(a,{snapToCursor:l=!1,distanceThreshold:r}={}){const{presenceContext:c}=this.visualElement;if(c&&c.isPresent===!1)return;const m=b=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),l&&this.snapToCursor(gi(b).point)},d=(b,v)=>{const{drag:N,dragPropagation:j,onDragStart:w}=this.getProps();if(N&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xj(N),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ut(S=>{let R=this.getAxisMotionValue(S).get()||0;if(rs.test(R)){const{projection:_}=this.visualElement;if(_&&_.layout){const T=_.layout.layoutBox[S];T&&(R=ht(T)*(parseFloat(R)/100))}}this.originPoint[S]=R}),w&&Re.postRender(()=>w(b,v)),fc(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},h=(b,v)=>{this.latestPointerEvent=b,this.latestPanInfo=v;const{dragPropagation:N,dragDirectionLock:j,onDirectionLock:w,onDrag:A}=this.getProps();if(!N&&!this.openDragLock)return;const{offset:S}=v;if(j&&this.currentDirection===null){this.currentDirection=d1(S),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",v.point,S),this.updateAxis("y",v.point,S),this.visualElement.render(),A&&A(b,v)},x=(b,v)=>{this.latestPointerEvent=b,this.latestPanInfo=v,this.stop(b,v),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Ut(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new bf(a,{onSessionStart:m,onStart:d,onMove:h,onSessionEnd:x,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:yf(this.visualElement)})}stop(a,l){const r=a||this.latestPointerEvent,c=l||this.latestPanInfo,m=this.isDragging;if(this.cancel(),!m||!c||!r)return;const{velocity:d}=c;this.startAnimation(d);const{onDragEnd:h}=this.getProps();h&&Re.postRender(()=>h(r,c))}cancel(){this.isDragging=!1;const{projection:a,animationState:l}=this.visualElement;a&&(a.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),l&&l.setActive("whileDrag",!1)}updateAxis(a,l,r){const{drag:c}=this.getProps();if(!r||!hl(a,c,this.currentDirection))return;const m=this.getAxisMotionValue(a);let d=this.originPoint[a]+r[a];this.constraints&&this.constraints[a]&&(d=s1(d,this.constraints[a],this.elastic[a])),m.set(d)}resolveConstraints(){const{dragConstraints:a,dragElastic:l}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,c=this.constraints;a&&ra(a)?this.constraints||(this.constraints=this.resolveRefConstraints()):a&&r?this.constraints=n1(r.layoutBox,a):this.constraints=!1,this.elastic=r1(l),c!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ut(m=>{this.constraints!==!1&&this.getAxisMotionValue(m)&&(this.constraints[m]=l1(r.layoutBox[m],this.constraints[m]))})}resolveRefConstraints(){const{dragConstraints:a,onMeasureDragConstraints:l}=this.getProps();if(!a||!ra(a))return!1;const r=a.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const m=uN(r,c.root,this.visualElement.getTransformPagePoint());let d=a1(c.layout.layoutBox,m);if(l){const h=l(oN(d));this.hasMutatedConstraints=!!h,h&&(d=sf(h))}return d}startAnimation(a){const{drag:l,dragMomentum:r,dragElastic:c,dragTransition:m,dragSnapToOrigin:d,onDragTransitionEnd:h}=this.getProps(),x=this.constraints||{},p=Ut(g=>{if(!hl(g,l,this.currentDirection))return;let b=x&&x[g]||{};d&&(b={min:0,max:0});const v=c?200:1e6,N=c?40:1e7,j={type:"inertia",velocity:r?a[g]:0,bounceStiffness:v,bounceDamping:N,timeConstant:750,restDelta:1,restSpeed:10,...m,...b};return this.startAxisValueAnimation(g,j)});return Promise.all(p).then(h)}startAxisValueAnimation(a,l){const r=this.getAxisMotionValue(a);return fc(this.visualElement,a),r.start(od(a,r,0,l,this.visualElement,!1))}stopAnimation(){Ut(a=>this.getAxisMotionValue(a).stop())}pauseAnimation(){Ut(a=>this.getAxisMotionValue(a).animation?.pause())}getAnimationState(a){return this.getAxisMotionValue(a).animation?.state}getAxisMotionValue(a){const l=`_drag${a.toUpperCase()}`,r=this.visualElement.getProps(),c=r[l];return c||this.visualElement.getValue(a,(r.initial?r.initial[a]:void 0)||0)}snapToCursor(a){Ut(l=>{const{drag:r}=this.getProps();if(!hl(l,r,this.currentDirection))return;const{projection:c}=this.visualElement,m=this.getAxisMotionValue(l);if(c&&c.layout){const{min:d,max:h}=c.layout.layoutBox[l];m.set(a[l]-Ge(d,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:a,dragConstraints:l}=this.getProps(),{projection:r}=this.visualElement;if(!ra(l)||!r||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};Ut(d=>{const h=this.getAxisMotionValue(d);if(h&&this.constraints!==!1){const x=h.get();c[d]=i1({min:x,max:x},this.constraints[d])}});const{transformTemplate:m}=this.visualElement.getProps();this.visualElement.current.style.transform=m?m({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ut(d=>{if(!hl(d,a,null))return;const h=this.getAxisMotionValue(d),{min:x,max:p}=this.constraints[d];h.set(Ge(x,p,c[d]))})}addListeners(){if(!this.visualElement.current)return;o1.set(this.visualElement,this);const a=this.visualElement.current,l=si(a,"pointerdown",x=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(x)}),r=()=>{const{dragConstraints:x}=this.getProps();ra(x)&&x.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,m=c.addEventListener("measure",r);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),Re.read(r);const d=ui(window,"resize",()=>this.scalePositionWithinConstraints()),h=c.addEventListener("didUpdate",({delta:x,hasLayoutChanged:p})=>{this.isDragging&&p&&(Ut(g=>{const b=this.getAxisMotionValue(g);b&&(this.originPoint[g]+=x[g].translate,b.set(b.get()+x[g].translate))}),this.visualElement.render())});return()=>{d(),l(),m(),h&&h()}}getProps(){const a=this.visualElement.getProps(),{drag:l=!1,dragDirectionLock:r=!1,dragPropagation:c=!1,dragConstraints:m=!1,dragElastic:d=pc,dragMomentum:h=!0}=a;return{...a,drag:l,dragDirectionLock:r,dragPropagation:c,dragConstraints:m,dragElastic:d,dragMomentum:h}}}function hl(t,a,l){return(a===!0||a===t)&&(l===null||l===t)}function d1(t,a=10){let l=null;return Math.abs(t.y)>a?l="y":Math.abs(t.x)>a&&(l="x"),l}class u1 extends $s{constructor(a){super(a),this.removeGroupControls=Bt,this.removeListeners=Bt,this.controls=new c1(a)}mount(){const{dragControls:a}=this.node.getProps();a&&(this.removeGroupControls=a.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qh=t=>(a,l)=>{t&&Re.postRender(()=>t(a,l))};class m1 extends $s{constructor(){super(...arguments),this.removePointerDownListener=Bt}onPointerDown(a){this.session=new bf(a,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yf(this.node)})}createPanHandlers(){const{onPanSessionStart:a,onPanStart:l,onPan:r,onPanEnd:c}=this.node.getProps();return{onSessionStart:Qh(a),onStart:Qh(l),onMove:r,onEnd:(m,d)=>{delete this.session,c&&Re.postRender(()=>c(m,d))}}}mount(){this.removePointerDownListener=si(this.node.current,"pointerdown",a=>this.onPointerDown(a))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zh(t,a){return a.max===a.min?0:t/(a.max-a.min)*100}const Wa={correct:(t,a)=>{if(!a.target)return t;if(typeof t=="string")if(le.test(t))t=parseFloat(t);else return t;const l=Zh(t,a.target.x),r=Zh(t,a.target.y);return`${l}% ${r}%`}},h1={correct:(t,{treeScale:a,projectionDelta:l})=>{const r=t,c=Js.parse(t);if(c.length>5)return r;const m=Js.createTransformer(t),d=typeof c[0]!="number"?1:0,h=l.x.scale*a.x,x=l.y.scale*a.y;c[0+d]/=h,c[1+d]/=x;const p=Ge(h,x,.5);return typeof c[2+d]=="number"&&(c[2+d]/=p),typeof c[3+d]=="number"&&(c[3+d]/=p),m(c)}};let Lo=!1;class x1 extends C.Component{componentDidMount(){const{visualElement:a,layoutGroup:l,switchLayoutGroup:r,layoutId:c}=this.props,{projection:m}=a;Pj(f1),m&&(l.group&&l.group.add(m),r&&r.register&&c&&r.register(m),Lo&&m.root.didUpdate(),m.addEventListener("animationComplete",()=>{this.safeToRemove()}),m.setOptions({...m.options,onExitComplete:()=>this.safeToRemove()})),bl.hasEverUpdated=!0}getSnapshotBeforeUpdate(a){const{layoutDependency:l,visualElement:r,drag:c,isPresent:m}=this.props,{projection:d}=r;return d&&(d.isPresent=m,Lo=!0,c||a.layoutDependency!==l||l===void 0||a.isPresent!==m?d.willUpdate():this.safeToRemove(),a.isPresent!==m&&(m?d.promote():d.relegate()||Re.postRender(()=>{const h=d.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:a}=this.props.visualElement;a&&(a.root.didUpdate(),Wc.postRender(()=>{!a.currentAnimation&&a.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:a,layoutGroup:l,switchLayoutGroup:r}=this.props,{projection:c}=a;Lo=!0,c&&(c.scheduleCheckAfterUnmount(),l&&l.group&&l.group.remove(c),r&&r.deregister&&r.deregister(c))}safeToRemove(){const{safeToRemove:a}=this.props;a&&a()}render(){return null}}function jf(t){const[a,l]=Ux(),r=C.useContext(Rc);return e.jsx(x1,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(ef),isPresent:a,safeToRemove:l})}const f1={borderRadius:{...Wa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wa,borderTopRightRadius:Wa,borderBottomLeftRadius:Wa,borderBottomRightRadius:Wa,boxShadow:h1};function g1(t,a,l){const r=ct(t)?t:ma(t);return r.start(od("",r,a,l)),r.animation}const p1=(t,a)=>t.depth-a.depth;class y1{constructor(){this.children=[],this.isDirty=!1}add(a){Cc(this.children,a),this.isDirty=!0}remove(a){Gc(this.children,a),this.isDirty=!0}forEach(a){this.isDirty&&this.children.sort(p1),this.isDirty=!1,this.children.forEach(a)}}function b1(t,a){const l=bt.now(),r=({timestamp:c})=>{const m=c-l;m>=a&&(Ws(r),t(m-a))};return Re.setup(r,!0),()=>Ws(r)}const Nf=["TopLeft","TopRight","BottomLeft","BottomRight"],v1=Nf.length,Ih=t=>typeof t=="string"?parseFloat(t):t,Wh=t=>typeof t=="number"||le.test(t);function j1(t,a,l,r,c,m){c?(t.opacity=Ge(0,l.opacity??1,N1(r)),t.opacityExit=Ge(a.opacity??1,0,S1(r))):m&&(t.opacity=Ge(a.opacity??1,l.opacity??1,r));for(let d=0;d<v1;d++){const h=`border${Nf[d]}Radius`;let x=Jh(a,h),p=Jh(l,h);if(x===void 0&&p===void 0)continue;x||(x=0),p||(p=0),x===0||p===0||Wh(x)===Wh(p)?(t[h]=Math.max(Ge(Ih(x),Ih(p),r),0),(rs.test(p)||rs.test(x))&&(t[h]+="%")):t[h]=p}(a.rotate||l.rotate)&&(t.rotate=Ge(a.rotate||0,l.rotate||0,r))}function Jh(t,a){return t[a]!==void 0?t[a]:t.borderRadius}const N1=Sf(0,.5,ox),S1=Sf(.5,.95,Bt);function Sf(t,a,l){return r=>r<t?0:r>a?1:l(li(t,a,r))}function $h(t,a){t.min=a.min,t.max=a.max}function Ft(t,a){$h(t.x,a.x),$h(t.y,a.y)}function e0(t,a){t.translate=a.translate,t.scale=a.scale,t.originPoint=a.originPoint,t.origin=a.origin}function t0(t,a,l,r,c){return t-=a,t=Al(t,1/l,r),c!==void 0&&(t=Al(t,1/c,r)),t}function M1(t,a=0,l=1,r=.5,c,m=t,d=t){if(rs.test(a)&&(a=parseFloat(a),a=Ge(d.min,d.max,a/100)-d.min),typeof a!="number")return;let h=Ge(m.min,m.max,r);t===m&&(h-=a),t.min=t0(t.min,a,l,h,c),t.max=t0(t.max,a,l,h,c)}function s0(t,a,[l,r,c],m,d){M1(t,a[l],a[r],a[c],a.scale,m,d)}const w1=["x","scaleX","originX"],A1=["y","scaleY","originY"];function n0(t,a,l,r){s0(t.x,a,w1,l?l.x:void 0,r?r.x:void 0),s0(t.y,a,A1,l?l.y:void 0,r?r.y:void 0)}function a0(t){return t.translate===0&&t.scale===1}function Mf(t){return a0(t.x)&&a0(t.y)}function i0(t,a){return t.min===a.min&&t.max===a.max}function T1(t,a){return i0(t.x,a.x)&&i0(t.y,a.y)}function l0(t,a){return Math.round(t.min)===Math.round(a.min)&&Math.round(t.max)===Math.round(a.max)}function wf(t,a){return l0(t.x,a.x)&&l0(t.y,a.y)}function r0(t){return ht(t.x)/ht(t.y)}function o0(t,a){return t.translate===a.translate&&t.scale===a.scale&&t.originPoint===a.originPoint}class E1{constructor(){this.members=[]}add(a){Cc(this.members,a),a.scheduleRender()}remove(a){if(Gc(this.members,a),a===this.prevLead&&(this.prevLead=void 0),a===this.lead){const l=this.members[this.members.length-1];l&&this.promote(l)}}relegate(a){const l=this.members.findIndex(c=>a===c);if(l===0)return!1;let r;for(let c=l;c>=0;c--){const m=this.members[c];if(m.isPresent!==!1){r=m;break}}return r?(this.promote(r),!0):!1}promote(a,l){const r=this.lead;if(a!==r&&(this.prevLead=r,this.lead=a,a.show(),r)){r.instance&&r.scheduleRender(),a.scheduleRender(),a.resumeFrom=r,l&&(a.resumeFrom.preserveOpacity=!0),r.snapshot&&(a.snapshot=r.snapshot,a.snapshot.latestValues=r.animationValues||r.latestValues),a.root&&a.root.isUpdating&&(a.isLayoutDirty=!0);const{crossfade:c}=a.options;c===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(a=>{const{options:l,resumingFrom:r}=a;l.onExitComplete&&l.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(a=>{a.instance&&a.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function R1(t,a,l){let r="";const c=t.x.translate/a.x,m=t.y.translate/a.y,d=l?.z||0;if((c||m||d)&&(r=`translate3d(${c}px, ${m}px, ${d}px) `),(a.x!==1||a.y!==1)&&(r+=`scale(${1/a.x}, ${1/a.y}) `),l){const{transformPerspective:p,rotate:g,rotateX:b,rotateY:v,skewX:N,skewY:j}=l;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),b&&(r+=`rotateX(${b}deg) `),v&&(r+=`rotateY(${v}deg) `),N&&(r+=`skewX(${N}deg) `),j&&(r+=`skewY(${j}deg) `)}const h=t.x.scale*a.x,x=t.y.scale*a.y;return(h!==1||x!==1)&&(r+=`scale(${h}, ${x})`),r||"none"}const Po=["","X","Y","Z"],_1=1e3;let D1=0;function Ho(t,a,l,r){const{latestValues:c}=a;c[t]&&(l[t]=c[t],a.setStaticValue(t,0),r&&(r[t]=0))}function Af(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:a}=t.options;if(!a)return;const l=uf(a);if(window.MotionHasOptimisedAnimation(l,"transform")){const{layout:c,layoutId:m}=t.options;window.MotionCancelOptimisedAnimation(l,"transform",Re,!(c||m))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Af(r)}function Tf({attachResizeListener:t,defaultParent:a,measureScroll:l,checkIsScrollRoot:r,resetTransform:c}){return class{constructor(d={},h=a?.()){this.id=D1++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(O1),this.nodes.forEach(V1),this.nodes.forEach(z1),this.nodes.forEach(L1)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let x=0;x<this.path.length;x++)this.path[x].shouldResetTransform=!0;this.root===this&&(this.nodes=new y1)}addEventListener(d,h){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new Pc),this.eventHandlers.get(d).add(h)}notifyListeners(d,...h){const x=this.eventHandlers.get(d);x&&x.notify(...h)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=Fx(d)&&!vj(d),this.instance=d;const{layoutId:h,layout:x,visualElement:p}=this.options;if(p&&!p.current&&p.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(x||h)&&(this.isLayoutDirty=!0),t){let g,b=0;const v=()=>this.root.updateBlockedByResize=!1;Re.read(()=>{b=window.innerWidth}),t(d,()=>{const N=window.innerWidth;N!==b&&(b=N,this.root.updateBlockedByResize=!0,g&&g(),g=b1(v,250),bl.hasAnimatedSinceResize&&(bl.hasAnimatedSinceResize=!1,this.nodes.forEach(u0)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||x)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:b,hasRelativeLayoutChanged:v,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||p.getDefaultTransition()||B1,{onLayoutAnimationStart:w,onLayoutAnimationComplete:A}=p.getProps(),S=!this.targetLayout||!wf(this.targetLayout,N),R=!b&&v;if(this.options.layoutRoot||this.resumeFrom||R||b&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...Zc(j,"layout"),onPlay:w,onComplete:A};(p.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(g,R)}else b||u0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ws(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k1),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Af(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const b=this.path[g];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:h,layout:x}=this.options;if(h===void 0&&!x)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(c0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(d0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(H1),this.nodes.forEach(C1),this.nodes.forEach(G1)):this.nodes.forEach(d0),this.clearAllSnapshots();const h=bt.now();et.delta=Ms(0,1e3/60,h-et.timestamp),et.timestamp=h,et.isProcessing=!0,wo.update.process(et),wo.preRender.process(et),wo.render.process(et),et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wc.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(P1),this.sharedNodes.forEach(F1)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ht(this.snapshot.measuredBox.x)&&!ht(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let x=0;x<this.path.length;x++)this.path[x].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(h=!1),h&&this.instance){const x=r(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:x,offset:l(this.instance),wasRoot:this.scroll?this.scroll.isRoot:x}}}resetTransform(){if(!c)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Mf(this.projectionDelta),x=this.getTransformTemplate(),p=x?x(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;d&&this.instance&&(h||Sn(this.latestValues)||g)&&(c(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const h=this.measurePageBox();let x=this.removeElementScroll(h);return d&&(x=this.removeTransform(x)),q1(x),{animationId:this.root.animationId,measuredBox:h,layoutBox:x,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return ke();const h=d.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Y1))){const{scroll:p}=this.root;p&&(oa(h.x,p.offset.x),oa(h.y,p.offset.y))}return h}removeElementScroll(d){const h=ke();if(Ft(h,d),this.scroll?.wasRoot)return h;for(let x=0;x<this.path.length;x++){const p=this.path[x],{scroll:g,options:b}=p;p!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&Ft(h,d),oa(h.x,g.offset.x),oa(h.y,g.offset.y))}return h}applyTransform(d,h=!1){const x=ke();Ft(x,d);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ca(x,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Sn(g.latestValues)&&ca(x,g.latestValues)}return Sn(this.latestValues)&&ca(x,this.latestValues),x}removeTransform(d){const h=ke();Ft(h,d);for(let x=0;x<this.path.length;x++){const p=this.path[x];if(!p.instance||!Sn(p.latestValues))continue;uc(p.latestValues)&&p.updateSnapshot();const g=ke(),b=p.measurePageBox();Ft(g,b),n0(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Sn(this.latestValues)&&n0(h,this.latestValues),h}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const x=!!this.resumingFrom||this!==h;if(!(d||x&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:b}=this.options;if(!(!this.layout||!(g||b))){if(this.resolvedRelativeTargetAt=et.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),ai(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ke(),this.targetWithTransforms=ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),JN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ft(this.target,this.layout.layoutBox),af(this.target,this.targetDelta)):Ft(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),ai(this.relativeTargetOrigin,this.target,v.target),Ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||uc(this.parent.latestValues)||nf(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const d=this.getLead(),h=!!this.resumingFrom||this!==d;let x=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(x=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(x=!1),this.resolvedRelativeTargetAt===et.timestamp&&(x=!1),x)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Ft(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,v=this.treeScale.y;dN(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ke());const{target:N}=d;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(e0(this.prevProjectionDelta.x,this.projectionDelta.x),e0(this.prevProjectionDelta.y,this.projectionDelta.y)),ni(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==v||!o0(this.projectionDelta.x,this.prevProjectionDelta.x)||!o0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.visualElement?.scheduleRender(),d){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=da(),this.projectionDelta=da(),this.projectionDeltaWithTransform=da()}setAnimationOrigin(d,h=!1){const x=this.snapshot,p=x?x.latestValues:{},g={...this.latestValues},b=da();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const v=ke(),N=x?x.source:void 0,j=this.layout?this.layout.source:void 0,w=N!==j,A=this.getStack(),S=!A||A.members.length<=1,R=!!(w&&!S&&this.options.crossfade===!0&&!this.path.some(K1));this.animationProgress=0;let _;this.mixTargetDelta=T=>{const O=T/1e3;m0(b.x,d.x,O),m0(b.y,d.y,O),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ai(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),U1(this.relativeTarget,this.relativeTargetOrigin,v,O),_&&T1(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=ke()),Ft(_,this.relativeTarget)),w&&(this.animationValues=g,j1(g,p,this.latestValues,O,R,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ws(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Re.update(()=>{bl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ma(0)),this.currentAnimation=g1(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),d.onUpdate&&d.onUpdate(h)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:h,target:x,layout:p,latestValues:g}=d;if(!(!h||!x||!p)){if(this!==d&&this.layout&&p&&Ef(this.options.animationType,this.layout.layoutBox,p.layoutBox)){x=this.target||ke();const b=ht(this.layout.layoutBox.x);x.x.min=d.target.x.min,x.x.max=x.x.min+b;const v=ht(this.layout.layoutBox.y);x.y.min=d.target.y.min,x.y.max=x.y.min+v}Ft(h,x),ca(h,g),ni(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(d,h){this.sharedNodes.has(d)||this.sharedNodes.set(d,new E1),this.sharedNodes.get(d).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){const{layoutId:d}=this.options;return d?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:d}=this.options;return d?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:h,preserveFollowOpacity:x}={}){const p=this.getStack();p&&p.promote(this,x),d&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let h=!1;const{latestValues:x}=d;if((x.z||x.rotate||x.rotateX||x.rotateY||x.rotateZ||x.skewX||x.skewY)&&(h=!0),!h)return;const p={};x.z&&Ho("z",d,p,this.animationValues);for(let g=0;g<Po.length;g++)Ho(`rotate${Po[g]}`,d,p,this.animationValues),Ho(`skew${Po[g]}`,d,p,this.animationValues);d.render();for(const g in p)d.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);d.scheduleRender()}applyProjectionStyles(d,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const x=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=yl(h?.pointerEvents)||"",d.transform=x?x(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=yl(h?.pointerEvents)||""),this.hasProjected&&!Sn(this.latestValues)&&(d.transform=x?x({},""):"none",this.hasProjected=!1);return}d.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=R1(this.projectionDeltaWithTransform,this.treeScale,g);x&&(b=x(g,b)),d.transform=b;const{x:v,y:N}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${N.origin*100}% 0`,p.animationValues?d.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:d.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const j in di){if(g[j]===void 0)continue;const{correct:w,applyTo:A,isCSSVariable:S}=di[j],R=b==="none"?g[j]:w(g[j],p);if(A){const _=A.length;for(let T=0;T<_;T++)d[A[T]]=R}else S?this.options.visualElement.renderState.vars[j]=R:d[j]=R}this.options.layoutId&&(d.pointerEvents=p===this?yl(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>d.currentAnimation?.stop()),this.root.nodes.forEach(c0),this.root.sharedNodes.clear()}}}function C1(t){t.updateLayout()}function G1(t){const a=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&a&&t.hasListeners("didUpdate")){const{layoutBox:l,measuredBox:r}=t.layout,{animationType:c}=t.options,m=a.source!==t.layout.source;c==="size"?Ut(g=>{const b=m?a.measuredBox[g]:a.layoutBox[g],v=ht(b);b.min=l[g].min,b.max=b.min+v}):Ef(c,a.layoutBox,l)&&Ut(g=>{const b=m?a.measuredBox[g]:a.layoutBox[g],v=ht(l[g]);b.max=b.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+v)});const d=da();ni(d,l,a.layoutBox);const h=da();m?ni(h,t.applyTransform(r,!0),a.measuredBox):ni(h,l,a.layoutBox);const x=!Mf(d);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:v}=g;if(b&&v){const N=ke();ai(N,a.layoutBox,b.layoutBox);const j=ke();ai(j,l,v.layoutBox),wf(N,j)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=N,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:l,snapshot:a,delta:h,layoutDelta:d,hasLayoutChanged:x,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:l}=t.options;l&&l()}t.options.transition=void 0}function O1(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function L1(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function P1(t){t.clearSnapshot()}function c0(t){t.clearMeasurements()}function d0(t){t.isLayoutDirty=!1}function H1(t){const{visualElement:a}=t.options;a&&a.getProps().onBeforeLayoutMeasure&&a.notify("BeforeLayoutMeasure"),t.resetTransform()}function u0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function V1(t){t.resolveTargetDelta()}function z1(t){t.calcProjection()}function k1(t){t.resetSkewAndRotation()}function F1(t){t.removeLeadSnapshot()}function m0(t,a,l){t.translate=Ge(a.translate,0,l),t.scale=Ge(a.scale,1,l),t.origin=a.origin,t.originPoint=a.originPoint}function h0(t,a,l,r){t.min=Ge(a.min,l.min,r),t.max=Ge(a.max,l.max,r)}function U1(t,a,l,r){h0(t.x,a.x,l.x,r),h0(t.y,a.y,l.y,r)}function K1(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const B1={duration:.45,ease:[.4,0,.1,1]},x0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),f0=x0("applewebkit/")&&!x0("chrome/")?Math.round:Bt;function g0(t){t.min=f0(t.min),t.max=f0(t.max)}function q1(t){g0(t.x),g0(t.y)}function Ef(t,a,l){return t==="position"||t==="preserve-aspect"&&!WN(r0(a),r0(l),.2)}function Y1(t){return t!==t.root&&t.scroll?.wasRoot}const X1=Tf({attachResizeListener:(t,a)=>ui(t,"resize",a),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vo={current:void 0},Rf=Tf({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Vo.current){const t=new X1({});t.mount(window),t.setOptions({layoutScroll:!0}),Vo.current=t}return Vo.current},resetTransform:(t,a)=>{t.style.transform=a!==void 0?a:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Q1={pan:{Feature:m1},drag:{Feature:u1,ProjectionNode:Rf,MeasureLayout:jf}};function p0(t,a,l){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",l==="Start");const c="onHover"+l,m=r[c];m&&Re.postRender(()=>m(a,gi(a)))}class Z1 extends $s{mount(){const{current:a}=this.node;a&&(this.unmount=fj(a,(l,r)=>(p0(this.node,r,"Start"),c=>p0(this.node,c,"End"))))}unmount(){}}class I1 extends $s{constructor(){super(...arguments),this.isActive=!1}onFocus(){let a=!1;try{a=this.node.current.matches(":focus-visible")}catch{a=!0}!a||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hi(ui(this.node.current,"focus",()=>this.onFocus()),ui(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function y0(t,a,l){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",l==="Start");const c="onTap"+(l==="End"?"":l),m=r[c];m&&Re.postRender(()=>m(a,gi(a)))}class W1 extends $s{mount(){const{current:a}=this.node;a&&(this.unmount=bj(a,(l,r)=>(y0(this.node,r,"Start"),(c,{success:m})=>y0(this.node,c,m?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yc=new WeakMap,zo=new WeakMap,J1=t=>{const a=yc.get(t.target);a&&a(t)},$1=t=>{t.forEach(J1)};function e2({root:t,...a}){const l=t||document;zo.has(l)||zo.set(l,{});const r=zo.get(l),c=JSON.stringify(a);return r[c]||(r[c]=new IntersectionObserver($1,{root:t,...a})),r[c]}function t2(t,a,l){const r=e2(a);return yc.set(t,l),r.observe(t),()=>{yc.delete(t),r.unobserve(t)}}const s2={some:0,all:1};class n2 extends $s{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:a={}}=this.node.getProps(),{root:l,margin:r,amount:c="some",once:m}=a,d={root:l?l.current:void 0,rootMargin:r,threshold:typeof c=="number"?c:s2[c]},h=x=>{const{isIntersecting:p}=x;if(this.isInView===p||(this.isInView=p,m&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:b}=this.node.getProps(),v=p?g:b;v&&v(x)};return t2(this.node.current,d,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:a,prevProps:l}=this.node;["amount","margin","root"].some(a2(a,l))&&this.startObserver()}unmount(){}}function a2({viewport:t={}},{viewport:a={}}={}){return l=>t[l]!==a[l]}const i2={inView:{Feature:n2},tap:{Feature:W1},focus:{Feature:I1},hover:{Feature:Z1}},l2={layout:{ProjectionNode:Rf,MeasureLayout:jf}},r2={...qN,...i2,...Q1,...l2},Ct=rN(r2,vN);var _f={exports:{}},en={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */en.ConcurrentRoot=1;en.ContinuousEventPriority=8;en.DefaultEventPriority=32;en.DiscreteEventPriority=2;en.IdleEventPriority=268435456;en.LegacyRoot=0;en.NoEventPriority=0;_f.exports=en;var vl=_f.exports;const b0=t=>{let a;const l=new Set,r=(p,g)=>{const b=typeof p=="function"?p(a):p;if(!Object.is(b,a)){const v=a;a=g??(typeof b!="object"||b===null)?b:Object.assign({},a,b),l.forEach(N=>N(a,v))}},c=()=>a,h={setState:r,getState:c,getInitialState:()=>x,subscribe:p=>(l.add(p),()=>l.delete(p))},x=a=t(r,c,h);return h},o2=t=>t?b0(t):b0,{useSyncExternalStoreWithSelector:c2}=Ny,d2=t=>t;function u2(t,a=d2,l){const r=c2(t.subscribe,t.getState,t.getInitialState,a,l);return hy.useDebugValue(r),r}const v0=(t,a)=>{const l=o2(t),r=(c,m=a)=>u2(l,c,m);return Object.assign(r,l),r},m2=(t,a)=>t?v0(t,a):v0;var Df={exports:{}},Cf={exports:{}},ko={exports:{}},Fo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function h2(){return j0||(j0=1,function(t){function a(E,L){var U=E.length;E.push(L);e:for(;0<U;){var I=U-1>>>1,te=E[I];if(0<c(te,L))E[I]=L,E[U]=te,U=I;else break e}}function l(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var L=E[0],U=E.pop();if(U!==L){E[0]=U;e:for(var I=0,te=E.length,ae=te>>>1;I<ae;){var ie=2*(I+1)-1,me=E[ie],ce=ie+1,Te=E[ce];if(0>c(me,U))ce<te&&0>c(Te,me)?(E[I]=Te,E[ce]=U,I=ce):(E[I]=me,E[ie]=U,I=ie);else if(ce<te&&0>c(Te,U))E[I]=Te,E[ce]=U,I=ce;else break e}}return L}function c(E,L){var U=E.sortIndex-L.sortIndex;return U!==0?U:E.id-L.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;t.unstable_now=function(){return m.now()}}else{var d=Date,h=d.now();t.unstable_now=function(){return d.now()-h}}var x=[],p=[],g=1,b=null,v=3,N=!1,j=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function _(E){for(var L=l(p);L!==null;){if(L.callback===null)r(p);else if(L.startTime<=E)r(p),L.sortIndex=L.expirationTime,a(x,L);else break;L=l(p)}}function T(E){if(w=!1,_(E),!j)if(l(x)!==null)j=!0,Z();else{var L=l(p);L!==null&&J(T,L.startTime-E)}}var O=!1,V=-1,K=5,y=-1;function F(){return!(t.unstable_now()-y<K)}function Y(){if(O){var E=t.unstable_now();y=E;var L=!0;try{e:{j=!1,w&&(w=!1,S(V),V=-1),N=!0;var U=v;try{t:{for(_(E),b=l(x);b!==null&&!(b.expirationTime>E&&F());){var I=b.callback;if(typeof I=="function"){b.callback=null,v=b.priorityLevel;var te=I(b.expirationTime<=E);if(E=t.unstable_now(),typeof te=="function"){b.callback=te,_(E),L=!0;break t}b===l(x)&&r(x),_(E)}else r(x);b=l(x)}if(b!==null)L=!0;else{var ae=l(p);ae!==null&&J(T,ae.startTime-E),L=!1}}break e}finally{b=null,v=U,N=!1}L=void 0}}finally{L?X():O=!1}}}var X;if(typeof R=="function")X=function(){R(Y)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,q=$.port2;$.port1.onmessage=Y,X=function(){q.postMessage(null)}}else X=function(){A(Y,0)};function Z(){O||(O=!0,X())}function J(E,L){V=A(function(){E(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){j||N||(j=!0,Z())},t.unstable_forceFrameRate=function(E){0>E||125<E||(K=0<E?Math.floor(1e3/E):5)},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return l(x)},t.unstable_next=function(E){switch(v){case 1:case 2:case 3:var L=3;break;default:L=v}var U=v;v=L;try{return E()}finally{v=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,L){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var U=v;v=E;try{return L()}finally{v=U}},t.unstable_scheduleCallback=function(E,L,U){var I=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?I+U:I):U=I,E){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=U+te,E={id:g++,callback:L,priorityLevel:E,startTime:U,expirationTime:te,sortIndex:-1},U>I?(E.sortIndex=U,a(p,E),l(x)===null&&E===l(p)&&(w?(S(V),V=-1):w=!0,J(T,U-I))):(E.sortIndex=te,a(x,E),j||N||(j=!0,Z())),E},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(E){var L=v;return function(){var U=v;v=L;try{return E.apply(this,arguments)}finally{v=U}}}}(Fo)),Fo}var N0;function x2(){return N0||(N0=1,ko.exports=h2()),ko.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){t.exports=function(a){function l(s,n,i,o){return new Sg(s,n,i,o)}function r(){}function c(s){var n="https://react.dev/errors/"+s;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+s+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(s){return s===null||typeof s!="object"?null:(s=gm&&s[gm]||s["@@iterator"],typeof s=="function"?s:null)}function d(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Rg?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case Hn:return"Fragment";case Pn:return"Portal";case Br:return"Profiler";case hm:return"StrictMode";case Yr:return"Suspense";case Xr:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Hs:return(s.displayName||"Context")+".Provider";case xm:return(s._context.displayName||"Context")+".Consumer";case qr:var n=s.render;return s=s.displayName,s||(s=n.displayName||n.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Qr:return n=s.displayName||null,n!==null?n:d(s.type)||"Memo";case Vs:n=s._payload,s=s._init;try{return d(s(n))}catch{}}return null}function h(s){if(Zr===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Zr=n&&n[1]||"",pm=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zr+s+pm}function x(s,n){if(!s||Ir)return"";Ir=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(de){var se=de}Reflect.construct(s,[],ee)}else{try{ee.call()}catch(de){se=de}s.call(ee.prototype)}}else{try{throw Error()}catch(de){se=de}(ee=s())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(de){if(de&&se&&typeof de.stack=="string")return[de.stack,se.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),M=f[0],G=f[1];if(M&&G){var H=M.split(`
`),B=G.split(`
`);for(u=o=0;o<H.length&&!H[o].includes("DetermineComponentFrameRoot");)o++;for(;u<B.length&&!B[u].includes("DetermineComponentFrameRoot");)u++;if(o===H.length||u===B.length)for(o=H.length-1,u=B.length-1;1<=o&&0<=u&&H[o]!==B[u];)u--;for(;1<=o&&0<=u;o--,u--)if(H[o]!==B[u]){if(o!==1||u!==1)do if(o--,u--,0>u||H[o]!==B[u]){var W=`
`+H[o].replace(" at new "," at ");return s.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",s.displayName)),W}while(1<=o&&0<=u);break}}}finally{Ir=!1,Error.prepareStackTrace=i}return(i=s?s.displayName||s.name:"")?h(i):""}function p(s){switch(s.tag){case 26:case 27:case 5:return h(s.type);case 16:return h("Lazy");case 13:return h("Suspense");case 19:return h("SuspenseList");case 0:case 15:return s=x(s.type,!1),s;case 11:return s=x(s.type.render,!1),s;case 1:return s=x(s.type,!0),s;default:return""}}function g(s){try{var n="";do n+=p(s),s=s.return;while(s);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function b(s){var n=s,i=s;if(s.alternate)for(;n.return;)n=n.return;else{s=n;do n=s,n.flags&4098&&(i=n.return),s=n.return;while(s)}return n.tag===3?i:null}function v(s){if(b(s)!==s)throw Error(c(188))}function N(s){var n=s.alternate;if(!n){if(n=b(s),n===null)throw Error(c(188));return n!==s?null:s}for(var i=s,o=n;;){var u=i.return;if(u===null)break;var f=u.alternate;if(f===null){if(o=u.return,o!==null){i=o;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===i)return v(u),s;if(f===o)return v(u),n;f=f.sibling}throw Error(c(188))}if(i.return!==o.return)i=u,o=f;else{for(var M=!1,G=u.child;G;){if(G===i){M=!0,i=u,o=f;break}if(G===o){M=!0,o=u,i=f;break}G=G.sibling}if(!M){for(G=f.child;G;){if(G===i){M=!0,i=f,o=u;break}if(G===o){M=!0,o=f,i=u;break}G=G.sibling}if(!M)throw Error(c(189))}}if(i.alternate!==o)throw Error(c(190))}if(i.tag!==3)throw Error(c(188));return i.stateNode.current===i?s:n}function j(s){var n=s.tag;if(n===5||n===26||n===27||n===6)return s;for(s=s.child;s!==null;){if(n=j(s),n!==null)return n;s=s.sibling}return null}function w(s){var n=s.tag;if(n===5||n===26||n===27||n===6)return s;for(s=s.child;s!==null;){if(s.tag!==4&&(n=w(s),n!==null))return n;s=s.sibling}return null}function A(s){return{current:s}}function S(s){0>zn||(s.current=so[zn],so[zn]=null,zn--)}function R(s,n){zn++,so[zn]=s.current,s.current=n}function _(s){return s>>>=0,s===0?32:31-(Bp(s)/qp|0)|0}function T(s){var n=s&42;if(n!==0)return n;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function O(s,n){var i=s.pendingLanes;if(i===0)return 0;var o=0,u=s.suspendedLanes,f=s.pingedLanes,M=s.warmLanes;s=s.finishedLanes!==0;var G=i&134217727;return G!==0?(i=G&~u,i!==0?o=T(i):(f&=G,f!==0?o=T(f):s||(M=G&~M,M!==0&&(o=T(M))))):(G=i&~u,G!==0?o=T(G):f!==0?o=T(f):s||(M=i&~M,M!==0&&(o=T(M)))),o===0?0:n!==0&&n!==o&&!(n&u)&&(u=o&-o,M=n&-n,u>=M||u===32&&(M&4194176)!==0)?n:o}function V(s,n){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&n)===0}function K(s,n){switch(s){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y(){var s=Bi;return Bi<<=1,!(Bi&4194176)&&(Bi=128),s}function F(){var s=qi;return qi<<=1,!(qi&62914560)&&(qi=4194304),s}function Y(s){for(var n=[],i=0;31>i;i++)n.push(s);return n}function X(s,n){s.pendingLanes|=n,n!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function $(s,n,i,o,u,f){var M=s.pendingLanes;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=i,s.entangledLanes&=i,s.errorRecoveryDisabledLanes&=i,s.shellSuspendCounter=0;var G=s.entanglements,H=s.expirationTimes,B=s.hiddenUpdates;for(i=M&~i;0<i;){var W=31-Tt(i),ee=1<<W;G[W]=0,H[W]=-1;var se=B[W];if(se!==null)for(B[W]=null,W=0;W<se.length;W++){var de=se[W];de!==null&&(de.lane&=-536870913)}i&=~ee}o!==0&&q(s,o,0),f!==0&&u===0&&s.tag!==0&&(s.suspendedLanes|=f&~(M&~n))}function q(s,n,i){s.pendingLanes|=n,s.suspendedLanes&=~n;var o=31-Tt(n);s.entangledLanes|=n,s.entanglements[o]=s.entanglements[o]|1073741824|i&4194218}function Z(s,n){var i=s.entangledLanes|=n;for(s=s.entanglements;i;){var o=31-Tt(i),u=1<<o;u&n|s[o]&n&&(s[o]|=n),i&=~u}}function J(s){return s&=-s,2<s?8<s?s&134217727?32:268435456:8:2}function E(s){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(za,s,void 0,(s.current.flags&128)===128)}catch{}}function L(s){if(typeof Ip=="function"&&Wp(s),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(za,s)}catch{}}function U(s,n){return s===n&&(s!==0||1/s===1/n)||s!==s&&n!==n}function I(s,n){if(typeof s=="object"&&s!==null){var i=Km.get(s);return i!==void 0?i:(n={value:s,source:n,stack:g(n)},Km.set(s,n),n)}return{value:s,source:n,stack:g(n)}}function te(s,n){Fn[Un++]=Qi,Fn[Un++]=Xi,Xi=s,Qi=n}function ae(s,n,i){Lt[Pt++]=ps,Lt[Pt++]=ys,Lt[Pt++]=dn,dn=s;var o=ps;s=ys;var u=32-Tt(o)-1;o&=~(1<<u),i+=1;var f=32-Tt(n)+u;if(30<f){var M=u-u%5;f=(o&(1<<M)-1).toString(32),o>>=M,u-=M,ps=1<<32-Tt(n)+u|i<<u|o,ys=f+s}else ps=1<<f|i<<u|o,ys=s}function ie(s){s.return!==null&&(te(s,1),ae(s,1,0))}function me(s){for(;s===Xi;)Xi=Fn[--Un],Fn[Un]=null,Qi=Fn[--Un],Fn[Un]=null;for(;s===dn;)dn=Lt[--Pt],Lt[Pt]=null,ys=Lt[--Pt],Lt[Pt]=null,ps=Lt[--Pt],Lt[Pt]=null}function ce(s,n){R(ks,n),R(ka,s),R($e,null),s=Cg(n),S($e),R($e,s)}function Te(){S($e),S(ka),S(ks)}function os(s){s.memoizedState!==null&&R(Zi,s);var n=$e.current,i=Gg(n,s.type);n!==i&&(R(ka,s),R($e,i))}function _n(s){ka.current===s&&(S($e),S(ka)),Zi.current===s&&(S(Zi),gs?cn._currentValue=Vn:cn._currentValue2=Vn)}function xt(s){var n=Error(c(418,""));throw dt(I(n,s)),io}function va(s,n){if(!Gt)throw Error(c(175));Ap(s.stateNode,s.type,s.memoizedProps,n,s)||xt(s)}function tt(s){for(mt=s.return;mt;)switch(mt.tag){case 3:case 27:$t=!0;return;case 5:case 13:$t=!1;return;default:mt=mt.return}}function ve(s){if(!Gt||s!==mt)return!1;if(!pe)return tt(s),pe=!0,!1;var n=!1;if(it?s.tag!==3&&s.tag!==27&&(s.tag!==5||Cm(s.type)&&!Ki(s.type,s.memoizedProps))&&(n=!0):s.tag!==3&&(s.tag!==5||Cm(s.type)&&!Ki(s.type,s.memoizedProps))&&(n=!0),n&&lt&&xt(s),tt(s),s.tag===13){if(!Gt)throw Error(c(316));if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(c(317));lt=Rp(s)}else lt=mt?_m(s.stateNode):null;return!0}function vt(){Gt&&(lt=mt=null,pe=!1)}function dt(s){Qt===null?Qt=[s]:Qt.push(s)}function Jt(){for(var s=Kn,n=lo=Kn=0;n<s;){var i=Ht[n];Ht[n++]=null;var o=Ht[n];Ht[n++]=null;var u=Ht[n];Ht[n++]=null;var f=Ht[n];if(Ht[n++]=null,o!==null&&u!==null){var M=o.pending;M===null?u.next=u:(u.next=M.next,M.next=u),o.pending=u}f!==0&&Na(i,u,f)}}function cs(s,n,i,o){Ht[Kn++]=s,Ht[Kn++]=n,Ht[Kn++]=i,Ht[Kn++]=o,lo|=o,s.lanes|=o,s=s.alternate,s!==null&&(s.lanes|=o)}function ja(s,n,i,o){return cs(s,n,i,o),As(s)}function st(s,n){return cs(s,null,null,n),As(s)}function Na(s,n,i){s.lanes|=i;var o=s.alternate;o!==null&&(o.lanes|=i);for(var u=!1,f=s.return;f!==null;)f.childLanes|=i,o=f.alternate,o!==null&&(o.childLanes|=i),f.tag===22&&(s=f.stateNode,s===null||s._visibility&1||(u=!0)),s=f,f=f.return;u&&n!==null&&s.tag===3&&(f=s.stateNode,u=31-Tt(i),f=f.hiddenUpdates,s=f[u],s===null?f[u]=[n]:s.push(n),n.lane=i|536870912)}function As(s){if(50<Za)throw Za=0,So=null,Error(c(185));for(var n=s.return;n!==null;)s=n,n=s.return;return s.tag===3?s.stateNode:null}function jt(s){s!==Bn&&s.next===null&&(Bn===null?Ii=Bn=s:Bn=Bn.next=s),Wi=!0,ro||(ro=!0,kl(zl))}function Ts(s,n){if(!oo&&Wi){oo=!0;do for(var i=!1,o=Ii;o!==null;){if(!n)if(s!==0){var u=o.pendingLanes;if(u===0)var f=0;else{var M=o.suspendedLanes,G=o.pingedLanes;f=(1<<31-Tt(42|s)+1)-1,f&=u&~(M&~G),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(i=!0,ji(o,f))}else f=ge,f=O(o,o===we?f:0),!(f&3)||V(o,f)||(i=!0,ji(o,f));o=o.next}while(i);oo=!1}}function zl(){Wi=ro=!1;var s=0;qn!==0&&(Fg()&&(s=qn),qn=0);for(var n=Xt(),i=null,o=Ii;o!==null;){var u=o.next,f=bi(o,n);f===0?(o.next=null,i===null?Ii=u:i.next=u,u===null&&(Bn=i)):(i=o,(s!==0||f&3)&&(Wi=!0)),o=u}Ts(s,!1)}function bi(s,n){for(var i=s.suspendedLanes,o=s.pingedLanes,u=s.expirationTimes,f=s.pendingLanes&-62914561;0<f;){var M=31-Tt(f),G=1<<M,H=u[M];H===-1?(!(G&i)||G&o)&&(u[M]=K(G,n)):H<=n&&(s.expiredLanes|=G),f&=~G}if(n=we,i=ge,i=O(s,s===n?i:0),o=s.callbackNode,i===0||s===n&&Ae===2||s.cancelPendingCommit!==null)return o!==null&&o!==null&&no(o),s.callbackNode=null,s.callbackPriority=0;if(!(i&3)||V(s,i)){if(n=i&-i,n===s.callbackPriority)return n;switch(o!==null&&no(o),J(i)){case 2:case 8:i=Qp;break;case 32:i=ao;break;case 268435456:i=Zp;break;default:i=ao}return o=vi.bind(null,s),i=Yi(i,o),s.callbackPriority=n,s.callbackNode=i,n}return o!==null&&o!==null&&no(o),s.callbackPriority=2,s.callbackNode=null,2}function vi(s,n){var i=s.callbackNode;if(ln()&&s.callbackNode!==i)return null;var o=ge;return o=O(s,s===we?o:0),o===0?null:(Yu(s,o,n),bi(s,Xt()),s.callbackNode!=null&&s.callbackNode===i?vi.bind(null,s):null)}function ji(s,n){if(ln())return null;Yu(s,n,!0)}function kl(s){Xg?Qg(function(){Se&6?Yi(Um,s):s()}):Yi(Um,s)}function qt(){return qn===0&&(qn=y()),qn}function tg(s,n){if(Fa===null){var i=Fa=[];co=0,Yn=qt(),Xn={status:"pending",value:void 0,then:function(o){i.push(o)}}}return co++,n.then(xd,xd),n}function xd(){if(--co===0&&Fa!==null){Xn!==null&&(Xn.status="fulfilled");var s=Fa;Fa=null,Yn=0,Xn=null;for(var n=0;n<s.length;n++)(0,s[n])()}}function sg(s,n){var i=[],o={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return s.then(function(){o.status="fulfilled",o.value=n;for(var u=0;u<i.length;u++)(0,i[u])(n)},function(u){for(o.status="rejected",o.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),o}function Fl(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ul(s,n){s=s.updateQueue,n.updateQueue===s&&(n.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Es(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Rs(s,n,i){var o=s.updateQueue;if(o===null)return null;if(o=o.shared,Se&2){var u=o.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),o.pending=n,n=As(s),Na(s,null,i),n}return cs(s,o,n,i),As(s)}function Sa(s,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194176)!==0)){var o=n.lanes;o&=s.pendingLanes,i|=o,n.lanes=i,Z(s,i)}}function Kl(s,n){var i=s.updateQueue,o=s.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var u=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var M={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?u=f=M:f=f.next=M,i=i.next}while(i!==null);f===null?u=f=n:f=f.next=n}else u=f=n;i={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},s.updateQueue=i;return}s=i.lastBaseUpdate,s===null?i.firstBaseUpdate=n:s.next=n,i.lastBaseUpdate=n}function Ma(){if(uo){var s=Xn;if(s!==null)throw s}}function wa(s,n,i,o){uo=!1;var u=s.updateQueue;Fs=!1;var f=u.firstBaseUpdate,M=u.lastBaseUpdate,G=u.shared.pending;if(G!==null){u.shared.pending=null;var H=G,B=H.next;H.next=null,M===null?f=B:M.next=B,M=H;var W=s.alternate;W!==null&&(W=W.updateQueue,G=W.lastBaseUpdate,G!==M&&(G===null?W.firstBaseUpdate=B:G.next=B,W.lastBaseUpdate=H))}if(f!==null){var ee=u.baseState;M=0,W=B=H=null,G=f;do{var se=G.lane&-536870913,de=se!==G.lane;if(de?(ge&se)===se:(o&se)===se){se!==0&&se===Yn&&(uo=!0),W!==null&&(W=W.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var kt=s,Ia=G;se=n;var bn=i;switch(Ia.tag){case 1:if(kt=Ia.payload,typeof kt=="function"){ee=kt.call(bn,ee,se);break e}ee=kt;break e;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=Ia.payload,se=typeof kt=="function"?kt.call(bn,ee,se):kt,se==null)break e;ee=Kr({},ee,se);break e;case 2:Fs=!0}}se=G.callback,se!==null&&(s.flags|=64,de&&(s.flags|=8192),de=u.callbacks,de===null?u.callbacks=[se]:de.push(se))}else de={lane:se,tag:G.tag,payload:G.payload,callback:G.callback,next:null},W===null?(B=W=de,H=ee):W=W.next=de,M|=se;if(G=G.next,G===null){if(G=u.shared.pending,G===null)break;de=G,G=de.next,de.next=null,u.lastBaseUpdate=de,u.shared.pending=null}}while(1);W===null&&(H=ee),u.baseState=H,u.firstBaseUpdate=B,u.lastBaseUpdate=W,f===null&&(u.shared.lanes=0),Bs|=M,s.lanes=M,s.memoizedState=ee}}function fd(s,n){if(typeof s!="function")throw Error(c(191,s));s.call(n)}function gd(s,n){var i=s.callbacks;if(i!==null)for(s.callbacks=null,s=0;s<i.length;s++)fd(i[s],n)}function Ni(s,n){if(Rt(s,n))return!0;if(typeof s!="object"||s===null||typeof n!="object"||n===null)return!1;var i=Object.keys(s),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var u=i[o];if(!Jp.call(n,u)||!Rt(s[u],n[u]))return!1}return!0}function pd(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Si(){}function yd(s,n,i){switch(i=s[i],i===void 0?s.push(n):i!==n&&(n.then(Si,Si),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw s=n.reason,s===Ua?Error(c(483)):s;default:if(typeof n.status=="string")n.then(Si,Si);else{if(s=we,s!==null&&100<s.shellSuspendCounter)throw Error(c(482));s=n,s.status="pending",s.then(function(o){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=o}},function(o){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw s=n.reason,s===Ua?Error(c(483)):s}throw Qn=n,Ua}}function bd(){if(Qn===null)throw Error(c(459));var s=Qn;return Qn=null,s}function Mi(s){var n=Ka;return Ka+=1,Zn===null&&(Zn=[]),yd(Zn,s,n)}function Aa(s,n){n=n.props.ref,s.ref=n!==void 0?n:null}function wi(s,n){throw n.$$typeof===Ag?Error(c(525)):(s=Object.prototype.toString.call(n),Error(c(31,s==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":s)))}function vd(s){var n=s._init;return n(s._payload)}function jd(s){function n(z,P){if(s){var k=z.deletions;k===null?(z.deletions=[P],z.flags|=16):k.push(P)}}function i(z,P){if(!s)return null;for(;P!==null;)n(z,P),P=P.sibling;return null}function o(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function u(z,P){return z=Ps(z,P),z.index=0,z.sibling=null,z}function f(z,P,k){return z.index=k,s?(k=z.alternate,k!==null?(k=k.index,k<P?(z.flags|=33554434,P):k):(z.flags|=33554434,P)):(z.flags|=1048576,P)}function M(z){return s&&z.alternate===null&&(z.flags|=33554434),z}function G(z,P,k,Q){return P===null||P.tag!==6?(P=kr(k,z.mode,Q),P.return=z,P):(P=u(P,k),P.return=z,P)}function H(z,P,k,Q){var ne=k.type;return ne===Hn?W(z,P,k.props.children,Q,k.key):P!==null&&(P.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Vs&&vd(ne)===P.type)?(P=u(P,k.props),Aa(P,k),P.return=z,P):(P=ki(k.type,k.key,k.props,null,z.mode,Q),Aa(P,k),P.return=z,P)}function B(z,P,k,Q){return P===null||P.tag!==4||P.stateNode.containerInfo!==k.containerInfo||P.stateNode.implementation!==k.implementation?(P=Fr(k,z.mode,Q),P.return=z,P):(P=u(P,k.children||[]),P.return=z,P)}function W(z,P,k,Q,ne){return P===null||P.tag!==7?(P=rn(k,z.mode,Q,ne),P.return=z,P):(P=u(P,k),P.return=z,P)}function ee(z,P,k){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=kr(""+P,z.mode,k),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Fi:return k=ki(P.type,P.key,P.props,null,z.mode,k),Aa(k,P),k.return=z,k;case Pn:return P=Fr(P,z.mode,k),P.return=z,P;case Vs:var Q=P._init;return P=Q(P._payload),ee(z,P,k)}if(Ui(P)||m(P))return P=rn(P,z.mode,k,null),P.return=z,P;if(typeof P.then=="function")return ee(z,Mi(P),k);if(P.$$typeof===Hs)return ee(z,Oi(z,P),k);wi(z,P)}return null}function se(z,P,k,Q){var ne=P!==null?P.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ne!==null?null:G(z,P,""+k,Q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Fi:return k.key===ne?H(z,P,k,Q):null;case Pn:return k.key===ne?B(z,P,k,Q):null;case Vs:return ne=k._init,k=ne(k._payload),se(z,P,k,Q)}if(Ui(k)||m(k))return ne!==null?null:W(z,P,k,Q,null);if(typeof k.then=="function")return se(z,P,Mi(k),Q);if(k.$$typeof===Hs)return se(z,P,Oi(z,k),Q);wi(z,k)}return null}function de(z,P,k,Q,ne){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return z=z.get(k)||null,G(P,z,""+Q,ne);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Fi:return z=z.get(Q.key===null?k:Q.key)||null,H(P,z,Q,ne);case Pn:return z=z.get(Q.key===null?k:Q.key)||null,B(P,z,Q,ne);case Vs:var Ee=Q._init;return Q=Ee(Q._payload),de(z,P,k,Q,ne)}if(Ui(Q)||m(Q))return z=z.get(k)||null,W(P,z,Q,ne,null);if(typeof Q.then=="function")return de(z,P,k,Mi(Q),ne);if(Q.$$typeof===Hs)return de(z,P,k,Oi(P,Q),ne);wi(P,Q)}return null}function kt(z,P,k,Q){for(var ne=null,Ee=null,re=P,ye=P=0,Ze=null;re!==null&&ye<k.length;ye++){re.index>ye?(Ze=re,re=null):Ze=re.sibling;var be=se(z,re,k[ye],Q);if(be===null){re===null&&(re=Ze);break}s&&re&&be.alternate===null&&n(z,re),P=f(be,P,ye),Ee===null?ne=be:Ee.sibling=be,Ee=be,re=Ze}if(ye===k.length)return i(z,re),pe&&te(z,ye),ne;if(re===null){for(;ye<k.length;ye++)re=ee(z,k[ye],Q),re!==null&&(P=f(re,P,ye),Ee===null?ne=re:Ee.sibling=re,Ee=re);return pe&&te(z,ye),ne}for(re=o(re);ye<k.length;ye++)Ze=de(re,z,ye,k[ye],Q),Ze!==null&&(s&&Ze.alternate!==null&&re.delete(Ze.key===null?ye:Ze.key),P=f(Ze,P,ye),Ee===null?ne=Ze:Ee.sibling=Ze,Ee=Ze);return s&&re.forEach(function(Ys){return n(z,Ys)}),pe&&te(z,ye),ne}function Ia(z,P,k,Q){if(k==null)throw Error(c(151));for(var ne=null,Ee=null,re=P,ye=P=0,Ze=null,be=k.next();re!==null&&!be.done;ye++,be=k.next()){re.index>ye?(Ze=re,re=null):Ze=re.sibling;var Ys=se(z,re,be.value,Q);if(Ys===null){re===null&&(re=Ze);break}s&&re&&Ys.alternate===null&&n(z,re),P=f(Ys,P,ye),Ee===null?ne=Ys:Ee.sibling=Ys,Ee=Ys,re=Ze}if(be.done)return i(z,re),pe&&te(z,ye),ne;if(re===null){for(;!be.done;ye++,be=k.next())be=ee(z,be.value,Q),be!==null&&(P=f(be,P,ye),Ee===null?ne=be:Ee.sibling=be,Ee=be);return pe&&te(z,ye),ne}for(re=o(re);!be.done;ye++,be=k.next())be=de(re,z,ye,be.value,Q),be!==null&&(s&&be.alternate!==null&&re.delete(be.key===null?ye:be.key),P=f(be,P,ye),Ee===null?ne=be:Ee.sibling=be,Ee=be);return s&&re.forEach(function(iy){return n(z,iy)}),pe&&te(z,ye),ne}function bn(z,P,k,Q){if(typeof k=="object"&&k!==null&&k.type===Hn&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Fi:e:{for(var ne=k.key;P!==null;){if(P.key===ne){if(ne=k.type,ne===Hn){if(P.tag===7){i(z,P.sibling),Q=u(P,k.props.children),Q.return=z,z=Q;break e}}else if(P.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Vs&&vd(ne)===P.type){i(z,P.sibling),Q=u(P,k.props),Aa(Q,k),Q.return=z,z=Q;break e}i(z,P);break}else n(z,P);P=P.sibling}k.type===Hn?(Q=rn(k.props.children,z.mode,Q,k.key),Q.return=z,z=Q):(Q=ki(k.type,k.key,k.props,null,z.mode,Q),Aa(Q,k),Q.return=z,z=Q)}return M(z);case Pn:e:{for(ne=k.key;P!==null;){if(P.key===ne)if(P.tag===4&&P.stateNode.containerInfo===k.containerInfo&&P.stateNode.implementation===k.implementation){i(z,P.sibling),Q=u(P,k.children||[]),Q.return=z,z=Q;break e}else{i(z,P);break}else n(z,P);P=P.sibling}Q=Fr(k,z.mode,Q),Q.return=z,z=Q}return M(z);case Vs:return ne=k._init,k=ne(k._payload),bn(z,P,k,Q)}if(Ui(k))return kt(z,P,k,Q);if(m(k)){if(ne=m(k),typeof ne!="function")throw Error(c(150));return k=ne.call(k),Ia(z,P,k,Q)}if(typeof k.then=="function")return bn(z,P,Mi(k),Q);if(k.$$typeof===Hs)return bn(z,P,Oi(z,k),Q);wi(z,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,P!==null&&P.tag===6?(i(z,P.sibling),Q=u(P,k),Q.return=z,z=Q):(i(z,P),Q=kr(k,z.mode,Q),Q.return=z,z=Q),M(z)):i(z,P)}return function(z,P,k,Q){try{Ka=0;var ne=bn(z,P,k,Q);return Zn=null,ne}catch(re){if(re===Ua)throw re;var Ee=l(29,re,null,z.mode);return Ee.lanes=Q,Ee.return=z,Ee}finally{}}}function Nd(s,n){s=Ns,R($i,s),R(In,n),Ns=s|n.baseLanes}function Bl(){R($i,Ns),R(In,In.current)}function ql(){Ns=$i.current,S(In),S($i)}function _s(s){var n=s.alternate;R(qe,qe.current&1),R(Vt,s),es===null&&(n===null||In.current!==null||n.memoizedState!==null)&&(es=s)}function Sd(s){if(s.tag===22){if(R(qe,qe.current),R(Vt,s),es===null){var n=s.alternate;n!==null&&n.memoizedState!==null&&(es=s)}}else Ds()}function Ds(){R(qe,qe.current),R(Vt,Vt.current)}function ds(s){S(Vt),es===s&&(es=null),S(qe)}function Ai(s){for(var n=s;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||$r(i)||eo(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function ze(){throw Error(c(321))}function Yl(s,n){if(n===null)return!1;for(var i=0;i<n.length&&i<s.length;i++)if(!Rt(s[i],n[i]))return!1;return!0}function Xl(s,n,i,o,u,f){return Us=f,ue=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,oe.H=s===null||s.memoizedState===null?hn:Ks,mn=!1,f=i(o,u),mn=!1,Wn&&(f=wd(n,i,o,u)),Md(s),f}function Md(s){oe.H=ts;var n=Ne!==null&&Ne.next!==null;if(Us=0,Ue=Ne=ue=null,el=!1,Ba=0,Jn=null,n)throw Error(c(300));s===null||Xe||(s=s.dependencies,s!==null&&Gi(s)&&(Xe=!0))}function wd(s,n,i,o){ue=s;var u=0;do{if(Wn&&(Jn=null),Ba=0,Wn=!1,25<=u)throw Error(c(301));if(u+=1,Ue=Ne=null,s.updateQueue!=null){var f=s.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}oe.H=xn,f=n(i,o)}while(Wn);return f}function ng(){var s=oe.H,n=s.useState()[0];return n=typeof n.then=="function"?Ta(n):n,s=s.useState()[0],(Ne!==null?Ne.memoizedState:null)!==s&&(ue.flags|=1024),n}function Ql(){var s=tl!==0;return tl=0,s}function Zl(s,n,i){n.updateQueue=s.updateQueue,n.flags&=-2053,s.lanes&=~i}function Il(s){if(el){for(s=s.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}el=!1}Us=0,Ue=Ne=ue=null,Wn=!1,Ba=tl=0,Jn=null}function ft(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?ue.memoizedState=Ue=s:Ue=Ue.next=s,Ue}function Fe(){if(Ne===null){var s=ue.alternate;s=s!==null?s.memoizedState:null}else s=Ne.next;var n=Ue===null?ue.memoizedState:Ue.next;if(n!==null)Ue=n,Ne=s;else{if(s===null)throw ue.alternate===null?Error(c(467)):Error(c(310));Ne=s,s={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ue===null?ue.memoizedState=Ue=s:Ue=Ue.next=s}return Ue}function Ta(s){var n=Ba;return Ba+=1,Jn===null&&(Jn=[]),s=yd(Jn,s,n),n=ue,(Ue===null?n.memoizedState:Ue.next)===null&&(n=n.alternate,oe.H=n===null||n.memoizedState===null?hn:Ks),s}function Ti(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ta(s);if(s.$$typeof===Hs)return nt(s)}throw Error(c(438,String(s)))}function Wl(s){var n=null,i=ue.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var o=ue.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=ho(),ue.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(s),o=0;o<s;o++)i[o]=Eg;return n.index++,i}function us(s,n){return typeof n=="function"?n(s):n}function Ei(s){var n=Fe();return Jl(n,Ne,s)}function Jl(s,n,i){var o=s.queue;if(o===null)throw Error(c(311));o.lastRenderedReducer=i;var u=s.baseQueue,f=o.pending;if(f!==null){if(u!==null){var M=u.next;u.next=f.next,f.next=M}n.baseQueue=u=f,o.pending=null}if(f=s.baseState,u===null)s.memoizedState=f;else{n=u.next;var G=M=null,H=null,B=n,W=!1;do{var ee=B.lane&-536870913;if(ee!==B.lane?(ge&ee)===ee:(Us&ee)===ee){var se=B.revertLane;if(se===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ee===Yn&&(W=!0);else if((Us&se)===se){B=B.next,se===Yn&&(W=!0);continue}else ee={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},H===null?(G=H=ee,M=f):H=H.next=ee,ue.lanes|=se,Bs|=se;ee=B.action,mn&&i(f,ee),f=B.hasEagerState?B.eagerState:i(f,ee)}else se={lane:ee,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},H===null?(G=H=se,M=f):H=H.next=se,ue.lanes|=ee,Bs|=ee;B=B.next}while(B!==null&&B!==n);if(H===null?M=f:H.next=G,!Rt(f,s.memoizedState)&&(Xe=!0,W&&(i=Xn,i!==null)))throw i;s.memoizedState=f,s.baseState=M,s.baseQueue=H,o.lastRenderedState=f}return u===null&&(o.lanes=0),[s.memoizedState,o.dispatch]}function $l(s){var n=Fe(),i=n.queue;if(i===null)throw Error(c(311));i.lastRenderedReducer=s;var o=i.dispatch,u=i.pending,f=n.memoizedState;if(u!==null){i.pending=null;var M=u=u.next;do f=s(f,M.action),M=M.next;while(M!==u);Rt(f,n.memoizedState)||(Xe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,o]}function Ad(s,n,i){var o=ue,u=Fe(),f=pe;if(f){if(i===void 0)throw Error(c(407));i=i()}else i=n();var M=!Rt((Ne||u).memoizedState,i);if(M&&(u.memoizedState=i,Xe=!0),u=u.queue,sr(Rd.bind(null,o,u,s),[s]),u.getSnapshot!==n||M||Ue!==null&&Ue.memoizedState.tag&1){if(o.flags|=2048,Dn(9,Ed.bind(null,o,u,i,n),{destroy:void 0},null),we===null)throw Error(c(349));f||Us&60||Td(o,n,i)}return i}function Td(s,n,i){s.flags|=16384,s={getSnapshot:n,value:i},n=ue.updateQueue,n===null?(n=ho(),ue.updateQueue=n,n.stores=[s]):(i=n.stores,i===null?n.stores=[s]:i.push(s))}function Ed(s,n,i,o){n.value=i,n.getSnapshot=o,_d(n)&&Dd(s)}function Rd(s,n,i){return i(function(){_d(n)&&Dd(s)})}function _d(s){var n=s.getSnapshot;s=s.value;try{var i=n();return!Rt(s,i)}catch{return!0}}function Dd(s){var n=st(s,2);n!==null&&ut(n,s,2)}function er(s){var n=ft();if(typeof s=="function"){var i=s;if(s=i(),mn){L(!0);try{i()}finally{L(!1)}}}return n.memoizedState=n.baseState=s,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:s},n}function Cd(s,n,i,o){return s.baseState=i,Jl(s,Ne,typeof o=="function"?o:us)}function ag(s,n,i,o,u){if(Di(s))throw Error(c(485));if(s=n.action,s!==null){var f={payload:u,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){f.listeners.push(M)}};oe.T!==null?i(!0):f.isTransition=!1,o(f),i=n.pending,i===null?(f.next=n.pending=f,Gd(n,f)):(f.next=i.next,n.pending=i.next=f)}}function Gd(s,n){var i=n.action,o=n.payload,u=s.state;if(n.isTransition){var f=oe.T,M={};oe.T=M;try{var G=i(u,o),H=oe.S;H!==null&&H(M,G),Od(s,n,G)}catch(B){tr(s,n,B)}finally{oe.T=f}}else try{f=i(u,o),Od(s,n,f)}catch(B){tr(s,n,B)}}function Od(s,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){Ld(s,n,o)},function(o){return tr(s,n,o)}):Ld(s,n,i)}function Ld(s,n,i){n.status="fulfilled",n.value=i,Pd(n),s.state=i,n=s.pending,n!==null&&(i=n.next,i===n?s.pending=null:(i=i.next,n.next=i,Gd(s,i)))}function tr(s,n,i){var o=s.pending;if(s.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=i,Pd(n),n=n.next;while(n!==o)}s.action=null}function Pd(s){s=s.listeners;for(var n=0;n<s.length;n++)(0,s[n])()}function Hd(s,n){return n}function Vd(s,n){if(pe){var i=we.formState;if(i!==null){e:{var o=ue;if(pe){if(lt){var u=bp(lt,$t);if(u){lt=_m(u),o=vp(u);break e}}xt(o)}o=!1}o&&(n=i[0])}}i=ft(),i.memoizedState=i.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hd,lastRenderedState:n},i.queue=o,i=tu.bind(null,ue,o),o.dispatch=i,o=er(!1);var f=lr.bind(null,ue,!1,o.queue);return o=ft(),u={state:n,dispatch:null,action:s,pending:null},o.queue=u,i=ag.bind(null,ue,u,f,i),u.dispatch=i,o.memoizedState=s,[n,i,!1]}function zd(s){var n=Fe();return kd(n,Ne,s)}function kd(s,n,i){n=Jl(s,n,Hd)[0],s=Ei(us)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?Ta(n):n;var o=Fe(),u=o.queue,f=u.dispatch;return i!==o.memoizedState&&(ue.flags|=2048,Dn(9,ig.bind(null,u,i),{destroy:void 0},null)),[n,f,s]}function ig(s,n){s.action=n}function Fd(s){var n=Fe(),i=Ne;if(i!==null)return kd(n,i,s);Fe(),n=n.memoizedState,i=Fe();var o=i.queue.dispatch;return i.memoizedState=s,[n,o,!1]}function Dn(s,n,i,o){return s={tag:s,create:n,inst:i,deps:o,next:null},n=ue.updateQueue,n===null&&(n=ho(),ue.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=s.next=s:(o=i.next,i.next=s,s.next=o,n.lastEffect=s),s}function Ud(){return Fe().memoizedState}function Ri(s,n,i,o){var u=ft();ue.flags|=s,u.memoizedState=Dn(1|n,i,{destroy:void 0},o===void 0?null:o)}function _i(s,n,i,o){var u=Fe();o=o===void 0?null:o;var f=u.memoizedState.inst;Ne!==null&&o!==null&&Yl(o,Ne.memoizedState.deps)?u.memoizedState=Dn(n,i,f,o):(ue.flags|=s,u.memoizedState=Dn(1|n,i,f,o))}function Kd(s,n){Ri(8390656,8,s,n)}function sr(s,n){_i(2048,8,s,n)}function Bd(s,n){return _i(4,2,s,n)}function qd(s,n){return _i(4,4,s,n)}function Yd(s,n){if(typeof n=="function"){s=s();var i=n(s);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return s=s(),n.current=s,function(){n.current=null}}function Xd(s,n,i){i=i!=null?i.concat([s]):null,_i(4,4,Yd.bind(null,n,s),i)}function nr(){}function Qd(s,n){var i=Fe();n=n===void 0?null:n;var o=i.memoizedState;return n!==null&&Yl(n,o[1])?o[0]:(i.memoizedState=[s,n],s)}function Zd(s,n){var i=Fe();n=n===void 0?null:n;var o=i.memoizedState;if(n!==null&&Yl(n,o[1]))return o[0];if(o=s(),mn){L(!0);try{s()}finally{L(!1)}}return i.memoizedState=[o,n],o}function ar(s,n,i){return i===void 0||Us&1073741824?s.memoizedState=n:(s.memoizedState=i,s=qu(),ue.lanes|=s,Bs|=s,i)}function Id(s,n,i,o){return Rt(i,n)?i:In.current!==null?(s=ar(s,i,o),Rt(s,n)||(Xe=!0),s):Us&42?(s=qu(),ue.lanes|=s,Bs|=s,n):(Xe=!0,s.memoizedState=i)}function Wd(s,n,i,o,u){var f=on();pt(f!==0&&8>f?f:8);var M=oe.T,G={};oe.T=G,lr(s,!1,n,i);try{var H=u(),B=oe.S;if(B!==null&&B(G,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var W=sg(H,o);Ea(s,n,W,wt(s))}else Ea(s,n,o,wt(s))}catch(ee){Ea(s,n,{then:function(){},status:"rejected",reason:ee},wt())}finally{pt(f),oe.T=M}}function Jd(s){var n=s.memoizedState;if(n!==null)return n;n={memoizedState:Vn,baseState:Vn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:Vn},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:i},next:null},s.memoizedState=n,s=s.alternate,s!==null&&(s.memoizedState=n),n}function ir(){return nt(cn)}function $d(){return Fe().memoizedState}function eu(){return Fe().memoizedState}function lg(s){for(var n=s.return;n!==null;){switch(n.tag){case 24:case 3:var i=wt();s=Es(i);var o=Rs(n,s,i);o!==null&&(ut(o,n,i),Sa(o,n,i)),n={cache:br()},s.payload=n;return}n=n.return}}function rg(s,n,i){var o=wt();i={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Di(s)?su(n,i):(i=ja(s,n,i,o),i!==null&&(ut(i,s,o),nu(i,n,o)))}function tu(s,n,i){var o=wt();Ea(s,n,i,o)}function Ea(s,n,i,o){var u={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Di(s))su(n,u);else{var f=s.alternate;if(s.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var M=n.lastRenderedState,G=f(M,i);if(u.hasEagerState=!0,u.eagerState=G,Rt(G,M))return cs(s,n,u,0),we===null&&Jt(),!1}catch{}finally{}if(i=ja(s,n,u,o),i!==null)return ut(i,s,o),nu(i,n,o),!0}return!1}function lr(s,n,i,o){if(o={lane:2,revertLane:qt(),action:o,hasEagerState:!1,eagerState:null,next:null},Di(s)){if(n)throw Error(c(479))}else n=ja(s,i,o,2),n!==null&&ut(n,s,2)}function Di(s){var n=s.alternate;return s===ue||n!==null&&n===ue}function su(s,n){Wn=el=!0;var i=s.pending;i===null?n.next=n:(n.next=i.next,i.next=n),s.pending=n}function nu(s,n,i){if(i&4194176){var o=n.lanes;o&=s.pendingLanes,i|=o,n.lanes=i,Z(s,i)}}function rr(s,n,i,o){n=s.memoizedState,i=i(o,n),i=i==null?n:Kr({},n,i),s.memoizedState=i,s.lanes===0&&(s.updateQueue.baseState=i)}function au(s,n,i,o,u,f,M){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(o,f,M):n.prototype&&n.prototype.isPureReactComponent?!Ni(i,o)||!Ni(u,f):!0}function iu(s,n,i,o){s=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==s&&xo.enqueueReplaceState(n,n.state,null)}function tn(s,n){var i=n;if("ref"in n){i={};for(var o in n)o!=="ref"&&(i[o]=n[o])}if(s=s.defaultProps){i===n&&(i=Kr({},i));for(var u in s)i[u]===void 0&&(i[u]=s[u])}return i}function Ci(s,n){try{var i=s.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function lu(s,n,i){try{var o=s.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function or(s,n,i){return i=Es(i),i.tag=3,i.payload={element:null},i.callback=function(){Ci(s,n)},i}function ru(s){return s=Es(s),s.tag=3,s}function ou(s,n,i,o){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var f=o.value;s.payload=function(){return u(f)},s.callback=function(){lu(n,i,o)}}var M=i.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(s.callback=function(){lu(n,i,o),typeof u!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var G=o.stack;this.componentDidCatch(o.value,{componentStack:G!==null?G:""})})}function og(s,n,i,o,u){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=i.alternate,n!==null&&_a(n,i,u,!0),i=Vt.current,i!==null){switch(i.tag){case 13:return es===null?Pr():i.alternate===null&&Pe===0&&(Pe=3),i.flags&=-257,i.flags|=65536,i.lanes=u,o===Ji?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([o]):n.add(o),Vr(s,o,u)),!1;case 22:return i.flags|=65536,o===Ji?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([o]):i.add(o)),Vr(s,o,u)),!1}throw Error(c(435,i.tag))}return Vr(s,o,u),Pr(),!1}if(pe)return n=Vt.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=u,o!==io&&(s=Error(c(422),{cause:o}),dt(I(s,i)))):(o!==io&&(n=Error(c(423),{cause:o}),dt(I(n,i))),s=s.current.alternate,s.flags|=65536,u&=-u,s.lanes|=u,o=I(o,i),u=or(s.stateNode,o,u),Kl(s,u),Pe!==4&&(Pe=2)),!1;var f=Error(c(520),{cause:o});if(f=I(f,i),Ya===null?Ya=[f]:Ya.push(f),Pe!==4&&(Pe=2),n===null)return!0;o=I(o,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,s=u&-u,i.lanes|=s,s=or(i.stateNode,o,s),Kl(i,s),!1;case 1:if(n=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(qs===null||!qs.has(f))))return i.flags|=65536,u&=-u,i.lanes|=u,u=ru(u),ou(u,s,i,o),Kl(i,u),!1}i=i.return}while(i!==null);return!1}function Je(s,n,i,o){n.child=s===null?Bm(n,null,i,o):un(n,s.child,i,o)}function cu(s,n,i,o,u){i=i.render;var f=n.ref;if("ref"in o){var M={};for(var G in o)G!=="ref"&&(M[G]=o[G])}else M=o;return sn(n),o=Xl(s,n,i,M,f,u),G=Ql(),s!==null&&!Xe?(Zl(s,n,u),ms(s,n,u)):(pe&&G&&ie(n),n.flags|=1,Je(s,n,o,u),n.child)}function du(s,n,i,o,u){if(s===null){var f=i.type;return typeof f=="function"&&!zr(f)&&f.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=f,uu(s,n,f,o,u)):(s=ki(i.type,null,o,n,n.mode,u),s.ref=n.ref,s.return=n,n.child=s)}if(f=s.child,!gr(s,u)){var M=f.memoizedProps;if(i=i.compare,i=i!==null?i:Ni,i(M,o)&&s.ref===n.ref)return ms(s,n,u)}return n.flags|=1,s=Ps(f,o),s.ref=n.ref,s.return=n,n.child=s}function uu(s,n,i,o,u){if(s!==null){var f=s.memoizedProps;if(Ni(f,o)&&s.ref===n.ref)if(Xe=!1,n.pendingProps=o=f,gr(s,u))s.flags&131072&&(Xe=!0);else return n.lanes=s.lanes,ms(s,n,u)}return cr(s,n,i,o,u)}function mu(s,n,i){var o=n.pendingProps,u=o.children,f=(n.stateNode._pendingVisibility&2)!==0,M=s!==null?s.memoizedState:null;if(Ra(s,n),o.mode==="hidden"||f){if(n.flags&128){if(o=M!==null?M.baseLanes|i:i,s!==null){for(u=n.child=s.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return hu(s,n,o,i)}if(i&536870912)n.memoizedState={baseLanes:0,cachePool:null},s!==null&&Li(n,M!==null?M.cachePool:null),M!==null?Nd(n,M):Bl(),Sd(n);else return n.lanes=n.childLanes=536870912,hu(s,n,M!==null?M.baseLanes|i:i,i)}else M!==null?(Li(n,M.cachePool),Nd(n,M),Ds(),n.memoizedState=null):(s!==null&&Li(n,null),Bl(),Ds());return Je(s,n,u,i),n.child}function hu(s,n,i,o){var u=vr();return u=u===null?null:{parent:gs?Oe._currentValue:Oe._currentValue2,pool:u},n.memoizedState={baseLanes:i,cachePool:u},s!==null&&Li(n,null),Bl(),Sd(n),s!==null&&_a(s,n,o,!0),null}function Ra(s,n){var i=n.ref;if(i===null)s!==null&&s.ref!==null&&(n.flags|=2097664);else{if(typeof i!="function"&&typeof i!="object")throw Error(c(284));(s===null||s.ref!==i)&&(n.flags|=2097664)}}function cr(s,n,i,o,u){return sn(n),i=Xl(s,n,i,o,void 0,u),o=Ql(),s!==null&&!Xe?(Zl(s,n,u),ms(s,n,u)):(pe&&o&&ie(n),n.flags|=1,Je(s,n,i,u),n.child)}function xu(s,n,i,o,u,f){return sn(n),n.updateQueue=null,i=wd(n,o,i,u),Md(s),o=Ql(),s!==null&&!Xe?(Zl(s,n,f),ms(s,n,f)):(pe&&o&&ie(n),n.flags|=1,Je(s,n,i,f),n.child)}function fu(s,n,i,o,u){if(sn(n),n.stateNode===null){var f=kn,M=i.contextType;typeof M=="object"&&M!==null&&(f=nt(M)),f=new i(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=xo,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Fl(n),M=i.contextType,f.context=typeof M=="object"&&M!==null?nt(M):kn,f.state=n.memoizedState,M=i.getDerivedStateFromProps,typeof M=="function"&&(rr(n,i,M,o),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(M=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),M!==f.state&&xo.enqueueReplaceState(f,f.state,null),wa(n,o,f,u),Ma(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(s===null){f=n.stateNode;var G=n.memoizedProps,H=tn(i,G);f.props=H;var B=f.context,W=i.contextType;M=kn,typeof W=="object"&&W!==null&&(M=nt(W));var ee=i.getDerivedStateFromProps;W=typeof ee=="function"||typeof f.getSnapshotBeforeUpdate=="function",G=n.pendingProps!==G,W||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(G||B!==M)&&iu(n,f,o,M),Fs=!1;var se=n.memoizedState;f.state=se,wa(n,o,f,u),Ma(),B=n.memoizedState,G||se!==B||Fs?(typeof ee=="function"&&(rr(n,i,ee,o),B=n.memoizedState),(H=Fs||au(n,i,H,o,se,B,M))?(W||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=M,o=H):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Ul(s,n),M=n.memoizedProps,W=tn(i,M),f.props=W,ee=n.pendingProps,se=f.context,B=i.contextType,H=kn,typeof B=="object"&&B!==null&&(H=nt(B)),G=i.getDerivedStateFromProps,(B=typeof G=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(M!==ee||se!==H)&&iu(n,f,o,H),Fs=!1,se=n.memoizedState,f.state=se,wa(n,o,f,u),Ma();var de=n.memoizedState;M!==ee||se!==de||Fs||s!==null&&s.dependencies!==null&&Gi(s.dependencies)?(typeof G=="function"&&(rr(n,i,G,o),de=n.memoizedState),(W=Fs||au(n,i,W,o,se,de,H)||s!==null&&s.dependencies!==null&&Gi(s.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,de,H),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,de,H)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||M===s.memoizedProps&&se===s.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&se===s.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=de),f.props=o,f.state=de,f.context=H,o=W):(typeof f.componentDidUpdate!="function"||M===s.memoizedProps&&se===s.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&se===s.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ra(s,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,s!==null&&o?(n.child=un(n,s.child,null,u),n.child=un(n,null,i,u)):Je(s,n,i,u),n.memoizedState=f.state,s=n.child):s=ms(s,n,u),s}function gu(s,n,i,o){return vt(),n.flags|=256,Je(s,n,i,o),n.child}function dr(s){return{baseLanes:s,cachePool:Nu()}}function ur(s,n,i){return s=s!==null?s.childLanes&~i:0,n&&(s|=zt),s}function pu(s,n,i){var o=n.pendingProps,u=!1,f=(n.flags&128)!==0,M;if((M=f)||(M=s!==null&&s.memoizedState===null?!1:(qe.current&2)!==0),M&&(u=!0,n.flags&=-129),M=(n.flags&32)!==0,n.flags&=-33,s===null){if(pe){if(u?_s(n):Ds(),pe){var G=lt,H;(H=G)&&(G=wp(G,$t),G!==null?(n.memoizedState={dehydrated:G,treeContext:dn!==null?{id:ps,overflow:ys}:null,retryLane:536870912},H=l(18,null,null,0),H.stateNode=G,H.return=n,n.child=H,mt=n,lt=null,H=!0):H=!1),H||xt(n)}if(G=n.memoizedState,G!==null&&(G=G.dehydrated,G!==null))return eo(G)?n.lanes=16:n.lanes=536870912,null;ds(n)}return G=o.children,o=o.fallback,u?(Ds(),u=n.mode,G=hr({mode:"hidden",children:G},u),o=rn(o,u,i,null),G.return=n,o.return=n,G.sibling=o,n.child=G,u=n.child,u.memoizedState=dr(i),u.childLanes=ur(s,M,i),n.memoizedState=fo,o):(_s(n),mr(n,G))}if(H=s.memoizedState,H!==null&&(G=H.dehydrated,G!==null)){if(f)n.flags&256?(_s(n),n.flags&=-257,n=xr(s,n,i)):n.memoizedState!==null?(Ds(),n.child=s.child,n.flags|=128,n=null):(Ds(),u=o.fallback,G=n.mode,o=hr({mode:"visible",children:o.children},G),u=rn(u,G,i,null),u.flags|=2,o.return=n,u.return=n,o.sibling=u,n.child=o,un(n,s.child,null,i),o=n.child,o.memoizedState=dr(i),o.childLanes=ur(s,M,i),n.memoizedState=fo,n=u);else if(_s(n),eo(G))M=pp(G).digest,o=Error(c(419)),o.stack="",o.digest=M,dt({value:o,source:null,stack:null}),n=xr(s,n,i);else if(Xe||_a(s,n,i,!1),M=(i&s.childLanes)!==0,Xe||M){if(M=we,M!==null){if(o=i&-i,o&42)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=o&(M.suspendedLanes|i)?0:o,o!==0&&o!==H.retryLane)throw H.retryLane=o,st(s,o),ut(M,s,o),Ym}$r(G)||Pr(),n=xr(s,n,i)}else $r(G)?(n.flags|=128,n.child=s.child,n=vg.bind(null,s),yp(G,n),n=null):(s=H.treeContext,Gt&&(lt=Np(G),mt=n,pe=!0,Qt=null,$t=!1,s!==null&&(Lt[Pt++]=ps,Lt[Pt++]=ys,Lt[Pt++]=dn,ps=s.id,ys=s.overflow,dn=n)),n=mr(n,o.children),n.flags|=4096);return n}return u?(Ds(),u=o.fallback,G=n.mode,H=s.child,f=H.sibling,o=Ps(H,{mode:"hidden",children:o.children}),o.subtreeFlags=H.subtreeFlags&31457280,f!==null?u=Ps(f,u):(u=rn(u,G,i,null),u.flags|=2),u.return=n,o.return=n,o.sibling=u,n.child=o,o=u,u=n.child,G=s.child.memoizedState,G===null?G=dr(i):(H=G.cachePool,H!==null?(f=gs?Oe._currentValue:Oe._currentValue2,H=H.parent!==f?{parent:f,pool:f}:H):H=Nu(),G={baseLanes:G.baseLanes|i,cachePool:H}),u.memoizedState=G,u.childLanes=ur(s,M,i),n.memoizedState=fo,o):(_s(n),i=s.child,s=i.sibling,i=Ps(i,{mode:"visible",children:o.children}),i.return=n,i.sibling=null,s!==null&&(M=n.deletions,M===null?(n.deletions=[s],n.flags|=16):M.push(s)),n.child=i,n.memoizedState=null,i)}function mr(s,n){return n=hr({mode:"visible",children:n},s.mode),n.return=s,s.child=n}function hr(s,n){return rm(s,n,0,null)}function xr(s,n,i){return un(n,s.child,null,i),s=mr(n,n.pendingProps.children),s.flags|=2,n.memoizedState=null,s}function yu(s,n,i){s.lanes|=n;var o=s.alternate;o!==null&&(o.lanes|=n),pr(s.return,n,i)}function fr(s,n,i,o,u){var f=s.memoizedState;f===null?s.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:u}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=i,f.tailMode=u)}function bu(s,n,i){var o=n.pendingProps,u=o.revealOrder,f=o.tail;if(Je(s,n,o.children,i),o=qe.current,o&2)o=o&1|2,n.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=n.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&yu(s,i,n);else if(s.tag===19)yu(s,i,n);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}o&=1}switch(R(qe,o),u){case"forwards":for(i=n.child,u=null;i!==null;)s=i.alternate,s!==null&&Ai(s)===null&&(u=i),i=i.sibling;i=u,i===null?(u=n.child,n.child=null):(u=i.sibling,i.sibling=null),fr(n,!1,u,i,f);break;case"backwards":for(i=null,u=n.child,n.child=null;u!==null;){if(s=u.alternate,s!==null&&Ai(s)===null){n.child=u;break}s=u.sibling,u.sibling=i,i=u,u=s}fr(n,!0,i,null,f);break;case"together":fr(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ms(s,n,i){if(s!==null&&(n.dependencies=s.dependencies),Bs|=n.lanes,!(i&n.childLanes))if(s!==null){if(_a(s,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(s!==null&&n.child!==s.child)throw Error(c(153));if(n.child!==null){for(s=n.child,i=Ps(s,s.pendingProps),n.child=i,i.return=n;s.sibling!==null;)s=s.sibling,i=i.sibling=Ps(s,s.pendingProps),i.return=n;i.sibling=null}return n.child}function gr(s,n){return s.lanes&n?!0:(s=s.dependencies,!!(s!==null&&Gi(s)))}function cg(s,n,i){switch(n.tag){case 3:ce(n,n.stateNode.containerInfo),Cs(n,Oe,s.memoizedState.cache),vt();break;case 27:case 5:os(n);break;case 4:ce(n,n.stateNode.containerInfo);break;case 10:Cs(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(_s(n),n.flags|=128,null):i&n.child.childLanes?pu(s,n,i):(_s(n),s=ms(s,n,i),s!==null?s.sibling:null);_s(n);break;case 19:var u=(s.flags&128)!==0;if(o=(i&n.childLanes)!==0,o||(_a(s,n,i,!1),o=(i&n.childLanes)!==0),u){if(o)return bu(s,n,i);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),R(qe,qe.current),o)break;return null;case 22:case 23:return n.lanes=0,mu(s,n,i);case 24:Cs(n,Oe,s.memoizedState.cache)}return ms(s,n,i)}function vu(s,n,i){if(s!==null)if(s.memoizedProps!==n.pendingProps)Xe=!0;else{if(!gr(s,i)&&!(n.flags&128))return Xe=!1,cg(s,n,i);Xe=!!(s.flags&131072)}else Xe=!1,pe&&n.flags&1048576&&ae(n,Qi,n.index);switch(n.lanes=0,n.tag){case 16:e:{s=n.pendingProps;var o=n.elementType,u=o._init;if(o=u(o._payload),n.type=o,typeof o=="function")zr(o)?(s=tn(o,s),n.tag=1,n=fu(null,n,o,s,i)):(n.tag=0,n=cr(null,n,o,s,i));else{if(o!=null){if(u=o.$$typeof,u===qr){n.tag=11,n=cu(null,n,o,s,i);break e}else if(u===Qr){n.tag=14,n=du(null,n,o,s,i);break e}}throw n=d(o)||o,Error(c(306,n,""))}}return n;case 0:return cr(s,n,n.type,n.pendingProps,i);case 1:return o=n.type,u=tn(o,n.pendingProps),fu(s,n,o,u,i);case 3:e:{if(ce(n,n.stateNode.containerInfo),s===null)throw Error(c(387));var f=n.pendingProps;u=n.memoizedState,o=u.element,Ul(s,n),wa(n,f,null,i);var M=n.memoizedState;if(f=M.cache,Cs(n,Oe,f),f!==u.cache&&yr(n,[Oe],i,!0),Ma(),f=M.element,Gt&&u.isDehydrated)if(u={element:f,isDehydrated:!1,cache:M.cache},n.updateQueue.baseState=u,n.memoizedState=u,n.flags&256){n=gu(s,n,f,i);break e}else if(f!==o){o=I(Error(c(424)),n),dt(o),n=gu(s,n,f,i);break e}else for(Gt&&(lt=jp(n.stateNode.containerInfo),mt=n,pe=!0,Qt=null,$t=!0),i=Bm(n,null,f,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(vt(),f===o){n=ms(s,n,i);break e}Je(s,n,f,i)}n=n.child}return n;case 26:if(Ot)return Ra(s,n),s===null?(i=Om(n.type,null,n.pendingProps,null))?n.memoizedState=i:pe||(n.stateNode=Hp(n.type,n.pendingProps,ks.current,n)):n.memoizedState=Om(n.type,s.memoizedProps,n.pendingProps,s.memoizedState),null;case 27:if(it)return os(n),s===null&&it&&pe&&(o=n.stateNode=km(n.type,n.pendingProps,ks.current,$e.current,!1),mt=n,$t=!0,lt=Dm(o)),o=n.pendingProps.children,s!==null||pe?Je(s,n,o,i):n.child=un(n,null,o,i),Ra(s,n),n.child;case 5:return s===null&&pe&&(Op(n.type,n.pendingProps,$e.current),(u=o=lt)&&(o=Sp(o,n.type,n.pendingProps,$t),o!==null?(n.stateNode=o,mt=n,lt=Dm(o),$t=!1,u=!0):u=!1),u||xt(n)),os(n),u=n.type,f=n.pendingProps,M=s!==null?s.memoizedProps:null,o=f.children,Ki(u,f)?o=null:M!==null&&Ki(u,M)&&(n.flags|=32),n.memoizedState!==null&&(u=Xl(s,n,ng,null,null,i),gs?cn._currentValue=u:cn._currentValue2=u),Ra(s,n),Je(s,n,o,i),n.child;case 6:return s===null&&pe&&(Lp(n.pendingProps,$e.current),(s=i=lt)&&(i=Mp(i,n.pendingProps,$t),i!==null?(n.stateNode=i,mt=n,lt=null,s=!0):s=!1),s||xt(n)),null;case 13:return pu(s,n,i);case 4:return ce(n,n.stateNode.containerInfo),o=n.pendingProps,s===null?n.child=un(n,null,o,i):Je(s,n,o,i),n.child;case 11:return cu(s,n,n.type,n.pendingProps,i);case 7:return Je(s,n,n.pendingProps,i),n.child;case 8:return Je(s,n,n.pendingProps.children,i),n.child;case 12:return Je(s,n,n.pendingProps.children,i),n.child;case 10:return o=n.pendingProps,Cs(n,n.type,o.value),Je(s,n,o.children,i),n.child;case 9:return u=n.type._context,o=n.pendingProps.children,sn(n),u=nt(u),o=o(u),n.flags|=1,Je(s,n,o,i),n.child;case 14:return du(s,n,n.type,n.pendingProps,i);case 15:return uu(s,n,n.type,n.pendingProps,i);case 19:return bu(s,n,i);case 22:return mu(s,n,i);case 24:return sn(n),o=nt(Oe),s===null?(u=vr(),u===null&&(u=we,f=br(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=i),u=f),n.memoizedState={parent:o,cache:u},Fl(n),Cs(n,Oe,u)):(s.lanes&i&&(Ul(s,n),wa(n,null,null,i),Ma()),u=s.memoizedState,f=n.memoizedState,u.parent!==o?(u={parent:o,cache:o},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),Cs(n,Oe,o)):(o=f.cache,Cs(n,Oe,o),o!==u.cache&&yr(n,[Oe],i,!0))),Je(s,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(c(156,n.tag))}function Cs(s,n,i){gs?(R(sl,n._currentValue),n._currentValue=i):(R(sl,n._currentValue2),n._currentValue2=i)}function hs(s){var n=sl.current;gs?s._currentValue=n:s._currentValue2=n,S(sl)}function pr(s,n,i){for(;s!==null;){var o=s.alternate;if((s.childLanes&n)!==n?(s.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),s===i)break;s=s.return}}function yr(s,n,i,o){var u=s.child;for(u!==null&&(u.return=s);u!==null;){var f=u.dependencies;if(f!==null){var M=u.child;f=f.firstContext;e:for(;f!==null;){var G=f;f=u;for(var H=0;H<n.length;H++)if(G.context===n[H]){f.lanes|=i,G=f.alternate,G!==null&&(G.lanes|=i),pr(f.return,i,s),o||(M=null);break e}f=G.next}}else if(u.tag===18){if(M=u.return,M===null)throw Error(c(341));M.lanes|=i,f=M.alternate,f!==null&&(f.lanes|=i),pr(M,i,s),M=null}else M=u.child;if(M!==null)M.return=u;else for(M=u;M!==null;){if(M===s){M=null;break}if(u=M.sibling,u!==null){u.return=M.return,M=u;break}M=M.return}u=M}}function _a(s,n,i,o){s=null;for(var u=n,f=!1;u!==null;){if(!f){if(u.flags&524288)f=!0;else if(u.flags&262144)break}if(u.tag===10){var M=u.alternate;if(M===null)throw Error(c(387));if(M=M.memoizedProps,M!==null){var G=u.type;Rt(u.pendingProps.value,M.value)||(s!==null?s.push(G):s=[G])}}else if(u===Zi.current){if(M=u.alternate,M===null)throw Error(c(387));M.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(s!==null?s.push(cn):s=[cn])}u=u.return}s!==null&&yr(n,s,i,o),n.flags|=262144}function Gi(s){for(s=s.firstContext;s!==null;){var n=s.context;if(!Rt(gs?n._currentValue:n._currentValue2,s.memoizedValue))return!0;s=s.next}return!1}function sn(s){fn=s,bs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function nt(s){return ju(fn,s)}function Oi(s,n){return fn===null&&sn(s),ju(s,n)}function ju(s,n){var i=gs?n._currentValue:n._currentValue2;if(n={context:n,memoizedValue:i,next:null},bs===null){if(s===null)throw Error(c(308));bs=n,s.dependencies={lanes:0,firstContext:n},s.flags|=524288}else bs=bs.next=n;return i}function br(){return{controller:new ey,data:new Map,refCount:0}}function Da(s){s.refCount--,s.refCount===0&&ty(sy,function(){s.controller.abort()})}function vr(){var s=gn.current;return s!==null?s:we.pooledCache}function Li(s,n){n===null?R(gn,gn.current):R(gn,n.pool)}function Nu(){var s=vr();return s===null?null:{parent:gs?Oe._currentValue:Oe._currentValue2,pool:s}}function Nt(s){s.flags|=4}function Su(s,n){if(s!==null&&s.child===n.child)return!1;if(n.flags&16)return!0;for(s=n.child;s!==null;){if(s.flags&13878||s.subtreeFlags&13878)return!0;s=s.sibling}return!1}function jr(s,n,i,o){if(at)for(i=n.child;i!==null;){if(i.tag===5||i.tag===6)Wr(s,i.stateNode);else if(!(i.tag===4||it&&i.tag===27)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}else if(zs)for(var u=n.child;u!==null;){if(u.tag===5){var f=u.stateNode;i&&o&&(f=Em(f,u.type,u.memoizedProps)),Wr(s,f)}else if(u.tag===6)f=u.stateNode,i&&o&&(f=Rm(f,u.memoizedProps)),Wr(s,f);else if(u.tag!==4){if(u.tag===22&&u.memoizedState!==null)f=u.child,f!==null&&(f.return=u),jr(s,u,!0,!0);else if(u.child!==null){u.child.return=u,u=u.child;continue}}if(u===n)break;for(;u.sibling===null;){if(u.return===null||u.return===n)return;u=u.return}u.sibling.return=u.return,u=u.sibling}}function Mu(s,n,i,o){if(zs)for(var u=n.child;u!==null;){if(u.tag===5){var f=u.stateNode;i&&o&&(f=Em(f,u.type,u.memoizedProps)),Am(s,f)}else if(u.tag===6)f=u.stateNode,i&&o&&(f=Rm(f,u.memoizedProps)),Am(s,f);else if(u.tag!==4){if(u.tag===22&&u.memoizedState!==null)f=u.child,f!==null&&(f.return=u),Mu(s,u,!(u.memoizedProps!==null&&u.memoizedProps.mode==="manual"),!0);else if(u.child!==null){u.child.return=u,u=u.child;continue}}if(u===n)break;for(;u.sibling===null;){if(u.return===null||u.return===n)return;u=u.return}u.sibling.return=u.return,u=u.sibling}}function wu(s,n){if(zs&&Su(s,n)){s=n.stateNode;var i=s.containerInfo,o=wm();Mu(o,n,!1,!1),s.pendingChildren=o,Nt(n),gp(i,o)}}function Nr(s,n,i,o){if(at)s.memoizedProps!==o&&Nt(n);else if(zs){var u=s.stateNode,f=s.memoizedProps;if((s=Su(s,n))||f!==o){var M=$e.current;f=fp(u,i,f,o,!s,null),f===u?n.stateNode=u:(bm(f,i,o,M)&&Nt(n),n.stateNode=f,s?jr(f,n,!1,!1):Nt(n))}else n.stateNode=u}}function Sr(s,n,i){if(Kg(n,i)){if(s.flags|=16777216,!Nm(n,i))if(Iu())s.flags|=8192;else throw Qn=Ji,mo}else s.flags&=-16777217}function Au(s,n){if(zp(n)){if(s.flags|=16777216,!zm(n))if(Iu())s.flags|=8192;else throw Qn=Ji,mo}else s.flags&=-16777217}function Pi(s,n){n!==null&&(s.flags|=4),s.flags&16384&&(n=s.tag!==22?F():536870912,s.lanes|=n,ta|=n)}function Ca(s,n){if(!pe)switch(s.tailMode){case"hidden":n=s.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?s.tail=null:i.sibling=null;break;case"collapsed":i=s.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||s.tail===null?s.tail=null:s.tail.sibling=null:o.sibling=null}}function _e(s){var n=s.alternate!==null&&s.alternate.child===s.child,i=0,o=0;if(n)for(var u=s.child;u!==null;)i|=u.lanes|u.childLanes,o|=u.subtreeFlags&31457280,o|=u.flags&31457280,u.return=s,u=u.sibling;else for(u=s.child;u!==null;)i|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=s,u=u.sibling;return s.subtreeFlags|=o,s.childLanes=i,n}function dg(s,n,i){var o=n.pendingProps;switch(me(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(n),null;case 1:return _e(n),null;case 3:return i=n.stateNode,o=null,s!==null&&(o=s.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),hs(Oe),Te(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(s===null||s.child===null)&&(ve(n)?Nt(n):s===null||s.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Qt!==null&&(Or(Qt),Qt=null))),wu(s,n),_e(n),null;case 26:if(Ot){i=n.type;var u=n.memoizedState;return s===null?(Nt(n),u!==null?(_e(n),Au(n,u)):(_e(n),Sr(n,i,o))):u?u!==s.memoizedState?(Nt(n),_e(n),Au(n,u)):(_e(n),n.flags&=-16777217):(at?s.memoizedProps!==o&&Nt(n):Nr(s,n,i,o),_e(n),Sr(n,i,o)),null}case 27:if(it){if(_n(n),i=ks.current,u=n.type,s!==null&&n.stateNode!=null)at?s.memoizedProps!==o&&Nt(n):Nr(s,n,u,o);else{if(!o){if(n.stateNode===null)throw Error(c(166));return _e(n),null}s=$e.current,ve(n)?va(n,s):(s=km(u,o,i,s,!0),n.stateNode=s,Nt(n))}return _e(n),null}case 5:if(_n(n),i=n.type,s!==null&&n.stateNode!=null)Nr(s,n,i,o);else{if(!o){if(n.stateNode===null)throw Error(c(166));return _e(n),null}s=$e.current,ve(n)?va(n,s):(u=Pg(i,o,ks.current,s,n),jr(u,n,!1,!1),n.stateNode=u,bm(u,i,o,s)&&Nt(n))}return _e(n),Sr(n,n.type,n.pendingProps),null;case 6:if(s&&n.stateNode!=null)i=s.memoizedProps,at?i!==o&&Nt(n):zs&&(i!==o?(n.stateNode=vm(o,ks.current,$e.current,n),Nt(n)):n.stateNode=s.stateNode);else{if(typeof o!="string"&&n.stateNode===null)throw Error(c(166));if(s=ks.current,i=$e.current,ve(n)){if(!Gt)throw Error(c(176));if(s=n.stateNode,i=n.memoizedProps,o=null,u=mt,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}Tp(s,i,n,o)||xt(n)}else n.stateNode=vm(o,s,i,n)}return _e(n),null;case 13:if(o=n.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(u=ve(n),o!==null&&o.dehydrated!==null){if(s===null){if(!u)throw Error(c(318));if(!Gt)throw Error(c(344));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(c(317));Ep(u,n)}else vt(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;_e(n),u=!1}else Qt!==null&&(Or(Qt),Qt=null),u=!0;if(!u)return n.flags&256?(ds(n),n):(ds(n),null)}if(ds(n),n.flags&128)return n.lanes=i,n;if(i=o!==null,s=s!==null&&s.memoizedState!==null,i){o=n.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048)}return i!==s&&i&&(n.child.flags|=8192),Pi(n,n.updateQueue),_e(n),null;case 4:return Te(),wu(s,n),s===null&&zg(n.stateNode.containerInfo),_e(n),null;case 10:return hs(n.type),_e(n),null;case 19:if(S(qe),u=n.memoizedState,u===null)return _e(n),null;if(o=(n.flags&128)!==0,f=u.rendering,f===null)if(o)Ca(u,!1);else{if(Pe!==0||s!==null&&s.flags&128)for(s=n.child;s!==null;){if(f=Ai(s),f!==null){for(n.flags|=128,Ca(u,!1),s=f.updateQueue,n.updateQueue=s,Pi(n,s),n.subtreeFlags=0,s=i,i=n.child;i!==null;)lm(i,s),i=i.sibling;return R(qe,qe.current&1|2),n.child}s=s.sibling}u.tail!==null&&Xt()>Xa&&(n.flags|=128,o=!0,Ca(u,!1),n.lanes=4194304)}else{if(!o)if(s=Ai(f),s!==null){if(n.flags|=128,o=!0,s=s.updateQueue,n.updateQueue=s,Pi(n,s),Ca(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!pe)return _e(n),null}else 2*Xt()-u.renderingStartTime>Xa&&i!==536870912&&(n.flags|=128,o=!0,Ca(u,!1),n.lanes=4194304);u.isBackwards?(f.sibling=n.child,n.child=f):(s=u.last,s!==null?s.sibling=f:n.child=f,u.last=f)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Xt(),n.sibling=null,s=qe.current,R(qe,o?s&1|2:s&1),n):(_e(n),null);case 22:case 23:return ds(n),ql(),o=n.memoizedState!==null,s!==null?s.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?i&536870912&&!(n.flags&128)&&(_e(n),n.subtreeFlags&6&&(n.flags|=8192)):_e(n),i=n.updateQueue,i!==null&&Pi(n,i.retryQueue),i=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048),s!==null&&S(gn),null;case 24:return i=null,s!==null&&(i=s.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),hs(Oe),_e(n),null;case 25:return null}throw Error(c(156,n.tag))}function ug(s,n){switch(me(n),n.tag){case 1:return s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 3:return hs(Oe),Te(),s=n.flags,s&65536&&!(s&128)?(n.flags=s&-65537|128,n):null;case 26:case 27:case 5:return _n(n),null;case 13:if(ds(n),s=n.memoizedState,s!==null&&s.dehydrated!==null){if(n.alternate===null)throw Error(c(340));vt()}return s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 19:return S(qe),null;case 4:return Te(),null;case 10:return hs(n.type),null;case 22:case 23:return ds(n),ql(),s!==null&&S(gn),s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 24:return hs(Oe),null;case 25:return null;default:return null}}function Tu(s,n){switch(me(n),n.tag){case 3:hs(Oe),Te();break;case 26:case 27:case 5:_n(n);break;case 4:Te();break;case 13:ds(n);break;case 19:S(qe);break;case 10:hs(n.type);break;case 22:case 23:ds(n),ql(),s!==null&&S(gn);break;case 24:hs(Oe)}}function Ga(s,n){try{var i=n.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var u=o.next;i=u;do{if((i.tag&s)===s){o=void 0;var f=i.create,M=i.inst;o=f(),M.destroy=o}i=i.next}while(i!==u)}}catch(G){je(n,n.return,G)}}function Gs(s,n,i){try{var o=n.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&s)===s){var M=o.inst,G=M.destroy;if(G!==void 0){M.destroy=void 0,u=n;var H=i;try{G()}catch(B){je(u,H,B)}}}o=o.next}while(o!==f)}}catch(B){je(n,n.return,B)}}function Eu(s){var n=s.updateQueue;if(n!==null){var i=s.stateNode;try{gd(n,i)}catch(o){je(s,s.return,o)}}}function Ru(s,n,i){i.props=tn(s.type,s.memoizedProps),i.state=s.memoizedState;try{i.componentWillUnmount()}catch(o){je(s,n,o)}}function nn(s,n){try{var i=s.ref;if(i!==null){var o=s.stateNode;switch(s.tag){case 26:case 27:case 5:var u=Pa(o);break;default:u=o}typeof i=="function"?s.refCleanup=i(u):i.current=u}}catch(f){je(s,n,f)}}function St(s,n){var i=s.ref,o=s.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(u){je(s,n,u)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){je(s,n,u)}else i.current=null}function _u(s){var n=s.type,i=s.memoizedProps,o=s.stateNode;try{ap(o,n,i,s)}catch(u){je(s,s.return,u)}}function Du(s,n,i){try{ip(s.stateNode,s.type,i,n,s)}catch(o){je(s,s.return,o)}}function Cu(s){return s.tag===5||s.tag===3||(Ot?s.tag===26:!1)||(it?s.tag===27:!1)||s.tag===4}function Mr(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Cu(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&(!it||s.tag!==27)&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function wr(s,n,i){var o=s.tag;if(o===5||o===6)s=s.stateNode,n?rp(i,s,n):sp(i,s);else if(!(o===4||it&&o===27)&&(s=s.child,s!==null))for(wr(s,n,i),s=s.sibling;s!==null;)wr(s,n,i),s=s.sibling}function Hi(s,n,i){var o=s.tag;if(o===5||o===6)s=s.stateNode,n?lp(i,s,n):tp(i,s);else if(!(o===4||it&&o===27)&&(s=s.child,s!==null))for(Hi(s,n,i),s=s.sibling;s!==null;)Hi(s,n,i),s=s.sibling}function Gu(s,n,i){s=s.containerInfo;try{Tm(s,i)}catch(o){je(n,n.return,o)}}function mg(s,n){for(Og(s.containerInfo),Qe=n;Qe!==null;)if(s=Qe,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Qe=n;else for(;Qe!==null;){s=Qe;var i=s.alternate;switch(n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&i!==null){n=void 0;var o=s,u=i.memoizedProps;i=i.memoizedState;var f=o.stateNode;try{var M=tn(o.type,u,o.elementType===o.type);n=f.getSnapshotBeforeUpdate(M,i),f.__reactInternalSnapshotBeforeUpdate=n}catch(G){je(o,o.return,G)}}break;case 3:n&1024&&at&&xp(s.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(c(163))}if(n=s.sibling,n!==null){n.return=s.return,Qe=n;break}Qe=s.return}return M=Zm,Zm=!1,M}function Ou(s,n,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:xs(s,i),o&4&&Ga(5,i);break;case 1:if(xs(s,i),o&4)if(s=i.stateNode,n===null)try{s.componentDidMount()}catch(G){je(i,i.return,G)}else{var u=tn(i.type,n.memoizedProps);n=n.memoizedState;try{s.componentDidUpdate(u,n,s.__reactInternalSnapshotBeforeUpdate)}catch(G){je(i,i.return,G)}}o&64&&Eu(i),o&512&&nn(i,i.return);break;case 3:if(xs(s,i),o&64&&(o=i.updateQueue,o!==null)){if(s=null,i.child!==null)switch(i.child.tag){case 27:case 5:s=Pa(i.child.stateNode);break;case 1:s=i.child.stateNode}try{gd(o,s)}catch(G){je(i,i.return,G)}}break;case 26:if(Ot){xs(s,i),o&512&&nn(i,i.return);break}case 27:case 5:xs(s,i),n===null&&o&4&&_u(i),o&512&&nn(i,i.return);break;case 12:xs(s,i);break;case 13:xs(s,i),o&4&&Pu(s,i);break;case 22:if(u=i.memoizedState!==null||vs,!u){n=n!==null&&n.memoizedState!==null||Le;var f=vs,M=Le;vs=u,(Le=n)&&!M?Os(s,i,(i.subtreeFlags&8772)!==0):xs(s,i),vs=f,Le=M}o&512&&(i.memoizedProps.mode==="manual"?nn(i,i.return):St(i,i.return));break;default:xs(s,i)}}function Lu(s){var n=s.alternate;n!==null&&(s.alternate=null,Lu(n)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(n=s.stateNode,n!==null&&Ug(n)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Yt(s,n,i){for(i=i.child;i!==null;)Ar(s,n,i),i=i.sibling}function Ar(s,n,i){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(za,i)}catch{}switch(i.tag){case 26:if(Ot){Le||St(i,n),Yt(s,n,i),i.memoizedState?Pm(i.memoizedState):i.stateNode&&Vm(i.stateNode);break}case 27:if(it){Le||St(i,n);var o=Ke,u=_t;Ke=i.stateNode,Yt(s,n,i),Kp(i.stateNode),Ke=o,_t=u;break}case 5:Le||St(i,n);case 6:if(at){if(o=Ke,u=_t,Ke=null,Yt(s,n,i),Ke=o,_t=u,Ke!==null)if(_t)try{cp(Ke,i.stateNode)}catch(f){je(i,n,f)}else try{op(Ke,i.stateNode)}catch(f){je(i,n,f)}}else Yt(s,n,i);break;case 18:at&&Ke!==null&&(_t?Gp(Ke,i.stateNode):Cp(Ke,i.stateNode));break;case 4:at?(o=Ke,u=_t,Ke=i.stateNode.containerInfo,_t=!0,Yt(s,n,i),Ke=o,_t=u):(zs&&Gu(i.stateNode,i,wm()),Yt(s,n,i));break;case 0:case 11:case 14:case 15:Le||Gs(2,i,n),Le||Gs(4,i,n),Yt(s,n,i);break;case 1:Le||(St(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"&&Ru(i,n,o)),Yt(s,n,i);break;case 21:Yt(s,n,i);break;case 22:Le||St(i,n),Le=(o=Le)||i.memoizedState!==null,Yt(s,n,i),Le=o;break;default:Yt(s,n,i)}}function Pu(s,n){if(Gt&&n.memoizedState===null&&(s=n.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Dp(s)}catch(i){je(n,n.return,i)}}function hg(s){switch(s.tag){case 13:case 19:var n=s.stateNode;return n===null&&(n=s.stateNode=new Qm),n;case 22:return s=s.stateNode,n=s._retryCache,n===null&&(n=s._retryCache=new Qm),n;default:throw Error(c(435,s.tag))}}function Tr(s,n){var i=hg(s);n.forEach(function(o){var u=jg.bind(null,s,o);i.has(o)||(i.add(o),o.then(u,u))})}function gt(s,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var u=i[o],f=s,M=n;if(at){var G=M;e:for(;G!==null;){switch(G.tag){case 27:case 5:Ke=G.stateNode,_t=!1;break e;case 3:Ke=G.stateNode.containerInfo,_t=!0;break e;case 4:Ke=G.stateNode.containerInfo,_t=!0;break e}G=G.return}if(Ke===null)throw Error(c(160));Ar(f,M,u),Ke=null,_t=!1}else Ar(f,M,u);f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Hu(n,s),n=n.sibling}function Hu(s,n){var i=s.alternate,o=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:gt(n,s),Mt(s),o&4&&(Gs(3,s,s.return),Ga(3,s),Gs(5,s,s.return));break;case 1:gt(n,s),Mt(s),o&512&&(Le||i===null||St(i,i.return)),o&64&&vs&&(s=s.updateQueue,s!==null&&(o=s.callbacks,o!==null&&(i=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:if(Ot){var u=Zt;gt(n,s),Mt(s),o&512&&(Le||i===null||St(i,i.return)),o&4&&(o=i!==null?i.memoizedState:null,n=s.memoizedState,i===null?n===null?s.stateNode===null?s.stateNode=Pp(u,s.type,s.memoizedProps,s):Hm(u,s.type,s.stateNode):s.stateNode=Lm(u,n,s.memoizedProps):o!==n?(o===null?i.stateNode!==null&&Vm(i.stateNode):Pm(o),n===null?Hm(u,s.type,s.stateNode):Lm(u,n,s.memoizedProps)):n===null&&s.stateNode!==null&&Du(s,s.memoizedProps,i.memoizedProps));break}case 27:if(it&&o&4&&s.alternate===null){u=s.stateNode;var f=s.memoizedProps;try{Fp(u),Up(s.type,f,u,s)}catch(W){je(s,s.return,W)}}case 5:if(gt(n,s),Mt(s),o&512&&(Le||i===null||St(i,i.return)),at){if(s.flags&32){n=s.stateNode;try{Mm(n)}catch(W){je(s,s.return,W)}}o&4&&s.stateNode!=null&&(n=s.memoizedProps,Du(s,n,i!==null?i.memoizedProps:n)),o&1024&&(go=!0)}break;case 6:if(gt(n,s),Mt(s),o&4&&at){if(s.stateNode===null)throw Error(c(162));o=s.memoizedProps,i=i!==null?i.memoizedProps:o,n=s.stateNode;try{np(n,i,o)}catch(W){je(s,s.return,W)}}break;case 3:if(Ot?(Vp(),u=Zt,Zt=to(n.containerInfo),gt(n,s),Zt=u):gt(n,s),Mt(s),o&4){if(at&&Gt&&i!==null&&i.memoizedState.isDehydrated)try{_p(n.containerInfo)}catch(W){je(s,s.return,W)}if(zs){o=n.containerInfo,i=n.pendingChildren;try{Tm(o,i)}catch(W){je(s,s.return,W)}}}go&&(go=!1,Vu(s));break;case 4:Ot?(i=Zt,Zt=to(s.stateNode.containerInfo),gt(n,s),Mt(s),Zt=i):(gt(n,s),Mt(s)),o&4&&zs&&Gu(s.stateNode,s,s.stateNode.pendingChildren);break;case 12:gt(n,s),Mt(s);break;case 13:gt(n,s),Mt(s),s.child.flags&8192&&s.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(vo=Xt()),o&4&&(o=s.updateQueue,o!==null&&(s.updateQueue=null,Tr(s,o)));break;case 22:o&512&&(Le||i===null||St(i,i.return)),u=s.memoizedState!==null;var M=i!==null&&i.memoizedState!==null,G=vs,H=Le;if(vs=G||u,Le=H||M,gt(n,s),Le=H,vs=G,Mt(s),n=s.stateNode,n._current=s,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,o&8192&&(n._visibility=u?n._visibility&-2:n._visibility|1,u&&(n=vs||Le,i===null||M||n||Cn(s)),at&&(s.memoizedProps===null||s.memoizedProps.mode!=="manual"))){e:if(i=null,at)for(n=s;;){if(n.tag===5||Ot&&n.tag===26||it&&n.tag===27){if(i===null){M=i=n;try{f=M.stateNode,u?dp(f):mp(M.stateNode,M.memoizedProps)}catch(W){je(M,M.return,W)}}}else if(n.tag===6){if(i===null){M=n;try{var B=M.stateNode;u?up(B):hp(B,M.memoizedProps)}catch(W){je(M,M.return,W)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===s)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}}o&4&&(o=s.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,Tr(s,i))));break;case 19:gt(n,s),Mt(s),o&4&&(o=s.updateQueue,o!==null&&(s.updateQueue=null,Tr(s,o)));break;case 21:break;default:gt(n,s),Mt(s)}}function Mt(s){var n=s.flags;if(n&2){try{if(at&&(!it||s.tag!==27)){e:{for(var i=s.return;i!==null;){if(Cu(i)){var o=i;break e}i=i.return}throw Error(c(160))}switch(o.tag){case 27:if(it){var u=o.stateNode,f=Mr(s);Hi(s,f,u);break}case 5:var M=o.stateNode;o.flags&32&&(Mm(M),o.flags&=-33);var G=Mr(s);Hi(s,G,M);break;case 3:case 4:var H=o.stateNode.containerInfo,B=Mr(s);wr(s,B,H);break;default:throw Error(c(161))}}}catch(W){je(s,s.return,W)}s.flags&=-3}n&4096&&(s.flags&=-4097)}function Vu(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var n=s;Vu(n),n.tag===5&&n.flags&1024&&Yg(n.stateNode),s=s.sibling}}function xs(s,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ou(s,n.alternate,n),n=n.sibling}function Cn(s){for(s=s.child;s!==null;){var n=s;switch(n.tag){case 0:case 11:case 14:case 15:Gs(4,n,n.return),Cn(n);break;case 1:St(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Ru(n,n.return,i),Cn(n);break;case 26:case 27:case 5:St(n,n.return),Cn(n);break;case 22:St(n,n.return),n.memoizedState===null&&Cn(n);break;default:Cn(n)}s=s.sibling}}function Os(s,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,u=s,f=n,M=f.flags;switch(f.tag){case 0:case 11:case 15:Os(u,f,i),Ga(4,f);break;case 1:if(Os(u,f,i),o=f,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(B){je(o,o.return,B)}if(o=f,u=o.updateQueue,u!==null){var G=o.stateNode;try{var H=u.shared.hiddenCallbacks;if(H!==null)for(u.shared.hiddenCallbacks=null,u=0;u<H.length;u++)fd(H[u],G)}catch(B){je(o,o.return,B)}}i&&M&64&&Eu(f),nn(f,f.return);break;case 26:case 27:case 5:Os(u,f,i),i&&o===null&&M&4&&_u(f),nn(f,f.return);break;case 12:Os(u,f,i);break;case 13:Os(u,f,i),i&&M&4&&Pu(u,f);break;case 22:f.memoizedState===null&&Os(u,f,i),nn(f,f.return);break;default:Os(u,f,i)}n=n.sibling}}function Er(s,n){var i=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==i&&(s!=null&&s.refCount++,i!=null&&Da(i))}function Rr(s,n){s=null,n.alternate!==null&&(s=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==s&&(n.refCount++,s!=null&&Da(s))}function Ls(s,n,i,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zu(s,n,i,o),n=n.sibling}function zu(s,n,i,o){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Ls(s,n,i,o),u&2048&&Ga(9,n);break;case 3:Ls(s,n,i,o),u&2048&&(s=null,n.alternate!==null&&(s=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==s&&(n.refCount++,s!=null&&Da(s)));break;case 12:if(u&2048){Ls(s,n,i,o),s=n.stateNode;try{var f=n.memoizedProps,M=f.id,G=f.onPostCommit;typeof G=="function"&&G(M,n.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(H){je(n,n.return,H)}}else Ls(s,n,i,o);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?Ls(s,n,i,o):Oa(s,n):f._visibility&4?Ls(s,n,i,o):(f._visibility|=4,Gn(s,n,i,o,(n.subtreeFlags&10256)!==0)),u&2048&&Er(n.alternate,n);break;case 24:Ls(s,n,i,o),u&2048&&Rr(n.alternate,n);break;default:Ls(s,n,i,o)}}function Gn(s,n,i,o,u){for(u=u&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=s,M=n,G=i,H=o,B=M.flags;switch(M.tag){case 0:case 11:case 15:Gn(f,M,G,H,u),Ga(8,M);break;case 23:break;case 22:var W=M.stateNode;M.memoizedState!==null?W._visibility&4?Gn(f,M,G,H,u):Oa(f,M):(W._visibility|=4,Gn(f,M,G,H,u)),u&&B&2048&&Er(M.alternate,M);break;case 24:Gn(f,M,G,H,u),u&&B&2048&&Rr(M.alternate,M);break;default:Gn(f,M,G,H,u)}n=n.sibling}}function Oa(s,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=s,o=n,u=o.flags;switch(o.tag){case 22:Oa(i,o),u&2048&&Er(o.alternate,o);break;case 24:Oa(i,o),u&2048&&Rr(o.alternate,o);break;default:Oa(i,o)}n=n.sibling}}function an(s){if(s.subtreeFlags&$n)for(s=s.child;s!==null;)ku(s),s=s.sibling}function ku(s){switch(s.tag){case 26:an(s),s.flags&$n&&(s.memoizedState!==null?kp(Zt,s.memoizedState,s.memoizedProps):Sm(s.type,s.memoizedProps));break;case 5:an(s),s.flags&$n&&Sm(s.type,s.memoizedProps);break;case 3:case 4:if(Ot){var n=Zt;Zt=to(s.stateNode.containerInfo),an(s),Zt=n}else an(s);break;case 22:s.memoizedState===null&&(n=s.alternate,n!==null&&n.memoizedState!==null?(n=$n,$n=16777216,an(s),$n=n):an(s));break;default:an(s)}}function Fu(s){var n=s.alternate;if(n!==null&&(s=n.child,s!==null)){n.child=null;do n=s.sibling,s.sibling=null,s=n;while(s!==null)}}function La(s){var n=s.deletions;if(s.flags&16){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];Qe=o,Ku(o,s)}Fu(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Uu(s),s=s.sibling}function Uu(s){switch(s.tag){case 0:case 11:case 15:La(s),s.flags&2048&&Gs(9,s,s.return);break;case 3:La(s);break;case 12:La(s);break;case 22:var n=s.stateNode;s.memoizedState!==null&&n._visibility&4&&(s.return===null||s.return.tag!==13)?(n._visibility&=-5,Vi(s)):La(s);break;default:La(s)}}function Vi(s){var n=s.deletions;if(s.flags&16){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];Qe=o,Ku(o,s)}Fu(s)}for(s=s.child;s!==null;){switch(n=s,n.tag){case 0:case 11:case 15:Gs(8,n,n.return),Vi(n);break;case 22:i=n.stateNode,i._visibility&4&&(i._visibility&=-5,Vi(n));break;default:Vi(n)}s=s.sibling}}function Ku(s,n){for(;Qe!==null;){var i=Qe;switch(i.tag){case 0:case 11:case 15:Gs(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Da(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Qe=o;else e:for(i=s;Qe!==null;){o=Qe;var u=o.sibling,f=o.return;if(Lu(o),o===i){Qe=null;break e}if(u!==null){u.return=f,Qe=u;break e}Qe=f}}}function _r(s){var n=jm(s);if(n!=null){if(typeof n.memoizedProps["data-testname"]!="string")throw Error(c(364));return n}if(s=Zg(s),s===null)throw Error(c(362));return s.stateNode.current}function Dr(s,n){var i=s.tag;switch(n.$$typeof){case nl:if(s.type===n.value)return!0;break;case al:e:{for(n=n.value,s=[s,0],i=0;i<s.length;){var o=s[i++],u=o.tag,f=s[i++],M=n[f];if(u!==5&&u!==26&&u!==27||!Va(o)){for(;M!=null&&Dr(o,M);)f++,M=n[f];if(f===n.length){n=!0;break e}else for(o=o.child;o!==null;)s.push(o,f),o=o.sibling}}n=!1}return n;case il:if((i===5||i===26||i===27)&&Jg(s.stateNode,n.value))return!0;break;case rl:if((i===5||i===6||i===26||i===27)&&(s=Wg(s),s!==null&&0<=s.indexOf(n.value)))return!0;break;case ll:if((i===5||i===26||i===27)&&(s=s.memoizedProps["data-testname"],typeof s=="string"&&s.toLowerCase()===n.value.toLowerCase()))return!0;break;default:throw Error(c(365))}return!1}function Cr(s){switch(s.$$typeof){case nl:return"<"+(d(s.value)||"Unknown")+">";case al:return":has("+(Cr(s)||"")+")";case il:return'[role="'+s.value+'"]';case rl:return'"'+s.value+'"';case ll:return'[data-testname="'+s.value+'"]';default:throw Error(c(365))}}function Bu(s,n){var i=[];s=[s,0];for(var o=0;o<s.length;){var u=s[o++],f=u.tag,M=s[o++],G=n[M];if(f!==5&&f!==26&&f!==27||!Va(u)){for(;G!=null&&Dr(u,G);)M++,G=n[M];if(M===n.length)i.push(u);else for(u=u.child;u!==null;)s.push(u,M),u=u.sibling}}return i}function Gr(s,n){if(!Ha)throw Error(c(363));s=_r(s),s=Bu(s,n),n=[],s=Array.from(s);for(var i=0;i<s.length;){var o=s[i++],u=o.tag;if(u===5||u===26||u===27)Va(o)||n.push(o.stateNode);else for(o=o.child;o!==null;)s.push(o),o=o.sibling}return n}function wt(){if(Se&2&&ge!==0)return ge&-ge;if(oe.T!==null){var s=Yn;return s!==0?s:qt()}return kg()}function qu(){zt===0&&(zt=!(ge&536870912)||pe?y():536870912);var s=Vt.current;return s!==null&&(s.flags|=32),zt}function ut(s,n,i){(s===we&&Ae===2||s.cancelPendingCommit!==null)&&(On(s,0),fs(s,ge,zt,!1)),X(s,i),(!(Se&2)||s!==we)&&(s===we&&(!(Se&2)&&(pn|=i),Pe===4&&fs(s,ge,zt,!1)),jt(s))}function Yu(s,n,i){if(Se&6)throw Error(c(327));var o=!i&&(n&60)===0&&(n&s.expiredLanes)===0||V(s,n),u=o?gg(s,n):Hr(s,n,!0),f=o;do{if(u===0){ea&&!o&&fs(s,n,0,!1);break}else if(u===6)fs(s,n,0,!js);else{if(i=s.current.alternate,f&&!xg(i)){u=Hr(s,n,!1),f=!1;continue}if(u===2){if(f=n,s.errorRecoveryDisabledLanes&f)var M=0;else M=s.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){n=M;e:{var G=s;u=Ya;var H=Gt&&G.current.memoizedState.isDehydrated;if(H&&(On(G,M).flags|=256),M=Hr(G,M,!1),M!==2){if(po&&!H){G.errorRecoveryDisabledLanes|=f,pn|=f,u=4;break e}f=ss,ss=u,f!==null&&Or(f)}u=M}if(f=!1,u!==2)continue}}if(u===1){On(s,0),fs(s,n,0,!0);break}e:{switch(o=s,u){case 0:case 1:throw Error(c(345));case 4:if((n&4194176)===n){fs(o,n,zt,!js);break e}break;case 2:ss=null;break;case 3:case 5:break;default:throw Error(c(329))}if(o.finishedWork=i,o.finishedLanes=n,(n&62914560)===n&&(f=vo+300-Xt(),10<f)){if(fs(o,n,zt,!js),O(o,0)!==0)break e;o.timeoutHandle=Hg(Xu.bind(null,o,i,ss,ol,bo,n,zt,pn,ta,js,2,-0,0),f);break e}Xu(o,i,ss,ol,bo,n,zt,pn,ta,js,0,-0,0)}}break}while(1);jt(s)}function Or(s){ss===null?ss=s:ss.push.apply(ss,s)}function Xu(s,n,i,o,u,f,M,G,H,B,W,ee,se){var de=n.subtreeFlags;if((de&8192||(de&16785408)===16785408)&&(Bg(),ku(n),n=qg(),n!==null)){s.cancelPendingCommit=n(sm.bind(null,s,i,o,u,M,G,H,1,ee,se)),fs(s,f,M,!B);return}sm(s,i,o,u,M,G,H,W,ee,se)}function xg(s){for(var n=s;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var u=i[o],f=u.getSnapshot;u=u.value;try{if(!Rt(f(),u))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function fs(s,n,i,o){n&=~yo,n&=~pn,s.suspendedLanes|=n,s.pingedLanes&=~n,o&&(s.warmLanes|=n),o=s.expirationTimes;for(var u=n;0<u;){var f=31-Tt(u),M=1<<f;o[f]=-1,u&=~M}i!==0&&q(s,i,n)}function Qu(){return Se&6?!0:(Ts(0,!1),!1)}function Lr(){if(xe!==null){if(Ae===0)var s=xe.return;else s=xe,bs=fn=null,Il(s),Zn=null,Ka=0,s=xe;for(;s!==null;)Tu(s.alternate,s),s=s.return;xe=null}}function On(s,n){s.finishedWork=null,s.finishedLanes=0;var i=s.timeoutHandle;i!==Jr&&(s.timeoutHandle=Jr,Vg(i)),i=s.cancelPendingCommit,i!==null&&(s.cancelPendingCommit=null,i()),Lr(),we=s,xe=i=Ps(s.current,null),ge=n,Ae=0,Dt=null,js=!1,ea=V(s,n),po=!1,ta=zt=yo=pn=Bs=Pe=0,ss=Ya=null,bo=!1,n&8&&(n|=n&32);var o=s.entangledLanes;if(o!==0)for(s=s.entanglements,o&=n;0<o;){var u=31-Tt(o),f=1<<u;n|=s[u],o&=~f}return Ns=n,Jt(),i}function Zu(s,n){ue=null,oe.H=ts,n===Ua?(n=bd(),Ae=3):n===mo?(n=bd(),Ae=4):Ae=n===Ym?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Dt=n,xe===null&&(Pe=1,Ci(s,I(n,s.current)))}function Iu(){var s=Vt.current;return s===null?!0:(ge&4194176)===ge?es===null:(ge&62914560)===ge||ge&536870912?s===es:!1}function Wu(){var s=oe.H;return oe.H=ts,s===null?ts:s}function Ju(){var s=oe.A;return oe.A=ny,s}function Pr(){Pe=4,js||(ge&4194176)!==ge&&Vt.current!==null||(ea=!0),!(Bs&134217727)&&!(pn&134217727)||we===null||fs(we,ge,zt,!1)}function Hr(s,n,i){var o=Se;Se|=2;var u=Wu(),f=Ju();(we!==s||ge!==n)&&(ol=null,On(s,n)),n=!1;var M=Pe;e:do try{if(Ae!==0&&xe!==null){var G=xe,H=Dt;switch(Ae){case 8:Lr(),M=6;break e;case 3:case 2:case 6:Vt.current===null&&(n=!0);var B=Ae;if(Ae=0,Dt=null,Ln(s,G,H,B),i&&ea){M=0;break e}break;default:B=Ae,Ae=0,Dt=null,Ln(s,G,H,B)}}fg(),M=Pe;break}catch(W){Zu(s,W)}while(1);return n&&s.shellSuspendCounter++,bs=fn=null,Se=o,oe.H=u,oe.A=f,xe===null&&(we=null,ge=0,Jt()),M}function fg(){for(;xe!==null;)$u(xe)}function gg(s,n){var i=Se;Se|=2;var o=Wu(),u=Ju();we!==s||ge!==n?(ol=null,Xa=Xt()+500,On(s,n)):ea=V(s,n);e:do try{if(Ae!==0&&xe!==null){n=xe;var f=Dt;t:switch(Ae){case 1:Ae=0,Dt=null,Ln(s,n,f,1);break;case 2:if(pd(f)){Ae=0,Dt=null,em(n);break}n=function(){Ae===2&&we===s&&(Ae=7),jt(s)},f.then(n,n);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:pd(f)?(Ae=0,Dt=null,em(n)):(Ae=0,Dt=null,Ln(s,n,f,7));break;case 5:var M=null;switch(xe.tag){case 26:M=xe.memoizedState;case 5:case 27:var G=xe,H=G.type,B=G.pendingProps;if(M?zm(M):Nm(H,B)){Ae=0,Dt=null;var W=G.sibling;if(W!==null)xe=W;else{var ee=G.return;ee!==null?(xe=ee,zi(ee)):xe=null}break t}}Ae=0,Dt=null,Ln(s,n,f,5);break;case 6:Ae=0,Dt=null,Ln(s,n,f,6);break;case 8:Lr(),Pe=6;break e;default:throw Error(c(462))}}pg();break}catch(se){Zu(s,se)}while(1);return bs=fn=null,oe.H=o,oe.A=u,Se=i,xe!==null?0:(we=null,ge=0,Jt(),Pe)}function pg(){for(;xe!==null&&!Yp();)$u(xe)}function $u(s){var n=vu(s.alternate,s,Ns);s.memoizedProps=s.pendingProps,n===null?zi(s):xe=n}function em(s){var n=s,i=n.alternate;switch(n.tag){case 15:case 0:n=xu(i,n,n.pendingProps,n.type,void 0,ge);break;case 11:n=xu(i,n,n.pendingProps,n.type.render,n.ref,ge);break;case 5:Il(n);default:Tu(i,n),n=xe=lm(n,Ns),n=vu(i,n,Ns)}s.memoizedProps=s.pendingProps,n===null?zi(s):xe=n}function Ln(s,n,i,o){bs=fn=null,Il(n),Zn=null,Ka=0;var u=n.return;try{if(og(s,u,n,i,ge)){Pe=1,Ci(s,I(i,s.current)),xe=null;return}}catch(f){if(u!==null)throw xe=u,f;Pe=1,Ci(s,I(i,s.current)),xe=null;return}n.flags&32768?(pe||o===1?s=!0:ea||ge&536870912?s=!1:(js=s=!0,(o===2||o===3||o===6)&&(o=Vt.current,o!==null&&o.tag===13&&(o.flags|=16384))),tm(n,s)):zi(n)}function zi(s){var n=s;do{if(n.flags&32768){tm(n,js);return}s=n.return;var i=dg(n.alternate,n,Ns);if(i!==null){xe=i;return}if(n=n.sibling,n!==null){xe=n;return}xe=n=s}while(n!==null);Pe===0&&(Pe=5)}function tm(s,n){do{var i=ug(s.alternate,s);if(i!==null){i.flags&=32767,xe=i;return}if(i=s.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(s=s.sibling,s!==null)){xe=s;return}xe=s=i}while(s!==null);Pe=6,xe=null}function sm(s,n,i,o,u,f,M,G,H,B){var W=oe.T,ee=on();try{pt(2),oe.T=null,yg(s,n,i,o,ee,u,f,M,G,H,B)}finally{oe.T=W,pt(ee)}}function yg(s,n,i,o,u,f,M,G){do ln();while(yn!==null);if(Se&6)throw Error(c(327));var H=s.finishedWork;if(o=s.finishedLanes,H===null)return null;if(s.finishedWork=null,s.finishedLanes=0,H===s.current)throw Error(c(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var B=H.lanes|H.childLanes;if(B|=lo,$(s,o,B,f,M,G),s===we&&(xe=we=null,ge=0),!(H.subtreeFlags&10256)&&!(H.flags&10256)||cl||(cl=!0,jo=B,No=i,Ng(ao,function(){return ln(),null})),i=(H.flags&15990)!==0,H.subtreeFlags&15990||i?(i=oe.T,oe.T=null,f=on(),pt(2),M=Se,Se|=4,mg(s,H),Hu(H,s),Lg(s.containerInfo),s.current=H,Ou(s,H.alternate,H),Xp(),Se=M,pt(f),oe.T=i):s.current=H,cl?(cl=!1,yn=s,Qa=o):nm(s,B),B=s.pendingLanes,B===0&&(qs=null),E(H.stateNode),jt(s),n!==null)for(u=s.onRecoverableError,H=0;H<n.length;H++)B=n[H],u(B.value,{componentStack:B.stack});return Qa&3&&ln(),B=s.pendingLanes,o&4194218&&B&42?s===So?Za++:(Za=0,So=s):Za=0,Ts(0,!1),null}function nm(s,n){(s.pooledCacheLanes&=n)===0&&(n=s.pooledCache,n!=null&&(s.pooledCache=null,Da(n)))}function ln(){if(yn!==null){var s=yn,n=jo;jo=0;var i=J(Qa),o=32>i?32:i;i=oe.T;var u=on();try{if(pt(o),oe.T=null,yn===null)var f=!1;else{o=No,No=null;var M=yn,G=Qa;if(yn=null,Qa=0,Se&6)throw Error(c(331));var H=Se;if(Se|=4,Uu(M.current),zu(M,M.current,G,o),Se=H,Ts(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(za,M)}catch{}f=!0}return f}finally{pt(u),oe.T=i,nm(s,n)}}return!1}function am(s,n,i){n=I(i,n),n=or(s.stateNode,n,2),s=Rs(s,n,2),s!==null&&(X(s,2),jt(s))}function je(s,n,i){if(s.tag===3)am(s,s,i);else for(;n!==null;){if(n.tag===3){am(n,s,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qs===null||!qs.has(o))){s=I(i,s),i=ru(2),o=Rs(n,i,2),o!==null&&(ou(i,o,n,s),X(o,2),jt(o));break}}n=n.return}}function Vr(s,n,i){var o=s.pingCache;if(o===null){o=s.pingCache=new ay;var u=new Set;o.set(n,u)}else u=o.get(n),u===void 0&&(u=new Set,o.set(n,u));u.has(i)||(po=!0,u.add(i),s=bg.bind(null,s,n,i),n.then(s,s))}function bg(s,n,i){var o=s.pingCache;o!==null&&o.delete(n),s.pingedLanes|=s.suspendedLanes&i,s.warmLanes&=~i,we===s&&(ge&i)===i&&(Pe===4||Pe===3&&(ge&62914560)===ge&&300>Xt()-vo?!(Se&2)&&On(s,0):yo|=i,ta===ge&&(ta=0)),jt(s)}function im(s,n){n===0&&(n=F()),s=st(s,n),s!==null&&(X(s,n),jt(s))}function vg(s){var n=s.memoizedState,i=0;n!==null&&(i=n.retryLane),im(s,i)}function jg(s,n){var i=0;switch(s.tag){case 13:var o=s.stateNode,u=s.memoizedState;u!==null&&(i=u.retryLane);break;case 19:o=s.stateNode;break;case 22:o=s.stateNode._retryCache;break;default:throw Error(c(314))}o!==null&&o.delete(n),im(s,i)}function Ng(s,n){return Yi(s,n)}function Sg(s,n,i,o){this.tag=s,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ps(s,n){var i=s.alternate;return i===null?(i=l(s.tag,n,s.key,s.mode),i.elementType=s.elementType,i.type=s.type,i.stateNode=s.stateNode,i.alternate=s,s.alternate=i):(i.pendingProps=n,i.type=s.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=s.flags&31457280,i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,n=s.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=s.sibling,i.index=s.index,i.ref=s.ref,i.refCleanup=s.refCleanup,i}function lm(s,n){s.flags&=31457282;var i=s.alternate;return i===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,n=i.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),s}function ki(s,n,i,o,u,f){var M=0;if(o=s,typeof s=="function")zr(s)&&(M=1);else if(typeof s=="string")M=Ot&&it?Gm(s,i,$e.current)?26:Fm(s)?27:5:Ot?Gm(s,i,$e.current)?26:5:it&&Fm(s)?27:5;else e:switch(s){case Hn:return rn(i.children,u,f,n);case hm:M=8,u|=24;break;case Br:return s=l(12,i,n,u|2),s.elementType=Br,s.lanes=f,s;case Yr:return s=l(13,i,n,u),s.elementType=Yr,s.lanes=f,s;case Xr:return s=l(19,i,n,u),s.elementType=Xr,s.lanes=f,s;case fm:return rm(i,u,f,n);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Tg:case Hs:M=10;break e;case xm:M=9;break e;case qr:M=11;break e;case Qr:M=14;break e;case Vs:M=16,o=null;break e}M=29,i=Error(c(130,s===null?"null":typeof s,"")),o=null}return n=l(M,i,n,u),n.elementType=s,n.type=o,n.lanes=f,n}function rn(s,n,i,o){return s=l(7,s,o,n),s.lanes=i,s}function rm(s,n,i,o){s=l(22,s,o,n),s.elementType=fm,s.lanes=i;var u={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=u._current;if(f===null)throw Error(c(456));if(!(u._pendingVisibility&2)){var M=st(f,2);M!==null&&(u._pendingVisibility|=2,ut(M,f,2))}},attach:function(){var f=u._current;if(f===null)throw Error(c(456));if(u._pendingVisibility&2){var M=st(f,2);M!==null&&(u._pendingVisibility&=-3,ut(M,f,2))}}};return s.stateNode=u,s}function kr(s,n,i){return s=l(6,s,null,n),s.lanes=i,s}function Fr(s,n,i){return n=l(4,s.children!==null?s.children:[],s.key,n),n.lanes=i,n.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},n}function Mg(s,n,i,o,u,f,M,G){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Jr,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Y(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Y(0),this.hiddenUpdates=Y(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function om(s,n,i,o,u,f,M,G,H,B,W,ee){return s=new Mg(s,n,i,M,G,H,B,ee),n=1,f===!0&&(n|=24),f=l(3,null,null,n),s.current=f,f.stateNode=s,n=br(),n.refCount++,s.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:i,cache:n},Fl(f),s}function cm(s){return s?(s=kn,s):kn}function dm(s){var n=s._reactInternals;if(n===void 0)throw typeof s.render=="function"?Error(c(188)):(s=Object.keys(s).join(","),Error(c(268,s)));return s=N(n),s=s!==null?j(s):null,s===null?null:Pa(s.stateNode)}function um(s,n,i,o,u,f){u=cm(u),o.context===null?o.context=u:o.pendingContext=u,o=Es(n),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Rs(s,o,n),i!==null&&(ut(i,s,n),Sa(i,s,n))}function mm(s,n){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var i=s.retryLane;s.retryLane=i!==0&&i<n?i:n}}function Ur(s,n){mm(s,n),(s=s.alternate)&&mm(s,n)}var he={},wg=C,At=x2(),Kr=Object.assign,Ag=Symbol.for("react.element"),Fi=Symbol.for("react.transitional.element"),Pn=Symbol.for("react.portal"),Hn=Symbol.for("react.fragment"),hm=Symbol.for("react.strict_mode"),Br=Symbol.for("react.profiler"),Tg=Symbol.for("react.provider"),xm=Symbol.for("react.consumer"),Hs=Symbol.for("react.context"),qr=Symbol.for("react.forward_ref"),Yr=Symbol.for("react.suspense"),Xr=Symbol.for("react.suspense_list"),Qr=Symbol.for("react.memo"),Vs=Symbol.for("react.lazy"),fm=Symbol.for("react.offscreen"),Eg=Symbol.for("react.memo_cache_sentinel"),gm=Symbol.iterator,Rg=Symbol.for("react.client.reference"),oe=wg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Zr,pm,Ir=!1,Ui=Array.isArray,_g=a.rendererVersion,Dg=a.rendererPackageName,ym=a.extraDevToolsConfig,Pa=a.getPublicInstance,Cg=a.getRootHostContext,Gg=a.getChildHostContext,Og=a.prepareForCommit,Lg=a.resetAfterCommit,Pg=a.createInstance,Wr=a.appendInitialChild,bm=a.finalizeInitialChildren,Ki=a.shouldSetTextContent,vm=a.createTextInstance,Hg=a.scheduleTimeout,Vg=a.cancelTimeout,Jr=a.noTimeout,gs=a.isPrimaryRenderer;a.warnsIfNotActing;var at=a.supportsMutation,zs=a.supportsPersistence,Gt=a.supportsHydration,jm=a.getInstanceFromNode;a.beforeActiveInstanceBlur,a.afterActiveInstanceBlur;var zg=a.preparePortalMount;a.prepareScopeUpdate,a.getInstanceFromScope;var pt=a.setCurrentUpdatePriority,on=a.getCurrentUpdatePriority,kg=a.resolveUpdatePriority;a.resolveEventType,a.resolveEventTimeStamp;var Fg=a.shouldAttemptEagerTransition,Ug=a.detachDeletedInstance;a.requestPostPaintCallback;var Kg=a.maySuspendCommit,Nm=a.preloadInstance,Bg=a.startSuspendingCommit,Sm=a.suspendInstance,qg=a.waitForCommitToBeReady,Vn=a.NotPendingTransition,cn=a.HostTransitionContext,Yg=a.resetFormInstance;a.bindToConsole;var Xg=a.supportsMicrotasks,Qg=a.scheduleMicrotask,Ha=a.supportsTestSelectors,Zg=a.findFiberRoot,Ig=a.getBoundingRect,Wg=a.getTextContent,Va=a.isHiddenSubtree,Jg=a.matchAccessibilityRole,$g=a.setFocusIfFocusable,ep=a.setupIntersectionObserver,tp=a.appendChild,sp=a.appendChildToContainer,np=a.commitTextUpdate,ap=a.commitMount,ip=a.commitUpdate,lp=a.insertBefore,rp=a.insertInContainerBefore,op=a.removeChild,cp=a.removeChildFromContainer,Mm=a.resetTextContent,dp=a.hideInstance,up=a.hideTextInstance,mp=a.unhideInstance,hp=a.unhideTextInstance,xp=a.clearContainer,fp=a.cloneInstance,wm=a.createContainerChildSet,Am=a.appendChildToContainerChildSet,gp=a.finalizeContainerChildren,Tm=a.replaceContainerChildren,Em=a.cloneHiddenInstance,Rm=a.cloneHiddenTextInstance,$r=a.isSuspenseInstancePending,eo=a.isSuspenseInstanceFallback,pp=a.getSuspenseInstanceFallbackErrorDetails,yp=a.registerSuspenseInstanceRetry,bp=a.canHydrateFormStateMarker,vp=a.isFormStateMarkerMatching,_m=a.getNextHydratableSibling,Dm=a.getFirstHydratableChild,jp=a.getFirstHydratableChildWithinContainer,Np=a.getFirstHydratableChildWithinSuspenseInstance,Sp=a.canHydrateInstance,Mp=a.canHydrateTextInstance,wp=a.canHydrateSuspenseInstance,Ap=a.hydrateInstance,Tp=a.hydrateTextInstance,Ep=a.hydrateSuspenseInstance,Rp=a.getNextHydratableInstanceAfterSuspenseInstance,_p=a.commitHydratedContainer,Dp=a.commitHydratedSuspenseInstance,Cp=a.clearSuspenseBoundary,Gp=a.clearSuspenseBoundaryFromContainer,Cm=a.shouldDeleteUnhydratedTailInstances;a.diffHydratedPropsForDevWarnings,a.diffHydratedTextForDevWarnings,a.describeHydratableInstanceForDevWarnings;var Op=a.validateHydratableInstance,Lp=a.validateHydratableTextInstance,Ot=a.supportsResources,Gm=a.isHostHoistableType,to=a.getHoistableRoot,Om=a.getResource,Lm=a.acquireResource,Pm=a.releaseResource,Pp=a.hydrateHoistable,Hm=a.mountHoistable,Vm=a.unmountHoistable,Hp=a.createHoistableInstance,Vp=a.prepareToCommitHoistables,zp=a.mayResourceSuspendCommit,zm=a.preloadResource,kp=a.suspendResource,it=a.supportsSingletons,km=a.resolveSingletonInstance,Fp=a.clearSingleton,Up=a.acquireSingletonInstance,Kp=a.releaseSingletonInstance,Fm=a.isHostSingletonType,so=[],zn=-1,kn={},Tt=Math.clz32?Math.clz32:_,Bp=Math.log,qp=Math.LN2,Bi=128,qi=4194304,Yi=At.unstable_scheduleCallback,no=At.unstable_cancelCallback,Yp=At.unstable_shouldYield,Xp=At.unstable_requestPaint,Xt=At.unstable_now,Um=At.unstable_ImmediatePriority,Qp=At.unstable_UserBlockingPriority,ao=At.unstable_NormalPriority,Zp=At.unstable_IdlePriority,Ip=At.log,Wp=At.unstable_setDisableYieldValue,za=null,Et=null,Rt=typeof Object.is=="function"?Object.is:U,Km=new WeakMap,Fn=[],Un=0,Xi=null,Qi=0,Lt=[],Pt=0,dn=null,ps=1,ys="",$e=A(null),ka=A(null),ks=A(null),Zi=A(null),mt=null,lt=null,pe=!1,Qt=null,$t=!1,io=Error(c(519)),Ht=[],Kn=0,lo=0,Ii=null,Bn=null,ro=!1,Wi=!1,oo=!1,qn=0,Fa=null,co=0,Yn=0,Xn=null,Fs=!1,uo=!1,Jp=Object.prototype.hasOwnProperty,Ua=Error(c(460)),mo=Error(c(474)),Ji={then:function(){}},Qn=null,Zn=null,Ka=0,un=jd(!0),Bm=jd(!1),In=A(null),$i=A(0),Vt=A(null),es=null,qe=A(0),Us=0,ue=null,Ne=null,Ue=null,el=!1,Wn=!1,mn=!1,tl=0,Ba=0,Jn=null,$p=0,ho=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},ts={readContext:nt,use:Ti,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze};ts.useCacheRefresh=ze,ts.useMemoCache=ze,ts.useHostTransitionStatus=ze,ts.useFormState=ze,ts.useActionState=ze,ts.useOptimistic=ze;var hn={readContext:nt,use:Ti,useCallback:function(s,n){return ft().memoizedState=[s,n===void 0?null:n],s},useContext:nt,useEffect:Kd,useImperativeHandle:function(s,n,i){i=i!=null?i.concat([s]):null,Ri(4194308,4,Yd.bind(null,n,s),i)},useLayoutEffect:function(s,n){return Ri(4194308,4,s,n)},useInsertionEffect:function(s,n){Ri(4,2,s,n)},useMemo:function(s,n){var i=ft();n=n===void 0?null:n;var o=s();if(mn){L(!0);try{s()}finally{L(!1)}}return i.memoizedState=[o,n],o},useReducer:function(s,n,i){var o=ft();if(i!==void 0){var u=i(n);if(mn){L(!0);try{i(n)}finally{L(!1)}}}else u=n;return o.memoizedState=o.baseState=u,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:u},o.queue=s,s=s.dispatch=rg.bind(null,ue,s),[o.memoizedState,s]},useRef:function(s){var n=ft();return s={current:s},n.memoizedState=s},useState:function(s){s=er(s);var n=s.queue,i=tu.bind(null,ue,n);return n.dispatch=i,[s.memoizedState,i]},useDebugValue:nr,useDeferredValue:function(s,n){var i=ft();return ar(i,s,n)},useTransition:function(){var s=er(!1);return s=Wd.bind(null,ue,s.queue,!0,!1),ft().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,n,i){var o=ue,u=ft();if(pe){if(i===void 0)throw Error(c(407));i=i()}else{if(i=n(),we===null)throw Error(c(349));ge&60||Td(o,n,i)}u.memoizedState=i;var f={value:i,getSnapshot:n};return u.queue=f,Kd(Rd.bind(null,o,f,s),[s]),o.flags|=2048,Dn(9,Ed.bind(null,o,f,i,n),{destroy:void 0},null),i},useId:function(){var s=ft(),n=we.identifierPrefix;if(pe){var i=ys,o=ps;i=(o&~(1<<32-Tt(o)-1)).toString(32)+i,n=":"+n+"R"+i,i=tl++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=$p++,n=":"+n+"r"+i.toString(32)+":";return s.memoizedState=n},useCacheRefresh:function(){return ft().memoizedState=lg.bind(null,ue)}};hn.useMemoCache=Wl,hn.useHostTransitionStatus=ir,hn.useFormState=Vd,hn.useActionState=Vd,hn.useOptimistic=function(s){var n=ft();n.memoizedState=n.baseState=s;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=lr.bind(null,ue,!0,i),i.dispatch=n,[s,n]};var Ks={readContext:nt,use:Ti,useCallback:Qd,useContext:nt,useEffect:sr,useImperativeHandle:Xd,useInsertionEffect:Bd,useLayoutEffect:qd,useMemo:Zd,useReducer:Ei,useRef:Ud,useState:function(){return Ei(us)},useDebugValue:nr,useDeferredValue:function(s,n){var i=Fe();return Id(i,Ne.memoizedState,s,n)},useTransition:function(){var s=Ei(us)[0],n=Fe().memoizedState;return[typeof s=="boolean"?s:Ta(s),n]},useSyncExternalStore:Ad,useId:$d};Ks.useCacheRefresh=eu,Ks.useMemoCache=Wl,Ks.useHostTransitionStatus=ir,Ks.useFormState=zd,Ks.useActionState=zd,Ks.useOptimistic=function(s,n){var i=Fe();return Cd(i,Ne,s,n)};var xn={readContext:nt,use:Ti,useCallback:Qd,useContext:nt,useEffect:sr,useImperativeHandle:Xd,useInsertionEffect:Bd,useLayoutEffect:qd,useMemo:Zd,useReducer:$l,useRef:Ud,useState:function(){return $l(us)},useDebugValue:nr,useDeferredValue:function(s,n){var i=Fe();return Ne===null?ar(i,s,n):Id(i,Ne.memoizedState,s,n)},useTransition:function(){var s=$l(us)[0],n=Fe().memoizedState;return[typeof s=="boolean"?s:Ta(s),n]},useSyncExternalStore:Ad,useId:$d};xn.useCacheRefresh=eu,xn.useMemoCache=Wl,xn.useHostTransitionStatus=ir,xn.useFormState=Fd,xn.useActionState=Fd,xn.useOptimistic=function(s,n){var i=Fe();return Ne!==null?Cd(i,Ne,s,n):(i.baseState=s,[s,i.queue.dispatch])};var xo={isMounted:function(s){return(s=s._reactInternals)?b(s)===s:!1},enqueueSetState:function(s,n,i){s=s._reactInternals;var o=wt(),u=Es(o);u.payload=n,i!=null&&(u.callback=i),n=Rs(s,u,o),n!==null&&(ut(n,s,o),Sa(n,s,o))},enqueueReplaceState:function(s,n,i){s=s._reactInternals;var o=wt(),u=Es(o);u.tag=1,u.payload=n,i!=null&&(u.callback=i),n=Rs(s,u,o),n!==null&&(ut(n,s,o),Sa(n,s,o))},enqueueForceUpdate:function(s,n){s=s._reactInternals;var i=wt(),o=Es(i);o.tag=2,n!=null&&(o.callback=n),n=Rs(s,o,i),n!==null&&(ut(n,s,i),Sa(n,s,i))}},qm=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}},Ym=Error(c(461)),Xe=!1,fo={dehydrated:null,treeContext:null,retryLane:0},sl=A(null),fn=null,bs=null,ey=typeof AbortController<"u"?AbortController:function(){var s=[],n=this.signal={aborted:!1,addEventListener:function(i,o){s.push(o)}};this.abort=function(){n.aborted=!0,s.forEach(function(i){return i()})}},ty=At.unstable_scheduleCallback,sy=At.unstable_NormalPriority,Oe={$$typeof:Hs,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Xm=oe.S;oe.S=function(s,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&tg(s,n),Xm!==null&&Xm(s,n)};var gn=A(null),vs=!1,Le=!1,go=!1,Qm=typeof WeakSet=="function"?WeakSet:Set,Qe=null,Zm=!1,Ke=null,_t=!1,Zt=null,$n=8192,ny={getCacheForType:function(s){var n=nt(Oe),i=n.data.get(s);return i===void 0&&(i=s(),n.data.set(s,i)),i}},nl=0,al=1,il=2,ll=3,rl=4;if(typeof Symbol=="function"&&Symbol.for){var qa=Symbol.for;nl=qa("selector.component"),al=qa("selector.has_pseudo_class"),il=qa("selector.role"),ll=qa("selector.test_id"),rl=qa("selector.text")}var ay=typeof WeakMap=="function"?WeakMap:Map,Se=0,we=null,xe=null,ge=0,Ae=0,Dt=null,js=!1,ea=!1,po=!1,Ns=0,Pe=0,Bs=0,pn=0,yo=0,zt=0,ta=0,Ya=null,ss=null,bo=!1,vo=0,Xa=1/0,ol=null,qs=null,cl=!1,yn=null,Qa=0,jo=0,No=null,Za=0,So=null;return he.attemptContinuousHydration=function(s){if(s.tag===13){var n=st(s,67108864);n!==null&&ut(n,s,67108864),Ur(s,67108864)}},he.attemptHydrationAtCurrentPriority=function(s){if(s.tag===13){var n=wt(),i=st(s,n);i!==null&&ut(i,s,n),Ur(s,n)}},he.attemptSynchronousHydration=function(s){switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var n=T(s.pendingLanes);if(n!==0){for(s.pendingLanes|=2,s.entangledLanes|=2;n;){var i=1<<31-Tt(n);s.entanglements[1]|=i,n&=~i}jt(s),!(Se&6)&&(Xa=Xt()+500,Ts(0,!1))}}break;case 13:n=st(s,2),n!==null&&ut(n,s,2),Qu(),Ur(s,2)}},he.batchedUpdates=function(s,n){return s(n)},he.createComponentSelector=function(s){return{$$typeof:nl,value:s}},he.createContainer=function(s,n,i,o,u,f,M,G,H,B){return om(s,n,!1,null,i,o,f,M,G,H,B,null)},he.createHasPseudoClassSelector=function(s){return{$$typeof:al,value:s}},he.createHydrationContainer=function(s,n,i,o,u,f,M,G,H,B,W,ee,se){return s=om(i,o,!0,s,u,f,G,H,B,W,ee,se),s.context=cm(null),i=s.current,o=wt(),u=Es(o),u.callback=n??null,Rs(i,u,o),s.current.lanes=o,X(s,o),jt(s),s},he.createPortal=function(s,n,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pn,key:o==null?null:""+o,children:s,containerInfo:n,implementation:i}},he.createRoleSelector=function(s){return{$$typeof:il,value:s}},he.createTestNameSelector=function(s){return{$$typeof:ll,value:s}},he.createTextSelector=function(s){return{$$typeof:rl,value:s}},he.defaultOnCaughtError=function(s){},he.defaultOnRecoverableError=function(s){qm(s)},he.defaultOnUncaughtError=function(s){qm(s)},he.deferredUpdates=function(s){var n=oe.T,i=on();try{return pt(32),oe.T=null,s()}finally{pt(i),oe.T=n}},he.discreteUpdates=function(s,n,i,o,u){var f=oe.T,M=on();try{return pt(2),oe.T=null,s(n,i,o,u)}finally{pt(M),oe.T=f,Se===0&&(Xa=Xt()+500)}},he.findAllNodes=Gr,he.findBoundingRects=function(s,n){if(!Ha)throw Error(c(363));n=Gr(s,n),s=[];for(var i=0;i<n.length;i++)s.push(Ig(n[i]));for(n=s.length-1;0<n;n--){i=s[n];for(var o=i.x,u=o+i.width,f=i.y,M=f+i.height,G=n-1;0<=G;G--)if(n!==G){var H=s[G],B=H.x,W=B+H.width,ee=H.y,se=ee+H.height;if(o>=B&&f>=ee&&u<=W&&M<=se){s.splice(n,1);break}else if(o!==B||i.width!==H.width||se<f||ee>M){if(!(f!==ee||i.height!==H.height||W<o||B>u)){B>o&&(H.width+=B-o,H.x=o),W<u&&(H.width=u-B),s.splice(n,1);break}}else{ee>f&&(H.height+=ee-f,H.y=f),se<M&&(H.height=M-ee),s.splice(n,1);break}}}return s},he.findHostInstance=dm,he.findHostInstanceWithNoPortals=function(s){return s=N(s),s=s!==null?w(s):null,s===null?null:Pa(s.stateNode)},he.findHostInstanceWithWarning=function(s){return dm(s)},he.flushPassiveEffects=ln,he.flushSyncFromReconciler=function(s){var n=Se;Se|=1;var i=oe.T,o=on();try{if(pt(2),oe.T=null,s)return s()}finally{pt(o),oe.T=i,Se=n,!(Se&6)&&Ts(0,!1)}},he.flushSyncWork=Qu,he.focusWithin=function(s,n){if(!Ha)throw Error(c(363));for(s=_r(s),n=Bu(s,n),n=Array.from(n),s=0;s<n.length;){var i=n[s++],o=i.tag;if(!Va(i)){if((o===5||o===26||o===27)&&$g(i.stateNode))return!0;for(i=i.child;i!==null;)n.push(i),i=i.sibling}}return!1},he.getFindAllNodesFailureDescription=function(s,n){if(!Ha)throw Error(c(363));var i=0,o=[];s=[_r(s),0];for(var u=0;u<s.length;){var f=s[u++],M=f.tag,G=s[u++],H=n[G];if((M!==5&&M!==26&&M!==27||!Va(f))&&(Dr(f,H)&&(o.push(Cr(H)),G++,G>i&&(i=G)),G<n.length))for(f=f.child;f!==null;)s.push(f,G),f=f.sibling}if(i<n.length){for(s=[];i<n.length;i++)s.push(Cr(n[i]));return`findAllNodes was able to match part of the selector:
  `+(o.join(" > ")+`

No matching component was found for:
  `)+s.join(" > ")}return null},he.getPublicRootInstance=function(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 27:case 5:return Pa(s.child.stateNode);default:return s.child.stateNode}},he.injectIntoDevTools=function(){var s={bundleType:0,version:_g,rendererPackageName:Dg,currentDispatcherRef:oe,findFiberByHostInstance:jm,reconcilerVersion:"19.0.0"};if(ym!==null&&(s.rendererConfig=ym),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")s=!1;else{var n=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(n.isDisabled||!n.supportsFiber)s=!0;else{try{za=n.inject(s),Et=n}catch{}s=!!n.checkDCE}}return s},he.isAlreadyRendering=function(){return!1},he.observeVisibleRects=function(s,n,i,o){if(!Ha)throw Error(c(363));s=Gr(s,n);var u=ep(s,i,o).disconnect;return{disconnect:function(){u()}}},he.shouldError=function(){return null},he.shouldSuspend=function(){return!1},he.startHostTransition=function(s,n,i,o){if(s.tag!==5)throw Error(c(476));var u=Jd(s).queue;Wd(s,u,n,Vn,i===null?r:function(){var f=Jd(s).next.queue;return Ea(s,f,{},wt()),i(o)})},he.updateContainer=function(s,n,i,o){var u=n.current,f=wt();return um(u,f,s,n,i,o),f},he.updateContainerSync=function(s,n,i,o){return n.tag===0&&ln(),um(n.current,2,s,n,i,o),2},he},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(Cf);var f2=Cf.exports;Df.exports=f2;var g2=Df.exports;const p2=xy(g2);var Gf={exports:{}},Of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function a(E,L){var U=E.length;E.push(L);e:for(;0<U;){var I=U-1>>>1,te=E[I];if(0<c(te,L))E[I]=L,E[U]=te,U=I;else break e}}function l(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var L=E[0],U=E.pop();if(U!==L){E[0]=U;e:for(var I=0,te=E.length,ae=te>>>1;I<ae;){var ie=2*(I+1)-1,me=E[ie],ce=ie+1,Te=E[ce];if(0>c(me,U))ce<te&&0>c(Te,me)?(E[I]=Te,E[ce]=U,I=ce):(E[I]=me,E[ie]=U,I=ie);else if(ce<te&&0>c(Te,U))E[I]=Te,E[ce]=U,I=ce;else break e}}return L}function c(E,L){var U=E.sortIndex-L.sortIndex;return U!==0?U:E.id-L.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;t.unstable_now=function(){return m.now()}}else{var d=Date,h=d.now();t.unstable_now=function(){return d.now()-h}}var x=[],p=[],g=1,b=null,v=3,N=!1,j=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function _(E){for(var L=l(p);L!==null;){if(L.callback===null)r(p);else if(L.startTime<=E)r(p),L.sortIndex=L.expirationTime,a(x,L);else break;L=l(p)}}function T(E){if(w=!1,_(E),!j)if(l(x)!==null)j=!0,Z();else{var L=l(p);L!==null&&J(T,L.startTime-E)}}var O=!1,V=-1,K=5,y=-1;function F(){return!(t.unstable_now()-y<K)}function Y(){if(O){var E=t.unstable_now();y=E;var L=!0;try{e:{j=!1,w&&(w=!1,S(V),V=-1),N=!0;var U=v;try{t:{for(_(E),b=l(x);b!==null&&!(b.expirationTime>E&&F());){var I=b.callback;if(typeof I=="function"){b.callback=null,v=b.priorityLevel;var te=I(b.expirationTime<=E);if(E=t.unstable_now(),typeof te=="function"){b.callback=te,_(E),L=!0;break t}b===l(x)&&r(x),_(E)}else r(x);b=l(x)}if(b!==null)L=!0;else{var ae=l(p);ae!==null&&J(T,ae.startTime-E),L=!1}}break e}finally{b=null,v=U,N=!1}L=void 0}}finally{L?X():O=!1}}}var X;if(typeof R=="function")X=function(){R(Y)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,q=$.port2;$.port1.onmessage=Y,X=function(){q.postMessage(null)}}else X=function(){A(Y,0)};function Z(){O||(O=!0,X())}function J(E,L){V=A(function(){E(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){j||N||(j=!0,Z())},t.unstable_forceFrameRate=function(E){0>E||125<E||(K=0<E?Math.floor(1e3/E):5)},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return l(x)},t.unstable_next=function(E){switch(v){case 1:case 2:case 3:var L=3;break;default:L=v}var U=v;v=L;try{return E()}finally{v=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,L){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var U=v;v=E;try{return L()}finally{v=U}},t.unstable_scheduleCallback=function(E,L,U){var I=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?I+U:I):U=I,E){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=U+te,E={id:g++,callback:L,priorityLevel:E,startTime:U,expirationTime:te,sortIndex:-1},U>I?(E.sortIndex=U,a(p,E),l(x)===null&&E===l(p)&&(w?(S(V),V=-1):w=!0,J(T,U-I))):(E.sortIndex=te,a(x,E),j||N||(j=!0,Z())),E},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(E){var L=v;return function(){var U=v;v=L;try{return E.apply(this,arguments)}finally{v=U}}}})(Of);Gf.exports=Of;var S0=Gf.exports;function cd(t,a,l){if(!t)return;if(l(t)===!0)return t;let r=a?t.return:t.child;for(;r;){const c=cd(r,a,l);if(c)return c;r=a?null:r.sibling}}function Lf(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const dd=Lf(C.createContext(null));class Pf extends C.Component{render(){return C.createElement(dd.Provider,{value:this._reactInternals},this.props.children)}}function Hf(){const t=C.useContext(dd);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const a=C.useId();return C.useMemo(()=>{for(const l of[t,t?.alternate]){if(!l)continue;const r=cd(l,!1,c=>{let m=c.memoizedState;for(;m;){if(m.memoizedState===a)return!0;m=m.next}});if(r)return r}},[t,a])}const y2=Symbol.for("react.context"),b2=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===y2;function v2(){const t=Hf(),[a]=C.useState(()=>new Map);a.clear();let l=t;for(;l;){const r=l.type;b2(r)&&r!==dd&&!a.has(r)&&a.set(r,C.use(Lf(r))),l=l.return}return a}function j2(){const t=v2();return C.useMemo(()=>Array.from(t.keys()).reduce((a,l)=>r=>C.createElement(a,null,C.createElement(l.Provider,{...r,value:t.get(l)})),a=>C.createElement(Pf,{...a})),[t])}function Vf(t){let a=t.root;for(;a.getState().previousRoot;)a=a.getState().previousRoot;return a}const zf=t=>t&&t.isOrthographicCamera,N2=t=>t&&t.hasOwnProperty("current"),S2=t=>t!=null&&(typeof t=="string"||typeof t=="number"||t.isColor),pi=((t,a)=>typeof window<"u"&&(((t=window.document)==null?void 0:t.createElement)||((a=window.navigator)==null?void 0:a.product)==="ReactNative"))()?C.useLayoutEffect:C.useEffect;function kf(t){const a=C.useRef(t);return pi(()=>void(a.current=t),[t]),a}function M2(){const t=Hf(),a=j2();return C.useMemo(()=>({children:l})=>{const c=!!cd(t,!0,m=>m.type===C.StrictMode)?C.StrictMode:C.Fragment;return e.jsx(c,{children:e.jsx(a,{children:l})})},[t,a])}function w2({set:t}){return pi(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}const A2=(t=>(t=class extends C.Component{constructor(...l){super(...l),this.state={error:!1}}componentDidCatch(l){this.props.set(l)}render(){return this.state.error?null:this.props.children}},t.getDerivedStateFromError=()=>({error:!0}),t))();function Ff(t){var a;const l=typeof window<"u"?(a=window.devicePixelRatio)!=null?a:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],l),t[1]):t}function sa(t){var a;return(a=t.__r3f)==null?void 0:a.root.getState()}const De={obj:t=>t===Object(t)&&!De.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,nul:t=>t===null,arr:t=>Array.isArray(t),equ(t,a,{arrays:l="shallow",objects:r="reference",strict:c=!0}={}){if(typeof t!=typeof a||!!t!=!!a)return!1;if(De.str(t)||De.num(t)||De.boo(t))return t===a;const m=De.obj(t);if(m&&r==="reference")return t===a;const d=De.arr(t);if(d&&l==="reference")return t===a;if((d||m)&&t===a)return!0;let h;for(h in t)if(!(h in a))return!1;if(m&&l==="shallow"&&r==="shallow"){for(h in c?a:t)if(!De.equ(t[h],a[h],{strict:c,objects:"reference"}))return!1}else for(h in c?a:t)if(t[h]!==a[h])return!1;if(De.und(h)){if(d&&t.length===0&&a.length===0||m&&Object.keys(t).length===0&&Object.keys(a).length===0)return!0;if(t!==a)return!1}return!0}};function T2(t){t.type!=="Scene"&&(t.dispose==null||t.dispose());for(const a in t){const l=t[a];l?.type!=="Scene"&&(l==null||l.dispose==null||l.dispose())}}const Uf=["children","key","ref"];function E2(t){const a={};for(const l in t)Uf.includes(l)||(a[l]=t[l]);return a}function Tl(t,a,l,r){const c=t;let m=c?.__r3f;return m||(m={root:a,type:l,parent:null,children:[],props:E2(r),object:c,eventCount:0,handlers:{},isHidden:!1},c&&(c.__r3f=m)),m}function mi(t,a){let l=t[a];if(!a.includes("-"))return{root:t,key:a,target:l};l=t;for(const c of a.split("-")){var r;a=c,t=l,l=(r=l)==null?void 0:r[a]}return{root:t,key:a,target:l}}const M0=/-\d+$/;function El(t,a){if(De.str(a.props.attach)){if(M0.test(a.props.attach)){const c=a.props.attach.replace(M0,""),{root:m,key:d}=mi(t.object,c);Array.isArray(m[d])||(m[d]=[])}const{root:l,key:r}=mi(t.object,a.props.attach);a.previousAttach=l[r],l[r]=a.object}else De.fun(a.props.attach)&&(a.previousAttach=a.props.attach(t.object,a.object))}function Rl(t,a){if(De.str(a.props.attach)){const{root:l,key:r}=mi(t.object,a.props.attach),c=a.previousAttach;c===void 0?delete l[r]:l[r]=c}else a.previousAttach==null||a.previousAttach(t.object,a.object);delete a.previousAttach}const bc=[...Uf,"args","dispose","attach","object","onUpdate","dispose"],w0=new Map;function R2(t){let a=w0.get(t.constructor);try{a||(a=new t.constructor,w0.set(t.constructor,a))}catch{}return a}function _2(t,a){const l={};for(const r in a)if(!bc.includes(r)&&!De.equ(a[r],t.props[r])){l[r]=a[r];for(const c in a)c.startsWith(`${r}-`)&&(l[c]=a[c])}for(const r in t.props){if(bc.includes(r)||a.hasOwnProperty(r))continue;const{root:c,key:m}=mi(t.object,r);if(c.constructor&&c.constructor.length===0){const d=R2(c);De.und(d)||(l[m]=d[m])}else l[m]=0}return l}const D2=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],C2=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Qs(t,a){var l;const r=t.__r3f,c=r&&Vf(r).getState(),m=r?.eventCount;for(const h in a){let x=a[h];if(bc.includes(h))continue;if(r&&C2.test(h)){typeof x=="function"?r.handlers[h]=x:delete r.handlers[h],r.eventCount=Object.keys(r.handlers).length;continue}if(x===void 0)continue;let{root:p,key:g,target:b}=mi(t,h);if(b instanceof sh&&x instanceof sh)b.mask=x.mask;else if(b instanceof Jy&&S2(x))b.set(x);else if(b!==null&&typeof b=="object"&&typeof b.set=="function"&&typeof b.copy=="function"&&x!=null&&x.constructor&&b.constructor===x.constructor)b.copy(x);else if(b!==null&&typeof b=="object"&&typeof b.set=="function"&&Array.isArray(x))typeof b.fromArray=="function"?b.fromArray(x):b.set(...x);else if(b!==null&&typeof b=="object"&&typeof b.set=="function"&&typeof x=="number")typeof b.setScalar=="function"?b.setScalar(x):b.set(x);else{var d;p[g]=x,c&&!c.linear&&D2.includes(g)&&(d=p[g])!=null&&d.isTexture&&p[g].format===$y&&p[g].type===eb&&(p[g].colorSpace=Z0)}}if(r!=null&&r.parent&&c!=null&&c.internal&&(l=r.object)!=null&&l.isObject3D&&m!==r.eventCount){const h=r.object,x=c.internal.interaction.indexOf(h);x>-1&&c.internal.interaction.splice(x,1),r.eventCount&&h.raycast!==null&&c.internal.interaction.push(h)}return r&&r.props.attach===void 0&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&ba(r),t}function ba(t){var a;if(!t.parent)return;t.props.onUpdate==null||t.props.onUpdate(t.object);const l=(a=t.root)==null||a.getState==null?void 0:a.getState();l&&l.internal.frames===0&&l.invalidate()}function G2(t,a){t.manual||(zf(t)?(t.left=a.width/-2,t.right=a.width/2,t.top=a.height/2,t.bottom=a.height/-2):t.aspect=a.width/a.height,t.updateProjectionMatrix())}const yt=t=>t?.isObject3D;function xl(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Kf(t,a,l,r){const c=l.get(a);c&&(l.delete(a),l.size===0&&(t.delete(r),c.target.releasePointerCapture(r)))}function O2(t,a){const{internal:l}=t.getState();l.interaction=l.interaction.filter(r=>r!==a),l.initialHits=l.initialHits.filter(r=>r!==a),l.hovered.forEach((r,c)=>{(r.eventObject===a||r.object===a)&&l.hovered.delete(c)}),l.capturedMap.forEach((r,c)=>{Kf(l.capturedMap,a,r,c)})}function L2(t){function a(x){const{internal:p}=t.getState(),g=x.offsetX-p.initialClick[0],b=x.offsetY-p.initialClick[1];return Math.round(Math.sqrt(g*g+b*b))}function l(x){return x.filter(p=>["Move","Over","Enter","Out","Leave"].some(g=>{var b;return(b=p.__r3f)==null?void 0:b.handlers["onPointer"+g]}))}function r(x,p){const g=t.getState(),b=new Set,v=[],N=p?p(g.internal.interaction):g.internal.interaction;for(let S=0;S<N.length;S++){const R=sa(N[S]);R&&(R.raycaster.camera=void 0)}g.previousRoot||g.events.compute==null||g.events.compute(x,g);function j(S){const R=sa(S);if(!R||!R.events.enabled||R.raycaster.camera===null)return[];if(R.raycaster.camera===void 0){var _;R.events.compute==null||R.events.compute(x,R,(_=R.previousRoot)==null?void 0:_.getState()),R.raycaster.camera===void 0&&(R.raycaster.camera=null)}return R.raycaster.camera?R.raycaster.intersectObject(S,!0):[]}let w=N.flatMap(j).sort((S,R)=>{const _=sa(S.object),T=sa(R.object);return!_||!T?S.distance-R.distance:T.events.priority-_.events.priority||S.distance-R.distance}).filter(S=>{const R=xl(S);return b.has(R)?!1:(b.add(R),!0)});g.events.filter&&(w=g.events.filter(w,g));for(const S of w){let R=S.object;for(;R;){var A;(A=R.__r3f)!=null&&A.eventCount&&v.push({...S,eventObject:R}),R=R.parent}}if("pointerId"in x&&g.internal.capturedMap.has(x.pointerId))for(let S of g.internal.capturedMap.get(x.pointerId).values())b.has(xl(S.intersection))||v.push(S.intersection);return v}function c(x,p,g,b){if(x.length){const v={stopped:!1};for(const N of x){let j=sa(N.object);if(j||N.object.traverseAncestors(w=>{const A=sa(w);if(A)return j=A,!1}),j){const{raycaster:w,pointer:A,camera:S,internal:R}=j,_=new Zs(A.x,A.y,0).unproject(S),T=F=>{var Y,X;return(Y=(X=R.capturedMap.get(F))==null?void 0:X.has(N.eventObject))!=null?Y:!1},O=F=>{const Y={intersection:N,target:p.target};R.capturedMap.has(F)?R.capturedMap.get(F).set(N.eventObject,Y):R.capturedMap.set(F,new Map([[N.eventObject,Y]])),p.target.setPointerCapture(F)},V=F=>{const Y=R.capturedMap.get(F);Y&&Kf(R.capturedMap,N.eventObject,Y,F)};let K={};for(let F in p){let Y=p[F];typeof Y!="function"&&(K[F]=Y)}let y={...N,...K,pointer:A,intersections:x,stopped:v.stopped,delta:g,unprojectedPoint:_,ray:w.ray,camera:S,stopPropagation(){const F="pointerId"in p&&R.capturedMap.get(p.pointerId);if((!F||F.has(N.eventObject))&&(y.stopped=v.stopped=!0,R.hovered.size&&Array.from(R.hovered.values()).find(Y=>Y.eventObject===N.eventObject))){const Y=x.slice(0,x.indexOf(N));m([...Y,N])}},target:{hasPointerCapture:T,setPointerCapture:O,releasePointerCapture:V},currentTarget:{hasPointerCapture:T,setPointerCapture:O,releasePointerCapture:V},nativeEvent:p};if(b(y),v.stopped===!0)break}}}return x}function m(x){const{internal:p}=t.getState();for(const g of p.hovered.values())if(!x.length||!x.find(b=>b.object===g.object&&b.index===g.index&&b.instanceId===g.instanceId)){const v=g.eventObject.__r3f;if(p.hovered.delete(xl(g)),v!=null&&v.eventCount){const N=v.handlers,j={...g,intersections:x};N.onPointerOut==null||N.onPointerOut(j),N.onPointerLeave==null||N.onPointerLeave(j)}}}function d(x,p){for(let g=0;g<p.length;g++){const b=p[g].__r3f;b==null||b.handlers.onPointerMissed==null||b.handlers.onPointerMissed(x)}}function h(x){switch(x){case"onPointerLeave":case"onPointerCancel":return()=>m([]);case"onLostPointerCapture":return p=>{const{internal:g}=t.getState();"pointerId"in p&&g.capturedMap.has(p.pointerId)&&requestAnimationFrame(()=>{g.capturedMap.has(p.pointerId)&&(g.capturedMap.delete(p.pointerId),m([]))})}}return function(g){const{onPointerMissed:b,internal:v}=t.getState();v.lastEvent.current=g;const N=x==="onPointerMove",j=x==="onClick"||x==="onContextMenu"||x==="onDoubleClick",A=r(g,N?l:void 0),S=j?a(g):0;x==="onPointerDown"&&(v.initialClick=[g.offsetX,g.offsetY],v.initialHits=A.map(_=>_.eventObject)),j&&!A.length&&S<=2&&(d(g,v.interaction),b&&b(g)),N&&m(A);function R(_){const T=_.eventObject,O=T.__r3f;if(!(O!=null&&O.eventCount))return;const V=O.handlers;if(N){if(V.onPointerOver||V.onPointerEnter||V.onPointerOut||V.onPointerLeave){const K=xl(_),y=v.hovered.get(K);y?y.stopped&&_.stopPropagation():(v.hovered.set(K,_),V.onPointerOver==null||V.onPointerOver(_),V.onPointerEnter==null||V.onPointerEnter(_))}V.onPointerMove==null||V.onPointerMove(_)}else{const K=V[x];K?(!j||v.initialHits.includes(T))&&(d(g,v.interaction.filter(y=>!v.initialHits.includes(y))),K(_)):j&&v.initialHits.includes(T)&&d(g,v.interaction.filter(y=>!v.initialHits.includes(y)))}}c(A,g,S,R)}}return{handlePointer:h}}const A0=t=>!!(t!=null&&t.render),Bf=C.createContext(null),P2=(t,a)=>{const l=m2((h,x)=>{const p=new Zs,g=new Zs,b=new Zs;function v(S=x().camera,R=g,_=x().size){const{width:T,height:O,top:V,left:K}=_,y=T/O;R.isVector3?b.copy(R):b.set(...R);const F=S.getWorldPosition(p).distanceTo(b);if(zf(S))return{width:T/S.zoom,height:O/S.zoom,top:V,left:K,factor:1,distance:F,aspect:y};{const Y=S.fov*Math.PI/180,X=2*Math.tan(Y/2)*F,$=X*(T/O);return{width:$,height:X,top:V,left:K,factor:T/$,distance:F,aspect:y}}}let N;const j=S=>h(R=>({performance:{...R.performance,current:S}})),w=new I0;return{set:h,get:x,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(S=1)=>t(x(),S),advance:(S,R)=>a(S,R,x()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new ab,pointer:w,mouse:w,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const S=x();N&&clearTimeout(N),S.performance.current!==S.performance.min&&j(S.performance.min),N=setTimeout(()=>j(x().performance.max),S.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:S=>h(R=>({...R,events:{...R.events,...S}})),setSize:(S,R,_=0,T=0)=>{const O=x().camera,V={width:S,height:R,top:_,left:T};h(K=>({size:V,viewport:{...K.viewport,...v(O,g,V)}}))},setDpr:S=>h(R=>{const _=Ff(S);return{viewport:{...R.viewport,dpr:_,initialDpr:R.viewport.initialDpr||_}}}),setFrameloop:(S="always")=>{const R=x().clock;R.stop(),R.elapsedTime=0,S!=="never"&&(R.start(),R.elapsedTime=0),h(()=>({frameloop:S}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:C.createRef(),active:!1,frames:0,priority:0,subscribe:(S,R,_)=>{const T=x().internal;return T.priority=T.priority+(R>0?1:0),T.subscribers.push({ref:S,priority:R,store:_}),T.subscribers=T.subscribers.sort((O,V)=>O.priority-V.priority),()=>{const O=x().internal;O!=null&&O.subscribers&&(O.priority=O.priority-(R>0?1:0),O.subscribers=O.subscribers.filter(V=>V.ref!==S))}}}}}),r=l.getState();let c=r.size,m=r.viewport.dpr,d=r.camera;return l.subscribe(()=>{const{camera:h,size:x,viewport:p,gl:g,set:b}=l.getState();if(x.width!==c.width||x.height!==c.height||p.dpr!==m){c=x,m=p.dpr,G2(h,x),p.dpr>0&&g.setPixelRatio(p.dpr);const v=typeof HTMLCanvasElement<"u"&&g.domElement instanceof HTMLCanvasElement;g.setSize(x.width,x.height,v)}h!==d&&(d=h,b(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(h)}})))}),l.subscribe(h=>t(h)),l};function qf(){const t=C.useContext(Bf);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Ss(t=l=>l,a){return qf()(t,a)}function ud(t,a=0){const l=qf(),r=l.getState().internal.subscribe,c=kf(t);return pi(()=>r(c,a,l),[a,r,l]),null}function H2(t){const a=p2(t);return a.injectIntoDevTools({bundleType:(typeof process<"u",0),rendererPackageName:"@react-three/fiber",version:C.version}),a}const Yf=0,xa={},V2=/^three(?=[A-Z])/,Vl=t=>`${t[0].toUpperCase()}${t.slice(1)}`;let z2=0;const k2=t=>typeof t=="function";function F2(t){if(k2(t)){const a=`${z2++}`;return xa[a]=t,a}else Object.assign(xa,t)}function Xf(t,a){const l=Vl(t),r=xa[l];if(t!=="primitive"&&!r)throw new Error(`R3F: ${l} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(t==="primitive"&&!a.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(a.args!==void 0&&!Array.isArray(a.args))throw new Error("R3F: The args prop must be an array!")}function U2(t,a,l){var r;return t=Vl(t)in xa?t:t.replace(V2,""),Xf(t,a),t==="primitive"&&(r=a.object)!=null&&r.__r3f&&delete a.object.__r3f,Tl(a.object,l,t,a)}function K2(t){if(!t.isHidden){var a;t.props.attach&&(a=t.parent)!=null&&a.object?Rl(t.parent,t):yt(t.object)&&(t.object.visible=!1),t.isHidden=!0,ba(t)}}function Qf(t){if(t.isHidden){var a;t.props.attach&&(a=t.parent)!=null&&a.object?El(t.parent,t):yt(t.object)&&t.props.visible!==!1&&(t.object.visible=!0),t.isHidden=!1,ba(t)}}function md(t,a,l){const r=a.root.getState();if(!(!t.parent&&t.object!==r.scene)){if(!a.object){var c,m;const d=xa[Vl(a.type)];a.object=(c=a.props.object)!=null?c:new d(...(m=a.props.args)!=null?m:[]),a.object.__r3f=a}if(Qs(a.object,a.props),a.props.attach)El(t,a);else if(yt(a.object)&&yt(t.object)){const d=t.object.children.indexOf(l?.object);if(l&&d!==-1){const h=t.object.children.indexOf(a.object);if(h!==-1){t.object.children.splice(h,1);const x=h<d?d-1:d;t.object.children.splice(x,0,a.object)}else a.object.parent=t.object,t.object.children.splice(d,0,a.object),a.object.dispatchEvent({type:"added"}),t.object.dispatchEvent({type:"childadded",child:a.object})}else t.object.add(a.object)}for(const d of a.children)md(a,d);ba(a)}}function Uo(t,a){a&&(a.parent=t,t.children.push(a),md(t,a))}function T0(t,a,l){if(!a||!l)return;a.parent=t;const r=t.children.indexOf(l);r!==-1?t.children.splice(r,0,a):t.children.push(a),md(t,a,l)}function Zf(t){if(typeof t.dispose=="function"){const a=()=>{try{t.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?a():S0.unstable_scheduleCallback(S0.unstable_IdlePriority,a)}}function vc(t,a,l){if(!a)return;a.parent=null;const r=t.children.indexOf(a);r!==-1&&t.children.splice(r,1),a.props.attach?Rl(t,a):yt(a.object)&&yt(t.object)&&(t.object.remove(a.object),O2(Vf(a),a.object));const c=a.props.dispose!==null&&l!==!1;for(let m=a.children.length-1;m>=0;m--){const d=a.children[m];vc(a,d,c)}a.children.length=0,delete a.object.__r3f,c&&a.type!=="primitive"&&a.object.type!=="Scene"&&Zf(a.object),l===void 0&&ba(a)}function B2(t,a){for(const l of[t,t.alternate])if(l!==null)if(typeof l.ref=="function"){l.refCleanup==null||l.refCleanup();const r=l.ref(a);typeof r=="function"&&(l.refCleanup=r)}else l.ref&&(l.ref.current=a)}const jl=[];function q2(){for(const[l]of jl){const r=l.parent;if(r){l.props.attach?Rl(r,l):yt(l.object)&&yt(r.object)&&r.object.remove(l.object);for(const c of l.children)c.props.attach?Rl(l,c):yt(c.object)&&yt(l.object)&&l.object.remove(c.object)}l.isHidden&&Qf(l),l.object.__r3f&&delete l.object.__r3f,l.type!=="primitive"&&Zf(l.object)}for(const[l,r,c]of jl){l.props=r;const m=l.parent;if(m){var t,a;const d=xa[Vl(l.type)];l.object=(t=l.props.object)!=null?t:new d(...(a=l.props.args)!=null?a:[]),l.object.__r3f=l,B2(c,l.object),Qs(l.object,l.props),l.props.attach?El(m,l):yt(l.object)&&yt(m.object)&&m.object.add(l.object);for(const h of l.children)h.props.attach?El(l,h):yt(h.object)&&yt(l.object)&&l.object.add(h.object);ba(l)}}jl.length=0}const Ko=()=>{},E0={};let fl=Yf;const Y2=0,X2=4,jc=H2({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:U2,removeChild:vc,appendChild:Uo,appendInitialChild:Uo,insertBefore:T0,appendChildToContainer(t,a){const l=t.getState().scene.__r3f;!a||!l||Uo(l,a)},removeChildFromContainer(t,a){const l=t.getState().scene.__r3f;!a||!l||vc(l,a)},insertInContainerBefore(t,a,l){const r=t.getState().scene.__r3f;!a||!l||!r||T0(r,a,l)},getRootHostContext:()=>E0,getChildHostContext:()=>E0,commitUpdate(t,a,l,r,c){var m,d,h;Xf(a,r);let x=!1;if((t.type==="primitive"&&l.object!==r.object||((m=r.args)==null?void 0:m.length)!==((d=l.args)==null?void 0:d.length)||(h=r.args)!=null&&h.some((g,b)=>{var v;return g!==((v=l.args)==null?void 0:v[b])}))&&(x=!0),x)jl.push([t,{...r},c]);else{const g=_2(t,r);Object.keys(g).length&&(Object.assign(t.props,g),Qs(t.object,g))}(c.sibling===null||(c.flags&X2)===Y2)&&q2()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:t=>t?.object,prepareForCommit:()=>null,preparePortalMount:t=>Tl(t.getState().scene,t,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:K2,unhideInstance:Qf,createTextInstance:Ko,hideTextInstance:Ko,unhideTextInstance:Ko,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:C.createContext(null),setCurrentUpdatePriority(t){fl=t},getCurrentUpdatePriority(){return fl},resolveUpdatePriority(){var t;if(fl!==Yf)return fl;switch(typeof window<"u"&&((t=window.event)==null?void 0:t.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return vl.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return vl.ContinuousEventPriority;default:return vl.DefaultEventPriority}},resetFormInstance(){}}),Rn=new Map,na={objects:"shallow",strict:!1};function Q2(t,a){if(!a&&typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:l,height:r,top:c,left:m}=t.parentElement.getBoundingClientRect();return{width:l,height:r,top:c,left:m}}else if(!a&&typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...a}}function Z2(t){const a=Rn.get(t),l=a?.fiber,r=a?.store,c=typeof reportError=="function"?reportError:console.error,m=r||P2(Mc,_0),d=l||jc.createContainer(m,vl.ConcurrentRoot,null,!1,null,"",c,c,c,null);a||Rn.set(t,{fiber:d,store:m});let h,x,p=!1,g=null;return{async configure(b={}){let v;g=new Promise(ae=>v=ae);let{gl:N,size:j,scene:w,events:A,onCreated:S,shadows:R=!1,linear:_=!1,flat:T=!1,legacy:O=!1,orthographic:V=!1,frameloop:K="always",dpr:y=[1,2],performance:F,raycaster:Y,camera:X,onPointerMissed:$}=b,q=m.getState(),Z=q.gl;if(!q.gl){const ae={canvas:t,powerPreference:"high-performance",antialias:!0,alpha:!0},ie=typeof N=="function"?await N(ae):N;A0(ie)?Z=ie:Z=new qy({...ae,...N}),q.set({gl:Z})}let J=q.raycaster;J||q.set({raycaster:J=new Yy});const{params:E,...L}=Y||{};if(De.equ(L,J,na)||Qs(J,{...L}),De.equ(E,J.params,na)||Qs(J,{params:{...J.params,...E}}),!q.camera||q.camera===x&&!De.equ(x,X,na)){x=X;const ae=X?.isCamera,ie=ae?X:V?new Tc(0,0,0,0,.1,1e3):new Ec(75,0,.1,1e3);ae||(ie.position.z=5,X&&(Qs(ie,X),ie.manual||("aspect"in X||"left"in X||"right"in X||"bottom"in X||"top"in X)&&(ie.manual=!0,ie.updateProjectionMatrix())),!q.camera&&!(X!=null&&X.rotation)&&ie.lookAt(0,0,0)),q.set({camera:ie}),J.camera=ie}if(!q.scene){let ae;w!=null&&w.isScene?(ae=w,Tl(ae,m,"",{})):(ae=new Xy,Tl(ae,m,"",{}),w&&Qs(ae,w)),q.set({scene:ae})}A&&!q.events.handlers&&q.set({events:A(m)});const U=Q2(t,j);if(De.equ(U,q.size,na)||q.setSize(U.width,U.height,U.top,U.left),y&&q.viewport.dpr!==Ff(y)&&q.setDpr(y),q.frameloop!==K&&q.setFrameloop(K),q.onPointerMissed||q.set({onPointerMissed:$}),F&&!De.equ(F,q.performance,na)&&q.set(ae=>({performance:{...ae.performance,...F}})),!q.xr){var I;const ae=(ce,Te)=>{const os=m.getState();os.frameloop!=="never"&&_0(ce,!0,os,Te)},ie=()=>{const ce=m.getState();ce.gl.xr.enabled=ce.gl.xr.isPresenting,ce.gl.xr.setAnimationLoop(ce.gl.xr.isPresenting?ae:null),ce.gl.xr.isPresenting||Mc(ce)},me={connect(){const ce=m.getState().gl;ce.xr.addEventListener("sessionstart",ie),ce.xr.addEventListener("sessionend",ie)},disconnect(){const ce=m.getState().gl;ce.xr.removeEventListener("sessionstart",ie),ce.xr.removeEventListener("sessionend",ie)}};typeof((I=Z.xr)==null?void 0:I.addEventListener)=="function"&&me.connect(),q.set({xr:me})}if(Z.shadowMap){const ae=Z.shadowMap.enabled,ie=Z.shadowMap.type;if(Z.shadowMap.enabled=!!R,De.boo(R))Z.shadowMap.type=Mo;else if(De.str(R)){var te;const me={basic:tb,percentage:sb,soft:Mo,variance:nb};Z.shadowMap.type=(te=me[R])!=null?te:Mo}else De.obj(R)&&Object.assign(Z.shadowMap,R);(ae!==Z.shadowMap.enabled||ie!==Z.shadowMap.type)&&(Z.shadowMap.needsUpdate=!0)}return Qy.enabled=!O,p||(Z.outputColorSpace=_?Zy:Z0,Z.toneMapping=T?Iy:Wy),q.legacy!==O&&q.set(()=>({legacy:O})),q.linear!==_&&q.set(()=>({linear:_})),q.flat!==T&&q.set(()=>({flat:T})),N&&!De.fun(N)&&!A0(N)&&!De.equ(N,Z,na)&&Qs(Z,N),h=S,p=!0,v(),this},render(b){return!p&&!g&&this.configure(),g.then(()=>{jc.updateContainer(e.jsx(I2,{store:m,children:b,onCreated:h,rootElement:t}),d,null,()=>{})}),m},unmount(){If(t)}}}function I2({store:t,children:a,onCreated:l,rootElement:r}){return pi(()=>{const c=t.getState();c.set(m=>({internal:{...m.internal,active:!0}})),l&&l(c),t.getState().events.connected||c.events.connect==null||c.events.connect(r)},[]),e.jsx(Bf.Provider,{value:t,children:a})}function If(t,a){const l=Rn.get(t),r=l?.fiber;if(r){const c=l?.store.getState();c&&(c.internal.active=!1),jc.updateContainer(null,r,null,()=>{c&&setTimeout(()=>{try{var m,d,h,x;c.events.disconnect==null||c.events.disconnect(),(m=c.gl)==null||(d=m.renderLists)==null||d.dispose==null||d.dispose(),(h=c.gl)==null||h.forceContextLoss==null||h.forceContextLoss(),(x=c.gl)!=null&&x.xr&&c.xr.disconnect(),T2(c.scene),Rn.delete(t),a&&a(t)}catch{}},500)})}}const W2=new Set,J2=new Set,$2=new Set;function Bo(t,a){if(t.size)for(const{callback:l}of t.values())l(a)}function ii(t,a){switch(t){case"before":return Bo(W2,a);case"after":return Bo(J2,a);case"tail":return Bo($2,a)}}let qo,Yo;function Nc(t,a,l){let r=a.clock.getDelta();a.frameloop==="never"&&typeof t=="number"&&(r=t-a.clock.elapsedTime,a.clock.oldTime=a.clock.elapsedTime,a.clock.elapsedTime=t),qo=a.internal.subscribers;for(let c=0;c<qo.length;c++)Yo=qo[c],Yo.ref.current(Yo.store.getState(),r,l);return!a.internal.priority&&a.gl.render&&a.gl.render(a.scene,a.camera),a.internal.frames=Math.max(0,a.internal.frames-1),a.frameloop==="always"?1:a.internal.frames}let _l=!1,Sc=!1,Xo,R0,aa;function Wf(t){R0=requestAnimationFrame(Wf),_l=!0,Xo=0,ii("before",t),Sc=!0;for(const l of Rn.values()){var a;aa=l.store.getState(),aa.internal.active&&(aa.frameloop==="always"||aa.internal.frames>0)&&!((a=aa.gl.xr)!=null&&a.isPresenting)&&(Xo+=Nc(t,aa))}if(Sc=!1,ii("after",t),Xo===0)return ii("tail",t),_l=!1,cancelAnimationFrame(R0)}function Mc(t,a=1){var l;if(!t)return Rn.forEach(r=>Mc(r.store.getState(),a));(l=t.gl.xr)!=null&&l.isPresenting||!t.internal.active||t.frameloop==="never"||(a>1?t.internal.frames=Math.min(60,t.internal.frames+a):Sc?t.internal.frames=2:t.internal.frames=1,_l||(_l=!0,requestAnimationFrame(Wf)))}function _0(t,a=!0,l,r){if(a&&ii("before",t),l)Nc(t,l,r);else for(const c of Rn.values())Nc(t,c.store.getState());a&&ii("after",t)}const Qo={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function e5(t){const{handlePointer:a}=L2(t);return{priority:1,enabled:!0,compute(l,r,c){r.pointer.set(l.offsetX/r.size.width*2-1,-(l.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(Qo).reduce((l,r)=>({...l,[r]:a(r)}),{}),update:()=>{var l;const{events:r,internal:c}=t.getState();(l=c.lastEvent)!=null&&l.current&&r.handlers&&r.handlers.onPointerMove(c.lastEvent.current)},connect:l=>{const{set:r,events:c}=t.getState();if(c.disconnect==null||c.disconnect(),r(m=>({events:{...m.events,connected:l}})),c.handlers)for(const m in c.handlers){const d=c.handlers[m],[h,x]=Qo[m];l.addEventListener(h,d,{passive:x})}},disconnect:()=>{const{set:l,events:r}=t.getState();if(r.connected){if(r.handlers)for(const c in r.handlers){const m=r.handlers[c],[d]=Qo[c];r.connected.removeEventListener(d,m)}l(c=>({events:{...c.events,connected:void 0}}))}}}}function D0(t,a){let l;return(...r)=>{window.clearTimeout(l),l=window.setTimeout(()=>t(...r),a)}}function t5({debounce:t,scroll:a,polyfill:l,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const c=l||(typeof window>"u"?class{}:window.ResizeObserver);if(!c)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[m,d]=C.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),h=C.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:m,orientationHandler:null}),x=t?typeof t=="number"?t:t.scroll:null,p=t?typeof t=="number"?t:t.resize:null,g=C.useRef(!1);C.useEffect(()=>(g.current=!0,()=>void(g.current=!1)));const[b,v,N]=C.useMemo(()=>{const S=()=>{if(!h.current.element)return;const{left:R,top:_,width:T,height:O,bottom:V,right:K,x:y,y:F}=h.current.element.getBoundingClientRect(),Y={left:R,top:_,width:T,height:O,bottom:V,right:K,x:y,y:F};h.current.element instanceof HTMLElement&&r&&(Y.height=h.current.element.offsetHeight,Y.width=h.current.element.offsetWidth),Object.freeze(Y),g.current&&!i5(h.current.lastBounds,Y)&&d(h.current.lastBounds=Y)};return[S,p?D0(S,p):S,x?D0(S,x):S]},[d,r,x,p]);function j(){h.current.scrollContainers&&(h.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",N,!0)),h.current.scrollContainers=null),h.current.resizeObserver&&(h.current.resizeObserver.disconnect(),h.current.resizeObserver=null),h.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",h.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",h.current.orientationHandler))}function w(){h.current.element&&(h.current.resizeObserver=new c(N),h.current.resizeObserver.observe(h.current.element),a&&h.current.scrollContainers&&h.current.scrollContainers.forEach(S=>S.addEventListener("scroll",N,{capture:!0,passive:!0})),h.current.orientationHandler=()=>{N()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",h.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",h.current.orientationHandler))}const A=S=>{!S||S===h.current.element||(j(),h.current.element=S,h.current.scrollContainers=Jf(S),w())};return n5(N,!!a),s5(v),C.useEffect(()=>{j(),w()},[a,N,v]),C.useEffect(()=>j,[]),[A,m,b]}function s5(t){C.useEffect(()=>{const a=t;return window.addEventListener("resize",a),()=>void window.removeEventListener("resize",a)},[t])}function n5(t,a){C.useEffect(()=>{if(a){const l=t;return window.addEventListener("scroll",l,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",l,!0)}},[t,a])}function Jf(t){const a=[];if(!t||t===document.body)return a;const{overflow:l,overflowX:r,overflowY:c}=window.getComputedStyle(t);return[l,r,c].some(m=>m==="auto"||m==="scroll")&&a.push(t),[...a,...Jf(t.parentElement)]}const a5=["x","y","top","bottom","left","right","width","height"],i5=(t,a)=>a5.every(l=>t[l]===a[l]);function l5({ref:t,children:a,fallback:l,resize:r,style:c,gl:m,events:d=e5,eventSource:h,eventPrefix:x,shadows:p,linear:g,flat:b,legacy:v,orthographic:N,frameloop:j,dpr:w,performance:A,raycaster:S,camera:R,scene:_,onPointerMissed:T,onCreated:O,...V}){C.useMemo(()=>F2(ib),[]);const K=M2(),[y,F]=t5({scroll:!0,debounce:{scroll:50,resize:0},...r}),Y=C.useRef(null),X=C.useRef(null);C.useImperativeHandle(t,()=>Y.current);const $=kf(T),[q,Z]=C.useState(!1),[J,E]=C.useState(!1);if(q)throw q;if(J)throw J;const L=C.useRef(null);pi(()=>{const I=Y.current;if(F.width>0&&F.height>0&&I){L.current||(L.current=Z2(I));async function te(){await L.current.configure({gl:m,scene:_,events:d,shadows:p,linear:g,flat:b,legacy:v,orthographic:N,frameloop:j,dpr:w,performance:A,raycaster:S,camera:R,size:F,onPointerMissed:(...ae)=>$.current==null?void 0:$.current(...ae),onCreated:ae=>{ae.events.connect==null||ae.events.connect(h?N2(h)?h.current:h:X.current),x&&ae.setEvents({compute:(ie,me)=>{const ce=ie[x+"X"],Te=ie[x+"Y"];me.pointer.set(ce/me.size.width*2-1,-(Te/me.size.height)*2+1),me.raycaster.setFromCamera(me.pointer,me.camera)}}),O?.(ae)}}),L.current.render(e.jsx(K,{children:e.jsx(A2,{set:E,children:e.jsx(C.Suspense,{fallback:e.jsx(w2,{set:Z}),children:a??null})})}))}te()}}),C.useEffect(()=>{const I=Y.current;if(I)return()=>If(I)},[]);const U=h?"none":"auto";return e.jsx("div",{ref:X,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:U,...c},...V,children:e.jsx("div",{ref:y,style:{width:"100%",height:"100%"},children:e.jsx("canvas",{ref:Y,style:{display:"block"},children:l})})})}function r5(t){return e.jsx(Pf,{children:e.jsx(l5,{...t})})}function Dl(){return Dl=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var r in l)({}).hasOwnProperty.call(l,r)&&(t[r]=l[r])}return t},Dl.apply(null,arguments)}const yi=new Zs,hd=new Zs,o5=new Zs,C0=new I0;function c5(t,a,l){const r=yi.setFromMatrixPosition(t.matrixWorld);r.project(a);const c=l.width/2,m=l.height/2;return[r.x*c+c,-(r.y*m)+m]}function d5(t,a){const l=yi.setFromMatrixPosition(t.matrixWorld),r=hd.setFromMatrixPosition(a.matrixWorld),c=l.sub(r),m=a.getWorldDirection(o5);return c.angleTo(m)>Math.PI/2}function u5(t,a,l,r){const c=yi.setFromMatrixPosition(t.matrixWorld),m=c.clone();m.project(a),C0.set(m.x,m.y),l.setFromCamera(C0,a);const d=l.intersectObjects(r,!0);if(d.length){const h=d[0].distance;return c.distanceTo(l.ray.origin)<h}return!0}function m5(t,a){if(a instanceof Tc)return a.zoom;if(a instanceof Ec){const l=yi.setFromMatrixPosition(t.matrixWorld),r=hd.setFromMatrixPosition(a.matrixWorld),c=a.fov*Math.PI/180,m=l.distanceTo(r);return 1/(2*Math.tan(c/2)*m)}else return 1}function h5(t,a,l){if(a instanceof Ec||a instanceof Tc){const r=yi.setFromMatrixPosition(t.matrixWorld),c=hd.setFromMatrixPosition(a.matrixWorld),m=r.distanceTo(c),d=(l[1]-l[0])/(a.far-a.near),h=l[1]-d*a.far;return Math.round(d*m+h)}}const wc=t=>Math.abs(t)<1e-10?0:t;function $f(t,a,l=""){let r="matrix3d(";for(let c=0;c!==16;c++)r+=wc(a[c]*t.elements[c])+(c!==15?",":")");return l+r}const x5=(t=>a=>$f(a,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),f5=(t=>(a,l)=>$f(a,t(l),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function g5(t){return t&&typeof t=="object"&&"current"in t}const jn=C.forwardRef(({children:t,eps:a=.001,style:l,className:r,prepend:c,center:m,fullscreen:d,portal:h,distanceFactor:x,sprite:p=!1,transform:g=!1,occlude:b,onOcclude:v,castShadow:N,receiveShadow:j,material:w,geometry:A,zIndexRange:S=[16777271,0],calculatePosition:R=c5,as:_="div",wrapperClass:T,pointerEvents:O="auto",...V},K)=>{const{gl:y,camera:F,scene:Y,size:X,raycaster:$,events:q,viewport:Z}=Ss(),[J]=C.useState(()=>document.createElement(_)),E=C.useRef(null),L=C.useRef(null),U=C.useRef(0),I=C.useRef([0,0]),te=C.useRef(null),ae=C.useRef(null),ie=h?.current||q.connected||y.domElement.parentNode,me=C.useRef(null),ce=C.useRef(!1),Te=C.useMemo(()=>b&&b!=="blending"||Array.isArray(b)&&b.length&&g5(b[0]),[b]);C.useLayoutEffect(()=>{const tt=y.domElement;b&&b==="blending"?(tt.style.zIndex=`${Math.floor(S[0]/2)}`,tt.style.position="absolute",tt.style.pointerEvents="none"):(tt.style.zIndex=null,tt.style.position=null,tt.style.pointerEvents=null)},[b]),C.useLayoutEffect(()=>{if(L.current){const tt=E.current=ry(J);if(Y.updateMatrixWorld(),g)J.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const ve=R(L.current,F,X);J.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${ve[0]}px,${ve[1]}px,0);transform-origin:0 0;`}return ie&&(c?ie.prepend(J):ie.appendChild(J)),()=>{ie&&ie.removeChild(J),tt.unmount()}}},[ie,g]),C.useLayoutEffect(()=>{T&&(J.className=T)},[T]);const os=C.useMemo(()=>g?{position:"absolute",top:0,left:0,width:X.width,height:X.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:m?"translate3d(-50%,-50%,0)":"none",...d&&{top:-X.height/2,left:-X.width/2,width:X.width,height:X.height},...l},[l,m,d,X,g]),_n=C.useMemo(()=>({position:"absolute",pointerEvents:O}),[O]);C.useLayoutEffect(()=>{if(ce.current=!1,g){var tt;(tt=E.current)==null||tt.render(C.createElement("div",{ref:te,style:os},C.createElement("div",{ref:ae,style:_n},C.createElement("div",{ref:K,className:r,style:l,children:t}))))}else{var ve;(ve=E.current)==null||ve.render(C.createElement("div",{ref:K,style:os,className:r,children:t}))}});const xt=C.useRef(!0);ud(tt=>{if(L.current){F.updateMatrixWorld(),L.current.updateWorldMatrix(!0,!1);const ve=g?I.current:R(L.current,F,X);if(g||Math.abs(U.current-F.zoom)>a||Math.abs(I.current[0]-ve[0])>a||Math.abs(I.current[1]-ve[1])>a){const vt=d5(L.current,F);let dt=!1;Te&&(Array.isArray(b)?dt=b.map(st=>st.current):b!=="blending"&&(dt=[Y]));const Jt=xt.current;if(dt){const st=u5(L.current,F,$,dt);xt.current=st&&!vt}else xt.current=!vt;Jt!==xt.current&&(v?v(!xt.current):J.style.display=xt.current?"block":"none");const cs=Math.floor(S[0]/2),ja=b?Te?[S[0],cs]:[cs-1,0]:S;if(J.style.zIndex=`${h5(L.current,F,ja)}`,g){const[st,Na]=[X.width/2,X.height/2],As=F.projectionMatrix.elements[5]*Na,{isOrthographicCamera:jt,top:Ts,left:zl,bottom:bi,right:vi}=F,ji=x5(F.matrixWorldInverse),kl=jt?`scale(${As})translate(${wc(-(vi+zl)/2)}px,${wc((Ts+bi)/2)}px)`:`translateZ(${As}px)`;let qt=L.current.matrixWorld;p&&(qt=F.matrixWorldInverse.clone().transpose().copyPosition(qt).scale(L.current.scale),qt.elements[3]=qt.elements[7]=qt.elements[11]=0,qt.elements[15]=1),J.style.width=X.width+"px",J.style.height=X.height+"px",J.style.perspective=jt?"":`${As}px`,te.current&&ae.current&&(te.current.style.transform=`${kl}${ji}translate(${st}px,${Na}px)`,ae.current.style.transform=f5(qt,1/((x||10)/400)))}else{const st=x===void 0?1:m5(L.current,F)*x;J.style.transform=`translate3d(${ve[0]}px,${ve[1]}px,0) scale(${st})`}I.current=ve,U.current=F.zoom}}if(!Te&&me.current&&!ce.current)if(g){if(te.current){const ve=te.current.children[0];if(ve!=null&&ve.clientWidth&&ve!=null&&ve.clientHeight){const{isOrthographicCamera:vt}=F;if(vt||A)V.scale&&(Array.isArray(V.scale)?V.scale instanceof Zs?me.current.scale.copy(V.scale.clone().divideScalar(1)):me.current.scale.set(1/V.scale[0],1/V.scale[1],1/V.scale[2]):me.current.scale.setScalar(1/V.scale));else{const dt=(x||10)/400,Jt=ve.clientWidth*dt,cs=ve.clientHeight*dt;me.current.scale.set(Jt,cs,1)}ce.current=!0}}}else{const ve=J.children[0];if(ve!=null&&ve.clientWidth&&ve!=null&&ve.clientHeight){const vt=1/Z.factor,dt=ve.clientWidth*vt,Jt=ve.clientHeight*vt;me.current.scale.set(dt,Jt,1),ce.current=!0}me.current.lookAt(tt.camera.position)}});const va=C.useMemo(()=>({vertexShader:g?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[g]);return C.createElement("group",Dl({},V,{ref:L}),b&&!Te&&C.createElement("mesh",{castShadow:N,receiveShadow:j,ref:me},A||C.createElement("planeGeometry",null),w||C.createElement("shaderMaterial",{side:lb,vertexShader:va.vertexShader,fragmentShader:va.fragmentShader})))}),p5=C.forwardRef(({makeDefault:t,camera:a,regress:l,domElement:r,enableDamping:c=!0,keyEvents:m=!1,onChange:d,onStart:h,onEnd:x,...p},g)=>{const b=Ss(V=>V.invalidate),v=Ss(V=>V.camera),N=Ss(V=>V.gl),j=Ss(V=>V.events),w=Ss(V=>V.setEvents),A=Ss(V=>V.set),S=Ss(V=>V.get),R=Ss(V=>V.performance),_=a||v,T=r||j.connected||N.domElement,O=C.useMemo(()=>new rb(_),[_]);return ud(()=>{O.enabled&&O.update()},-1),C.useEffect(()=>(m&&O.connect(m===!0?T:m),O.connect(T),()=>void O.dispose()),[m,T,l,O,b]),C.useEffect(()=>{const V=F=>{b(),l&&R.regress(),d&&d(F)},K=F=>{h&&h(F)},y=F=>{x&&x(F)};return O.addEventListener("change",V),O.addEventListener("start",K),O.addEventListener("end",y),()=>{O.removeEventListener("start",K),O.removeEventListener("end",y),O.removeEventListener("change",V)}},[d,h,x,O,b,w]),C.useEffect(()=>{if(t){const V=S().controls;return A({controls:O}),()=>A({controls:V})}},[t,O]),C.createElement("primitive",Dl({ref:g,object:O,enableDamping:c},p))}),G0=`
  .medical-gradient {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
  }

  .hologram-glow {
    box-shadow:
      0 0 20px rgba(34, 211, 238, 0.3),
      inset 0 0 20px rgba(34, 211, 238, 0.05);
  }

  .medical-pulse {
    animation: medicalPulse 2s ease-in-out infinite;
  }

  .organ-highlight {
    filter: drop-shadow(0 0 8px currentColor);
    transition: all 0.3s ease;
  }

  .organ-highlight:hover {
    filter: drop-shadow(0 0 16px currentColor);
    transform: scale(1.05);
  }

  .data-stream {
    animation: dataStream 3s linear infinite;
  }

  .neural-network {
    background-image:
      radial-gradient(circle at 20% 50%, rgba(34, 211, 238, 0.1) 0%, transparent 50%),
      radial-gradient(circle at 80% 50%, rgba(147, 51, 234, 0.1) 0%, transparent 50%);
  }

  @keyframes medicalPulse {
    0%, 100% { opacity: 0.7; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.1); }
  }

  @keyframes dataStream {
    0% { transform: translateY(100%); opacity: 0; }
    10%, 90% { opacity: 1; }
    100% { transform: translateY(-100%); opacity: 0; }
  }

  .glass-morphism {
    background: rgba(15, 23, 42, 0.8);
    backdrop-filter: blur(16px);
    border: 1px solid rgba(34, 211, 238, 0.2);
  }

  .critical-alert {
    animation: criticalAlert 1s ease-in-out infinite alternate;
  }

  @keyframes criticalAlert {
    0% { box-shadow: 0 0 20px rgba(239, 68, 68, 0.5); }
    100% { box-shadow: 0 0 30px rgba(239, 68, 68, 0.8); }
  }

  .scan-line {
    animation: scanLine 4s linear infinite;
  }

  @keyframes scanLine {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
  }
`,y5=({biometricData:t,organHealth:a,onOrganClick:l})=>{const r=C.useRef(null),c=m=>{const h=a.find(p=>p.organ===m)?.health_score||85;let x="#22c55e";return h>=90?x="#22c55e":h>=80?x="#3b82f6":h>=70?x="#eab308":h>=60?x="#f97316":x="#ef4444",new ob({color:x,transparent:!0,opacity:.8,emissive:x,emissiveIntensity:.2})};return ud(m=>{if(r.current){const d=r.current.children.find(h=>h.userData.organ==="Heart");if(d){const h=1+Math.sin(m.clock.elapsedTime*3)*.1;d.scale.setScalar(h)}}}),e.jsxs("group",{ref:r,children:[e.jsxs("mesh",{position:[0,-1,0],children:[e.jsx("capsuleGeometry",{args:[1.5,2,8,16]}),e.jsx("meshStandardMaterial",{color:"#1e293b",transparent:!0,opacity:.3,emissive:"#0f172a",emissiveIntensity:.1})]}),e.jsxs("mesh",{position:[0,2.5,0],children:[e.jsx("sphereGeometry",{args:[.8,16,16]}),e.jsx("meshStandardMaterial",{color:"#fbbf24",transparent:!0,opacity:.6,emissive:"#f59e0b",emissiveIntensity:.1})]}),e.jsxs("mesh",{position:[0,2.8,0],onClick:()=>l("Brain"),onPointerOver:m=>{m.stopPropagation(),document.body.style.cursor="pointer"},onPointerOut:()=>{document.body.style.cursor="auto"},children:[e.jsx("sphereGeometry",{args:[.6,12,12]}),e.jsx("primitive",{object:c("Brain")})]}),e.jsxs("mesh",{position:[0,.5,.8],userData:{organ:"Heart"},onClick:()=>l("Heart"),onPointerOver:m=>{m.stopPropagation(),document.body.style.cursor="pointer"},onPointerOut:()=>{document.body.style.cursor="auto"},children:[e.jsx("sphereGeometry",{args:[.4,8,8]}),e.jsx("primitive",{object:c("Heart")})]}),e.jsxs("group",{children:[e.jsxs("mesh",{position:[-.6,.8,.5],onClick:()=>l("Lungs"),onPointerOver:m=>{m.stopPropagation(),document.body.style.cursor="pointer"},onPointerOut:()=>{document.body.style.cursor="auto"},children:[e.jsx("capsuleGeometry",{args:[.3,1.2,6,8]}),e.jsx("primitive",{object:c("Lungs")})]}),e.jsxs("mesh",{position:[.6,.8,.5],onClick:()=>l("Lungs"),onPointerOver:m=>{m.stopPropagation(),document.body.style.cursor="pointer"},onPointerOut:()=>{document.body.style.cursor="auto"},children:[e.jsx("capsuleGeometry",{args:[.3,1.2,6,8]}),e.jsx("primitive",{object:c("Lungs")})]})]}),e.jsxs("mesh",{position:[0,-.8,.5],onClick:()=>l("Liver"),onPointerOver:m=>{m.stopPropagation(),document.body.style.cursor="pointer"},onPointerOut:()=>{document.body.style.cursor="auto"},children:[e.jsx("sphereGeometry",{args:[.5,8,6]}),e.jsx("primitive",{object:c("Liver")})]}),e.jsxs("group",{children:[e.jsxs("mesh",{position:[-.5,-.5,.5],onClick:()=>l("Kidneys"),onPointerOver:m=>{m.stopPropagation(),document.body.style.cursor="pointer"},onPointerOut:()=>{document.body.style.cursor="auto"},children:[e.jsx("sphereGeometry",{args:[.25,6,6]}),e.jsx("primitive",{object:c("Kidneys")})]}),e.jsxs("mesh",{position:[.5,-.5,.5],onClick:()=>l("Kidneys"),onPointerOver:m=>{m.stopPropagation(),document.body.style.cursor="pointer"},onPointerOut:()=>{document.body.style.cursor="auto"},children:[e.jsx("sphereGeometry",{args:[.25,6,6]}),e.jsx("primitive",{object:c("Kidneys")})]})]}),e.jsxs("group",{children:[e.jsxs("mesh",{position:[-1.8,.5,0],onClick:()=>l("Musculoskeletal"),onPointerOver:m=>{m.stopPropagation(),document.body.style.cursor="pointer"},onPointerOut:()=>{document.body.style.cursor="auto"},children:[e.jsx("capsuleGeometry",{args:[.25,2,6,8]}),e.jsx("primitive",{object:c("Musculoskeletal")})]}),e.jsxs("mesh",{position:[1.8,.5,0],onClick:()=>l("Musculoskeletal"),onPointerOver:m=>{m.stopPropagation(),document.body.style.cursor="pointer"},onPointerOut:()=>{document.body.style.cursor="auto"},children:[e.jsx("capsuleGeometry",{args:[.25,2,6,8]}),e.jsx("primitive",{object:c("Musculoskeletal")})]}),e.jsxs("mesh",{position:[-.4,-3.5,0],onClick:()=>l("Musculoskeletal"),onPointerOver:m=>{m.stopPropagation(),document.body.style.cursor="pointer"},onPointerOut:()=>{document.body.style.cursor="auto"},children:[e.jsx("capsuleGeometry",{args:[.3,2.5,6,8]}),e.jsx("primitive",{object:c("Musculoskeletal")})]}),e.jsxs("mesh",{position:[.4,-3.5,0],onClick:()=>l("Musculoskeletal"),onPointerOver:m=>{m.stopPropagation(),document.body.style.cursor="pointer"},onPointerOut:()=>{document.body.style.cursor="auto"},children:[e.jsx("capsuleGeometry",{args:[.3,2.5,6,8]}),e.jsx("primitive",{object:c("Musculoskeletal")})]})]}),e.jsxs("mesh",{position:[0,.5,.2],onClick:()=>l("CNS"),onPointerOver:m=>{m.stopPropagation(),document.body.style.cursor="pointer"},onPointerOut:()=>{document.body.style.cursor="auto"},children:[e.jsx("cylinderGeometry",{args:[.1,.1,3,8]}),e.jsx("meshStandardMaterial",{color:"#f59e0b",transparent:!0,opacity:.8,emissive:"#d97706",emissiveIntensity:.3})]}),e.jsx(jn,{position:[0,-4,0],center:!0,children:e.jsxs("div",{className:"bg-slate-800/90 backdrop-blur-md rounded-lg p-4 border border-cyan-400/30 min-w-[200px]",children:[e.jsx("div",{className:"text-center mb-3",children:e.jsx("div",{className:"text-cyan-400 font-semibold",children:"Live Biometrics"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-400 font-bold",children:t.heart_rate}),e.jsx("div",{className:"text-gray-400",children:"BPM"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-blue-400 font-bold",children:[t.oxygen_saturation,"%"]}),e.jsx("div",{className:"text-gray-400",children:"SpO2"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-purple-400 font-bold",children:t.hrv}),e.jsx("div",{className:"text-gray-400",children:"HRV"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-green-400 font-bold",children:[t.recovery_score,"%"]}),e.jsx("div",{className:"text-gray-400",children:"Recovery"})]})]})]})}),e.jsx(jn,{position:[0,3.2,0],center:!0,children:e.jsx("div",{className:"bg-slate-800/80 backdrop-blur-md rounded-lg px-3 py-1 border border-purple-400/30",children:e.jsx("div",{className:"text-purple-400 font-semibold text-sm",children:"Brain"})})}),e.jsx(jn,{position:[0,1,.8],center:!0,children:e.jsx("div",{className:"bg-slate-800/80 backdrop-blur-md rounded-lg px-3 py-1 border border-red-400/30",children:e.jsx("div",{className:"text-red-400 font-semibold text-sm",children:"Heart"})})}),e.jsx(jn,{position:[-.8,1.2,.5],center:!0,children:e.jsx("div",{className:"bg-slate-800/80 backdrop-blur-md rounded-lg px-3 py-1 border border-blue-400/30",children:e.jsx("div",{className:"text-blue-400 font-semibold text-sm",children:"Lungs"})})}),e.jsx(jn,{position:[0,-.3,.5],center:!0,children:e.jsx("div",{className:"bg-slate-800/80 backdrop-blur-md rounded-lg px-3 py-1 border border-yellow-400/30",children:e.jsx("div",{className:"text-yellow-400 font-semibold text-sm",children:"Liver"})})}),e.jsx(jn,{position:[-.8,-.1,.5],center:!0,children:e.jsx("div",{className:"bg-slate-800/80 backdrop-blur-md rounded-lg px-3 py-1 border border-pink-400/30",children:e.jsx("div",{className:"text-pink-400 font-semibold text-sm",children:"Kidneys"})})}),e.jsx(jn,{position:[0,0,3],center:!0,children:e.jsx("div",{className:"pointer-events-none",children:e.jsx("div",{className:"grid grid-cols-3 gap-1 opacity-20",children:Array.from({length:9},(m,d)=>e.jsx("div",{className:"w-8 h-8 border border-cyan-400/30 rounded-sm"},d))})})})]})},b5=({athleteId:t,medicalMode:a=!0,realTimeUpdates:l=!0})=>{const[r,c]=C.useState(!0),[m,d]=C.useState(null),[h,x]=C.useState(void 0),[p,g]=C.useState([]),[b,v]=C.useState([]),[N,j]=C.useState([]),[w,A]=C.useState(null),[S,R]=C.useState("overview"),[_,T]=C.useState(l),[O,V]=C.useState([]),[K,y]=C.useState(!1),[F,Y]=C.useState(!1);C.useEffect(()=>{t&&(async()=>{try{c(!0),d(null);const L=typeof t=="string"?parseInt(t,10):t,U=await fa.getAthleteData(L);x(U.athlete),g(U.biometricData),v(U.geneticProfile),j(U.bodyComposition),a&&X(U)}catch{d("Failed to load comprehensive medical data")}finally{c(!1)}})()},[t,a]);const X=E=>{const L=[];if(E.biometricData?.length>0){const U=E.biometricData[E.biometricData.length-1];U.resting_hr>80&&L.push({id:"hr-alert",type:"warning",message:`Elevated resting heart rate detected: ${U.resting_hr} BPM`,timestamp:new Date().toISOString()}),U.spo2_night<95&&L.push({id:"oxygen-alert",type:"critical",message:`Low oxygen saturation: ${U.spo2_night}%`,timestamp:new Date().toISOString()}),U.hrv_night<30&&L.push({id:"hrv-alert",type:"warning",message:`Low HRV indicates elevated stress: ${U.hrv_night}ms`,timestamp:new Date().toISOString()})}V(L)},$=C.useMemo(()=>{const E=p.length>0?p.sort((ie,me)=>new Date(me.date).getTime()-new Date(ie.date).getTime())[0]:null,L={heart_rate:E?.resting_hr||68,hrv:Math.round(E?.hrv_night||45),blood_pressure_systolic:120,blood_pressure_diastolic:80,temperature:E?.temp_trend_c||36.6,oxygen_saturation:E?.spo2_night||98,respiratory_rate:E?.resp_rate_night||16,stress_level:E?.training_load_pct?Math.min(100,E.training_load_pct):23,blood_glucose:95,cortisol_level:12.5,inflammation_markers:2.1,recovery_score:E?.hrv_night?Math.round(E.hrv_night/100*100):88,timestamp:new Date().toISOString()},U={dna_health_score:87,genetic_markers:{cardiovascular_risk:"low",metabolic_efficiency:"excellent",recovery_rate:"fast",injury_predisposition:"low",endurance_capacity:"high",strength_potential:"high"},nutrigenomics:{vitamin_d_metabolism:"Efficient",caffeine_metabolism:"Fast",carbohydrate_response:"Balanced",protein_utilization:"Excellent",fat_metabolism:"Efficient"},pharmacogenomics:{pain_medication_response:"Normal",anti_inflammatory_response:"Rapid",cardiovascular_medication:"Responsive"},disease_risk_factors:{diabetes_risk:15,cardiovascular_disease_risk:8,osteoporosis_risk:12,cancer_predisposition:5}},I={skeletal_muscle_mass:35.2,body_fat_percentage:12.8,visceral_fat_level:3,bone_density_score:1.2,hydration_level:78,segmental_analysis:{left_arm:{muscle:8.5,fat:12.2},right_arm:{muscle:8.7,fat:11.8},left_leg:{muscle:12.1,fat:14.5},right_leg:{muscle:12.3,fat:14.2},trunk:{muscle:28.6,fat:18.3}},metabolic_rate:{bmr:1850,tdee:2850}},te={duration_hours:E?.sleep_duration_h||7.8,quality_score:85,sleep_stages:{deep_sleep_minutes:Math.round((E?.deep_sleep_pct||0)*(E?.sleep_duration_h||7.8)*60/100),light_sleep_minutes:Math.round((E?.light_sleep_pct||0)*(E?.sleep_duration_h||7.8)*60/100),rem_sleep_minutes:Math.round((E?.rem_sleep_pct||0)*(E?.sleep_duration_h||7.8)*60/100),awake_minutes:Math.round((E?.light_sleep_pct||0)*(E?.sleep_duration_h||7.8)*60/100)},sleep_efficiency:92,recovery_score:E?.hrv_night?Math.round(E.hrv_night/100*100):88,sleep_debt:.5,circadian_rhythm_score:87},ae=[{organ:"Heart",health_score:E?.resting_hr&&E.resting_hr<70?92:E?.resting_hr&&E.resting_hr<80?85:78,status:E?.resting_hr&&E.resting_hr<70?"excellent":E?.resting_hr&&E.resting_hr<80?"good":"fair",biomarkers:[{name:"Troponin",value:.02,unit:"ng/mL",status:"normal"},{name:"BNP",value:45,unit:"pg/mL",status:"normal"},{name:"CRP",value:1.2,unit:"mg/L",status:"normal"}],issues:E?.resting_hr&&E.resting_hr>80?["Elevated resting heart rate"]:[],recommendations:E?.resting_hr&&E.resting_hr<70?["Maintain current activity level"]:["Consider cardio training"],risk_factors:["Family history of CVD","High-intensity training"],last_assessment:new Date().toISOString()},{organ:"Lungs",health_score:E?.spo2_night&&E.spo2_night>95?88:82,status:E?.spo2_night&&E.spo2_night>95?"good":"fair",biomarkers:[{name:"SpO2",value:E?.spo2_night||98,unit:"%",status:"normal"},{name:"FEV1",value:4.2,unit:"L",status:"normal"},{name:"FVC",value:5.1,unit:"L",status:"normal"}],issues:E?.spo2_night&&E.spo2_night<=95?["Low oxygen saturation"]:[],recommendations:["Continue cardio training"],risk_factors:["Exercise-induced asthma","Environmental allergens"],last_assessment:new Date().toISOString()},{organ:"Brain",health_score:E?.hrv_night&&E.hrv_night>40?85:78,status:E?.hrv_night&&E.hrv_night>40?"good":"fair",biomarkers:[{name:"BDNF",value:12.5,unit:"ng/mL",status:"normal"},{name:"Tau Protein",value:180,unit:"pg/mL",status:"normal"},{name:"Amyloid-Œ≤",value:850,unit:"pg/mL",status:"normal"}],issues:E?.hrv_night&&E.hrv_night<=40?["Low HRV indicates stress"]:[],recommendations:["Regular cognitive exercises"],risk_factors:["Concussion history","Sleep deprivation"],last_assessment:new Date().toISOString()},{organ:"Liver",health_score:90,status:"excellent",biomarkers:[{name:"ALT",value:28,unit:"U/L",status:"normal"},{name:"AST",value:32,unit:"U/L",status:"normal"},{name:"Bilirubin",value:.8,unit:"mg/dL",status:"normal"}],issues:[],recommendations:["Maintain healthy diet"],risk_factors:["Previous supplement use"],last_assessment:new Date().toISOString()},{organ:"Kidneys",health_score:87,status:"good",biomarkers:[{name:"Creatinine",value:.9,unit:"mg/dL",status:"normal"},{name:"BUN",value:18,unit:"mg/dL",status:"normal"},{name:"GFR",value:95,unit:"mL/min",status:"normal"}],issues:[],recommendations:["Stay hydrated"],risk_factors:["Dehydration risk"],last_assessment:new Date().toISOString()},{organ:"Musculoskeletal",health_score:N.length>0?83:80,status:"good",biomarkers:[{name:"CK",value:145,unit:"U/L",status:"normal"},{name:"Myoglobin",value:35,unit:"ng/mL",status:"normal"},{name:"Vitamin D",value:42,unit:"ng/mL",status:"normal"}],issues:[],recommendations:["Continue posture exercises"],risk_factors:["High-impact training"],last_assessment:new Date().toISOString()}];return{biometricData:L,geneticsData:U,bodyCompData:I,sleepArch:te,organHealth:ae}},[p,b,N]),q=E=>{switch(E){case"excellent":return"text-emerald-400 border-emerald-400";case"good":return"text-blue-400 border-blue-400";case"fair":return"text-yellow-400 border-yellow-400";case"poor":return"text-orange-400 border-orange-400";case"critical":return"text-red-400 border-red-400 critical-alert";default:return"text-gray-400 border-gray-400"}},Z=E=>E>=90?"text-emerald-400":E>=80?"text-blue-400":E>=70?"text-yellow-400":E>=60?"text-orange-400":"text-red-400",J=E=>{switch(E){case"critical":return e.jsx(Is,{className:"w-4 h-4"});case"warning":return e.jsx(X0,{className:"w-4 h-4"});default:return e.jsx(Wo,{className:"w-4 h-4"})}};return r?e.jsxs("div",{className:"min-h-screen medical-gradient flex items-center justify-center relative overflow-hidden",children:[e.jsx("style",{children:G0}),e.jsx("div",{className:"scan-line absolute inset-0 bg-gradient-to-b from-transparent via-cyan-400/20 to-transparent"}),e.jsxs("div",{className:"text-center z-10",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-2 border-cyan-400/30 border-t-cyan-400 mx-auto mb-6"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-purple-400/20 animate-pulse"})]}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Medical Analysis in Progress"}),e.jsx("p",{className:"text-gray-300 text-lg",children:"Scanning biometric data, genetic profile, and body composition..."}),e.jsxs("div",{className:"mt-4 flex justify-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse"}),e.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})]})]}):m||!h?e.jsx("div",{className:"min-h-screen medical-gradient flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-8 glass-morphism rounded-2xl",children:[e.jsx("div",{className:"text-red-400 text-6xl mb-6",children:e.jsx(Sy,{className:"w-16 h-16 mx-auto"})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Medical Data Unavailable"}),e.jsx("p",{className:"text-gray-300 mb-6",children:m||"Athlete medical profile not found"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-6 py-3 bg-gradient-to-r from-cyan-600 to-blue-600 text-white rounded-lg hover:from-cyan-700 hover:to-blue-700 transition-all duration-300 hologram-glow",children:"Retry Medical Scan"}),e.jsx("button",{onClick:()=>R("diagnostic"),className:"w-full px-6 py-3 bg-slate-700/50 text-gray-300 rounded-lg hover:bg-slate-600/50 transition-colors",children:"Enter Diagnostic Mode"})]})]})}):e.jsxs("div",{className:"min-h-screen medical-gradient p-4 relative overflow-hidden",children:[e.jsx("style",{children:G0}),e.jsx("div",{className:"neural-network absolute inset-0 opacity-30"}),K&&e.jsx("div",{className:"scan-line absolute inset-0 bg-gradient-to-b from-transparent via-cyan-400/10 to-transparent pointer-events-none"}),e.jsxs("div",{className:"max-w-8xl mx-auto relative z-10",children:[e.jsxs(Ct.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[e.jsxs("div",{className:"text-center lg:text-left",children:[e.jsxs("h1",{className:"text-5xl font-bold text-white mb-3 flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(My,{className:"w-12 h-12 text-cyan-400 medical-pulse"}),e.jsx("div",{className:"absolute inset-0 w-12 h-12 border-2 border-cyan-400/30 rounded-full animate-ping"})]}),e.jsxs("div",{children:["Medical Digital Twin",e.jsx("span",{className:"block text-2xl text-cyan-400 font-normal",children:"Advanced Diagnostics"})]})]}),e.jsxs("p",{className:"text-xl text-gray-300",children:["Comprehensive Health Analytics for ",h.name]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("button",{onClick:()=>T(!_),className:`px-4 py-2 rounded-lg transition-all duration-300 ${_?"bg-green-600/20 text-green-400 border border-green-400/50 hologram-glow":"bg-slate-700/50 text-gray-400 border border-slate-600/50"}`,children:[e.jsx(is,{className:"w-4 h-4 inline mr-2"}),"Real-time"]}),e.jsxs("button",{onClick:()=>y(!K),className:`px-4 py-2 rounded-lg transition-all duration-300 ${K?"bg-cyan-600/20 text-cyan-400 border border-cyan-400/50 hologram-glow":"bg-slate-700/50 text-gray-400 border border-slate-600/50"}`,children:[e.jsx(Wm,{className:"w-4 h-4 inline mr-2"}),"Scan Mode"]}),e.jsx("button",{onClick:()=>Y(!F),className:`px-4 py-2 rounded-lg transition-all duration-300 ${F?"bg-purple-600/20 text-purple-400 border border-purple-400/50 hologram-glow":"bg-slate-700/50 text-gray-400 border border-slate-600/50"}`,children:F?e.jsx(wy,{className:"w-4 h-4"}):e.jsx(Ay,{className:"w-4 h-4"})}),e.jsxs("select",{value:S,onChange:E=>R(E.target.value),className:"px-4 py-2 bg-slate-700/50 border border-slate-600/50 rounded-lg text-white focus:outline-none focus:border-cyan-400/50",children:[e.jsx("option",{value:"overview",children:"Overview"}),e.jsx("option",{value:"detailed",children:"Detailed Analysis"}),e.jsx("option",{value:"diagnostic",children:"Diagnostic Mode"})]})]})]}),O.length>0&&e.jsxs(Ct.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-6 bg-slate-800/60 backdrop-blur-sm rounded-xl p-4 border border-red-400/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Is,{className:"w-5 h-5 text-red-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Medical Alerts"})]}),e.jsx("div",{className:"space-y-2",children:O.map(E=>e.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border ${E.type==="critical"?"bg-red-900/20 border-red-400/50":E.type==="warning"?"bg-yellow-900/20 border-yellow-400/50":"bg-blue-900/20 border-blue-400/50"}`,children:[J(E.type),e.jsx("span",{className:"text-gray-200 flex-1",children:E.message}),e.jsx("span",{className:"text-xs text-gray-400",children:new Date(E.timestamp).toLocaleTimeString()})]},E.id))})]})]}),e.jsxs(Rj,{mode:"wait",children:[S==="overview"&&e.jsxs(Ct.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[e.jsxs(Ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"xl:col-span-1 space-y-6",children:[e.jsxs("div",{className:"glass-morphism rounded-xl p-6 hologram-glow",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(Io,{className:"w-5 h-5 text-red-400 medical-pulse"}),"Critical Vitals"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-slate-800/50 rounded-lg",children:[e.jsx(Io,{className:"w-8 h-8 text-red-400 mx-auto mb-2 medical-pulse"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:$.biometricData.heart_rate}),e.jsx("div",{className:"text-xs text-gray-400",children:"BPM"})]}),e.jsxs("div",{className:"text-center p-3 bg-slate-800/50 rounded-lg",children:[e.jsx(Ty,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[$.biometricData.blood_pressure_systolic,"/",$.biometricData.blood_pressure_diastolic]}),e.jsx("div",{className:"text-xs text-gray-400",children:"BP"})]}),e.jsxs("div",{className:"text-center p-3 bg-slate-800/50 rounded-lg",children:[e.jsx(Ey,{className:"w-8 h-8 text-orange-400 mx-auto mb-2"}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[$.biometricData.temperature,"¬∞"]}),e.jsx("div",{className:"text-xs text-gray-400",children:"Temp"})]}),e.jsxs("div",{className:"text-center p-3 bg-slate-800/50 rounded-lg",children:[e.jsx(Jm,{className:"w-8 h-8 text-cyan-400 mx-auto mb-2"}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[$.biometricData.oxygen_saturation,"%"]}),e.jsx("div",{className:"text-xs text-gray-400",children:"SpO2"})]})]})]}),e.jsxs("div",{className:"glass-morphism rounded-xl p-6 hologram-glow",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx($m,{className:"w-6 h-6 text-cyan-400"}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"DNA Health Score"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-6xl font-bold mb-3 ${Z($.geneticsData.dna_health_score)}`,children:[$.geneticsData.dna_health_score,"%"]}),e.jsx("div",{className:"w-full bg-slate-700 rounded-full h-4 mb-3",children:e.jsx(Ct.div,{initial:{width:0},animate:{width:`${$.geneticsData.dna_health_score}%`},transition:{duration:1.5,delay:.5},className:"bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 h-4 rounded-full"})}),e.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Overall Genetic Health Rating"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Diabetes Risk"}),e.jsxs("span",{className:"text-emerald-400",children:[$.geneticsData.disease_risk_factors.diabetes_risk,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"CVD Risk"}),e.jsxs("span",{className:"text-emerald-400",children:[$.geneticsData.disease_risk_factors.cardiovascular_disease_risk,"%"]})]})]})]})]}),e.jsxs("div",{className:"glass-morphism rounded-xl p-6 hologram-glow",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(eh,{className:"w-5 h-5 text-green-400"}),"Body Composition"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300",children:"Muscle Mass"}),e.jsxs("span",{className:"text-white font-semibold",children:[$.bodyCompData.skeletal_muscle_mass,"kg"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300",children:"Body Fat"}),e.jsxs("span",{className:"text-white font-semibold",children:[$.bodyCompData.body_fat_percentage,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300",children:"Hydration"}),e.jsxs("span",{className:"text-white font-semibold",children:[$.bodyCompData.hydration_level,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300",children:"BMR"}),e.jsx("span",{className:"text-white font-semibold",children:$.bodyCompData.metabolic_rate.bmr})]})]})]})]}),e.jsx(Ct.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4},className:"xl:col-span-3",children:e.jsxs("div",{className:"glass-morphism rounded-xl p-4 min-h-[700px] relative overflow-hidden",children:[e.jsxs(r5,{camera:{position:[0,0,8],fov:50},style:{background:"transparent"},className:"w-full h-full",children:[e.jsx("ambientLight",{intensity:.4}),e.jsx("pointLight",{position:[10,10,10],intensity:.8}),e.jsx("pointLight",{position:[-10,-10,-10],intensity:.3,color:"#4338ca"}),e.jsx(y5,{biometricData:$.biometricData,organHealth:$.organHealth,onOrganClick:A}),e.jsx(p5,{enablePan:!0,enableZoom:!0,enableRotate:!0,minDistance:5,maxDistance:15,autoRotate:_,autoRotateSpeed:.5})]}),e.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[e.jsx("button",{onClick:()=>T(!_),className:`p-2 rounded-lg transition-all duration-300 ${_?"bg-green-600/20 text-green-400 border border-green-400/50 hologram-glow":"bg-slate-700/50 text-gray-400 border border-slate-600/50"}`,title:_?"Stop Auto Rotation":"Start Auto Rotation",children:_?e.jsx(Ry,{className:"w-4 h-4"}):e.jsx(_y,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>y(!K),className:`p-2 rounded-lg transition-all duration-300 ${K?"bg-cyan-600/20 text-cyan-400 border border-cyan-400/50 hologram-glow":"bg-slate-700/50 text-gray-400 border border-slate-600/50"}`,title:"Toggle Scan Mode",children:e.jsx(Wm,{className:"w-4 h-4"})})]}),e.jsx(Ct.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:2.6,type:"spring"},className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx("div",{className:"bg-slate-800/80 backdrop-blur-md rounded-2xl p-8 border border-cyan-400/40 shadow-2xl",children:e.jsxs("div",{className:"text-center",children:[e.jsxs(Ct.div,{animate:{textShadow:["0 0 10px rgba(34, 211, 238, 0.5)","0 0 20px rgba(34, 211, 238, 0.8)","0 0 10px rgba(34, 211, 238, 0.5)"]},transition:{duration:2,repeat:1/0},className:"text-4xl font-bold text-cyan-400 mb-3",children:[Math.round(($.biometricData.heart_rate<70?95:85)+($.biometricData.oxygen_saturation>95?90:80)+($.biometricData.hrv>40?85:75)+($.sleepArch.recovery_score>80?90:80))/4,"%"]}),e.jsx("div",{className:"text-lg text-gray-300 font-medium mb-2",children:"Overall Health Score"}),e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-green-400",children:"Real-time Medical Analysis"})]})]})})})]})})]},"overview"),S==="detailed"&&e.jsx(Ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:$.organHealth.map((E,L)=>e.jsxs(Ct.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:L*.1},className:`glass-morphism rounded-xl p-6 border-2 ${q(E.status)} cursor-pointer hover:scale-105 transition-all duration-300`,onClick:()=>A(E.organ),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:E.organ}),e.jsxs("div",{className:`text-2xl font-bold ${Z(E.health_score)}`,children:[E.health_score,"%"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300",children:"Status"}),e.jsx("span",{className:`font-semibold capitalize ${Z(E.health_score)}`,children:E.status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-300",children:"Key Biomarkers"}),E.biomarkers.slice(0,2).map((U,I)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:U.name}),e.jsxs("span",{className:`font-medium ${U.status==="normal"?"text-green-400":U.status==="elevated"?"text-yellow-400":"text-red-400"}`,children:[U.value," ",U.unit]})]},I))]}),E.issues.length>0&&e.jsxs("div",{className:"mt-3 p-2 bg-red-900/20 rounded-lg border border-red-400/30",children:[e.jsx("div",{className:"text-xs text-red-400 font-semibold",children:"Issues Detected"}),e.jsx("div",{className:"text-xs text-gray-300 mt-1",children:E.issues[0]})]})]})]},E.organ))})},"detailed"),S==="diagnostic"&&e.jsx(Ct.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.05},className:"space-y-6",children:e.jsxs("div",{className:"glass-morphism rounded-xl p-8",children:[e.jsxs("h2",{className:"text-3xl font-bold text-white mb-6 flex items-center gap-3",children:[e.jsx(Dy,{className:"w-8 h-8 text-cyan-400"}),"Advanced Medical Diagnostics"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[e.jsx($m,{className:"w-6 h-6 text-cyan-400"}),"Comprehensive Genetic Profile"]}),e.jsx("div",{className:"space-y-4",children:Object.entries($.geneticsData.genetic_markers).map(([E,L])=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-800/50 rounded-lg",children:[e.jsx("span",{className:"text-gray-300 capitalize",children:E.replace("_"," ")}),e.jsx("span",{className:`font-semibold px-3 py-1 rounded-full text-sm ${L==="excellent"||L==="fast"?"bg-emerald-900/50 text-emerald-400":L==="normal"||L==="medium"||L==="average"?"bg-blue-900/50 text-blue-400":L==="poor"||L==="slow"?"bg-yellow-900/50 text-yellow-400":"bg-emerald-900/50 text-emerald-400"}`,children:L})]},E))}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[e.jsx(Cy,{className:"w-5 h-5 text-purple-400"}),"Pharmacogenomics"]}),e.jsx("div",{className:"space-y-2",children:Object.entries($.geneticsData.pharmacogenomics).map(([E,L])=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400 capitalize",children:E.replace("_"," ")}),e.jsx("span",{className:"text-cyan-400 font-medium",children:L})]},E))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[e.jsx(eh,{className:"w-6 h-6 text-green-400"}),"Advanced Body Composition"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-slate-800/50 rounded-lg",children:[e.jsx(Gy,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:$.bodyCompData.skeletal_muscle_mass}),e.jsx("div",{className:"text-sm text-gray-400",children:"Muscle Mass (kg)"})]}),e.jsxs("div",{className:"text-center p-4 bg-slate-800/50 rounded-lg",children:[e.jsx(Oy,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:$.bodyCompData.body_fat_percentage}),e.jsx("div",{className:"text-sm text-gray-400",children:"Body Fat (%)"})]}),e.jsxs("div",{className:"text-center p-4 bg-slate-800/50 rounded-lg",children:[e.jsx(Jm,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:$.bodyCompData.hydration_level}),e.jsx("div",{className:"text-sm text-gray-400",children:"Hydration (%)"})]}),e.jsxs("div",{className:"text-center p-4 bg-slate-800/50 rounded-lg",children:[e.jsx(Ly,{className:"w-8 h-8 text-orange-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:$.bodyCompData.metabolic_rate.bmr}),e.jsx("div",{className:"text-sm text-gray-400",children:"BMR (cal)"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Segmental Analysis"}),e.jsx("div",{className:"space-y-2",children:Object.entries($.bodyCompData.segmental_analysis).map(([E,L])=>e.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-slate-800/30 rounded",children:[e.jsx("span",{className:"text-gray-400 capitalize",children:E.replace("_"," ")}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("span",{className:"text-green-400",children:["M: ",L.muscle,"kg"]}),e.jsxs("span",{className:"text-yellow-400",children:["F: ",L.fat,"%"]})]})]},E))})]})]})]})]})},"diagnostic")]}),w&&e.jsx(Ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:()=>A(null),children:e.jsx(Ct.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"glass-morphism rounded-xl p-8 max-w-2xl w-full max-h-[80vh] overflow-y-auto",onClick:E=>E.stopPropagation(),children:(()=>{const E=$.organHealth.find(L=>L.organ===w);return E?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-3xl font-bold text-white",children:[E.organ," Analysis"]}),e.jsx("button",{onClick:()=>A(null),className:"text-gray-400 hover:text-white transition-colors",children:"‚úï"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Health Metrics"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Health Score"}),e.jsxs("span",{className:`font-bold ${Z(E.health_score)}`,children:[E.health_score,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Status"}),e.jsx("span",{className:`font-semibold capitalize ${Z(E.health_score)}`,children:E.status})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Last Assessment"}),e.jsx("span",{className:"text-gray-400 text-sm",children:new Date(E.last_assessment).toLocaleDateString()})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Biomarkers"}),e.jsx("div",{className:"space-y-2",children:E.biomarkers.map((L,U)=>e.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-800/50 rounded",children:[e.jsx("span",{className:"text-gray-300",children:L.name}),e.jsxs("span",{className:`font-medium ${L.status==="normal"?"text-green-400":L.status==="elevated"?"text-yellow-400":"text-red-400"}`,children:[L.value," ",L.unit]})]},U))})]})]}),E.issues.length>0&&e.jsxs("div",{className:"p-4 bg-red-900/20 rounded-lg border border-red-400/30",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-2",children:"Issues Detected"}),e.jsx("ul",{className:"list-disc list-inside text-gray-300 space-y-1",children:E.issues.map((L,U)=>e.jsx("li",{children:L},U))})]}),e.jsxs("div",{className:"p-4 bg-blue-900/20 rounded-lg border border-blue-400/30",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-2",children:"Recommendations"}),e.jsx("ul",{className:"list-disc list-inside text-gray-300 space-y-1",children:E.recommendations.map((L,U)=>e.jsx("li",{children:L},U))})]}),E.risk_factors.length>0&&e.jsxs("div",{className:"p-4 bg-yellow-900/20 rounded-lg border border-yellow-400/30",children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-400 mb-2",children:"Risk Factors"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:E.risk_factors.map((L,U)=>e.jsx("span",{className:"px-2 py-1 bg-yellow-900/30 text-yellow-300 rounded-full text-sm",children:L},U))})]})]}):null})()})})]})]})},v5=({athleteId:t})=>{const[a,l]=C.useState([]),[r,c]=C.useState([]),[m,d]=C.useState(!0),[h,x]=C.useState(null),[p,g]=C.useState("");C.useEffect(()=>{t&&(async()=>{try{d(!0),x(null);const A=parseInt(t,10);if(isNaN(A))throw new Error("Invalid athlete ID");const S=await En.getPharmacogenomicsByAthlete(A);l(S);const R=await En.getGeneticProfileByAthlete(A);c(R),g(`Athlete ${t}`)}catch(A){x(A instanceof Error?A.message:"Failed to load genetic data")}finally{d(!1)}})()},[t]);const b=C.useMemo(()=>{const w=[],A=[{medication:"Ibuprofen",gene:"General",genotype:"Standard",effect:"Standard anti-inflammatory response",recommendation:"Safe for short-term use, monitor stomach",riskLevel:"low",category:"safe",athleticRelevance:"high",commonUse:"Post-training soreness",dosage:"400-800mg every 6-8 hours as needed",alternatives:["Acetaminophen","Naproxen"],interactions:["Aspirin","Blood thinners"]},{medication:"Acetaminophen",gene:"General",genotype:"Standard",effect:"Standard pain relief without anti-inflammatory effects",recommendation:"Safe for pain relief, liver-safe dosing",riskLevel:"low",category:"safe",athleticRelevance:"high",commonUse:"Headache and general pain",dosage:"500-1000mg every 4-6 hours as needed",alternatives:["Ibuprofen","Aspirin"],interactions:["Alcohol","Liver medications"]},{medication:"Caffeine",gene:"ADORA2A",genotype:"Standard",effect:"Performance enhancement through adenosine receptor",recommendation:"Effective for endurance and focus",riskLevel:"low",category:"safe",athleticRelevance:"high",commonUse:"Pre-training stimulation",dosage:"200-400mg 30-60 minutes before activity",alternatives:["Green tea extract","Guarana"],interactions:["Stimulants","Heart medications"]},{medication:"Albuterol",gene:"ADRB2",genotype:"Standard",effect:"Bronchodilation for improved breathing",recommendation:"Effective for exercise-induced bronchoconstriction",riskLevel:"low",category:"safe",athleticRelevance:"high",commonUse:"Asthma and breathing support",dosage:"2 puffs as needed before exercise",alternatives:["Levalbuterol","Ipratropium"],interactions:["Beta-blockers","Heart medications"]},{medication:"Vitamin K",gene:"VKORC1",genotype:"Standard",effect:"Can interfere with blood thinning medications",recommendation:"Monitor intake if on anticoagulants",riskLevel:"medium",category:"caution",athleticRelevance:"medium",commonUse:"Bone health supplement",dosage:"90-120mcg daily from food sources",alternatives:["Calcium","Vitamin D"],interactions:["Warfarin","Blood thinners"]}];return w.push(...A),a.length>0&&a.forEach(S=>{S.medication&&S.medication!=="Unknown Medication"&&S.medication.trim()!==""&&S.interpretation_code&&S.interpretation_code!=="Effect not specified"&&w.push({medication:S.medication,gene:S.gene||"Unknown Gene",genotype:S.genetic_call||S.known_call||"Unknown Genotype",effect:S.interpretation_code,recommendation:S.override_comment||"Monitor response and adjust as needed",riskLevel:(S.summary_flag||"medium").toLowerCase(),category:"caution",athleticRelevance:"medium",commonUse:"Genetic-specific medication response"})}),r.forEach(S=>{switch(S.gene){case"CYP2D6":S.genotype.includes("Poor")?w.push({medication:"Codeine",gene:S.gene,genotype:S.genotype,effect:"Poor metabolism - may be ineffective",recommendation:"Avoid codeine, consider alternative pain relief",riskLevel:"high",category:"avoid",athleticRelevance:"high",commonUse:"Post-injury pain relief"}):S.genotype.includes("Ultra")&&w.push({medication:"Codeine",gene:S.gene,genotype:S.genotype,effect:"Ultra-rapid metabolism - risk of toxicity",recommendation:"Avoid codeine, risk of overdose",riskLevel:"high",category:"avoid",athleticRelevance:"high",commonUse:"Post-injury pain relief"});break;case"CYP2C19":S.genotype.includes("Poor")&&w.push({medication:"Omeprazole",gene:S.gene,genotype:S.genotype,effect:"Poor metabolism - reduced effectiveness",recommendation:"Higher doses may be needed or alternative PPI",riskLevel:"medium",category:"caution",athleticRelevance:"medium",commonUse:"GERD treatment"});break;case"SLCO1B1":S.genotype==="CC"?w.push({medication:"Atorvastatin",gene:S.gene,genotype:S.genotype,effect:"Increased risk of statin-induced myopathy",recommendation:"Monitor for muscle pain, consider lower doses",riskLevel:"medium",category:"caution",athleticRelevance:"medium",commonUse:"Cholesterol management"}):(S.genotype==="CT"||S.genotype==="TT")&&w.push({medication:"Atorvastatin",gene:S.gene,genotype:S.genotype,effect:"Significantly increased risk of myopathy",recommendation:"Avoid statins or use very low doses with monitoring",riskLevel:"high",category:"avoid",athleticRelevance:"medium",commonUse:"Cholesterol management"});break;case"VKORC1":w.push({medication:"Warfarin",gene:S.gene,genotype:S.genotype,effect:"Affects warfarin sensitivity",recommendation:S.genotype==="AA"?"May require higher warfarin doses":S.genotype==="AG"?"Standard dosing appropriate":"May require lower warfarin doses",riskLevel:S.genotype==="AA"?"medium":S.genotype==="GG"?"high":"low",category:S.genotype==="GG"?"caution":"safe",athleticRelevance:"low",commonUse:"Anticoagulation therapy"});break;case"CFTR":S.genotype==="F508del/F508del"&&w.push({medication:"Ivacaftor",gene:S.gene,genotype:S.genotype,effect:"Responds well to CFTR modulator therapy",recommendation:"Ivacaftor indicated for this genotype",riskLevel:"low",category:"safe",athleticRelevance:"low",commonUse:"Cystic fibrosis treatment"});break}}),w},[a,r]);if(m)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pharmacogenomics Report"}),e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading genetic data..."})]})]})});if(h)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pharmacogenomics Report"}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-500 mb-4",children:"‚ö†Ô∏è"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Genetic Data"}),e.jsx("p",{className:"text-gray-600 mb-4",children:h}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Retry"})]})]})});const v=b.filter(w=>w.category==="safe"),N=b.filter(w=>w.category==="caution"),j=b.filter(w=>w.category==="avoid");return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Medication Safety Guide"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Genetic-based medication recommendations for ",p]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[v.length," Safe"]}),e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[N.length," Use with Caution"]}),e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[j.length," Avoid"]})]})]}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors flex items-center gap-1",title:"Refresh medication data",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),v.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),"Safe to Use (",v.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:v.map((w,A)=>e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:w.medication}),e.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800 font-medium",children:w.athleticRelevance==="high"?"High Relevance":"Medium Relevance"})]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Common Use:"})," ",w.commonUse]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Effect:"})," ",w.effect]}),w.dosage&&e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Recommended Dosage:"})," ",w.dosage]}),w.alternatives&&w.alternatives.length>0&&e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Alternatives:"})," ",w.alternatives.join(", ")]})]},A))})]}),N.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-yellow-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-2"}),"Use with Caution (",N.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:N.map((w,A)=>e.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:w.medication}),e.jsxs("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${w.riskLevel==="high"?"bg-red-100 text-red-800":w.riskLevel==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[w.riskLevel," Risk"]})]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Common Use:"})," ",w.commonUse]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Effect:"})," ",w.effect]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:[e.jsx("span",{className:"font-medium",children:"Recommendation:"})," ",w.recommendation]}),w.dosage&&e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Recommended Dosage:"})," ",w.dosage]}),w.alternatives&&w.alternatives.length>0&&e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Alternatives:"})," ",w.alternatives.join(", ")]})]},A))})]}),j.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-red-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-3 h-3 bg-red-500 rounded-full mr-2"}),"Avoid These Medications (",j.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:j.map((w,A)=>e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:w.medication}),e.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-red-100 text-red-800 font-medium",children:"High Risk"})]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Common Use:"})," ",w.commonUse]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Effect:"})," ",w.effect]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:[e.jsx("span",{className:"font-medium",children:"Recommendation:"})," ",w.recommendation]}),w.alternatives&&w.alternatives.length>0&&e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Safer Alternatives:"})," ",w.alternatives.join(", ")]})]},A))})]}),b.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-4",children:"üíä"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Significant Pharmacogenomic Interactions"}),e.jsx("p",{className:"text-gray-600",children:"Based on available genetic data, no high-risk medication interactions were detected."})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Common Athletic Scenarios"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-3",children:"Post-Injury Pain Management"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"Acetaminophen:"}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Safe"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"Ibuprofen (short-term):"}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Safe"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"Codeine:"}),e.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full",children:"Avoid"})]})]})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("h4",{className:"font-semibold text-purple-800 mb-3",children:"Performance Enhancement"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-purple-700",children:"Caffeine:"}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Safe"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-purple-700",children:"Albuterol (if prescribed):"}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Safe"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-purple-700",children:"Vitamin K (with anticoagulants):"}),e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:"Caution"})]})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),"Important Interactions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("h5",{className:"font-semibold text-orange-800 mb-2",children:"With Athletic Performance"}),e.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Caffeine may interfere with sleep medications"}),e.jsx("li",{children:"‚Ä¢ NSAIDs can reduce training adaptations if overused"}),e.jsx("li",{children:"‚Ä¢ Decongestants may cause heart rhythm issues"})]})]}),e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("h5",{className:"font-semibold text-red-800 mb-2",children:"With Other Medications"}),e.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Aspirin + blood thinners = increased bleeding risk"}),e.jsx("li",{children:"‚Ä¢ Caffeine + stimulants = heart palpitations"}),e.jsx("li",{children:"‚Ä¢ Vitamin K + warfarin = reduced effectiveness"})]})]})]})]}),e.jsxs("div",{className:"p-5 bg-blue-50 rounded-lg border border-blue-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Important Medical Disclaimer"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"This pharmacogenomic report is for informational purposes only and should not replace professional medical advice. Always consult with a healthcare provider before making any changes to medication regimens. Genetic testing can provide valuable insights but is only one factor in medication response."})]})]})})},j5=({athleteId:t})=>{const[a,l]=C.useState([]),[r,c]=C.useState([]),[m,d]=C.useState(!0),[h,x]=C.useState(null),[p,g]=C.useState(""),[b,v]=C.useState(null);C.useEffect(()=>{t&&(async()=>{try{d(!0),x(null);const w=parseInt(t,10);if(isNaN(w))throw new Error("Invalid athlete ID");const[A,S]=await Promise.all([En.getNutrigenomicsByAthlete(w),En.getGeneticProfileByAthlete(w)]),R=Array.isArray(A)?A.map((_,T)=>({gene:_.gene||_.GeneName||`GENE_${T}`,genetic_call:_.genetic_call||_.GeneticCall||_.genotype||"Unknown",known_call:_.known_call||_.KnownCall,category:_.category||_.Category||"General",priority:_.priority||_.Priority||_.summary_flag||"medium",summary_flag:_.summary_flag||_.SummaryFlag,interpretation_code:_.interpretation_code||_.InterpretationCode||_.rationale,supplement:_.supplement||_.Supplement,dosage:_.dosage||_.Dosage,timing:_.timing||_.Timing,created_at:_.created_at||_.CreatedAt,confidence_score:_.confidence_score||_.ConfidenceScore,risk_level:_.risk_level||_.RiskLevel||(_.priority==="high"?"high":_.priority==="medium"?"medium":"low")})):[];l(R),c(S),v(new Date().toISOString()),g(`Athlete ${t}`)}catch(w){x(w instanceof Error?w.message:"Failed to load genetic data")}finally{d(!1)}})()},[t]);const N=C.useMemo(()=>{const j=[];return a.length>0&&a.forEach((w,A)=>{w.supplement&&w.gene&&j.push({supplement:w.supplement,gene:w.gene,genotype:w.genetic_call||w.known_call||"Unknown",rationale:w.interpretation_code||"Genetic-based recommendation",dosage:w.dosage||"Dosage not specified",timing:w.timing||"Timing not specified",priority:(w.priority||w.summary_flag||"medium").toLowerCase(),category:w.category||"General",confidence_score:w.confidence_score,risk_level:w.risk_level,genetic_mark_id:`mark_${A}`})}),j.length===0&&(Array.isArray(r)?r:[]).forEach(A=>{switch(A.gene){case"MTHFR":(A.genotype==="TT"||A.genotype==="CT")&&j.push({supplement:"Methylated Folate (5-MTHF)",gene:A.gene,genotype:A.genotype,rationale:"Reduced enzyme activity affects folate metabolism",dosage:"400-800 mcg daily",timing:"With breakfast for better absorption",priority:A.genotype==="TT"?"high":"medium",category:"Methylation",confidence_score:.85,risk_level:A.genotype==="TT"?"high":"medium"});break;case"VDR":(A.genotype==="FF"||A.genotype==="Ff")&&j.push({supplement:"Vitamin D3",gene:A.gene,genotype:A.genotype,rationale:"Reduced vitamin D receptor sensitivity",dosage:"2000-4000 IU daily (with blood testing)",timing:"With fat-containing meal for better absorption",priority:"high",category:"Vitamin Metabolism",confidence_score:.9,risk_level:"high"});break;case"FTO":(A.genotype==="AA"||A.genotype==="AT")&&j.push({supplement:"Green Tea Extract (EGCG)",gene:A.gene,genotype:A.genotype,rationale:"Increased risk of weight gain, enhanced fat oxidation support",dosage:"250-500 mg EGCG daily",timing:"30 minutes before exercise",priority:"medium",category:"Metabolism",confidence_score:.75,risk_level:"medium"});break;case"ACTN3":A.genotype==="XX"?j.push({supplement:"Creatine Monohydrate",gene:A.gene,genotype:A.genotype,rationale:"Reduced power/strength potential, creatine can help",dosage:"3-5g daily",timing:"Post-workout with carbohydrates",priority:"medium",category:"Performance",confidence_score:.8,risk_level:"medium"}):A.genotype==="RR"&&j.push({supplement:"Beta-Alanine",gene:A.gene,genotype:A.genotype,rationale:"Enhanced power capacity, buffering support",dosage:"3-5g daily (divided doses)",timing:"Pre-workout",priority:"medium",category:"Performance",confidence_score:.8,risk_level:"low"});break;case"PPARGC1A":A.genotype.includes("Ser")&&(j.push({supplement:"Resveratrol",gene:A.gene,genotype:A.genotype,rationale:"Enhanced mitochondrial biogenesis response",dosage:"250-500mg daily",timing:"With dinner",priority:"medium",category:"Mitochondrial Function",confidence_score:.7,risk_level:"low"}),j.push({supplement:"Coenzyme Q10",gene:A.gene,genotype:A.genotype,rationale:"Mitochondrial support for energy production",dosage:"100-200mg daily",timing:"With breakfast",priority:"medium",category:"Mitochondrial Function",confidence_score:.75,risk_level:"low"}));break;case"ADRB2":A.genotype==="Gly16Gly"&&j.push({supplement:"Caffeine (Genotype-Optimized)",gene:A.gene,genotype:A.genotype,rationale:"Reduced fat mobilization, strategic caffeine use",dosage:"100-200mg (lower than typical doses)",timing:"Pre-workout (avoid late in day)",priority:"medium",category:"Metabolism",confidence_score:.65,risk_level:"medium"});break;case"NOS3":(A.genotype==="CC"||A.genotype==="CT")&&j.push({supplement:"L-Citrulline",gene:A.gene,genotype:A.genotype,rationale:"Enhanced nitric oxide production support",dosage:"6-8g daily",timing:"30 minutes before exercise",priority:"medium",category:"Cardiovascular",confidence_score:.8,risk_level:"low"});break}}),j},[a,r]);return m?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Nutrigenomics Report"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Loading genetic marks from controllers..."})]}),e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Fetching genetic data and processing recommendations..."})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("div",{className:"inline-flex items-center text-sm text-gray-500",children:[e.jsx("div",{className:"animate-pulse mr-2",children:"‚óè"}),e.jsx("div",{className:"animate-pulse mr-2",children:"‚óè"}),e.jsx("div",{className:"animate-pulse",children:"‚óè"})]})})]})}):h?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Nutrigenomics Report"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:"Refresh"})]}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-500 mb-4 text-4xl",children:"‚ö†Ô∏è"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Genetic Data"}),e.jsx("p",{className:"text-gray-600 mb-4 max-w-md mx-auto",children:h}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Retry Loading"}),e.jsx("p",{className:"text-xs text-gray-500",children:"If the problem persists, please check your connection or contact support."})]})]})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Nutrigenomics Report"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Personalized supplement recommendations for ",p]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:a.length>0?`${a.length} genetic marks from controllers`:"Legacy genetic profiles"}),a.length>0&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Controller Data Available"})]})]}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors flex items-center gap-1",title:"Refresh genetic data",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),N.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Supplement Recommendations (",N.length,")"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[N.filter(j=>j.priority==="high").length," High Priority"]}),e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[N.filter(j=>j.priority==="medium").length," Medium Priority"]}),e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[N.filter(j=>j.priority==="low").length," Low Priority"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:N.map((j,w)=>e.jsxs("div",{className:"p-5 rounded-lg border border-gray-200 hover:border-blue-300 transition-colors bg-white shadow-sm",children:[e.jsx("div",{className:"flex justify-between items-start mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:j.supplement}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[j.gene," ‚Ä¢ ",j.genotype]}),e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j.priority==="high"?"bg-red-100 text-red-800":j.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[j.priority.charAt(0).toUpperCase()+j.priority.slice(1)," Priority"]}),j.category&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:j.category})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Rationale:"})," ",j.rationale]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 text-sm",children:"Dosage:"}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:j.dosage})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 text-sm",children:"Timing:"}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:j.timing})]})]}),j.confidence_score&&e.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-600",children:[e.jsx("span",{children:"Confidence Score:"}),e.jsxs("span",{className:`font-medium ${j.confidence_score>=.8?"text-green-600":j.confidence_score>=.6?"text-yellow-600":"text-red-600"}`,children:[(j.confidence_score*100).toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:`h-2 rounded-full ${j.confidence_score>=.8?"bg-green-500":j.confidence_score>=.6?"bg-yellow-500":"bg-red-500"}`,style:{width:`${j.confidence_score*100}%`}})})]}),j.risk_level&&e.jsx("div",{className:"pt-2 border-t border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Risk Level:"}),e.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${j.risk_level==="high"?"bg-red-100 text-red-800":j.risk_level==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:j.risk_level.charAt(0).toUpperCase()+j.risk_level.slice(1)})]})})]})]},j.genetic_mark_id||w))})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ü•ó"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Specific Genetic-Based Supplement Recommendations"}),e.jsx("p",{className:"text-gray-600",children:"Based on available genetic data, no specific supplement recommendations were identified."})]}),e.jsxs("div",{className:"mt-8 p-5 bg-blue-50 rounded-lg border border-blue-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Implementation Notes"}),e.jsxs("ul",{className:"text-blue-700 text-sm list-disc pl-5 space-y-1",children:[e.jsx("li",{children:"Start with high-priority supplements and monitor response"}),e.jsx("li",{children:"Introduce one supplement at a time to assess individual effects"}),e.jsx("li",{children:"Combine with regular blood testing to optimize dosages"}),e.jsx("li",{children:"Consult with a sports nutritionist for personalized meal planning"}),e.jsx("li",{children:"Consider interactions between supplements and any medications"})]})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Personalized Nutrition Plan"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Genetically-tailored dietary strategy for ",p]})]}),b&&e.jsxs("span",{className:"text-xs text-gray-500",children:["Plan updated: ",new Date(b).toLocaleDateString()]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Macronutrient Distribution"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-700 mb-1",children:"40%"}),e.jsx("div",{className:"text-sm text-blue-600",children:"Carbohydrates"}),e.jsx("div",{className:"text-xs text-blue-500 mt-1",children:"Focus on complex carbs for sustained energy"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-2xl font-bold text-green-700 mb-1",children:"30%"}),e.jsx("div",{className:"text-sm text-green-600",children:"Protein"}),e.jsx("div",{className:"text-xs text-green-500 mt-1",children:"High-quality sources for muscle repair"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg border border-yellow-200",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-700 mb-1",children:"30%"}),e.jsx("div",{className:"text-sm text-yellow-600",children:"Healthy Fats"}),e.jsx("div",{className:"text-xs text-yellow-500 mt-1",children:"Omega-3s and MUFAs for inflammation control"})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Optimal Meal Timing"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"w-12 text-sm font-medium text-green-700",children:"7:00 AM"}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Pre-Training Breakfast"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Complex carbs + protein for sustained energy"})]})]}),e.jsxs("div",{className:"flex items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"w-12 text-sm font-medium text-blue-700",children:"10:00 AM"}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Mid-Morning Snack"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Fruit + nuts for steady blood sugar"})]})]}),e.jsxs("div",{className:"flex items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("div",{className:"w-12 text-sm font-medium text-purple-700",children:"1:00 PM"}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Post-Training Lunch"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Balanced meal with recovery focus"})]})]}),e.jsxs("div",{className:"flex items-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("div",{className:"w-12 text-sm font-medium text-orange-700",children:"4:00 PM"}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Afternoon Snack"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Protein-focused for muscle maintenance"})]})]}),e.jsxs("div",{className:"flex items-center p-3 bg-indigo-50 rounded-lg border border-indigo-200",children:[e.jsx("div",{className:"w-12 text-sm font-medium text-indigo-700",children:"7:00 PM"}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Dinner"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Lighter meal with anti-inflammatory foods"})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Genetic-Based Food Priorities"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("h5",{className:"font-semibold text-red-800 mb-2",children:"High Priority Foods"}),e.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Leafy greens (folate-rich)"}),e.jsx("li",{children:"‚Ä¢ Fatty fish (omega-3s)"}),e.jsx("li",{children:"‚Ä¢ Berries (antioxidants)"}),e.jsx("li",{children:"‚Ä¢ Nuts and seeds"}),e.jsx("li",{children:"‚Ä¢ Grass-fed proteins"})]})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsx("h5",{className:"font-semibold text-yellow-800 mb-2",children:"Moderate Priority Foods"}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Whole grains"}),e.jsx("li",{children:"‚Ä¢ Legumes"}),e.jsx("li",{children:"‚Ä¢ Root vegetables"}),e.jsx("li",{children:"‚Ä¢ Eggs"}),e.jsx("li",{children:"‚Ä¢ Avocado"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("h5",{className:"font-semibold text-green-800 mb-2",children:"Foods to Limit"}),e.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Processed sugars"}),e.jsx("li",{children:"‚Ä¢ Trans fats"}),e.jsx("li",{children:"‚Ä¢ Excessive caffeine"}),e.jsx("li",{children:"‚Ä¢ Alcohol"}),e.jsx("li",{children:"‚Ä¢ Processed meats"})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h5",{className:"font-semibold text-blue-800 mb-2",children:"Hydration Strategy"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ 3-4L water daily"}),e.jsx("li",{children:"‚Ä¢ Electrolyte balance post-training"}),e.jsx("li",{children:"‚Ä¢ Herbal teas for recovery"}),e.jsx("li",{children:"‚Ä¢ Bone broth for minerals"})]})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full mr-2"}),"Weekly Meal Structure"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["Training Days","Rest Days","Competition Days","Recovery Days"].map((j,w)=>e.jsxs("div",{className:"p-3 bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-lg border border-indigo-200 text-center",children:[e.jsx("div",{className:"font-medium text-indigo-800 text-sm",children:j}),e.jsxs("div",{className:"text-xs text-indigo-600 mt-1",children:[j==="Training Days"&&"Higher carbs",j==="Rest Days"&&"Normal balance",j==="Competition Days"&&"Fast energy",j==="Recovery Days"&&"Anti-inflammatory"]})]},w))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),"Your Genetic Profile Impact"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:a.length>0?a.slice(0,4).map((j,w)=>e.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"font-semibold text-gray-900",children:[j.gene," (",j.genetic_call,")"]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${j.category==="Metabolism"?"bg-blue-100 text-blue-800":j.category==="Performance"?"bg-green-100 text-green-800":j.category==="Recovery"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:j.category})]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:[j.gene==="FTO"&&"Influences weight management and fat metabolism efficiency",j.gene==="ACTN3"&&"Affects muscle power and endurance capabilities",j.gene==="MTHFR"&&"Impacts folate metabolism and methylation processes",j.gene==="VDR"&&"Controls vitamin D receptor sensitivity and calcium metabolism",j.gene==="PPARGC1A"&&"Regulates mitochondrial biogenesis and energy production",j.gene==="ADRB2"&&"Affects fat mobilization and metabolic response",j.gene==="NOS3"&&"Influences nitric oxide production and blood flow",j.gene!=="FTO"&&j.gene!=="ACTN3"&&j.gene!=="MTHFR"&&j.gene!=="VDR"&&j.gene!=="PPARGC1A"&&j.gene!=="ADRB2"&&j.gene!=="NOS3"&&"Genetic variant affecting nutritional needs"]}),e.jsxs("div",{className:"text-xs text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Dietary Focus:"}),j.gene==="FTO"&&" Higher protein, controlled portions, green tea",j.gene==="ACTN3"&&" Performance carbs, creatine-rich foods",j.gene==="MTHFR"&&" Methylated folate sources, leafy greens",j.gene==="VDR"&&" Vitamin D rich foods, fatty fish, mushrooms",j.gene==="PPARGC1A"&&" Antioxidant-rich foods, resveratrol sources",j.gene==="ADRB2"&&" Moderate caffeine, balanced macros",j.gene==="NOS3"&&" Nitric oxide boosters, beetroot, citrulline",j.gene!=="FTO"&&j.gene!=="ACTN3"&&j.gene!=="MTHFR"&&j.gene!=="VDR"&&j.gene!=="PPARGC1A"&&j.gene!=="ADRB2"&&j.gene!=="NOS3"&&" Personalized nutrition strategy required"]})]},w)):e.jsxs("div",{className:"col-span-2 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[e.jsx("h5",{className:"font-semibold text-blue-800 mb-2",children:"Standard Athletic Nutrition Profile"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Based on your genetic profile, you have a standard athletic metabolism pattern. Focus on balanced nutrition with complex carbohydrates, lean proteins, and healthy fats."})]})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),"Sample Daily Meal Plan"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("h5",{className:"font-semibold text-orange-800 mb-3",children:"Training Day Example"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Breakfast (7:00 AM):"}),e.jsx("span",{className:"text-gray-600",children:"Oatmeal with berries, eggs, spinach"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Mid-Morning (10:00 AM):"}),e.jsx("span",{className:"text-gray-600",children:"Greek yogurt with almonds"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Lunch (1:00 PM):"}),e.jsx("span",{className:"text-gray-600",children:"Grilled chicken, quinoa, vegetables"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Post-Training (4:00 PM):"}),e.jsx("span",{className:"text-gray-600",children:"Protein shake with banana"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Dinner (7:00 PM):"}),e.jsx("span",{className:"text-gray-600",children:"Salmon, sweet potato, broccoli"})]})]})]})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-4 bg-teal-50 rounded-lg border border-teal-200",children:[e.jsx("h5",{className:"font-semibold text-teal-800 mb-3",children:"Rest Day Example"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Breakfast (8:00 AM):"}),e.jsx("span",{className:"text-gray-600",children:"Smoothie with kale, berries, protein"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Mid-Morning (11:00 AM):"}),e.jsx("span",{className:"text-gray-600",children:"Apple with handful of walnuts"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Lunch (2:00 PM):"}),e.jsx("span",{className:"text-gray-600",children:"Turkey salad with mixed greens"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Afternoon (5:00 PM):"}),e.jsx("span",{className:"text-gray-600",children:"Cottage cheese with tomatoes"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-black",children:"Dinner (8:00 PM):"}),e.jsx("span",{className:"text-gray-600",children:"Grilled fish, brown rice, asparagus"})]})]})]})})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full mr-2"}),"Key Nutrition Strategies"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-emerald-50 rounded-lg border border-emerald-200",children:[e.jsx("h6",{className:"font-semibold text-emerald-800 mb-2",children:"Metabolic Optimization"}),e.jsxs("ul",{className:"text-sm text-emerald-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Time carbs around training"}),e.jsx("li",{children:"‚Ä¢ Focus on nutrient density"}),e.jsx("li",{children:"‚Ä¢ Balance blood sugar"}),e.jsx("li",{children:"‚Ä¢ Support liver function"})]})]}),e.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:[e.jsx("h6",{className:"font-semibold text-amber-800 mb-2",children:"Recovery Enhancement"}),e.jsxs("ul",{className:"text-sm text-amber-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Anti-inflammatory foods"}),e.jsx("li",{children:"‚Ä¢ Adequate protein timing"}),e.jsx("li",{children:"‚Ä¢ Micronutrient support"}),e.jsx("li",{children:"‚Ä¢ Sleep-optimized meals"})]})]}),e.jsxs("div",{className:"p-4 bg-rose-50 rounded-lg border border-rose-200",children:[e.jsx("h6",{className:"font-semibold text-rose-800 mb-2",children:"Performance Support"}),e.jsxs("ul",{className:"text-sm text-rose-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Pre-training fuel"}),e.jsx("li",{children:"‚Ä¢ Intra-training support"}),e.jsx("li",{children:"‚Ä¢ Post-training recovery"}),e.jsx("li",{children:"‚Ä¢ Competition day strategy"})]})]})]})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-200",children:[e.jsxs("h5",{className:"font-semibold text-blue-800 mb-3 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Supplement Integration with Meals"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 mb-1",children:"Morning Integration:"}),e.jsx("div",{className:"text-gray-600",children:"Take vitamins with breakfast for optimal absorption"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 mb-1",children:"Post-Training Integration:"}),e.jsx("div",{className:"text-gray-600",children:"Protein and creatine immediately after workouts"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 mb-1",children:"Evening Integration:"}),e.jsx("div",{className:"text-gray-600",children:"Anti-inflammatory supplements with dinner"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 mb-1",children:"Pre-Bed Integration:"}),e.jsx("div",{className:"text-gray-600",children:"Magnesium and melatonin for recovery"})]})]})]})]})]})},N5=({athleteId:t})=>{const[a,l]=C.useState([]),[r,c]=C.useState([]),[m,d]=C.useState(!0),[h,x]=C.useState(null),[p,g]=C.useState("");C.useEffect(()=>{t&&(async()=>{try{d(!0),x(null);const A=parseInt(t,10);if(isNaN(A))throw new Error("Invalid athlete ID");const S=await En.getRecoveryGeneticsByAthlete(A);l(S);const R=await En.getGeneticProfileByAthlete(A);c(R),g(`Athlete ${t}`)}catch(A){x(A instanceof Error?A.message:"Failed to load genetic data")}finally{d(!1)}})()},[t]);const b=C.useMemo(()=>{const w=[];return a.length>0?a.forEach(A=>{w.push({gene:A.Gene||A.gene||"Unknown Gene",genotype:A.GeneticCall||A.genetic_call||A.known_call||"Unknown Genotype",category:A.Category||A.category||"Recovery",trait:A.Trait||A.trait||"Recovery Trait",impact:A.Impact||A.interpretation_code||"Impact not specified",recoveryProtocol:A.Recommendations||A.override_comment||"Recovery protocol not specified",priority:(A.Priority||A.summary_flag||"medium").toLowerCase(),score:A.Score||75,confidence:A.Confidence||80})}):r.forEach(A=>{switch(A.gene){case"IL6":w.push({gene:A.gene,genotype:A.genotype,category:"Inflammation",trait:"Inflammatory Response",impact:A.genotype==="GG"?"Higher baseline inflammation, slower recovery":A.genotype==="GC"?"Moderate inflammation response":"Lower baseline inflammation, faster recovery",recoveryProtocol:A.genotype==="GG"?"Emphasize anti-inflammatory nutrition (omega-3s, turmeric), longer recovery periods":A.genotype==="GC"?"Standard recovery protocols with attention to inflammation markers":"May recover quickly with standard protocols",priority:A.genotype==="GG"?"high":"medium",score:A.genotype==="GG"?65:A.genotype==="GC"?75:85,confidence:80});break;case"TNF":w.push({gene:A.gene,genotype:A.genotype,category:"Inflammation",trait:"Inflammatory Cytokine Production",impact:A.genotype==="AA"?"Higher TNF-alpha production, increased inflammation":A.genotype==="AG"?"Moderate TNF-alpha production":"Lower TNF-alpha production, reduced inflammation",recoveryProtocol:A.genotype==="AA"?"Prioritize anti-inflammatory interventions (cryotherapy, massage), monitor CRP levels":A.genotype==="AG"?"Standard anti-inflammatory approaches sufficient":"May require less intensive anti-inflammatory interventions",priority:A.genotype==="AA"?"high":"medium",score:A.genotype==="AA"?60:A.genotype==="AG"?75:85,confidence:80});break;case"IL10":w.push({gene:A.gene,genotype:A.genotype,category:"Anti-inflammation",trait:"Anti-inflammatory Response",impact:A.genotype==="AA"?"Higher IL-10 production, better inflammation control":A.genotype==="AC"?"Moderate IL-10 production":"Lower IL-10 production, reduced anti-inflammatory capacity",recoveryProtocol:A.genotype==="AA"?"May recover well with standard protocols":A.genotype==="AC"?"Standard recovery protocols appropriate":"Emphasize anti-inflammatory nutrition and recovery modalities",priority:A.genotype==="CC"?"high":"low",score:A.genotype==="AA"?85:A.genotype==="AC"?75:65,confidence:80});break;case"VDR":w.push({gene:A.gene,genotype:A.genotype,category:"Vitamin D",trait:"Vitamin D Receptor Sensitivity",impact:A.genotype==="FF"?"Reduced vitamin D receptor sensitivity, potential deficiency effects":A.genotype==="Ff"?"Moderate sensitivity":"Normal sensitivity",recoveryProtocol:A.genotype==="FF"?"Ensure optimal vitamin D status (supplementation if needed), supports immune function":A.genotype==="Ff"?"Monitor vitamin D levels, supplement as needed":"Maintain adequate vitamin D through sun exposure and diet",priority:A.genotype==="FF"?"high":"medium",score:A.genotype==="FF"?65:A.genotype==="Ff"?75:85,confidence:80});break;case"ADRB1":w.push({gene:A.gene,genotype:A.genotype,category:"Stress Response",trait:"Catecholamine Sensitivity",impact:A.genotype==="AA"?"Higher adrenaline sensitivity, increased stress response":A.genotype==="AG"?"Moderate sensitivity":"Lower adrenaline sensitivity, reduced stress response",recoveryProtocol:A.genotype==="AA"?"Emphasize parasympathetic activation (meditation, breathing), avoid overstimulation":A.genotype==="AG"?"Standard stress management techniques":"May tolerate higher stimulation, monitor for under-recovery",priority:A.genotype==="AA"?"high":"medium",score:A.genotype==="AA"?60:A.genotype==="AG"?75:85,confidence:80});break;case"CLOCK":w.push({gene:A.gene,genotype:A.genotype,category:"Circadian Rhythm",trait:"Circadian Rhythm Regulation",impact:A.genotype==="AA"?"Enhanced circadian sensitivity, strict schedule benefits":A.genotype==="AG"?"Moderate circadian sensitivity":"Reduced circadian sensitivity, more flexible timing",recoveryProtocol:A.genotype==="AA"?"Maintain strict sleep/wake times, minimize blue light exposure 2h before bed":A.genotype==="AG"?"Consistent schedule beneficial but some flexibility allowed":"More adaptable to schedule changes, but still prioritize consistency",priority:A.genotype==="AA"?"high":"medium",score:A.genotype==="AA"?70:A.genotype==="AG"?75:80,confidence:80});break;case"HSD11B1":w.push({gene:A.gene,genotype:A.genotype,category:"Cortisol",trait:"Cortisol Regeneration",impact:A.genotype==="TT"?"Higher cortisol regeneration, increased stress response":A.genotype==="TC"?"Moderate cortisol regeneration":"Lower cortisol regeneration, reduced stress response",recoveryProtocol:A.genotype==="TT"?"Prioritize stress management, cortisol-lowering interventions (adaptogens, meditation)":A.genotype==="TC"?"Standard stress management sufficient":"May be more resilient to stress, but still monitor recovery markers",priority:A.genotype==="TT"?"high":"medium",score:A.genotype==="TT"?60:A.genotype==="TC"?75:85,confidence:80});break;case"COMT":w.push({gene:A.gene,genotype:A.genotype,category:"Stress Response",trait:"Catecholamine Breakdown",impact:A.genotype==="AA"?"Slower breakdown of adrenaline/noradrenaline, prolonged stress response":A.genotype==="AG"?"Moderate breakdown rate":"Faster breakdown, quicker return to baseline",recoveryProtocol:A.genotype==="AA"?"Emphasize parasympathetic activation, longer recovery periods after high-stress sessions":A.genotype==="AG"?"Standard recovery protocols appropriate":"May recover quickly but monitor for under-recovery from overtraining",priority:A.genotype==="AA"?"high":"medium",score:A.genotype==="AA"?60:A.genotype==="AG"?75:85,confidence:80});break}}),w},[a,r]),v=b.filter(w=>w.priority==="high").length;b.filter(w=>w.priority==="medium").length;const N=C.useMemo(()=>{const w=[];if(a.length>0){const A=a.filter(_=>(_.Gene==="IL6"||_.Gene==="TNF"||_.Gene==="IL10")&&(_.Category||_.category)==="recovery"),S=a.filter(_=>(_.Gene==="COMT"||_.Gene==="ADRB1"||_.Gene==="HSD11B1")&&(_.Category||_.category)==="recovery"),R=a.filter(_=>(_.Gene==="CLOCK"||_.Gene==="PER3")&&(_.Category||_.category)==="recovery");if(A.length>0){const _=A.reduce((T,O)=>T+(O.Score||75),0)/A.length;w.push({category:"Inflammation Management",title:"Inflammatory Response Optimization",description:`Analysis of ${A.length} inflammation-related genetic markers indicates specific recovery protocols for optimal inflammatory response.`,score:_,recommendations:[A.some(T=>T.Gene==="IL6"&&(T.GeneticCall||T.genetic_call)?.includes("GG"))?"IL6 GG genotype: Prioritize omega-3 supplementation and anti-inflammatory nutrition":"Standard inflammatory response - maintain balanced nutrition protocols",A.some(T=>T.Gene==="TNF"&&(T.GeneticCall||T.genetic_call)?.includes("AA"))?"TNF AA genotype: Enhanced anti-inflammatory interventions recommended":"TNF genotype supports standard recovery protocols",A.some(T=>T.Gene==="IL10"&&(T.GeneticCall||T.genetic_call)?.includes("CC"))?"IL10 CC genotype: May need additional anti-inflammatory support":"IL10 genotype supports good anti-inflammatory capacity"],geneticMarkers:A.map(T=>T.Gene||T.gene),priority:_<70?"high":_<80?"medium":"low"})}if(S.length>0){const _=S.reduce((T,O)=>T+(O.Score||75),0)/S.length;w.push({category:"Stress Recovery",title:"Stress Response & Recovery",description:`Analysis of ${S.length} stress-related genetic markers reveals catecholamine processing and stress recovery capacity.`,score:_,recommendations:[S.some(T=>T.Gene==="COMT"&&(T.GeneticCall||T.genetic_call)?.includes("AA"))?"COMT AA genotype: Slower catecholamine breakdown - emphasize parasympathetic activation":"COMT genotype supports standard catecholamine processing",S.some(T=>T.Gene==="ADRB1"&&(T.GeneticCall||T.genetic_call)?.includes("AA"))?"ADRB1 AA genotype: Higher adrenaline sensitivity - prioritize stress management":"ADRB1 genotype indicates balanced stress response",S.some(T=>T.Gene==="HSD11B1"&&(T.GeneticCall||T.genetic_call)?.includes("TT"))?"HSD11B1 TT genotype: Higher cortisol regeneration - implement cortisol-lowering protocols":"HSD11B1 genotype supports normal cortisol regulation"],geneticMarkers:S.map(T=>T.Gene||T.gene),priority:_<70?"high":_<80?"medium":"low"})}if(R.length>0){const _=R.reduce((T,O)=>T+(O.Score||75),0)/R.length;w.push({category:"Circadian Rhythm",title:"Sleep & Circadian Optimization",description:`Analysis of ${R.length} circadian-related genetic markers indicates chronotype and sleep recovery patterns.`,score:_,recommendations:[R.some(T=>T.Gene==="CLOCK"&&(T.GeneticCall||T.genetic_call)?.includes("AA"))?"CLOCK AA genotype: Strict sleep schedule critical for optimal recovery":"CLOCK genotype supports flexible sleep timing","Maintain consistent sleep/wake times aligned with genetic chronotype","Minimize blue light exposure 2 hours before bedtime","Consider chronotype-specific training timing for optimal recovery"],geneticMarkers:R.map(T=>T.Gene||T.gene),priority:_<70?"high":_<80?"medium":"low"})}}return w},[a]),j=C.useMemo(()=>N.length===0?0:N.reduce((w,A)=>w+A.score,0)/N.length,[N]);return m?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Recovery Gene Panel"}),e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading genetic data..."})]})]})}):h?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Recovery Gene Panel"}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-500 mb-4",children:"‚ö†Ô∏è"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Genetic Data"}),e.jsx("p",{className:"text-gray-600 mb-4",children:h}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Retry"})]})]})}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-4xl font-bold text-white-900 mb-3",children:"üß¨ Advanced Recovery Gene Panel"}),e.jsxs("p",{className:"text-xl text-gray-600 mb-2",children:["Comprehensive genetic analysis for ",a.length," recovery-related markers"]}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-100 to-blue-100 rounded-full",children:[e.jsx("span",{className:"text-purple-700 font-medium",children:"Overall Recovery Score:"}),e.jsxs("span",{className:`text-2xl font-bold ${j>75?"text-green-600":j>60?"text-yellow-600":"text-red-600"}`,children:[j.toFixed(0),"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:a.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Genetic Markers"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Analyzed for Recovery"})]}),e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsx("div",{className:`text-3xl font-bold mb-2 ${v>0?"text-red-600":"text-green-600"}`,children:v}),e.jsx("div",{className:"text-sm text-gray-600",children:"High Priority"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Critical Recovery Genes"})]}),e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:N.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Recovery Categories"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"AI-Generated Insights"})]}),e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsx("div",{className:`text-3xl font-bold mb-2 ${j>75?"text-green-600":j>60?"text-yellow-600":"text-red-600"}`,children:j.toFixed(0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Recovery Score"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Genetic + Biometric"})]})]}),N.length>0&&e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"bg-gradient-to-r from-purple-100 to-blue-100 p-2 rounded-full text-purple-700",children:"ü§ñ"}),"AI-Generated Recovery Insights"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:N.map((w,A)=>e.jsxs("div",{className:`card-enhanced p-6 border-l-4 ${w.priority==="high"?"border-l-red-500 bg-red-50":w.priority==="medium"?"border-l-yellow-500 bg-yellow-50":"border-l-green-500 bg-green-50"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-1",children:w.title}),e.jsx("p",{className:"text-sm text-gray-600",children:w.category})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-2xl font-bold ${w.score>75?"text-green-600":w.score>60?"text-yellow-600":"text-red-600"}`,children:w.score.toFixed(0)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Score"})]})]}),e.jsx("p",{className:"text-gray-700 mb-4 text-sm leading-relaxed",children:w.description}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Genetic Markers Analyzed:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:w.geneticMarkers.map((S,R)=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-white text-gray-700 border",children:S},R))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Recommended Protocols:"}),e.jsx("ul",{className:"space-y-2",children:w.recommendations.map((S,R)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${w.priority==="high"?"bg-red-500":w.priority==="medium"?"bg-yellow-500":"bg-green-500"}`}),e.jsx("span",{className:"text-sm text-gray-700",children:S})]},R))})]})]},A))})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"bg-gradient-to-r from-green-100 to-blue-100 p-2 rounded-full text-green-700",children:"üî¨"}),"Individual Genetic Marker Analysis"]}),b.length>0?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:b.map((w,A)=>e.jsxs("div",{className:`card-enhanced p-6 border-l-4 ${w.priority==="high"?"border-l-red-500":w.priority==="medium"?"border-l-yellow-500":"border-l-green-500"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-1",children:w.gene}),e.jsxs("p",{className:"text-sm text-gray-600",children:[w.category," ‚Ä¢ ",w.trait]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-2xl font-bold ${w.score>75?"text-green-600":w.score>60?"text-yellow-600":"text-red-600"}`,children:w.score}),e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Score"}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${w.priority==="high"?"bg-red-100 text-red-800":w.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:w.priority.toUpperCase()})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Genotype"}),e.jsx("span",{className:"text-sm font-bold text-gray-900 bg-gray-100 px-2 py-1 rounded",children:w.genotype})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${w.score>75?"bg-green-500":w.score>60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${w.score}%`}})})]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h5",{className:"font-medium text-blue-800 mb-2 text-sm",children:"Recovery Impact"}),e.jsx("p",{className:"text-sm text-blue-700 leading-relaxed",children:w.impact})]}),e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("h5",{className:"font-medium text-green-800 mb-2 text-sm",children:"Recommended Protocol"}),e.jsx("p",{className:"text-sm text-green-700 leading-relaxed",children:w.recoveryProtocol})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Confidence: ",w.confidence,"%"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${w.score>75?"bg-green-500":w.score>60?"bg-yellow-500":"bg-red-500"}`}),e.jsx("span",{className:"text-xs font-medium text-gray-600",children:w.score>75?"Excellent":w.score>60?"Good":"Needs Attention"})]})]})]})]},A))}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-6",children:"üß¨"}),e.jsx("h4",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"No Recovery Gene Data Available"}),e.jsx("p",{className:"text-gray-600 max-w-lg mx-auto leading-relaxed",children:"Comprehensive genetic testing is required to unlock personalized recovery protocols and optimization strategies."})]})]}),N.length>0&&e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"bg-gradient-to-r from-indigo-100 to-purple-100 p-2 rounded-full text-indigo-700",children:"üìä"}),"Recovery Intelligence Dashboard"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üìà"}),"Recovery Categories"]}),e.jsx("div",{className:"space-y-3",children:N.map((w,A)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:w.category}),e.jsxs("div",{className:"text-xs text-gray-500",children:[w.geneticMarkers.length," markers"]})]}),e.jsx("div",{className:`text-lg font-bold ${w.score>75?"text-green-600":w.score>60?"text-yellow-600":"text-red-600"}`,children:w.score.toFixed(0)})]},A))})]}),e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üéØ"}),"Priority Actions"]}),e.jsx("div",{className:"space-y-3",children:N.filter(w=>w.priority==="high").length>0?N.filter(w=>w.priority==="high").slice(0,3).map((w,A)=>e.jsxs("div",{className:"p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("div",{className:"font-medium text-red-800 text-sm mb-1",children:w.category}),e.jsx("div",{className:"text-xs text-red-600",children:w.recommendations[0]})]},A)):N.length>0?N.filter(w=>w.priority==="medium").slice(0,3).map((w,A)=>e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsx("div",{className:"font-medium text-yellow-800 text-sm mb-1",children:w.category}),e.jsx("div",{className:"text-xs text-yellow-600",children:w.recommendations[0]})]},A)):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("div",{className:"text-sm",children:"No priority actions available"}),e.jsx("div",{className:"text-xs mt-1",children:"Complete genetic testing to unlock personalized recommendations"})]})})]}),e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"‚è∞"}),"Implementation Timeline"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-red-50 rounded",children:[e.jsx("span",{className:"text-red-500 font-bold",children:"Week 1"}),e.jsx("span",{className:"text-red-700",children:"Implement high-priority protocols"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-yellow-50 rounded",children:[e.jsx("span",{className:"text-yellow-600 font-bold",children:"Week 2-3"}),e.jsx("span",{className:"text-yellow-700",children:"Monitor biometric response"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-green-50 rounded",children:[e.jsx("span",{className:"text-green-600 font-bold",children:"Week 4+"}),e.jsx("span",{className:"text-green-700",children:"Optimize based on results"})]})]})]})]})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"bg-gradient-to-r from-blue-100 to-indigo-100 p-2 rounded-full text-blue-700",children:"üìã"}),"Implementation Strategy & Monitoring"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Protocol Implementation"}),e.jsx("div",{className:"space-y-3",children:[{step:"1",title:"High-Priority Focus",desc:"Implement protocols for high-priority genetic markers first"},{step:"2",title:"One Change at a Time",desc:"Modify one protocol to clearly assess individual impact"},{step:"3",title:"Biometric Monitoring",desc:"Track HRV, resting HR, and sleep quality for validation"},{step:"4",title:"Response Assessment",desc:"Evaluate effectiveness after 2-3 weeks of implementation"}].map((w,A)=>e.jsxs("div",{className:"flex items-start gap-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:w.step}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:w.title}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:w.desc})]})]},A))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Success Metrics"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Primary Metrics"}),e.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[e.jsxs("div",{children:["‚Ä¢ HRV improvement ",">"," 5ms"]}),e.jsxs("div",{children:["‚Ä¢ Resting HR reduction ",">"," 3bpm"]}),e.jsxs("div",{children:["‚Ä¢ Sleep duration increase ",">"," 30min"]})]})]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"font-medium text-blue-800 mb-1",children:"Secondary Metrics"}),e.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[e.jsxs("div",{children:["‚Ä¢ Training readiness score ",">"," 75%"]}),e.jsx("div",{children:"‚Ä¢ Reduced perceived soreness"}),e.jsx("div",{children:"‚Ä¢ Improved training quality"})]})]}),e.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("div",{className:"font-medium text-purple-800 mb-1",children:"Timeline"}),e.jsxs("div",{className:"text-sm text-purple-700 space-y-1",children:[e.jsx("div",{children:"‚Ä¢ Initial assessment: 2 weeks"}),e.jsx("div",{children:"‚Ä¢ Protocol optimization: 4-6 weeks"}),e.jsx("div",{children:"‚Ä¢ Full adaptation: 8-12 weeks"})]})]})]})]})]})]})]})},O0=t=>{const a=t.reduce((c,m)=>c+m,0)/t.length,r=t.map(c=>Math.pow(c-a,2)).reduce((c,m)=>c+m,0)/t.length;return Math.sqrt(r)},S5=(t,a)=>t-a,M5=(t,a)=>{const l=t.map(d=>{const[h,x]=d.split(":").map(Number);return h*60+x}),r=a.map(d=>{const[h,x]=d.split(":").map(Number);return h*60+x}),c=O0(l),m=O0(r);return(c+m)/2},w5=t=>t<=15?"High":t<=45?"Moderate":"Low",A5=t=>t<=15?"#10B981":t<=45?"#F59E0B":"#EF4444",ia=t=>{const a=Math.floor(t/60),l=t%60;return`${a.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`},T5=(t,a)=>a>0?t/a*100:0,E5=(t,a)=>{const[l]=t.split(":").map(Number);return a.split(":").map(Number),l>=23||l>=0&&l<=5?"Evening Type":l>=21&&l<=22?"Intermediate":"Morning Type"},R5=(t,a)=>!0,_5=(t,a,l)=>[{name:"Deep Sleep",value:t},{name:"REM Sleep",value:a},{name:"Light Sleep",value:l}],D5=t=>{const a=[];return t.forEach(l=>{l.sleep_duration_h&&l.sleep_duration_h<6&&a.push("Fragmented Sleep"),l.hrv_night&&l.hrv_night<40&&a.push("HRV Suppression"),l.resting_hr&&l.resting_hr>70&&a.push("Elevated Resting HR"),l.deep_sleep_pct&&l.deep_sleep_pct<15&&a.push("Low Deep Sleep"),l.rem_sleep_pct&&l.rem_sleep_pct<15&&a.push("Low REM Sleep")}),a},C5=({biometricData:t,athleteId:a})=>{const[l,r]=C.useState("30d"),c=l==="7d"?t.slice(-7):t.slice(-30);c.forEach((T,O)=>{});const m=T=>{if(!T||T==="00:00"||T==="")return null;const[O,V]=T.split(":").map(Number);return isNaN(O)||isNaN(V)?null:O*60+V},d=c.map(T=>{const V=T.sleep_duration_h?S5(T.sleep_duration_h,8):0,K=m(T.sleep_onset_time||""),y=m(T.wake_time||"");let F=0;if(K!==null&&y!==null){let Y=y-K;Y<0&&(Y+=24*60),F=Y/60}else F=(T.sleep_duration_h||0)+.5;return{date:T.date,sleepDebt:V,sleepDuration:T.sleep_duration_h||0,recommendedSleep:8,deepSleep:T.deep_sleep_pct||0,remSleep:T.rem_sleep_pct||0,lightSleep:T.light_sleep_pct||0,sleepEfficiency:(()=>T.sleep_duration_h?T5(T.sleep_duration_h,F):0)(),sleepOnsetTime:T.sleep_onset_time||"00:00",wakeTime:T.wake_time||"00:00",chronotype:T.sleep_onset_time&&T.sleep_onset_time!=="00:00"&&T.wake_time&&T.wake_time!=="00:00"?E5(T.sleep_onset_time,T.wake_time):"Unknown (Missing timing data)",sleepStressIndicators:D5([T])}}),h=c.filter(T=>T.sleep_onset_time&&T.sleep_onset_time!=="00:00"&&T.wake_time&&T.wake_time!=="00:00");let x=0,p="Unknown",g="#9CA3AF";if(h.length>=2){const T=h.map(V=>V.sleep_onset_time),O=h.map(V=>V.wake_time);x=M5(T,O),p=w5(x),g=A5(x)}else p="Insufficient Data";const b=c.reduce((T,O)=>T+(O.deep_sleep_pct||0),0)/c.length,v=c.reduce((T,O)=>T+(O.rem_sleep_pct||0),0)/c.length,N=c.reduce((T,O)=>T+(O.light_sleep_pct||0),0)/c.length,j=_5(b,v,N),w=["#0088FE","#00C49F","#FFBB28"],A=d.map(T=>({date:T.date,sleepDebt:T.sleepDebt})),S=d.map(T=>({date:T.date,sleepDuration:T.sleepDuration,recommendedSleep:T.recommendedSleep})),R=d.map(T=>({date:T.date,sleepEfficiency:T.sleepEfficiency}));d.map(T=>({date:T.date,deepSleep:T.deepSleep,remSleep:T.remSleep,lightSleep:T.lightSleep}));const _=d.map(T=>{const O=Y=>{if(!Y||Y==="00:00"||Y==="")return null;const[X,$]=Y.split(":").map(Number);return isNaN(X)||isNaN($)?null:X*60+$},V=O(T.sleepOnsetTime),K=O(T.wakeTime),y=V!==null?V:(T.sleepDuration||0)>=8?1320:(T.sleepDuration||0)>=7?1380:1440,F=K!==null?K:y+(T.sleepDuration||0)*60;return{date:T.date,sleepOnset:y,wakeTime:F%1440,hasRealTimingData:V!==null&&K!==null}});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"üåô Sleep Metrics"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>r("7d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l==="7d"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"7 Days"}),e.jsx("button",{onClick:()=>r("30d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l==="30d"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"30 Days"})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üìä Sleep Debt"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"relative w-48 h-48 mx-auto",children:e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#e5e7eb",strokeWidth:"8"}),e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:d.length>0?d[d.length-1].sleepDebt>0?"#10B981":"#EF4444":"#9CA3AF",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${Math.abs(d.length>0?d[d.length-1].sleepDebt:0)*10}, 1000`,transform:"rotate(-90 50 50)"}),e.jsx("text",{x:"50",y:"50",textAnchor:"middle",dominantBaseline:"middle",className:"text-2xl font-bold",children:d.length>0?d[d.length-1].sleepDebt.toFixed(1):"0.0"}),e.jsx("text",{x:"50",y:"60",textAnchor:"middle",dominantBaseline:"middle",className:"text-sm text-gray-600",children:"Hours"})]})})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Current Sleep Debt"}),e.jsxs("p",{className:"text-2xl font-bold mt-1  text-gray-900",children:[d.length>0?d[d.length-1].sleepDebt.toFixed(1):"0.0"," hours"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d.length>0&&d[d.length-1].sleepDebt>0?"You are in debt - need more sleep":"You are catching up - good job!"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Sleep Consistency"}),e.jsxs("p",{className:"text-2xl font-bold mt-1  text-gray-900",children:[x.toFixed(1)," min"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Standard deviation of bed/wake times"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full mr-2",style:{backgroundColor:g}}),e.jsxs("span",{className:"text-sm font-medium text-black",children:[p," Consistency"]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Chronotype"}),e.jsx("p",{className:"text-2xl font-bold mt-1 text-black",children:d.length>0?d[d.length-1].chronotype:"Unknown"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d.length>0&&!d[d.length-1].chronotype.includes("Unknown")&&R5(d[d.length-1].chronotype)?"Within optimal window":d[d.length-1]?.chronotype.includes("Unknown")?"Insufficient timing data":"Outside optimal window"})]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üìà Sleep Duration Trend"}),e.jsx(Ce,{width:"100%",height:300,children:e.jsxs(Wt,{data:S,children:[e.jsx(We,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(Ye,{dataKey:"date",stroke:"#6b7280"}),e.jsx(Me,{stroke:"#6b7280"}),e.jsx(Ve,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(ot,{}),e.jsx(fe,{type:"monotone",dataKey:"sleepDuration",name:"Actual Sleep (h)",stroke:"#3b82f6",strokeWidth:3,dot:{r:4}}),e.jsx(fe,{type:"monotone",dataKey:"recommendedSleep",name:"Recommended (8h)",stroke:"#94a3b8",strokeWidth:2,strokeDasharray:"5 5",dot:!1})]})})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üìâ Sleep Debt Trend"}),e.jsx(Ce,{width:"100%",height:300,children:e.jsxs(Q0,{data:A,children:[e.jsx(We,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(Ye,{dataKey:"date",stroke:"#6b7280"}),e.jsx(Me,{stroke:"#6b7280"}),e.jsx(Ve,{formatter:T=>[`${Number(T).toFixed(1)} hours`,"Sleep Debt"],contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(ot,{}),e.jsx(Gl,{dataKey:"sleepDebt",name:"Sleep Debt (hours)",fill:A.length>0&&A[A.length-1].sleepDebt>0?"#EF4444":"#10B981"})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["üìä Sleep Efficiency",d.some(T=>!T.sleepOnsetTime||T.sleepOnsetTime==="00:00"||!T.wakeTime||T.wakeTime==="00:00")&&e.jsx("span",{className:"text-sm font-normal text-gray-600 ml-2",children:"(estimated where timing data unavailable)"})]}),e.jsx(Ce,{width:"100%",height:300,children:e.jsxs(Wt,{data:R,children:[e.jsx(We,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(Ye,{dataKey:"date",stroke:"#6b7280"}),e.jsx(Me,{stroke:"#6b7280",domain:[0,100],tickFormatter:T=>`${Number(T).toFixed(1)}%`}),e.jsx(Ve,{formatter:T=>[`${Number(T).toFixed(1)}%`,"Efficiency"],contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(ot,{}),e.jsx(fe,{type:"monotone",dataKey:"sleepEfficiency",name:"Efficiency (%)",stroke:"#8b5cf6",strokeWidth:3,dot:{r:4}})]})})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üåô Sleep Stage Distribution"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsx("div",{className:"flex-1",children:e.jsx(Ce,{width:"100%",height:300,children:e.jsxs(q0,{children:[e.jsx(Y0,{data:j,cx:"50%",cy:"50%",labelLine:!0,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:T,percent:O})=>`${T}: ${(O?O*100:0).toFixed(0)}%`,children:j.map((T,O)=>e.jsx(Ac,{fill:w[O%w.length]},`cell-${O}`))}),e.jsx(Ve,{formatter:T=>[`${T}%`,"Percentage"],contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(ot,{})]})})}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"space-y-3",children:j.map((T,O)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 rounded-full mr-3",style:{backgroundColor:w[O%w.length]}}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:T.name}),e.jsxs("div",{className:"text-sm text-gray-600",children:[T.value.toFixed(1),"%"]})]})]},T.name))})})]})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["‚è∞ Sleep Timing",_.some(T=>!T.hasRealTimingData)&&e.jsx("span",{className:"text-sm font-normal text-gray-600 ml-2",children:"(estimated times where data unavailable)"})]}),e.jsx(Ce,{width:"100%",height:300,children:e.jsxs(Wt,{data:_,children:[e.jsx(We,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(Ye,{dataKey:"date",stroke:"#6b7280"}),e.jsx(Me,{stroke:"#6b7280",domain:[0,1440],tickFormatter:T=>ia(T)}),e.jsx(Ve,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"},formatter:(T,O,V)=>{const K=ia(Number(T)),y=!V.payload.hasRealTimingData;return[`${K}${y?" (estimated)":""}`,O]},labelFormatter:T=>`Date: ${new Date(T).toLocaleDateString()}`}),e.jsx(ot,{}),e.jsx(fe,{type:"monotone",dataKey:"sleepOnset",name:"Bed Time",stroke:"#10B981",strokeWidth:3,dot:{r:4},activeDot:{r:6}}),e.jsx(fe,{type:"monotone",dataKey:"wakeTime",name:"Wake Time",stroke:"#F59E0B",strokeWidth:3,dot:{r:4},activeDot:{r:6}})]})})]}),d.length>0&&(()=>{const T=d[d.length-1];c[c.length-1];const V=(()=>{const K=[],F=(T.sleepDuration||0)*60;let Y=0;if(T.sleepOnsetTime&&T.sleepOnsetTime!=="00:00"){const L=m(T.sleepOnsetTime);L!==null&&(Y=L)}T.wakeTime&&T.wakeTime!=="00:00"&&m(T.wakeTime),Y===0&&(Y=21*60);const X=Math.round(F*(T.deepSleep||0)/100),$=Math.round(F*(T.remSleep||0)/100),q=F-X-$,Z=[{type:"light",duration:Math.floor(q*.6),label:"Light Sleep",color:"#F59E0B"},{type:"deep",duration:X,label:"Deep Sleep",color:"#1E40AF"},{type:"light",duration:Math.floor(q*.4),label:"Light Sleep",color:"#F59E0B"},{type:"rem",duration:$,label:"REM Sleep",color:"#8B5CF6"}];let J=Y,E=1;return Z.forEach(L=>{if(L.duration>0){const I=Math.floor(L.duration/10),te=L.duration%10;for(let ae=0;ae<I;ae++)K.push({type:L.type,start:J,end:J+10,duration:10,label:L.label,color:L.color,segment:`${E}`}),J+=10,E++;te>0&&(K.push({type:L.type,start:J,end:J+te,duration:te,label:L.label,color:L.color,segment:`${E} (Partial)`}),J+=te,E++)}}),K})();return e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Sleep Timeline (10-minute segments)",e.jsx("span",{className:"text-sm font-normal text-gray-600 ml-2",children:"(48-hour view showing last night's sleep in context)"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-800"}),e.jsxs("span",{className:"text-black",children:["Deep Sleep: ",(T.deepSleep||0).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-yellow-500"}),e.jsxs("span",{className:"text-black",children:["Light Sleep: ",(T.lightSleep||0).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-purple-500"}),e.jsxs("span",{className:"text-black",children:["REM Sleep: ",(T.remSleep||0).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"}),e.jsxs("span",{className:"text-black",children:["Awake: ",((24-(T.sleepDuration||0))*60).toFixed(0)," min"]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-2",children:[e.jsx("span",{children:"Day 1 - 12:00 AM"}),e.jsx("span",{children:"Day 1 - 12:00 PM"}),e.jsx("span",{children:"Day 2 - 12:00 AM"}),e.jsx("span",{children:"Day 2 - 12:00 PM"}),e.jsx("span",{children:"Day 3 - 12:00 AM"})]}),e.jsxs("div",{className:"relative h-24 bg-gray-100 rounded-lg overflow-hidden",children:[Array.from({length:9},(K,y)=>y*6).map(K=>e.jsx("div",{className:"absolute top-0 bottom-0 border-l border-gray-300",style:{left:`${K/48*100}%`}},K)),V.map((K,y)=>{const F=K.start/2880*100,Y=K.duration/(48*60)*100;return e.jsx("div",{className:"absolute top-0 bottom-0 flex items-center justify-center text-xs font-medium text-white shadow-sm hover:shadow-md transition-shadow",style:{left:`${F}%`,width:`${Math.max(Y,.5)}%`,backgroundColor:K.color,minWidth:"1px"},title:`${K.label} (${K.segment}): ${ia(K.start)} - ${ia(K.end)} (${K.duration} min)`},y)})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[e.jsx("span",{children:"0h"}),e.jsx("span",{children:"12h"}),e.jsx("span",{children:"24h"}),e.jsx("span",{children:"36h"}),e.jsx("span",{children:"48h"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Sleep Stage Segments (10-minute intervals)"}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:V.filter(K=>K.type!=="awake").map((K,y)=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg border bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:K.color}}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:K.label}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Segment ",K.segment," ‚Ä¢ ",ia(K.start)," - ",ia(K.end)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-gray-900 text-sm",children:[K.duration," min"]}),e.jsxs("div",{className:"text-xs text-gray-600",children:[(K.duration/((T.sleepDuration||0)*60)*100).toFixed(1),"%"]})]})]},y))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"48-Hour Sleep Context Analysis"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"font-medium text-blue-800 mb-1",children:"48-Hour Timeline View"}),e.jsxs("div",{className:"text-blue-700",children:["Complete 48-hour view showing last night's sleep positioned within daily/weekly context (Sleep: ",T.sleepOnsetTime||"Unknown"," - ",T.wakeTime||"Unknown",")"]})]}),e.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("div",{className:"font-medium text-purple-800 mb-1",children:"10-Minute Segment Tracking"}),e.jsxs("div",{className:"text-purple-700",children:["Sleep data distributed across ",V.filter(K=>K.type!=="awake").length," segments in 10-minute intervals within the 48-hour timeline for detailed pattern analysis"]})]}),e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Sleep Stage Distribution"}),e.jsxs("div",{className:"text-green-700",children:["Deep: ",V.filter(K=>K.type==="deep").length," segments, REM: ",V.filter(K=>K.type==="rem").length," segments, Light: ",V.filter(K=>K.type==="light").length," segments"]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"font-medium text-gray-800 mb-1",children:"Timeline Context"}),e.jsx("div",{className:"text-gray-700 text-xs",children:"48-hour view provides context for sleep timing, duration, and quality within daily/weekly cycles. Sleep segments are positioned based on actual recorded sleep onset and wake times."})]})]})]})]})]})]})})(),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"‚ö†Ô∏è High Sleep Stress Indicators"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:d.length>0&&d[d.length-1].sleepStressIndicators.length>0?d[d.length-1].sleepStressIndicators.map((T,O)=>e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center",children:e.jsx("span",{className:"text-red-600",children:"‚ö†Ô∏è"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-red-800",children:T}),e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[T==="Fragmented Sleep"&&"Frequent wake-ups during the night",T==="HRV Suppression"&&"Low HRV during sleep indicates stress",T==="Elevated Resting HR"&&"High resting heart rate at night",T==="Low Deep Sleep"&&"Insufficient deep sleep for recovery",T==="Low REM Sleep"&&"Insufficient REM sleep for cognitive recovery"]})]})]})},O)):e.jsxs("div",{className:"col-span-3 text-center py-8 text-gray-600",children:[e.jsx("p",{children:"No sleep stress indicators detected"}),e.jsx("p",{className:"text-sm mt-2",children:"Great job maintaining healthy sleep patterns!"})]})})]})]})};function G5(t){return t<55?{status:"Optimal",color:"text-green-500",message:"Excellent cardiovascular fitness"}:t<65?{status:"Good",color:"text-green-500",message:"Healthy resting heart rate"}:t<75?{status:"Elevated",color:"text-yellow-500",message:"Slightly elevated, monitor trends"}:{status:"High",color:"text-red-500",message:"Significantly elevated, potential stress/fatigue"}}function O5(t,a){const l=a<25?60:a<35?55:50;return t>l+10?{status:"Excellent",color:"text-green-500",message:"Strong parasympathetic activity"}:t>l?{status:"Good",color:"text-green-500",message:"Healthy HRV levels"}:t>l-10?{status:"Moderate",color:"text-yellow-500",message:"Moderately reduced HRV, monitor trends"}:{status:"Low",color:"text-red-500",message:"Reduced HRV, potential stress/fatigue"}}function Ja(t,a,l){const r=Math.max(0,Math.min(1,(t-40)/60)),c=l<25?60:l<35?55:50,m=Math.max(0,Math.min(1,a/(c*1.5)));return(r*.6+(1-m)*.4)*100}function L0(t){return t<30?{level:"Low",color:"text-green-500",bgColor:"bg-green-500",message:"Low stress levels, good recovery"}:t<60?{level:"Moderate",color:"text-yellow-500",bgColor:"bg-yellow-500",message:"Moderate stress, monitor recovery"}:{level:"High",color:"text-red-500",bgColor:"bg-red-500",message:"High stress levels, prioritize recovery"}}function L5(t,a=7){if(t.length<a*2)return{acuteStress:0,chronicStress:0,stressBalance:0};const l=t.slice(-a),r=l.reduce((b,v)=>b+v.resting_hr,0)/l.length,c=l.reduce((b,v)=>b+v.hrv_night,0)/l.length,m=r/70*50+(1-c/60)*50,d=t.slice(-(a*2),-a),h=d.reduce((b,v)=>b+v.resting_hr,0)/d.length,x=d.reduce((b,v)=>b+v.hrv_night,0)/d.length,p=h/70*50+(1-x/60)*50,g=p-m;return{acuteStress:m,chronicStress:p,stressBalance:g}}function P5(t,a,l,r,c){if(t.length<3)return 50;const m=Math.max(0,100-Math.abs(a)*10),d=Math.max(0,Math.min(100,50+l*2)),h=Math.max(0,100-(r-50)*2),x=c>85?100-(c-85)*2:c<40?100-(40-c)*1.5:100;return m*.25+d*.25+h*.25+x*.25}function P0(t,a=7){if(t.length<a)return 0;const l=t.slice(-a),r=t.slice(-(a*2),-a);if(l.length===0||r.length===0)return 0;const c=l.reduce((d,h)=>d+h.hrv_night,0)/l.length,m=r.reduce((d,h)=>d+h.hrv_night,0)/r.length;return c-m}const H5=({athleteId:t,biometricData:a})=>{const[l,r]=C.useState("7d"),[c,m]=C.useState("24h"),[d,h]=C.useState(void 0),[x,p]=C.useState(!0),[g,b]=C.useState(null);C.useEffect(()=>{t&&(async()=>{try{p(!0),b(null);const Z=typeof t=="string"?parseInt(t,10):t,J=await fa.getAthleteData(Z);h(J.athlete),!a.length&&J.biometricData.length}catch{b("Failed to load athlete data")}finally{p(!1)}})()},[t,a.length]);const v=d?.age||25,N=C.useMemo(()=>{if(!a||a.length===0)return[];const q=l==="7d"?7:30;return a.slice(-q).map(J=>{const E=Ja(J.resting_hr,J.hrv_night,v),L=L0(E).level,U=P0(a,7),I=P5(a,0,U,J.resting_hr,J.training_load_pct);return{date:J.date,restingHR:J.resting_hr,hrv:J.hrv_night,strainIndex:E,stressLevel:L,recoveryReadiness:I,trainingLoad:J.training_load_pct}})},[a,l,v]),j=N.length>0?N[N.length-1]:null,w=j?G5(j.restingHR):null,A=j?O5(j.hrv,v):null,S=j?j.strainIndex:0,R=j?L0(S):null,_=L5(a,7),T=P0(a,7),O=C.useMemo(()=>j?Ja(j.restingHR,j.hrv,v):0,[j,v]),V=C.useMemo(()=>{if(N.length<2)return 0;const q=N[N.length-2];return Ja(q.restingHR,q.hrv,v)},[N,v]),K=O-V,y=K>=0?`‚Üë ${K.toFixed(1)}`:`‚Üì ${Math.abs(K).toFixed(1)}`,F=C.useMemo(()=>{if(a.length===0)return[];if(c==="24h"){const q=a.slice(-24);return q.map((Z,J)=>{const E=Ja(Z.resting_hr,Z.hrv_night,v),L=q.length-1-J;return{time:L===0?"Now":`${L}h ago`,heartRate:Z.resting_hr,stressLevel:E}})}else{const q={};return a.forEach(J=>{const E=J.date;q[E]||(q[E]=[]),q[E].push(J)}),Object.keys(q).sort().slice(-7).map(J=>{const E=q[J],L=E.reduce((ie,me)=>ie+me.resting_hr,0)/E.length,U=E.reduce((ie,me)=>ie+me.hrv_night,0)/E.length,I=Ja(L,U,v);return{time:new Date(J).toLocaleDateString("en-US",{weekday:"short"}),heartRate:Math.round(L),stressLevel:I}})}},[a,c,v]),Y=C.useMemo(()=>a.length===0?[{id:5,name:"ZONE 5",range:"90‚Äì100%",percentage:0,duration:"0:00:00",color:"#EF4444",bgColor:"bg-red-500"},{id:4,name:"ZONE 4",range:"80‚Äì90%",percentage:0,duration:"0:00:00",color:"#F97316",bgColor:"bg-orange-500"},{id:3,name:"ZONE 3",range:"70‚Äì80%",percentage:0,duration:"0:00:00",color:"#EAB308",bgColor:"bg-yellow-500"},{id:2,name:"ZONE 2",range:"50‚Äì70%",percentage:0,duration:"0:00:00",color:"#22C55E",bgColor:"bg-green-500"},{id:1,name:"ZONE 1",range:"0‚Äì50%",percentage:0,duration:"0:00:00",color:"#3B82F6",bgColor:"bg-blue-500"}]:[{id:5,name:"ZONE 5",range:"90‚Äì100%",percentage:10,duration:"0:15:22",color:"#EF4444",bgColor:"bg-red-500"},{id:4,name:"ZONE 4",range:"80‚Äì90%",percentage:20,duration:"0:30:45",color:"#F97316",bgColor:"bg-orange-500"},{id:3,name:"ZONE 3",range:"70‚Äì80%",percentage:30,duration:"0:45:10",color:"#EAB308",bgColor:"bg-yellow-500"},{id:2,name:"ZONE 2",range:"50‚Äì70%",percentage:25,duration:"0:37:33",color:"#22C55E",bgColor:"bg-green-500"},{id:1,name:"ZONE 1",range:"0‚Äì50%",percentage:15,duration:"0:22:10",color:"#3B82F6",bgColor:"bg-blue-500"}],[a]),X=q=>new Date(q).toLocaleDateString("en-US",{month:"short",day:"numeric"}),$=q=>q;return x?e.jsx("div",{className:"space-y-8",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),e.jsx("p",{className:"text-white",children:"Loading athlete data..."})]})})}):g?e.jsx("div",{className:"space-y-8",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-4xl mb-4",children:"‚ö†Ô∏è"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Failed to Load Athlete Data"}),e.jsx("p",{className:"text-gray-300 mb-4",children:g}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Retry"})]})})}):d?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"üßò Stress Management"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>r("7d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l==="7d"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"7 Days"}),e.jsx("button",{onClick:()=>r("30d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l==="30d"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"30 Days"})]})]}),e.jsx("div",{className:"card-enhanced p-6",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`text-6xl font-bold mb-2 ${R?.level==="High"?"text-red-500":R?.level==="Moderate"?"text-yellow-500":R?.level==="Low"?"text-green-500":"text-gray-500"}`,children:O.toFixed(1)}),e.jsx("div",{className:"text-lg text-gray-300 mb-1",children:"STRESS SCORE"}),e.jsxs("div",{className:`text-sm font-medium ${K>=0?"text-red-400":"text-green-400"}`,children:[y," from previous"]})]})}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Stress Level Indicator"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsx("div",{className:"flex-1 flex justify-center",children:e.jsxs("div",{className:"relative w-48 h-48",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-gray-200"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-transparent",style:{borderTopColor:R?.bgColor.replace("bg-","")==="bg-green-500"?"#10B981":R?.bgColor.replace("bg-","")==="bg-yellow-500"?"#F59E0B":"#EF4444",borderRightColor:R?.bgColor.replace("bg-","")==="bg-green-500"?"#10B981":R?.bgColor.replace("bg-","")==="bg-yellow-500"?"#F59E0B":"#EF4444",transform:"rotate(45deg)",clipPath:`inset(0 ${100-S/100*100}% 0 0)`}}),e.jsx("div",{className:"absolute inset-8 rounded-full bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-3xl font-bold ${R?.color||"text-gray-500"}`,children:S?Math.round(S):"--"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Stress Index"})]})})]})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Current Stress Level"}),e.jsx("p",{className:`text-2xl font-bold mt-1 ${R?.color||"text-gray-500"}`,children:R?.level||"Unknown"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:R?.message||"No data available"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Resting Heart Rate"}),e.jsx("p",{className:`text-2xl font-bold mt-1 ${w?.color||"text-gray-500"}`,children:j?`${j.restingHR} bpm`:"--"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w?.message||"No data available"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Heart Rate Variability"}),e.jsx("p",{className:`text-2xl font-bold mt-1 ${A?.color||"text-gray-500"}`,children:j?`${j.hrv} ms`:"--"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:A?.message||"No data available"})]})]})})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:c==="24h"?"HEART RATE TODAY":"HEART RATE THIS WEEK"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Monitor your heart rate patterns throughout the day to understand stress and recovery."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>m("24h"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${c==="24h"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"24 Hours"}),e.jsx("button",{onClick:()=>m("7d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${c==="7d"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"7 Days"})]})]}),e.jsx("div",{className:"h-64",children:e.jsx(Ce,{width:"100%",height:"100%",children:e.jsxs(Py,{data:F,margin:{top:5,right:20,left:10,bottom:5},children:[e.jsx(We,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(Ye,{dataKey:"time",stroke:"#9CA3AF",tickFormatter:$}),e.jsx(Me,{stroke:"#9CA3AF",domain:[40,180]}),e.jsx(Ve,{contentStyle:{backgroundColor:"#1F2937",borderColor:"#374151",borderRadius:"0.5rem",color:"#F9FAFB"},formatter:(q,Z)=>Z==="heartRate"?[`${q} bpm`,"Heart Rate"]:Z==="stressLevel"?[`${Number(q).toFixed(1)}`,"Stress Level"]:[q,Z]}),e.jsx(Hy,{type:"monotone",dataKey:"heartRate",name:"Heart Rate",stroke:"#3B82F6",fill:"url(#colorHeartRate)",strokeWidth:2}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorHeartRate",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:.1})]})})]})})}),e.jsx("div",{className:"mt-4 text-sm text-gray-400",children:e.jsx("p",{children:"Heart rate range: 100‚Äì175 bpm"})})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"STRESS ZONES"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Distribution of time spent in different heart rate zones indicates training intensity and stress levels."})]}),e.jsx("div",{className:"space-y-4",children:Y.map(q=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-900 mr-2",children:q.name}),e.jsxs("span",{className:"text-gray-400",children:["(",q.range,")"]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("span",{className:"text-gray-900",children:[q.percentage,"%"]}),e.jsx("span",{className:"text-gray-400",children:q.duration})]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:e.jsx("div",{className:"h-2.5 rounded-full",style:{width:`${q.percentage}%`,backgroundColor:q.color}})})]},q.id))})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"HRV Trend (7/30 Days)"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Heart Rate Variability (HRV) is a key indicator of stress and recovery. Higher HRV values indicate better recovery and parasympathetic nervous system activity."}),e.jsx("div",{className:"h-80",children:e.jsx(Ce,{width:"100%",height:"100%",children:e.jsxs(Wt,{data:N,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(We,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(Ye,{dataKey:"date",tickFormatter:X,stroke:"#6b7280"}),e.jsx(Me,{stroke:"#6b7280"}),e.jsx(Ve,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"},formatter:(q,Z)=>Z==="hrv"?[`${typeof q=="number"?Math.round(q):q} ms`,"HRV"]:Z==="restingHR"?[`${typeof q=="number"?Math.round(q):q} bpm`,"Resting HR"]:[typeof q=="number"?Math.round(q):q,Z],labelFormatter:q=>`Date: ${new Date(q).toLocaleDateString()}`}),e.jsx(ot,{}),e.jsx(fe,{type:"monotone",dataKey:"hrv",name:"HRV (ms)",stroke:"#10B981",strokeWidth:3,dot:{r:4},activeDot:{r:6}}),e.jsx(fe,{type:"monotone",dataKey:"restingHR",name:"Resting HR (bpm)",stroke:"#EF4444",strokeWidth:3,dot:{r:4},activeDot:{r:6}}),e.jsx(Ie,{y:T>0?Math.min(...N.map(q=>q.hrv)):Math.max(...N.map(q=>q.hrv)),stroke:T>0?"#10B981":"#EF4444",strokeDasharray:"3 3"})]})})}),e.jsx("div",{className:"mt-4 text-sm text-gray-600",children:e.jsxs("p",{children:["HRV Trend (7 days):",e.jsxs("span",{className:T>0?"text-green-600 font-medium":T<0?"text-red-600 font-medium":"text-gray-600",children:[" ",T>0?"+":"",T.toFixed(1)," ms"]})," ","| Daily Stress Load:",e.jsxs("span",{className:_.stressBalance>0?"text-green-600 font-medium":_.stressBalance<0?"text-red-600 font-medium":"text-gray-600",children:[" ",_.stressBalance>0?"+":"",Math.round(_.stressBalance)]})]})})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Training Load vs Recovery Readiness"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This chart shows the relationship between training load and recovery readiness. Optimal performance occurs when training load and recovery are balanced."}),e.jsx("div",{className:"h-80",children:e.jsx(Ce,{width:"100%",height:"100%",children:e.jsxs(Q0,{data:N,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(We,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(Ye,{dataKey:"date",tickFormatter:X,stroke:"#6b7280"}),e.jsx(Me,{yAxisId:"left",orientation:"left",stroke:"#6b7280"}),e.jsx(Me,{yAxisId:"right",orientation:"right",stroke:"#6b7280"}),e.jsx(Ve,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"},formatter:(q,Z)=>Z==="trainingLoad"?[`${typeof q=="number"?Math.round(q):q}%`,"Training Load"]:Z==="recoveryReadiness"?[`${typeof q=="number"?Math.round(q):q}%`,"Recovery Readiness"]:[typeof q=="number"?Math.round(q):q,Z]}),e.jsx(ot,{}),e.jsx(Gl,{yAxisId:"left",dataKey:"trainingLoad",name:"Training Load (%)",fill:"#3B82F6",radius:[4,4,0,0]}),e.jsx(fe,{yAxisId:"right",type:"monotone",dataKey:"recoveryReadiness",name:"Recovery Readiness (%)",stroke:"#10B981",strokeWidth:3,dot:{r:4},activeDot:{r:6}})]})})}),e.jsx("div",{className:"mt-4 text-sm text-gray-600",children:e.jsxs("p",{children:["Recovery Readiness:",e.jsxs("span",{className:j?.recoveryReadiness&&j.recoveryReadiness>70?"text-green-600 font-medium":j?.recoveryReadiness&&j.recoveryReadiness>40?"text-yellow-600 font-medium":"text-red-600 font-medium",children:[" ",j?.recoveryReadiness?Math.round(j.recoveryReadiness):"--","%"]})," ","| Chronic Stress:",e.jsxs("span",{className:_.chronicStress<40?"text-green-600 font-medium":_.chronicStress<60?"text-yellow-600 font-medium":"text-red-600 font-medium",children:[" ",Math.round(_.chronicStress)]})]})})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Stress Insights"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[e.jsx("h4",{className:"font-medium text-blue-800",children:"Acute Stress Load"}),e.jsx("p",{className:"text-2xl font-bold mt-1 text-blue-600",children:Math.round(_.acuteStress)}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Last 7 days average"})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[e.jsx("h4",{className:"font-medium text-purple-800",children:"Chronic Stress Load"}),e.jsx("p",{className:"text-2xl font-bold mt-1 text-purple-600",children:Math.round(_.chronicStress)}),e.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"Previous 7 days average"})]}),e.jsxs("div",{className:`${_.stressBalance>0?"bg-green-50 border-green-100":_.stressBalance<0?"bg-red-50 border-red-100":"bg-gray-50 border-gray-100"} p-4 rounded-lg border`,children:[e.jsx("h4",{className:`font-medium ${_.stressBalance>0?"text-green-800":_.stressBalance<0?"text-red-800":"text-gray-800"}`,children:"Stress Balance"}),e.jsxs("p",{className:`text-2xl font-bold mt-1 ${_.stressBalance>0?"text-green-600":_.stressBalance<0?"text-red-600":"text-gray-600"}`,children:[_.stressBalance>0?"+":"",Math.round(_.stressBalance)]}),e.jsx("p",{className:"text-sm mt-1",style:{color:_.stressBalance>0?"#059669":_.stressBalance<0?"#DC2626":"#6B7280"},children:_.stressBalance>0?"Improving trend":_.stressBalance<0?"Worsening trend":"Stable"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Stress Management Recommendations"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm text-gray-600",children:[R?.level==="High"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Prioritize sleep hygiene and aim for 7-9 hours of quality sleep"}),e.jsx("li",{children:"Consider active recovery or rest days to allow stress markers to normalize"}),e.jsx("li",{children:"Practice stress-reduction techniques like meditation or breathing exercises"})]}),R?.level==="Moderate"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Maintain consistent sleep schedule and monitor sleep quality"}),e.jsx("li",{children:"Balance training load with adequate recovery periods"}),e.jsx("li",{children:"Stay hydrated and maintain proper nutrition to support recovery"})]}),R?.level==="Low"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"You're in a good recovery state - maintain current healthy habits"}),e.jsx("li",{children:"Continue monitoring trends to prevent stress accumulation"}),e.jsx("li",{children:"Optimize training timing for peak performance windows"})]}),!R&&e.jsx("li",{children:"Insufficient data to provide specific recommendations. Continue monitoring metrics."})]})]})]})]}):e.jsx("div",{className:"space-y-8",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-400 text-4xl mb-4",children:"üë§"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Athlete Not Found"}),e.jsx("p",{className:"text-gray-300",children:"No athlete data available for the selected athlete."})]})})})},eg=({athleteId:t})=>{const[a,l]=C.useState([]),[r,c]=C.useState(!0),[m,d]=C.useState(null);C.useEffect(()=>{(async()=>{try{c(!0),d(null);const g=typeof t=="string"?parseInt(t,10):t,b=await fa.getAthleteData(g,!0);if(!b.bloodResults||b.bloodResults.length===0){l([]);return}const v=b.bloodResults.filter(j=>j.cortisol_nmol_l!==void 0&&j.cortisol_nmol_l!==null&&j.testosterone!==void 0&&j.testosterone!==null&&j.date);if(v.length===0){l([]);return}const N=v.map(j=>{const w=new Date(j.date),A=w.getTime(),S=j.testosterone,R=Math.min(...v.map(O=>O.testosterone)),_=Math.max(...v.map(O=>O.testosterone)),T=20+(S-R)/(_-R)*80;return{date:A,dateString:w.toLocaleDateString(),cortisol:j.cortisol_nmol_l,testosterone:S,size:T}});N.sort((j,w)=>j.date-w.date),l(N)}catch{d("Failed to load hormone balance data. Please try again.")}finally{c(!1)}})()},[t]);const h=({active:p,payload:g})=>{if(p&&g&&g.length){const b=g[0].payload;return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-lg",children:[e.jsx("p",{className:"text-white font-medium",children:`Date: ${b.dateString}`}),e.jsx("p",{className:"text-blue-400",children:`Cortisol: ${b.cortisol.toFixed(1)} nmol/L`}),e.jsx("p",{className:"text-green-400",children:`Testosterone: ${b.testosterone.toFixed(1)} nmol/L`})]})}return null},x=p=>p<8.4?"#ef4444":p>28.7?"#10b981":"#3b82f6";return r?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Loading hormone balance data..."})]})}):m?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Is,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-400 font-medium text-lg",children:"Error loading hormone balance data"}),e.jsx("p",{className:"text-gray-400 mt-2",children:m})]})}):a.length===0?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(is,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 font-medium text-lg",children:"No hormone balance data available"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Hormone balance data requires blood test results with both cortisol and testosterone measurements."})]})}):a.length<2?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(is,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),e.jsx("p",{className:"text-yellow-400 font-medium text-lg",children:"Insufficient data for hormone balance chart"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"At least 2 data points with both cortisol and testosterone measurements are required."})]})}):e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Hormone Balance Chart"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Cortisol vs Testosterone levels over time. Bubble size represents testosterone concentration."}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("span",{children:"Low Testosterone (< 8.4 nmol/L)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Normal Testosterone"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{children:"High Testosterone (> 28.7 nmol/L)"})]})]})]}),e.jsx("div",{className:"h-96",children:e.jsx(Ce,{width:"100%",height:"100%",children:e.jsxs(V0,{data:a,margin:{top:20,right:20,bottom:20,left:20},children:[e.jsx(We,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(Ye,{type:"number",dataKey:"date",domain:["dataMin","dataMax"],tickFormatter:p=>new Date(p).toLocaleDateString(),stroke:"#9ca3af"}),e.jsx(Me,{type:"number",dataKey:"cortisol",domain:["dataMin - 10","dataMax + 10"],label:{value:"Cortisol (nmol/L)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#9ca3af"}},stroke:"#9ca3af"}),e.jsx(Ve,{content:e.jsx(h,{})}),e.jsx(z0,{dataKey:"cortisol",fill:"#8884d8",children:a.map((p,g)=>e.jsx(Ac,{fill:x(p.testosterone),r:p.size/10},`cell-${g}`))})]})})}),e.jsxs("div",{className:"mt-4 text-center text-sm text-gray-500",children:[a.length," data point",a.length!==1?"s":""," ‚Ä¢ Last updated: ",a[a.length-1]?.dateString]})]})},V5=({athleteId:t})=>{const[a,l]=C.useState([]),[r,c]=C.useState(!0),[m,d]=C.useState(null);C.useEffect(()=>{(async()=>{try{c(!0),d(null);const p=typeof t=="string"?parseInt(t,10):t,g=await fa.getAthleteData(p,!0);if(!g.bloodResults||g.bloodResults.length===0){l([]);return}const b=g.bloodResults.filter(N=>N.fasting_glucose!==void 0&&N.fasting_glucose!==null||N.hba1c!==void 0&&N.hba1c!==null||N.estimated_average_glucose!==void 0&&N.estimated_average_glucose!==null);if(b.length===0){l([]);return}const v=b.filter(N=>N.date).map(N=>{const j=new Date(N.date);return{date:j.getTime(),dateString:j.toLocaleDateString(),glucose:N.fasting_glucose||0,hba1c:N.hba1c||0,estimatedGlucose:N.estimated_average_glucose}});v.sort((N,j)=>N.date-j.date),l(v)}catch{d("Failed to load metabolic health data. Please try again.")}finally{c(!1)}})()},[t]);const h=({active:x,payload:p,label:g})=>{if(x&&p&&p.length){const b=p[0].payload;return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-lg",children:[e.jsx("p",{className:"text-white font-medium",children:`Date: ${b.dateString}`}),p.map((v,N)=>e.jsx("p",{style:{color:v.color},children:`${v.name}: ${v.value?.toFixed(1)} ${v.dataKey==="glucose"?"mmol/L":"%"}`},N))]})}return null};return r?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Loading metabolic health data..."})]})}):m?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Is,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-400 font-medium text-lg",children:"Error loading metabolic health data"}),e.jsx("p",{className:"text-gray-400 mt-2",children:m})]})}):a.length===0?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(is,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 font-medium text-lg",children:"No metabolic health data available"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Metabolic health data requires blood test results with glucose or HbA1c measurements."})]})}):e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Metabolic Health Trends"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Glucose and HbA1c levels over time. Monitor metabolic health and diabetes risk."}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Fasting Glucose (3.9-5.6 mmol/L)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{children:"HbA1c (4.0-6.0%)"})]})]})]}),e.jsx("div",{className:"h-96",children:e.jsx(Ce,{width:"100%",height:"100%",children:e.jsxs(Wt,{data:a,margin:{top:20,right:30,bottom:20,left:20},children:[e.jsx(We,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(Ye,{type:"number",dataKey:"date",domain:["dataMin","dataMax"],tickFormatter:x=>new Date(x).toLocaleDateString(),stroke:"#9ca3af"}),e.jsx(Me,{yAxisId:"glucose",orientation:"left",domain:["dataMin - 0.5","dataMax + 0.5"],label:{value:"Glucose (mmol/L)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#9ca3af"}},stroke:"#3b82f6"}),e.jsx(Me,{yAxisId:"hba1c",orientation:"right",domain:["dataMin - 0.2","dataMax + 0.2"],label:{value:"HbA1c (%)",angle:90,position:"insideRight",style:{textAnchor:"middle",fill:"#9ca3af"}},stroke:"#10b981"}),e.jsx(Ve,{content:e.jsx(h,{})}),e.jsx(ot,{}),e.jsx(Ie,{yAxisId:"glucose",y:3.9,stroke:"#ef4444",strokeDasharray:"5 5",label:"Low Glucose"}),e.jsx(Ie,{yAxisId:"glucose",y:5.6,stroke:"#ef4444",strokeDasharray:"5 5",label:"High Glucose"}),e.jsx(Ie,{yAxisId:"hba1c",y:4,stroke:"#f59e0b",strokeDasharray:"5 5",label:"Low HbA1c"}),e.jsx(Ie,{yAxisId:"hba1c",y:6,stroke:"#f59e0b",strokeDasharray:"5 5",label:"High HbA1c"}),e.jsx(fe,{yAxisId:"glucose",type:"monotone",dataKey:"glucose",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",strokeWidth:2,r:4},name:"Fasting Glucose",connectNulls:!1}),e.jsx(fe,{yAxisId:"hba1c",type:"monotone",dataKey:"hba1c",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",strokeWidth:2,r:4},name:"HbA1c",connectNulls:!1})]})})}),e.jsxs("div",{className:"mt-4 text-center text-sm text-gray-500",children:[a.length," data point",a.length!==1?"s":""," ‚Ä¢ Last updated: ",a[a.length-1]?.dateString]})]})},z5=({athleteId:t})=>{const[a,l]=C.useState([]),[r,c]=C.useState(!0),[m,d]=C.useState(null);C.useEffect(()=>{(async()=>{try{c(!0),d(null);const p=typeof t=="string"?parseInt(t,10):t,g=await fa.getAthleteData(p,!0);if(!g.bloodResults||g.bloodResults.length===0){l([]);return}const b=g.bloodResults.filter(N=>N.c_reactive_protein!==void 0&&N.c_reactive_protein!==null||N.esr!==void 0&&N.esr!==null||N.leucocyte_count!==void 0&&N.leucocyte_count!==null||N.nlr!==void 0&&N.nlr!==null);if(b.length===0){l([]);return}const v=b.filter(N=>N.date).map(N=>{const j=new Date(N.date);return{date:j.getTime(),dateString:j.toLocaleDateString(),crp:N.c_reactive_protein||0,esr:N.esr||0,wbc:N.leucocyte_count||0,nlr:N.nlr||0}});v.sort((N,j)=>N.date-j.date),l(v)}catch{d("Failed to load inflammation data. Please try again.")}finally{c(!1)}})()},[t]);const h=({active:x,payload:p,label:g})=>{if(x&&p&&p.length){const b=p[0].payload;return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-lg",children:[e.jsx("p",{className:"text-white font-medium",children:`Date: ${b.dateString}`}),p.map((v,N)=>{let j="";return v.dataKey==="crp"?j=" mg/L":v.dataKey==="esr"?j=" mm/hr":v.dataKey==="wbc"?j=" √ó10‚Åπ/L":v.dataKey==="nlr"&&(j=""),e.jsx("p",{style:{color:v.color},children:`${v.name}: ${v.value?.toFixed(1)}${j}`},N)})]})}return null};return r?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Loading inflammation data..."})]})}):m?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Is,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-400 font-medium text-lg",children:"Error loading inflammation data"}),e.jsx("p",{className:"text-gray-400 mt-2",children:m})]})}):a.length===0?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(is,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 font-medium text-lg",children:"No inflammation data available"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Inflammation data requires blood test results with CRP, ESR, WBC, or NLR measurements."})]})}):e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Inflammation & Immune Response"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Track inflammation markers and immune system activity over time."}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("span",{children:"CRP (<3.0 mg/L)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),e.jsx("span",{children:"ESR (<20 mm/hr)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{children:"WBC (4.0-11.0 √ó10‚Åπ/L)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),e.jsx("span",{children:"NLR (<3.0)"})]})]})]}),e.jsx("div",{className:"h-96",children:e.jsx(Ce,{width:"100%",height:"100%",children:e.jsxs(Zo,{data:a,margin:{top:20,right:30,bottom:20,left:20},children:[e.jsx(We,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(Ye,{type:"number",dataKey:"date",domain:["dataMin","dataMax"],tickFormatter:x=>new Date(x).toLocaleDateString(),stroke:"#9ca3af"}),e.jsx(Me,{yAxisId:"inflammation",orientation:"left",domain:["dataMin","dataMax"],label:{value:"Inflammation Markers",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#9ca3af"}},stroke:"#9ca3af"}),e.jsx(Me,{yAxisId:"immune",orientation:"right",domain:["dataMin","dataMax"],label:{value:"Immune Cells",angle:90,position:"insideRight",style:{textAnchor:"middle",fill:"#9ca3af"}},stroke:"#9ca3af"}),e.jsx(Ve,{content:e.jsx(h,{})}),e.jsx(ot,{}),e.jsx(Ie,{yAxisId:"inflammation",y:3,stroke:"#ef4444",strokeDasharray:"5 5",label:"CRP Normal"}),e.jsx(Ie,{yAxisId:"inflammation",y:20,stroke:"#f59e0b",strokeDasharray:"5 5",label:"ESR Normal"}),e.jsx(Ie,{yAxisId:"immune",y:4,stroke:"#3b82f6",strokeDasharray:"5 5",label:"WBC Low"}),e.jsx(Ie,{yAxisId:"immune",y:11,stroke:"#3b82f6",strokeDasharray:"5 5",label:"WBC High"}),e.jsx(Ie,{yAxisId:"immune",y:3,stroke:"#8b5cf6",strokeDasharray:"5 5",label:"NLR Normal"}),e.jsx(fe,{yAxisId:"inflammation",type:"monotone",dataKey:"crp",stroke:"#ef4444",strokeWidth:2,dot:{fill:"#ef4444",strokeWidth:2,r:4},name:"C-Reactive Protein",connectNulls:!1}),e.jsx(fe,{yAxisId:"inflammation",type:"monotone",dataKey:"esr",stroke:"#f59e0b",strokeWidth:2,dot:{fill:"#f59e0b",strokeWidth:2,r:4},name:"ESR",connectNulls:!1}),e.jsx(Gl,{yAxisId:"immune",dataKey:"wbc",fill:"#3b82f6",name:"White Blood Cells",opacity:.7}),e.jsx(fe,{yAxisId:"immune",type:"monotone",dataKey:"nlr",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",strokeWidth:2,r:4},name:"Neutrophil-Lymphocyte Ratio",connectNulls:!1})]})})}),e.jsxs("div",{className:"mt-4 text-center text-sm text-gray-500",children:[a.length," data point",a.length!==1?"s":""," ‚Ä¢ Last updated: ",a[a.length-1]?.dateString]})]})},k5=({athleteId:t})=>{const[a,l]=C.useState([]),[r,c]=C.useState(!0),[m,d]=C.useState(null);C.useEffect(()=>{(async()=>{try{c(!0),d(null);const p=typeof t=="string"?parseInt(t,10):t,g=await fa.getAthleteData(p,!0);if(!g.bloodResults||g.bloodResults.length===0){l([]);return}const b=g.bloodResults.filter(N=>N.s_alanine_transaminase!==void 0&&N.s_alanine_transaminase!==null||N.s_aspartate_transaminase!==void 0&&N.s_aspartate_transaminase!==null||N.s_glutamyl_transferase!==void 0&&N.s_glutamyl_transferase!==null||N.creatinine!==void 0&&N.creatinine!==null||N.egfr!==void 0&&N.egfr!==null);if(b.length===0){l([]);return}const v=b.filter(N=>N.date).map(N=>{const j=new Date(N.date);return{date:j.getTime(),dateString:j.toLocaleDateString(),alt:N.s_alanine_transaminase||0,ast:N.s_aspartate_transaminase||0,ggt:N.s_glutamyl_transferase||0,creatinine:N.creatinine||0,egfr:N.egfr||0}});v.sort((N,j)=>N.date-j.date),l(v)}catch{d("Failed to load organ function data. Please try again.")}finally{c(!1)}})()},[t]);const h=({active:x,payload:p,label:g})=>{if(x&&p&&p.length){const b=p[0].payload;return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-lg",children:[e.jsx("p",{className:"text-white font-medium",children:`Date: ${b.dateString}`}),p.map((v,N)=>{let j=" U/L";return v.dataKey==="creatinine"?j=" ¬µmol/L":v.dataKey==="egfr"&&(j=" mL/min/1.73m¬≤"),e.jsx("p",{style:{color:v.color},children:`${v.name}: ${v.value?.toFixed(1)}${j}`},N)})]})}return null};return r?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Loading organ function data..."})]})}):m?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Is,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-400 font-medium text-lg",children:"Error loading organ function data"}),e.jsx("p",{className:"text-gray-400 mt-2",children:m})]})}):a.length===0?e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(is,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 font-medium text-lg",children:"No organ function data available"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Organ function data requires blood test results with liver or kidney markers."})]})}):e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Liver & Kidney Function Trends"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Monitor liver enzymes (ALT, AST, GGT) and kidney function (creatinine, eGFR) over time."}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{children:"Liver Enzymes (ALT <56, AST <40, GGT <48 U/L)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Kidney Function (Creatinine 60-110 ¬µmol/L, eGFR >90)"})]})]})]}),e.jsx("div",{className:"h-96",children:e.jsx(Ce,{width:"100%",height:"100%",children:e.jsxs(Wt,{data:a,margin:{top:20,right:30,bottom:20,left:20},children:[e.jsx(We,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(Ye,{type:"number",dataKey:"date",domain:["dataMin","dataMax"],tickFormatter:x=>new Date(x).toLocaleDateString(),stroke:"#9ca3af"}),e.jsx(Me,{yAxisId:"liver",orientation:"left",domain:["dataMin","dataMax"],label:{value:"Liver Enzymes (U/L)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#9ca3af"}},stroke:"#10b981"}),e.jsx(Me,{yAxisId:"kidney",orientation:"right",domain:["dataMin","dataMax"],label:{value:"Kidney Markers",angle:90,position:"insideRight",style:{textAnchor:"middle",fill:"#9ca3af"}},stroke:"#3b82f6"}),e.jsx(Ve,{content:e.jsx(h,{})}),e.jsx(ot,{}),e.jsx(Ie,{yAxisId:"liver",y:56,stroke:"#ef4444",strokeDasharray:"5 5",label:"ALT Normal"}),e.jsx(Ie,{yAxisId:"liver",y:40,stroke:"#f59e0b",strokeDasharray:"5 5",label:"AST Normal"}),e.jsx(Ie,{yAxisId:"liver",y:48,stroke:"#8b5cf6",strokeDasharray:"5 5",label:"GGT Normal"}),e.jsx(Ie,{yAxisId:"kidney",y:60,stroke:"#3b82f6",strokeDasharray:"5 5",label:"Creatinine Low"}),e.jsx(Ie,{yAxisId:"kidney",y:110,stroke:"#3b82f6",strokeDasharray:"5 5",label:"Creatinine High"}),e.jsx(Ie,{yAxisId:"kidney",y:90,stroke:"#10b981",strokeDasharray:"5 5",label:"eGFR Normal"}),e.jsx(fe,{yAxisId:"liver",type:"monotone",dataKey:"alt",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",strokeWidth:2,r:4},name:"ALT",connectNulls:!1}),e.jsx(fe,{yAxisId:"liver",type:"monotone",dataKey:"ast",stroke:"#f59e0b",strokeWidth:2,dot:{fill:"#f59e0b",strokeWidth:2,r:4},name:"AST",connectNulls:!1}),e.jsx(fe,{yAxisId:"liver",type:"monotone",dataKey:"ggt",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",strokeWidth:2,r:4},name:"GGT",connectNulls:!1}),e.jsx(fe,{yAxisId:"kidney",type:"monotone",dataKey:"creatinine",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",strokeWidth:2,r:4},name:"Creatinine",connectNulls:!1}),e.jsx(fe,{yAxisId:"kidney",type:"monotone",dataKey:"egfr",stroke:"#ef4444",strokeWidth:2,dot:{fill:"#ef4444",strokeWidth:2,r:4},name:"eGFR",connectNulls:!1})]})})}),e.jsxs("div",{className:"mt-4 text-center text-sm text-gray-500",children:[a.length," data point",a.length!==1?"s":""," ‚Ä¢ Last updated: ",a[a.length-1]?.dateString]})]})},F5=({athleteId:t})=>{const[a,l]=C.useState([]),[r,c]=C.useState(!0),[m,d]=C.useState(null);C.useEffect(()=>{(async()=>{try{c(!0),d(null);const v=typeof t=="string"?parseInt(t,10):t,N=await oy.getBloodResultsByAthlete(v);l(N)}catch{d("Failed to load blood results data. Please try again.")}finally{c(!1)}})()},[t]);const h=(b,v=2)=>b==null?"N/A":b.toFixed(v),x=(b,v)=>b==null||!v?e.jsx(Fy,{className:"w-4 h-4 text-gray-400"}):b<v.min?e.jsx(Uy,{className:"w-4 h-4 text-blue-500"}):b>v.max?e.jsx(Ky,{className:"w-4 h-4 text-red-500"}):e.jsx(Wo,{className:"w-4 h-4 text-green-500"}),p=(b,v)=>b==null||!v?"text-gray-400":b<v.min||b>v.max?"text-red-600 bg-red-50":"text-green-600 bg-green-50";if(r)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Loading blood results..."})]})});if(m)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Is,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-400 font-medium text-lg",children:"Error loading blood results"}),e.jsx("p",{className:"text-gray-400 mt-2",children:m})]})});if(a.length===0)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(is,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 font-medium text-lg",children:"No blood results available"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Blood test results will appear here once uploaded."})]})});const g=a[a.length-1];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-red-500/5 to-transparent"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-pink-500/5 to-transparent"}),e.jsxs("div",{className:"relative z-10 p-8 space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-red-500 to-pink-500 rounded-full mb-4 shadow-lg animate-pulse",children:e.jsx(Vy,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-white via-red-200 to-pink-200 bg-clip-text text-transparent mb-2",children:"Blood Results"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Comprehensive blood analysis from PostgreSQL database"}),e.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:[a.length," test result",a.length!==1?"s":""," available"]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(zy,{className:"w-6 h-6"}),"Test Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Test Date"}),e.jsx("div",{className:"text-lg font-semibold text-white",children:g.date?new Date(g.date).toLocaleDateString():"N/A"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Lab Name"}),e.jsx("div",{className:"text-lg font-semibold text-white",children:g.lab_name||"N/A"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Test Method"}),e.jsx("div",{className:"text-lg font-semibold text-white",children:g.test_method||"N/A"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Status"}),e.jsx("div",{className:"text-lg font-semibold text-white flex items-center gap-2",children:g.is_abnormal?e.jsxs(e.Fragment,{children:[e.jsx(Is,{className:"w-5 h-5 text-red-500"}),"Abnormal"]}):e.jsxs(e.Fragment,{children:[e.jsx(Wo,{className:"w-5 h-5 text-green-500"}),"Normal"]})})]})]}),g.notes&&e.jsxs("div",{className:"mt-4 bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Notes"}),e.jsx("div",{className:"text-white",children:g.notes})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(Io,{className:"w-6 h-6"}),"Hormones"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Cortisol"}),x(g.cortisol_nmol_l,{min:100,max:600})]}),e.jsxs("div",{className:`text-2xl font-bold ${p(g.cortisol_nmol_l,{min:100,max:600})}`,children:[h(g.cortisol_nmol_l)," nmol/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Testosterone"}),x(g.testosterone,{min:8.4,max:28.7})]}),e.jsxs("div",{className:`text-2xl font-bold ${p(g.testosterone,{min:8.4,max:28.7})}`,children:[h(g.testosterone)," nmol/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Vitamin D"}),x(g.vitamin_d,{min:50,max:150})]}),e.jsxs("div",{className:`text-2xl font-bold ${p(g.vitamin_d,{min:50,max:150})}`,children:[h(g.vitamin_d)," nmol/L"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(is,{className:"w-6 h-6"}),"Metabolic & Muscle Markers"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Creatine Kinase"}),x(g.ck,{min:30,max:200})]}),e.jsxs("div",{className:`text-2xl font-bold ${p(g.ck,{min:30,max:200})}`,children:[h(g.ck)," U/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Fasting Glucose"}),x(g.fasting_glucose,{min:3.9,max:5.6})]}),e.jsxs("div",{className:`text-2xl font-bold ${p(g.fasting_glucose,{min:3.9,max:5.6})}`,children:[h(g.fasting_glucose)," mmol/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"HbA1c"}),x(g.hba1c,{min:4,max:6})]}),e.jsxs("div",{className:`text-2xl font-bold ${p(g.hba1c,{min:4,max:6})}`,children:[h(g.hba1c)," %"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(th,{className:"w-6 h-6"}),"Kidney Function"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Urea"}),x(g.urea,{min:2.5,max:7.8})]}),e.jsxs("div",{className:`text-2xl font-bold ${p(g.urea,{min:2.5,max:7.8})}`,children:[h(g.urea)," mmol/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Creatinine"}),x(g.creatinine,{min:60,max:110})]}),e.jsxs("div",{className:`text-2xl font-bold ${p(g.creatinine,{min:60,max:110})}`,children:[h(g.creatinine)," ¬µmol/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"eGFR"}),x(g.egfr,{min:90,max:120})]}),e.jsxs("div",{className:`text-2xl font-bold ${p(g.egfr,{min:90,max:120})}`,children:[h(g.egfr)," mL/min/1.73m¬≤"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Uric Acid"}),x(g.uric_acid,{min:150,max:420})]}),e.jsxs("div",{className:`text-2xl font-bold ${p(g.uric_acid,{min:150,max:420})}`,children:[h(g.uric_acid)," ¬µmol/L"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(is,{className:"w-6 h-6"}),"Liver Function"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"ALT"}),x(g.s_alanine_transaminase,{min:7,max:56})]}),e.jsxs("div",{className:`text-2xl font-bold ${p(g.s_alanine_transaminase,{min:7,max:56})}`,children:[h(g.s_alanine_transaminase)," U/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"AST"}),x(g.s_aspartate_transaminase,{min:10,max:40})]}),e.jsxs("div",{className:`text-2xl font-bold ${p(g.s_aspartate_transaminase,{min:10,max:40})}`,children:[h(g.s_aspartate_transaminase)," U/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"GGT"}),x(g.s_glutamyl_transferase,{min:9,max:48})]}),e.jsxs("div",{className:`text-2xl font-bold ${p(g.s_glutamyl_transferase,{min:9,max:48})}`,children:[h(g.s_glutamyl_transferase)," U/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"LDH"}),x(g.lactate_dehydrogenase,{min:125,max:220})]}),e.jsxs("div",{className:`text-2xl font-bold ${p(g.lactate_dehydrogenase,{min:125,max:220})}`,children:[h(g.lactate_dehydrogenase)," U/L"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(is,{className:"w-6 h-6"}),"Complete Blood Count"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Hemoglobin"}),x(g.hemoglobin,{min:130,max:170})]}),e.jsxs("div",{className:`text-2xl font-bold ${p(g.hemoglobin,{min:130,max:170})}`,children:[h(g.hemoglobin)," g/dL"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"White Blood Cells"}),x(g.leucocyte_count,{min:4,max:11})]}),e.jsxs("div",{className:`text-2xl font-bold ${p(g.leucocyte_count,{min:4,max:11})}`,children:[h(g.leucocyte_count)," √ó10‚Åπ/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Platelets"}),x(g.platelets,{min:150,max:400})]}),e.jsxs("div",{className:`text-2xl font-bold ${p(g.platelets,{min:150,max:400})}`,children:[h(g.platelets)," √ó10‚Åπ/L"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(th,{className:"w-6 h-6"}),"Inflammation & Minerals"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"C-Reactive Protein"}),x(g.c_reactive_protein,{min:0,max:3})]}),e.jsxs("div",{className:`text-2xl font-bold ${p(g.c_reactive_protein,{min:0,max:3})}`,children:[h(g.c_reactive_protein)," mg/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"ESR"}),x(g.esr,{min:1,max:20})]}),e.jsxs("div",{className:`text-2xl font-bold ${p(g.esr,{min:1,max:20})}`,children:[h(g.esr)," mm/hr"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Calcium"}),x(g.calcium_adjusted,{min:2.15,max:2.55})]}),e.jsxs("div",{className:`text-2xl font-bold ${p(g.calcium_adjusted,{min:2.15,max:2.55})}`,children:[h(g.calcium_adjusted)," mmol/L"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Magnesium"}),x(g.magnesium,{min:.7,max:1})]}),e.jsxs("div",{className:`text-2xl font-bold ${p(g.magnesium,{min:.7,max:1})}`,children:[h(g.magnesium)," mmol/L"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(X0,{className:"w-6 h-6"}),"Summary"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:a.length}),e.jsx("div",{className:"text-sm text-gray-400",children:"Total Tests"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:g.date?new Date(g.date).toLocaleDateString():"N/A"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Latest Test Date"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:g.is_abnormal?"‚ö†Ô∏è":"‚úÖ"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Overall Status"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(ky,{className:"w-6 h-6"}),"Blood Results Trends"]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(eg,{athleteId:t}),e.jsx(V5,{athleteId:t}),e.jsx(z5,{athleteId:t}),e.jsx(k5,{athleteId:t})]})]})]})]})})},H0=t=>{if(t.length===0)return 0;t[t.length-1];let a=100;const l=t.map(j=>j.sleep_onset_time||"00:00"),r=t.map(j=>j.wake_time||"00:00"),c=Cl(l.map(j=>{const[w,A]=j.split(":").map(Number);return w*60+A})),m=Cl(r.map(j=>{const[w,A]=j.split(":").map(Number);return w*60+A})),d=(c+m)/2,h=Math.min(d/2,30),x=t.reduce((j,w)=>j+w.sleep_duration_h,0)/t.length,p=x<7?(7-x)*5:0,g=t.reduce((j,w)=>j+w.deep_sleep_pct,0)/t.length,b=g<20?(20-g)*2:0,v=t.reduce((j,w)=>j+w.hrv_night,0)/t.length,N=v<50?(50-v)*.5:0;return a-=h+p+b+N,Math.max(0,Math.min(100,a))},Cl=t=>{const a=t.reduce((c,m)=>c+m,0)/t.length,r=t.map(c=>Math.pow(c-a,2)).reduce((c,m)=>c+m,0)/t.length;return Math.sqrt(r)},U5=(t,a)=>{const l=t.find(m=>m.gene==="PER3"),r=t.find(m=>m.gene==="CLOCK");let c="Intermediate";if(l?c=l.genotype==="long"?"Evening Type":"Morning Type":r&&(c=r.genotype==="AA"?"Morning Type":"Evening Type"),a.length>0){const m=a.reduce((d,h)=>{const[x]=(h.sleep_onset_time||"00:00").split(":").map(Number);return d+x},0)/a.length;return m>=23||m<=5?"Evening Type":m<=22&&m>=21?"Intermediate":"Morning Type"}return c},K5=t=>{const a=[];if(t.length<2)return a;const l=t.map(x=>{const[p,g]=(x.sleep_onset_time||"00:00").split(":").map(Number);return p*60+g});return Cl(l)>60&&a.push("Irregular Sleep Schedule"),t.reduce((x,p)=>x+p.sleep_duration_h,0)/t.length<7&&a.push("Chronic Sleep Deprivation"),t.reduce((x,p)=>x+p.deep_sleep_pct,0)/t.length<15&&a.push("Insufficient Deep Sleep"),t.reduce((x,p)=>x+p.resting_hr,0)/t.length>65&&a.push("Elevated Nighttime Heart Rate"),t.reduce((x,p)=>x+p.hrv_night,0)/t.length<40&&a.push("Poor Nighttime Recovery"),a},B5=(t,a,l,r)=>{const c=[];t==="Morning Type"?(c.push("Maintain consistent early bedtime (9-10 PM) and wake time (5-6 AM)"),c.push("Schedule high-intensity training in the morning when cortisol is naturally higher"),c.push("Avoid late-night screen time and bright lights after sunset")):t==="Evening Type"?(c.push("Allow flexible scheduling but maintain consistent sleep duration"),c.push("Consider later training sessions when energy levels are higher"),c.push("Use morning sunlight exposure to help regulate circadian rhythm")):(c.push("Aim for 10-11 PM bedtime and 6-7 AM wake time as a balanced approach"),c.push("Monitor energy levels throughout the day to optimize training timing")),a.includes("Irregular Sleep Schedule")&&(c.push("Establish a consistent sleep schedule, even on weekends"),c.push("Use alarm clocks for both bedtime and wake time")),a.includes("Chronic Sleep Deprivation")&&(c.push("Prioritize 7-9 hours of sleep nightly"),c.push("Consider naps (20-30 minutes) if sleep debt accumulates")),a.includes("Insufficient Deep Sleep")&&(c.push("Maintain cooler bedroom temperature (65-68¬∞F/18-20¬∞C)"),c.push("Avoid alcohol and heavy meals 3 hours before bedtime")),a.includes("Elevated Nighttime Heart Rate")&&(c.push("Incorporate evening relaxation techniques (meditation, light stretching)"),c.push("Reduce screen time and blue light exposure 1 hour before bed")),t==="Morning Type"?(c.push("Stop caffeine consumption by 2 PM to avoid sleep interference"),c.push("Optimal caffeine timing: 8-11 AM when cortisol is naturally elevated")):t==="Evening Type"?(c.push("Stop caffeine consumption by 4 PM to prevent delayed sleep onset"),c.push("Limit caffeine to morning hours only (before 12 PM)")):(c.push("Stop caffeine consumption by 3 PM for balanced circadian rhythm"),c.push("Monitor individual response and adjust caffeine cutoff time accordingly")),r.length>0&&(r.reduce((x,p)=>{const[g]=(p.sleep_onset_time||"00:00").split(":").map(Number);return x+g},0)/r.length<23?c.push("Early sleep onset detected - stop caffeine 6-8 hours before bedtime"):c.push("Later sleep onset - stop caffeine 4-6 hours before bedtime"));const m=l.find(h=>h.gene==="CLOCK");m&&(m.genotype==="AA"?c.push("Strong circadian drive - maintain strict sleep consistency"):c.push("Flexible circadian rhythm - use time-restricted eating (10-hour window)"));const d=l.find(h=>h.gene==="PER3");return d&&(d.genotype==="long"?(c.push("Evening chronotype - consider magnesium glycinate for better sleep onset"),c.push("Evening types: Stop caffeine by 3 PM to avoid sleep disruption")):(c.push("Morning chronotype - optimize with morning sunlight exposure"),c.push("Morning types: Can consume caffeine until 2 PM without major sleep impact"))),c},q5=({biometricData:t,geneticData:a,athleteId:l})=>{const[r,c]=C.useState("30d"),m=r==="7d"?t.slice(-7):t.slice(-30),d=H0(m),h=U5(a,m),x=K5(m),p=B5(h,x,a,m),g=m.map(v=>({date:v.date,sleepDuration:v.sleep_duration_h,deepSleep:v.deep_sleep_pct,hrvNight:v.hrv_night,restingHr:v.resting_hr,circadianScore:H0([v])})),b=[{name:"Sleep Duration",value:m.length>0?m.reduce((v,N)=>v+N.sleep_duration_h,0)/m.length:0,max:10},{name:"Deep Sleep %",value:m.length>0?m.reduce((v,N)=>v+N.deep_sleep_pct,0)/m.length:0,max:30},{name:"Night HRV",value:m.length>0?m.reduce((v,N)=>v+N.hrv_night,0)/m.length:0,max:100},{name:"Resting HR",value:m.length>0?100-m.reduce((v,N)=>v+N.resting_hr,0)/m.length:0,max:100},{name:"Sleep Consistency",value:100-Math.min(Cl(m.map(v=>{const[N]=(v.sleep_onset_time||"00:00").split(":").map(Number);return N}))*5,100),max:100}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"‚è∞ Circadian Rhythm Analysis"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>c("7d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r==="7d"?"bg-blue-600 text-gray-900":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"7 Days"}),e.jsx("button",{onClick:()=>c("30d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r==="30d"?"bg-blue-600 text-gray-900":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"30 Days"})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üïê Daily Circadian Rhythm"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"relative w-64 h-64 mx-auto",children:e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 120 120",children:[e.jsx("circle",{cx:"60",cy:"60",r:"55",fill:"none",stroke:"#e5e7eb",strokeWidth:"2"}),Array.from({length:24},(v,N)=>{const j=N*15-90,w=60+45*Math.cos(j*Math.PI/180),A=60+45*Math.sin(j*Math.PI/180),S=60+50*Math.cos(j*Math.PI/180),R=60+50*Math.sin(j*Math.PI/180);return e.jsx("line",{x1:w,y1:A,x2:S,y2:R,stroke:"#6b7280",strokeWidth:N%6===0?"2":"1"},N)}),[6,12,18,24].map(v=>{const N=v*15-90,j=60+38*Math.cos(N*Math.PI/180),w=60+38*Math.sin(N*Math.PI/180);return e.jsx("text",{x:j,y:w,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs font-medium fill-gray-600",children:v===24?"0":v},v)}),h==="Morning Type"&&e.jsx("path",{d:"M 60,60 Q 45,30 30,55 Q 45,80 60,60",fill:"none",stroke:"#F59E0B",strokeWidth:"3",opacity:"0.8"}),h==="Evening Type"&&e.jsx("path",{d:"M 60,60 Q 45,40 30,65 Q 45,90 60,60",fill:"none",stroke:"#F59E0B",strokeWidth:"3",opacity:"0.8"}),h==="Intermediate"&&e.jsx("path",{d:"M 60,60 Q 45,35 30,60 Q 45,85 60,60",fill:"none",stroke:"#F59E0B",strokeWidth:"3",opacity:"0.8"}),m.length>0&&e.jsx("path",{d:`M 60,60 Q ${75+(m[0].sleep_duration_h<7?5:0)},${35-(m[0].deep_sleep_pct>20?5:0)} ${90+(m[0].sleep_duration_h<7?5:0)},${60-(m[0].deep_sleep_pct>20?10:0)} Q ${75+(m[0].sleep_duration_h<7?5:0)},${85+(m[0].deep_sleep_pct>20?5:0)} 60,60`,fill:"none",stroke:"#8B5CF6",strokeWidth:"3",opacity:"0.8"}),m.length>0&&e.jsx("path",{d:`M 30,${70-(m[0].temp_trend_c>36.5?5:0)} Q 45,${65-(m[0].temp_trend_c>36.5?3:0)} 60,${60-(m[0].temp_trend_c>36.5?0:5)} Q 75,${55-(m[0].temp_trend_c>36.5?0:3)} 90,${70-(m[0].temp_trend_c>36.5?5:0)}`,fill:"none",stroke:"#EF4444",strokeWidth:"2",opacity:"0.7"}),m.length>0&&e.jsx("path",{d:`M 35,${75-(d>70?15:d>50?10:5)} Q 50,${50-(d>70?10:d>50?5:0)} 65,${45-(d>70?5:0)} Q 80,${50-(d>70?10:d>50?5:0)} 95,${75-(d>70?15:d>50?10:5)}`,fill:"none",stroke:"#10B981",strokeWidth:"2",opacity:"0.7"})]})})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),e.jsx("span",{className:"font-medium text-orange-800",children:"Cortisol"})]}),e.jsx("p",{className:"text-sm text-orange-700",children:"Peaks in morning, drives wakefulness and energy"})]}),e.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),e.jsx("span",{className:"font-medium text-purple-800",children:"Melatonin"})]}),e.jsx("p",{className:"text-sm text-purple-700",children:"Rises in evening, promotes sleep and recovery"})]}),e.jsxs("div",{className:"bg-red-50 p-3 rounded-lg border border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("span",{className:"font-medium text-red-800",children:"Body Temperature"})]}),e.jsx("p",{className:"text-sm text-red-700",children:"Lowest at night, peaks in afternoon/evening"})]}),e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"font-medium text-green-800",children:"Energy Levels"})]}),e.jsx("p",{className:"text-sm text-green-700",children:"Highest mid-morning to early afternoon"})]})]})})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-2xl mb-1",children:"üåÖ"}),e.jsx("div",{className:"font-medium text-blue-800",children:h==="Morning Type"?"5-8 AM":h==="Evening Type"?"7-10 AM":"6-9 AM"}),e.jsx("div",{className:"text-sm text-blue-600",children:d>70?"High-Intensity Training":"Light Exercise"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-2xl mb-1",children:"‚ö°"}),e.jsx("div",{className:"font-medium text-green-800",children:h==="Morning Type"?"9 AM-1 PM":h==="Evening Type"?"11 AM-3 PM":"10 AM-2 PM"}),e.jsxs("div",{className:"text-sm text-green-600",children:["Peak Performance ",d>70?"(Optimal)":"(Moderate)"]})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("div",{className:"text-2xl mb-1",children:"üßò"}),e.jsx("div",{className:"font-medium text-orange-800",children:h==="Morning Type"?"2-5 PM":h==="Evening Type"?"4-7 PM":"3-6 PM"}),e.jsxs("div",{className:"text-sm text-orange-600",children:["Recovery & ",m[0]?.training_load_pct>80?"Active Rest":"Skill Work"]})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("div",{className:"text-2xl mb-1",children:"üò¥"}),e.jsx("div",{className:"font-medium text-purple-800",children:m.length>0&&m[0].sleep_onset_time?(()=>{const v=parseInt(m[0].sleep_onset_time.split(":")[0]),N=Math.floor((v+(m[0].sleep_duration_h||8))%24);return`${v>12?v-12:v} ${v>=12?"PM":"AM"}-${N>12?N-12:N===0?12:N} ${N>=12&&N!==0?"PM":"AM"}`})():"10 PM-6 AM"}),e.jsxs("div",{className:"text-sm text-purple-600",children:["Sleep (",m[0]?.sleep_duration_h.toFixed(1)||"8.0","h avg)"]})]})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üìä Circadian Rhythm Score"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"relative w-48 h-48 mx-auto",children:e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#e5e7eb",strokeWidth:"8"}),e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:d>70?"#10B981":d>50?"#F59E0B":"#EF4444",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${d*2.83}, 1000`,transform:"rotate(-90 50 50)"}),e.jsx("text",{x:"50",y:"50",textAnchor:"middle",dominantBaseline:"middle",className:"text-2xl font-bold",children:d.toFixed(0)}),e.jsx("text",{x:"50",y:"60",textAnchor:"middle",dominantBaseline:"middle",className:"text-sm text-gray-600",children:"Score"})]})})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Chronotype"}),e.jsx("p",{className:"text-2xl font-bold mt-1 text-gray-900",children:h}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[h==="Morning Type"&&"Early riser, peaks in morning",h==="Evening Type"&&"Night owl, peaks in evening",h==="Intermediate"&&"Balanced sleep pattern"]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Genetic Influence"}),e.jsxs("div",{className:"space-y-2 mt-2",children:[a.filter(v=>["CLOCK","PER3","ARNTL"].includes(v.gene)).map((v,N)=>e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsxs("span",{className:"font-medium text-gray-900",children:[v.gene,":"]})," ",e.jsx("span",{className:"text-gray-700",children:v.genotype})]},N)),a.filter(v=>["CLOCK","PER3","ARNTL"].includes(v.gene)).length===0&&e.jsx("p",{className:"text-sm text-gray-700",children:"No circadian-related genetic data available"})]})]})]})})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üéØ Circadian Rhythm Markers"}),e.jsx(Ce,{width:"100%",height:400,children:e.jsxs(k0,{data:b,children:[e.jsx(F0,{stroke:"#e5e7eb"}),e.jsx(U0,{dataKey:"name",tick:{fontSize:12}}),e.jsx(K0,{angle:90,domain:[0,"dataMax"],tick:{fontSize:10},tickFormatter:v=>`${v}`}),e.jsx(B0,{name:"Circadian Health",dataKey:"value",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3,strokeWidth:2}),e.jsx(Ve,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üìà Sleep Duration & Quality"}),e.jsx(Ce,{width:"100%",height:300,children:e.jsxs(Wt,{data:g,children:[e.jsx(We,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(Ye,{dataKey:"date",stroke:"#6b7280"}),e.jsx(Me,{yAxisId:"left",stroke:"#6b7280"}),e.jsx(Me,{yAxisId:"right",orientation:"right",stroke:"#6b7280"}),e.jsx(Ve,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(ot,{}),e.jsx(fe,{yAxisId:"left",type:"monotone",dataKey:"sleepDuration",name:"Sleep Duration (h)",stroke:"#3b82f6",strokeWidth:3,dot:{r:4}}),e.jsx(fe,{yAxisId:"right",type:"monotone",dataKey:"deepSleep",name:"Deep Sleep (%)",stroke:"#10B981",strokeWidth:3,dot:{r:4}})]})})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"‚ù§Ô∏è Nighttime Recovery"}),e.jsx(Ce,{width:"100%",height:300,children:e.jsxs(Wt,{data:g,children:[e.jsx(We,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(Ye,{dataKey:"date",stroke:"#6b7280"}),e.jsx(Me,{yAxisId:"left",stroke:"#6b7280"}),e.jsx(Me,{yAxisId:"right",orientation:"right",stroke:"#6b7280"}),e.jsx(Ve,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",color:"#1f2937"}}),e.jsx(ot,{}),e.jsx(fe,{yAxisId:"left",type:"monotone",dataKey:"hrvNight",name:"Night HRV (ms)",stroke:"#8b5cf6",strokeWidth:3,dot:{r:4}}),e.jsx(fe,{yAxisId:"right",type:"monotone",dataKey:"restingHr",name:"Resting HR (bpm)",stroke:"#EF4444",strokeWidth:3,dot:{r:4}})]})})]})]}),x.length>0&&e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"‚ö†Ô∏è Circadian Disruptions"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.map((v,N)=>e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center",children:e.jsx("span",{className:"text-red-600",children:"‚ö†Ô∏è"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-red-800",children:v}),e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[v==="Irregular Sleep Schedule"&&"Inconsistent bed/wake times disrupt circadian rhythm",v==="Chronic Sleep Deprivation"&&"Insufficient sleep duration affects hormone regulation",v==="Insufficient Deep Sleep"&&"Reduced deep sleep impairs physical recovery",v==="Elevated Nighttime Heart Rate"&&"High stress levels preventing proper recovery",v==="Poor Nighttime Recovery"&&"Low HRV indicates inadequate parasympathetic activity"]})]})]})},N))})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üí° Personalized Recommendations"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map((v,N)=>e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600",children:"üí°"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-blue-800",children:v})})]})},N))})]})]})},Y5=({athlete:t,biometricData:a,geneticProfiles:l})=>{const[r,c]=C.useState([]),[m,d]=C.useState(""),[h,x]=C.useState(!1),[p,g]=C.useState(!1),b=C.useRef(null);a.length>0&&a[0];const v=a.length>0&&a.some(R=>R.hrv_night&&R.hrv_night>0),N=()=>{b.current?.scrollIntoView({behavior:"smooth"})};C.useEffect(()=>{N()},[r]);const j=()=>{const R=a.slice(-7),_=l.reduce((O,V)=>(O[V.gene]=V.genotype,O),{}),T={name:t.name,sport:t.sport,age:t.age,team:t.team,biometricHistory:R.map(O=>({HrvNight:O.hrv_night,RestingHr:O.resting_hr,DeepSleepPct:O.deep_sleep_pct,RemSleepPct:O.rem_sleep_pct,SleepDurationH:O.sleep_duration_h,Spo2Night:O.spo2_night,TrainingLoadPct:O.training_load_pct,Date:O.date})),latestBiometrics:R[R.length-1]?{HrvNight:R[R.length-1].hrv_night,RestingHr:R[R.length-1].resting_hr,DeepSleepPct:R[R.length-1].deep_sleep_pct,RemSleepPct:R[R.length-1].rem_sleep_pct,SleepDurationH:R[R.length-1].sleep_duration_h,Spo2Night:R[R.length-1].spo2_night,TrainingLoadPct:R[R.length-1].training_load_pct,Date:R[R.length-1].date}:null,geneticProfile:_,totalBiometricRecords:a.length,totalGeneticMarkers:l.length};return T.latestBiometrics,T},w=async()=>{if(!m.trim()||h)return;const R={id:Date.now().toString(),role:"user",content:m.trim(),timestamp:new Date};if(c(_=>[..._,R]),d(""),x(!0),p){const _=j(),T=S(m,_),O={id:(Date.now()+1).toString(),role:"assistant",content:T,timestamp:new Date};c(V=>[...V,O]),x(!1);return}try{const _=j(),T=await cy.askAI(R.content,_),O={id:(Date.now()+1).toString(),role:"assistant",content:T.response,timestamp:new Date};c(V=>[...V,O])}catch{const T=j(),O=S(m,T),V={id:(Date.now()+1).toString(),role:"assistant",content:`${O}

‚ö†Ô∏è **AI Service Unavailable** - Using intelligent offline analysis based on ${t.name}'s actual biometric and genetic data. (Online mode available in Azure production deployment)`,timestamp:new Date};c(K=>[...K,V])}finally{x(!1)}},A=R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),w())},S=(R,_)=>{const T=R.toLowerCase();if(T.includes("training")||T.includes("workout")||T.includes("exercise")){const O=_.latestBiometrics?.TrainingLoadPct||0;return O>85?`Based on ${t.name}'s current training load (${O}%), I recommend focusing on recovery today. Consider light technique work or active recovery sessions. High-intensity training might lead to overtraining given the current load.`:`${t.name} shows moderate training load (${O}%). This is a good day for quality training sessions. Focus on sport-specific skills and maintain good form.`}if(T.includes("sleep")||T.includes("rest")){const O=_.latestBiometrics?.SleepDurationH||0,V=_.latestBiometrics?.DeepSleepPct||0;return`Sleep analysis for ${t.name}: ${O} hours total with ${V}% deep sleep. ${O>=7?"Good sleep duration - recovery should be optimal.":"Sleep duration is below recommended 7+ hours. Consider adjusting bedtime routine."} Deep sleep percentage is ${V>20?"excellent":"moderate"}.`}if(T.includes("recovery")||T.includes("hrv")||T.includes("heart rate")){const O=_.latestBiometrics?.HrvNight||0,V=_.latestBiometrics?.RestingHr||0;return`Recovery status for ${t.name}: HRV at ${O}ms and resting HR at ${V}bpm. ${O>50?"Good recovery capacity detected.":"Recovery may need attention."} ${V<60?"Resting heart rate is optimal.":"Resting heart rate is elevated - monitor stress levels."}`}return T.includes("nutrition")||T.includes("diet")||T.includes("food")?`For ${t.name}'s ${t.sport} training, focus on: adequate protein (1.6-2.2g/kg body weight), complex carbohydrates for sustained energy, and proper hydration. Consider their genetic profile for personalized nutrition strategies.`:`I can help you analyze ${t.name}'s performance data including training load, sleep quality, recovery status, and nutrition recommendations. Ask me about specific aspects like "How is the training load today?" or "What does the sleep data show?"`};return e.jsxs("div",{className:"flex flex-col h-[600px] bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-purple-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ü§ñ"}),"AI Assistant for ",t.name]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:()=>g(!p),className:`px-3 py-1 text-xs rounded-full transition-colors ${p?"bg-green-100 text-green-700 border border-green-300":"bg-blue-100 text-blue-700 border border-blue-300"}`,children:p?"üì± Offline":"üåê Azure"})})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[p?"üì± AI Assistant using intelligent analysis of athlete data":"üåê AI service available in Azure production deployment",v&&e.jsx("span",{className:"block text-xs text-green-600 mt-1",children:"‚úÖ Connected to real biometric data from Current Metrics, Sleep Metrics, and other tabs"}),!v&&e.jsx("span",{className:"block text-xs text-yellow-600 mt-1",children:"‚ö†Ô∏è No biometric data available - check Current Metrics tab for data"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("div",{className:"text-4xl mb-3",children:"ü§ñ"}),e.jsxs("p",{className:"font-medium mb-2",children:["AI Assistant for ",t.name]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-sm text-green-800 font-medium mb-2",children:"ü§ñ AI Assistant Active"}),e.jsxs("p",{className:"text-xs text-green-700",children:["Connected to AI service with access to ",t.name,"'s biometric data from Current Metrics, Sleep Metrics, and other tabs."]})]}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsx("p",{className:"font-medium",children:"Ask me about:"}),e.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Training recommendations based on current load"}),e.jsx("li",{children:"‚Ä¢ Sleep analysis and recovery status"}),e.jsx("li",{children:"‚Ä¢ HRV and heart rate trends"}),e.jsxs("li",{children:["‚Ä¢ Nutrition advice for ",t.sport]}),e.jsx("li",{children:"‚Ä¢ Performance optimization strategies"})]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-3",children:'üí° Try: "How is the training load today?" or "What does the sleep data show?"'})]}),r.map(R=>e.jsx("div",{className:`flex ${R.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] p-3 rounded-lg ${R.role==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:R.content}),e.jsx("p",{className:`text-xs mt-2 ${R.role==="user"?"text-blue-100":"text-gray-500"}`,children:R.timestamp.toLocaleTimeString()})]})},R.id)),h&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-gray-100 p-3 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),e.jsx("span",{className:"text-sm text-gray-600",children:"AI is thinking..."})]})})}),e.jsx("div",{ref:b})]}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("textarea",{value:m,onChange:R=>d(R.target.value),onKeyPress:A,placeholder:"Ask about training, recovery, nutrition...",className:"flex-1 p-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 bg-white",rows:2,disabled:h}),e.jsxs("button",{onClick:w,disabled:!m.trim()||h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors duration-200 flex items-center gap-2",children:[e.jsx("span",{children:"Send"}),e.jsx("span",{children:"üì§"})]})]})})]})},rt=(t,a)=>{const l=[a,a.toLowerCase(),a.toUpperCase(),a.charAt(0).toUpperCase()+a.slice(1).toLowerCase(),a.charAt(0).toLowerCase()+a.slice(1).toUpperCase()];for(const r of l)if(t[r])return t[r];return""},X5=({geneticSummary:t,onFilteredResults:a})=>{const[l,r]=C.useState(""),[c,m]=C.useState("all"),[d,h]=C.useState("all"),[x,p]=C.useState("gene"),g=Array.from(new Set(t.map(b=>rt(b,"category"))));return C.useEffect(()=>{const b=t.reduce((N,j)=>{const w=j.DbsnpRsId||"",A=j.RSID||j.rsid||j.RSID||"",S=j.Gene||j.gene||j.GENE||"",R=j.GeneticCall||j.genetic_call||j.GENETIC_CALL||j.Genotype||j.genotype||"",_=w||A||`${S}_${R||"unknown"}`;return N.has(_)||N.set(_,j),N},new Map);let v=Array.from(b.values());l&&(v=v.filter(N=>rt(N,"gene").toLowerCase().includes(l.toLowerCase())||rt(N,"dbsnp_rs_id").toLowerCase().includes(l.toLowerCase())||rt(N,"rsid").toLowerCase().includes(l.toLowerCase())||rt(N,"genetic_call").toLowerCase().includes(l.toLowerCase()))),c!=="all"&&(v=v.filter(N=>rt(N,"category")===c)),d!=="all"&&(d==="high"?v=v.filter(N=>{const j=rt(N,"genetic_call");return j.includes("AA")||j.includes("GG")||j.includes("TT")||j.includes("CC")}):d==="medium"&&(v=v.filter(N=>{const j=rt(N,"genetic_call");return j.includes("AG")||j.includes("CT")||j.includes("AC")}))),v.sort((N,j)=>{switch(x){case"gene":return rt(N,"gene").localeCompare(rt(j,"gene"));case"dbsnp":return rt(N,"dbsnp_rs_id").localeCompare(rt(j,"dbsnp_rs_id"));case"category":return rt(N,"category").localeCompare(rt(j,"category"));case"rsid":return rt(N,"rsid").localeCompare(rt(j,"rsid"));default:return 0}}),a(v)},[l,c,d,x,t,a]),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search genes, dbSNP RSID, or RSID...",value:l,onChange:b=>r(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-black"}),e.jsx("span",{className:"absolute left-3 top-2.5 text-gray-400",children:"üîç"})]})}),e.jsxs("select",{value:c,onChange:b=>m(b.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-black",children:[e.jsx("option",{value:"all",children:"All Categories"}),g.map(b=>e.jsx("option",{value:b,children:b.replace("_"," ")},b))]}),e.jsxs("select",{value:d,onChange:b=>h(b.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-black",children:[e.jsx("option",{value:"all",children:"All Impact Levels"}),e.jsx("option",{value:"high",children:"High Impact"}),e.jsx("option",{value:"medium",children:"Medium Impact"})]}),e.jsxs("select",{value:x,onChange:b=>p(b.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-black",children:[e.jsx("option",{value:"gene",children:"Sort by Gene"}),e.jsx("option",{value:"dbsnp",children:"Sort by dbSNP RSID"}),e.jsx("option",{value:"category",children:"Sort by Category"}),e.jsx("option",{value:"rsid",children:"Sort by RSID"})]})]})},Q5=({geneticSummary:t,athlete:a,athleteBiometrics:l})=>{const[r,c]=C.useState("overview"),m=[{id:"overview",label:"Overview",icon:"üìä"},{id:"detailed",label:"Detailed Analysis",icon:"üî¨"},{id:"insights",label:"Smart Insights",icon:"üí°"},{id:"performance",label:"Performance Matrix",icon:"üéØ"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8",children:m.map(d=>{const h=r===d.id;return e.jsxs("button",{onClick:()=>c(d.id),className:`flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${h?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("span",{children:d.icon}),d.label]},d.id)})})}),r==="overview"&&e.jsx(Z5,{geneticSummary:t}),r==="detailed"&&e.jsx(I5,{geneticSummary:t}),r==="insights"&&e.jsx(W5,{geneticSummary:t,athlete:a}),r==="performance"&&e.jsx(J5,{geneticSummary:t,athleteBiometrics:l})]})},Z5=({geneticSummary:t})=>{const a=Array.from(new Set(t.map(l=>l.Category||l.category||l.CATEGORY)));return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(l=>{const r=t.filter(d=>(d.Category||d.category||d.CATEGORY)===l),m={performance:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",icon:"üí™"},recovery:{bg:"bg-green-50",border:"border-green-200",text:"text-green-800",icon:"üîÑ"},pharmacogenomics:{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-800",icon:"üíä"},nutrigenomics:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-800",icon:"ü•ó"},injury:{bg:"bg-red-50",border:"border-red-200",text:"text-red-800",icon:"üõ°Ô∏è"},metabolism:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800",icon:"‚ö°"},cognition:{bg:"bg-indigo-50",border:"border-indigo-200",text:"text-indigo-800",icon:"üß†"},sleep:{bg:"bg-pink-50",border:"border-pink-200",text:"text-pink-800",icon:"üò¥"}}[l.toLowerCase()]||{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-800",icon:"üß¨"};return e.jsxs("div",{className:`card-enhanced p-6 ${m.bg} ${m.border} border`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"text-2xl",children:m.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-semibold capitalize ${m.text}`,children:l.replace("_"," ")}),e.jsxs("p",{className:"text-sm text-gray-600",children:[r.length," marker",r.length!==1?"s":""]})]})]}),e.jsxs("div",{className:"space-y-3",children:[r.slice(0,3).map((d,h)=>{const x=d.Gene||d.gene||d.GENE||"Unknown",p=d.DbsnpRsId||"N/A",g=d.RSID||d.rsid||d.RSID||null;return e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:`font-semibold ${m.text} text-sm`,children:x}),e.jsx("div",{className:"text-xs text-gray-500 font-mono",children:p})]}),g&&e.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:g})]},h)}),r.length>3&&e.jsxs("div",{className:"text-center text-xs text-gray-500 py-2",children:["+",r.length-3," more markers"]})]})]},l)})})})},I5=({geneticSummary:t})=>e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-3 text-gray-900",children:[e.jsx("span",{className:"bg-gradient-to-r from-green-100 to-blue-100 p-2 rounded-full text-green-700",children:"üìã"}),"Detailed Genetic Analysis"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Gene"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"dbSNP RSID"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Category"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"RSID"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Impact"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Details"})]})}),e.jsx("tbody",{children:t.map((a,l)=>{const r=a.Gene||a.gene||a.GENE||"Unknown",c=a.DbsnpRsId||"N/A",m=a.Category||a.category||a.CATEGORY||"Unknown",d=a.RSID||a.rsid||a.RSID||"N/A",x=(p=>p.startsWith("rs")&&p.length>5?{level:"Standard",color:"text-blue-600",bg:"bg-blue-100"}:{level:"Standard",color:"text-blue-600",bg:"bg-blue-100"})(c);return e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"font-medium text-gray-900",children:r})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`font-mono font-bold ${x.color}`,children:c})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium capitalize ${x.bg} ${x.color}`,children:m.replace("_"," ")})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"font-mono text-gray-600 text-xs",children:d})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.bg} ${x.color}`,children:[x.level," Impact"]})}),e.jsx("td",{className:"py-3 px-4",children:a.Description&&e.jsx("div",{className:"text-xs text-gray-600 max-w-xs truncate",title:a.Description,children:a.Description})})]},l)})})]})})]}),W5=({geneticSummary:t,athlete:a})=>{const l=(h,x)=>{if(x==="dbsnp_rs_id")return h.DbsnpRsId||h.dbsnp_rs_id||h.DBSNP_RS_ID||h.dbsnpRsId||h.dbSNPRSID||"";const p=[x,x.toLowerCase(),x.toUpperCase(),x.charAt(0).toUpperCase()+x.slice(1).toLowerCase(),x.charAt(0).toLowerCase()+x.slice(1).toUpperCase()];for(const g of p)if(h[g])return h[g];return""},r=t.map(h=>{const x=l(h,"gene")||"Unknown",p=l(h,"genetic_call")||"",g=h.DbsnpRsId||"";return{gene:x,genotype:p,dbsnpId:g,marker:h}}).filter(h=>h.gene!=="Unknown"),c=r.filter(h=>["ACTN3","MSTN","IGF1"].includes(h.gene)&&h.genotype.includes("RR")),m=r.filter(h=>h.gene==="ACE"&&h.genotype.includes("II")),d=r.filter(h=>h.gene==="COL5A1"&&!h.genotype.includes("TT"));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("h4",{className:"font-semibold text-green-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-green-100 p-1.5 rounded-full text-green-700",children:"‚úÖ"}),"Genetic Strengths (",c.length+m.length," found)"]}),e.jsxs("div",{className:"space-y-3",children:[c.map((h,x)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("span",{className:"text-green-600 mt-0.5",children:"üí™"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-green-800",children:"Elite Power Genetics"}),e.jsxs("div",{className:"text-sm text-green-600",children:[h.gene," ",h.genotype," genotype suggests exceptional sprint and strength capacity",h.dbsnpId&&` (${h.dbsnpId})`]})]})]},x)),m.map((h,x)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("span",{className:"text-blue-600 mt-0.5",children:"üèÉ"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-blue-800",children:"Superior Endurance Capacity"}),e.jsxs("div",{className:"text-sm text-blue-600",children:[h.gene," ",h.genotype," genotype indicates excellent cardiovascular efficiency",h.dbsnpId&&` (${h.dbsnpId})`]})]})]},x)),r.length===0&&e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No genetic data available for analysis"}),r.length>0&&c.length===0&&m.length===0&&e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No specific genetic advantages identified in current markers"})]})]}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("h4",{className:"font-semibold text-orange-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-orange-100 p-1.5 rounded-full text-orange-700",children:"‚ö†Ô∏è"}),"Optimization Areas (",d.length," found)"]}),e.jsxs("div",{className:"space-y-3",children:[d.map((h,x)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("span",{className:"text-red-600 mt-0.5",children:"üõ°Ô∏è"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-red-800",children:"Injury Risk Consideration"}),e.jsxs("div",{className:"text-sm text-red-600",children:[h.gene," ",h.genotype," variant suggests higher soft tissue injury risk",h.dbsnpId&&` (${h.dbsnpId})`]})]})]},x)),r.length>0&&d.length===0&&e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No specific injury risk markers identified"}),r.length===0&&e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No genetic data available for analysis"})]})]})]}),r.length>0&&e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-blue-100 p-1.5 rounded-full text-blue-700",children:"üìã"}),"Genetic Markers Summary (",r.length," markers)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.slice(0,6).map((h,x)=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-800",children:h.gene}),e.jsx("span",{className:"text-xs text-gray-500 bg-white px-2 py-1 rounded",children:h.dbsnpId||"No RSID"})]}),e.jsx("div",{className:"text-sm font-mono text-gray-700",children:h.genotype})]},x)),r.length>6&&e.jsxs("div",{className:"text-center py-4 text-gray-500 text-sm",children:["+",r.length-6," more markers"]})]})]})]})},J5=({geneticSummary:t,athleteBiometrics:a})=>{const l=[{trait:"Power & Strength",genes:t.filter(r=>["ACTN3","MSTN","IGF1"].includes(r.Gene||r.gene||r.GENE)),icon:"üí™",color:"orange",description:"Explosive power & muscle strength"},{trait:"Endurance",genes:t.filter(r=>["ACE","PPARA","PPARGC1A"].includes(r.Gene||r.gene||r.GENE)),icon:"üèÉ",color:"blue",description:"Cardiovascular efficiency"},{trait:"Recovery",genes:t.filter(r=>["PPARA","BDNF","COMT"].includes(r.Gene||r.gene||r.GENE)),icon:"üîÑ",color:"green",description:"Recovery & adaptation rate"},{trait:"Injury Risk",genes:t.filter(r=>["COL5A1","ADRB2"].includes(r.Gene||r.gene||r.GENE)),icon:"üõ°Ô∏è",color:"red",description:"Injury susceptibility"},{trait:"Metabolism",genes:t.filter(r=>["PPARGC1A","PPARA","FTO"].includes(r.Gene||r.gene||r.GENE)),icon:"‚ö°",color:"yellow",description:"Energy & nutrient metabolism"},{trait:"Cognition",genes:t.filter(r=>["BDNF","COMT"].includes(r.Gene||r.gene||r.GENE)),icon:"üß†",color:"indigo",description:"Mental performance & stress"}];return e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-3 text-gray-900",children:[e.jsx("span",{className:"bg-gradient-to-r from-purple-100 to-blue-100 p-2 rounded-full text-purple-700",children:"üéØ"}),"Genetic Performance Matrix"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map((r,c)=>e.jsxs("div",{className:"card-enhanced p-4 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"text-2xl",children:r.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:r.trait}),e.jsx("p",{className:"text-xs text-gray-500",children:r.description})]})]}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:`text-3xl font-bold text-${r.color}-600`,children:r.genes.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Genetic Markers"})]}),r.genes.length>0&&e.jsx("div",{className:"space-y-2",children:r.genes.map((m,d)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700",children:m.Gene||m.gene||m.GENE}),e.jsx("span",{className:`font-bold text-${r.color}-600 font-mono`,children:m.DbsnpRsId||"N/A"})]},d))}),r.genes.length===0&&e.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No markers in this category"})]},c))})]})},hS=()=>{const{id:t}=dy(),a=uy(),l=parseInt(t||"0"),[r,c]=C.useState("metrics"),m=C.useRef(null);C.useState(null);const[d,h]=C.useState([]),[x,p]=C.useState([]),{athlete:g,biometricData:b,geneticProfiles:v,loading:N}=yy(l,!0),{biometricData:j}=by(!0);if(C.useEffect(()=>{l&&(async()=>{try{const F=await En.getGeneticSummaryByAthlete(l);h(F),p(F)}catch{}})()},[l]),N)return e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-600",children:"Loading athlete data..."})});if(!g)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-600",children:"Athlete not found"}),e.jsx("button",{onClick:()=>a("/"),className:"mt-4 text-blue-600 hover:text-blue-800",children:"‚Üê Back to Team Overview"})]});const w=fy(g?.athlete_id||l.toString(),b,v),A=vy(b),S=Im(A),R=jy(b),_=S?gy(S):0,T=py(v),V=(Array.isArray(v)?v:[]).reduce((y,F)=>(y[F.gene]=F.genotype,y),{}),K=[{id:"metrics",label:"Current Metrics",icon:"üìä",count:b.length>0?9:0},{id:"bloodResults",label:"Blood Results",icon:"ü©∏",count:1},{id:"circadian",label:"Circadian Rhythm",icon:"‚è∞",count:1},{id:"trends",label:"Trends & Analysis",icon:"üìà",count:b.length},{id:"insights",label:"Predictive Insights",icon:"üß†",count:d.length>0?d.length:T.length},{id:"geneticSummary",label:"Genetic Summary",icon:"üß¨",count:x.length},{id:"scaleReport",label:"Scale Report",icon:"‚öñÔ∏è",count:1},{id:"digitalTwin",label:"Digital Twin",icon:"üåê",count:1},{id:"digitalTwinV2",label:"Digital Twin v2",icon:"üöÄ",count:1},{id:"trainingLoad",label:"Training Load",icon:"üî•",count:b.length},{id:"recoveryTimeline",label:"Recovery Timeline",icon:"üìÖ",count:b.length},{id:"pharmacogenomics",label:"Pharmacogenomics",icon:"üíä",count:d.filter(y=>y.category==="pharmacogenomics").length||v.length},{id:"nutrigenomics",label:"Nutrigenomics",icon:"ü•ó",count:d.filter(y=>y.category==="nutrigenomics").length||v.length},{id:"recoveryGenes",label:"Recovery Genes",icon:"üß¨",count:d.filter(y=>y.category==="recovery").length||v.length},{id:"sleep",label:"Sleep Metrics",icon:"üåô",count:b.length},{id:"stress",label:"Stress Management",icon:"üßò",count:b.length},{id:"weather",label:"Weather Impact",icon:"üå§Ô∏è",count:1},{id:"chatAI",label:"Chat With AI",icon:"ü§ñ",count:1}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("button",{onClick:()=>a("/"),className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors duration-200 mb-4",children:[e.jsx(By,{className:"w-5 h-5 mr-2"}),"Back to Team Overview"]})}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2 text-gray-900",children:g.name}),e.jsx("p",{className:"text-xl text-gray-700 mb-1",children:g.sport}),e.jsxs("p",{className:"text-gray-600",children:["Age ",g.age," | ",g.team]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900",children:"üß¨ Genetic Profile"}),d.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 gap-2",children:d.slice(0,10).map((y,F)=>e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsxs("strong",{children:[y.Gene||y.gene||"Unknown",":"]})," ",y.GeneticCall||y.genetic_call||"Unknown",e.jsx("div",{className:"text-xs text-gray-500",children:y.Category||y.category||"Unknown"})]},F))}),d.length>10&&e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Showing top 10 of ",d.length," genetic markers"]})]}):Object.entries(V).length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(V).slice(0,10).map(([y,F],Y)=>e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsxs("strong",{children:[y||"Unknown",":"]})," ",F||"Unknown"]},y))}),Object.entries(V).length>10&&e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Showing top 10 of ",Object.entries(V).length," genes"]})]}):e.jsx("div",{className:"text-sm text-gray-500",children:"No genetic data available"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold mb-2 text-gray-900",children:S?`${_.toFixed(0)}%`:"N/A"}),e.jsx("div",{className:"text-gray-600",children:"Readiness Score"}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:S?"Based on HRV, RHR, Sleep & SpO‚ÇÇ":"No biometric data available"})]})]})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-1 sm:gap-0",children:K.map(y=>{const F=r===y.id;return e.jsxs("button",{onClick:()=>{c(y.id),m.current&&m.current.scrollIntoView({behavior:"smooth",block:"start"})},className:`flex items-center justify-start sm:justify-center gap-2 px-4 py-3 sm:py-2 text-sm font-medium transition-all duration-200 relative group
                  ${F?"text-blue-600 bg-blue-50":"text-gray-600 hover:text-blue-600 hover:bg-gray-50"}`,children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{children:y.icon}),e.jsx("span",{className:"sm:hidden",children:y.label}),e.jsx("span",{className:"hidden sm:inline",children:y.label})]}),y.count>0&&e.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 text-xs font-semibold rounded-full
                      ${F?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 group-hover:bg-gray-300"}`,children:y.count}),F&&e.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500"})]},y.id)})})}),e.jsxs("div",{ref:m,className:"mt-6",children:[r==="bloodResults"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"ü©∏ Blood Results"}),e.jsx(F5,{athleteId:l}),e.jsx("div",{className:"mt-8",children:e.jsx(eg,{athleteId:l})})]}),r==="metrics"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"üìä Current Readiness Metrics"}),S&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-100 px-3 py-1.5 rounded-full",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${_>75?"bg-green-500":_>50?"bg-yellow-500":"bg-red-500"}`}),g.name.split(" ")[0]," is"," ",_>75?"ready":_>50?"recovering":"fatigued"]})]}),S?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:[e.jsx(as,{title:"HRV (Night)",value:S.hrv_night||0,unit:"ms",icon:"‚ù§Ô∏è",subtitle:_>75?"Excellent recovery":"Moderate recovery",trend:_>75?"up":"down",data:R.slice(-7).map(y=>({date:y.date,value:y.hrv_night||0})),teamAverage:ns("hrv_night",g?.athlete_id||"",j),goalValue:50,goalLabel:"Target"}),e.jsx(as,{title:"Resting HR (Sleeping HR)",value:S.resting_hr||0,unit:"bpm",icon:"‚ù§Ô∏è",subtitle:(S.resting_hr||0)<60?"Optimal":(S.resting_hr||0)<65?"Good":"Elevated",trend:(S.resting_hr||0)<60?"up":"down",data:R.slice(-7).map(y=>({date:y.date,value:y.resting_hr||0})),teamAverage:ns("resting_hr",g?.athlete_id||"",j),goalValue:60,goalLabel:"Ideal"}),e.jsx(as,{title:"Avg Heart Rate",value:S.avg_heart_rate||0,unit:"bpm",icon:"‚ù§Ô∏è",subtitle:(S.avg_heart_rate||0)<60?"Optimal":(S.avg_heart_rate||0)<65?"Good":"Elevated",trend:(S.avg_heart_rate||0)<60?"up":"down",data:R.slice(-7).map(y=>({date:y.date,value:y.avg_heart_rate||0})),teamAverage:ns("avg_heart_rate",g?.athlete_id||"",j),goalValue:60,goalLabel:"Target"}),e.jsx(as,{title:"Deep Sleep",value:S.deep_sleep_pct||0,unit:"%",icon:"üí§",subtitle:(S.deep_sleep_pct||0)>20?"Restorative":"Low",trend:(S.deep_sleep_pct||0)>20?"up":"down",data:R.slice(-7).map(y=>({date:y.date,value:y.deep_sleep_pct||0})),teamAverage:ns("deep_sleep_pct",g?.athlete_id||"",j),goalValue:20,goalLabel:"Min"}),e.jsx(as,{title:"REM Sleep",value:S.rem_sleep_pct||0,unit:"%",icon:"üß†",subtitle:(S.rem_sleep_pct||0)>18?"Cognitive recovery":"Below ideal",trend:(S.rem_sleep_pct||0)>18?"up":"down",data:R.slice(-7).map(y=>({date:y.date,value:y.rem_sleep_pct||0})),teamAverage:ns("rem_sleep_pct",g?.athlete_id||"",j),goalValue:18,goalLabel:"Target"}),e.jsx(as,{title:"Sleep Duration",value:S.sleep_duration_h||0,unit:"h",icon:"üåô",subtitle:(S.sleep_duration_h||0)>=7?"Adequate":"Short",trend:(S.sleep_duration_h||0)>=7?"up":"down",data:R.slice(-7).map(y=>({date:y.date,value:y.sleep_duration_h||0})),teamAverage:ns("sleep_duration_h",g?.athlete_id||"",j),goalValue:7,goalLabel:"Recommended"}),e.jsx(as,{title:"SpO‚ÇÇ (Night)",value:S.spo2_night||0,unit:"%",icon:"ü´Å",subtitle:(S.spo2_night||0)>96?"Normal":"Monitor",trend:(S.spo2_night||0)>96?"up":"down",data:R.slice(-7).map(y=>({date:y.date,value:y.spo2_night||0})),teamAverage:ns("spo2_night",g?.athlete_id||"",j),goalValue:96,goalLabel:"Healthy"}),e.jsx(as,{title:"Respiratory Rate",value:S.resp_rate_night||0,unit:"/min",icon:"üå¨Ô∏è",subtitle:(S.resp_rate_night||0)<=16?"Normal":"Elevated",trend:(S.resp_rate_night||0)<=16?"up":"down",data:R.slice(-7).map(y=>({date:y.date,value:y.resp_rate_night||0})),teamAverage:ns("resp_rate_night",g?.athlete_id||"",j),goalValue:16,goalLabel:"Max"}),e.jsx(as,{title:"Body Temp",value:S.temp_trend_c||0,unit:"¬∞C",icon:"üå°Ô∏è",subtitle:Math.abs((S.temp_trend_c||0)-36.8)<.3?"Stable":"Elevated",trend:Math.abs((S.temp_trend_c||0)-36.8)<.3?"up":"down",data:R.slice(-7).map(y=>({date:y.date,value:y.temp_trend_c||0})),teamAverage:ns("temp_trend_c",g?.athlete_id||"",j),goalValue:36.8,goalLabel:"Normal"}),e.jsx(as,{title:"Training Load",value:S.training_load_pct||0,unit:"%",icon:"üí™",subtitle:(S.training_load_pct||0)>85?"High":"Moderate",trend:"neutral",data:R.slice(-7).map(y=>({date:y.date,value:y.training_load_pct||0})),teamAverage:ns("training_load_pct",g?.athlete_id||"",j),goalValue:85,goalLabel:"Optimal"})]}),e.jsxs("div",{className:"mt-8 card-enhanced p-5",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"üìã Readiness Summary"}),e.jsx("p",{className:"text-gray-700 text-sm",children:_>75?`${g.name.split(" ")[0]} shows strong recovery markers. Ready for high-intensity training.`:_>50?"Recovery is moderate. Consider active recovery or technique work.":"Fatigue detected. Prioritize sleep, hydration, and low-intensity sessions."})]})]}):e.jsxs("div",{className:"text-center py-12 card-enhanced rounded-xl",children:[e.jsx("p",{className:"text-gray-600 mb-2",children:"üìä No biometric data available"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Biometric data is required to display readiness metrics. Please ensure wearable data is being collected and synced."})]})]}),r==="circadian"&&e.jsx(q5,{biometricData:b,geneticData:v,athleteId:l.toString()}),r==="trends"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Performance Trends"}),b.length>=2?e.jsx(xb,{data:b.map(y=>({...y,hrv_night:y.hrv_night||0,resting_hr:y.resting_hr||0,spo2_night:y.spo2_night||0,resp_rate_night:y.resp_rate_night||0,deep_sleep_pct:y.deep_sleep_pct||0,rem_sleep_pct:y.rem_sleep_pct||0,light_sleep_pct:y.light_sleep_pct||0,sleep_duration_h:y.sleep_duration_h||0,temp_trend_c:y.temp_trend_c||0,training_load_pct:y.training_load_pct||0}))}):e.jsxs("div",{className:"text-center py-12 card-enhanced rounded-xl",children:[e.jsx("p",{className:"text-gray-600 mb-2",children:"üìä Insufficient data for trend analysis"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Need at least 2 days of data. Current data points: ",b.length]})]})]}),r==="insights"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white-900 mb-2",children:"üß† Advanced Predictive Insights"}),e.jsxs("p",{className:"text-gray-600 text-lg",children:["AI-powered analysis combining ",d.length," genetic markers with biometric trends"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:d.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Genetic Markers"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Analyzed"})]}),e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsxs("div",{className:`text-3xl font-bold mb-2 ${_>75?"text-green-600":_>50?"text-yellow-600":"text-red-600"}`,children:[_.toFixed(0),"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Current Readiness"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Based on biometrics"})]}),e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:T.length>0?T.length:"N/A"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Key Genetic Insights"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Performance factors"})]}),e.jsxs("div",{className:"card-enhanced p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-indigo-600 mb-2",children:b.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Biometric Records"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Historical data"})]})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-3 text-black",children:[e.jsx("span",{className:"bg-purple-100 p-2 rounded-full text-purple-700",children:"üîç"}),"Current Status Analysis"]}),e.jsx(hb,{alert:w})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-3 text-black",children:[e.jsx("span",{className:"bg-green-100 p-2 rounded-full text-black-700",children:"üß¨"}),"Advanced Genetic Performance Analysis"]}),d.length>0?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Performance Genetics"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"card-enhanced p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h5",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"üí™"}),"Power Performance"]}),e.jsxs("span",{className:`text-sm px-2 py-1 rounded-full ${d.filter(y=>["ACTN3","ACE","PPARGC1A","MSTN","IGF1","NOS3","BDKRB2"].includes(y.Gene||y.gene)).length>0?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-600"}`,children:[d.filter(y=>["ACTN3","ACE","PPARGC1A","MSTN","IGF1","NOS3","BDKRB2"].includes(y.Gene||y.gene)).length," markers"]})]}),e.jsxs("div",{className:"space-y-4",children:[d.filter(y=>y.Gene==="ACTN3").map((y,F)=>{const Y=y.GeneticCall||y.genetic_call,X=Y?.includes("RR");return e.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-orange-800",children:"ACTN3 (Sprint/Power)"}),e.jsx("span",{className:`font-bold ${X?"text-orange-600":"text-gray-500"}`,children:Y})]}),e.jsx("div",{className:"w-full bg-orange-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${X?"bg-orange-500":"bg-orange-300"}`,style:{width:X?"100%":"60%"}})}),e.jsx("p",{className:"text-xs text-orange-700",children:X?"Elite power athlete genetics - exceptional sprint and strength capacity":"Standard power capacity - focus on technique and explosive training"})]},F)}),d.filter(y=>y.Gene==="ACE").map((y,F)=>{const Y=y.GeneticCall||y.genetic_call,X=Y?.includes("DD");return e.jsxs("div",{className:"p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-red-800",children:"ACE (Power/Endurance)"}),e.jsx("span",{className:`font-bold ${X?"text-red-600":"text-blue-600"}`,children:Y})]}),e.jsx("div",{className:"w-full bg-red-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${X?"bg-red-500":"bg-blue-500"}`,style:{width:X?"85%":"90%"}})}),e.jsx("p",{className:"text-xs text-red-700",children:X?"DD genotype favors power - enhanced strength and anaerobic capacity":"II genotype favors endurance - superior cardiovascular efficiency"})]},F)}),d.filter(y=>y.Gene==="PPARGC1A").map((y,F)=>{const Y=y.GeneticCall||y.genetic_call;return e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-green-800",children:"PPARGC1A (Mitochondrial)"}),e.jsx("span",{className:"font-bold text-green-600",children:Y})]}),e.jsx("div",{className:"w-full bg-green-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full bg-green-500 transition-all duration-300",style:{width:"88%"}})}),e.jsx("p",{className:"text-xs text-green-700",children:"Influences mitochondrial biogenesis and muscle fiber composition"})]},F)}),d.filter(y=>y.Gene==="MSTN").map((y,F)=>{const Y=y.GeneticCall||y.genetic_call;return e.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-purple-800",children:"MSTN (Muscle Growth)"}),e.jsx("span",{className:"font-bold text-purple-600",children:Y})]}),e.jsx("div",{className:"w-full bg-purple-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full bg-purple-500 transition-all duration-300",style:{width:"92%"}})}),e.jsx("p",{className:"text-xs text-purple-700",children:"Myostatin regulation affects muscle mass and strength potential"})]},F)}),d.filter(y=>y.Gene==="IGF1").map((y,F)=>{const Y=y.GeneticCall||y.genetic_call;return e.jsxs("div",{className:"p-3 bg-indigo-50 rounded-lg border border-indigo-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-indigo-800",children:"IGF1 (Growth Factor)"}),e.jsx("span",{className:"font-bold text-indigo-600",children:Y})]}),e.jsx("div",{className:"w-full bg-indigo-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full bg-indigo-500 transition-all duration-300",style:{width:"87%"}})}),e.jsx("p",{className:"text-xs text-indigo-700",children:"Insulin-like growth factor influences muscle development and recovery"})]},F)}),d.filter(y=>y.Gene==="NOS3").map((y,F)=>{const Y=y.GeneticCall||y.genetic_call;return e.jsxs("div",{className:"p-3 bg-pink-50 rounded-lg border border-pink-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-pink-800",children:"NOS3 (Nitric Oxide)"}),e.jsx("span",{className:"font-bold text-pink-600",children:Y})]}),e.jsx("div",{className:"w-full bg-pink-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full bg-pink-500 transition-all duration-300",style:{width:"85%"}})}),e.jsx("p",{className:"text-xs text-pink-700",children:"Endothelial nitric oxide synthase affects blood flow and oxygen delivery"})]},F)}),d.filter(y=>y.Gene==="BDKRB2").map((y,F)=>{const Y=y.GeneticCall||y.genetic_call;return e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-yellow-800",children:"BDKRB2 (Bradykinin)"}),e.jsx("span",{className:"font-bold text-yellow-600",children:Y})]}),e.jsx("div",{className:"w-full bg-yellow-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full bg-yellow-500 transition-all duration-300",style:{width:"83%"}})}),e.jsx("p",{className:"text-xs text-yellow-700",children:"Bradykinin receptor affects cardiovascular response to exercise"})]},F)})]})]}),e.jsxs("div",{className:"card-enhanced p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h5",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"üèÉ"}),"Endurance Performance"]}),e.jsxs("span",{className:`text-sm px-2 py-1 rounded-full ${d.some(y=>y.Gene==="ACE"&&(y.GeneticCall||y.genetic_call)?.includes("II")||y.Gene==="PPARA"&&(y.GeneticCall||y.genetic_call)?.includes("GG"))?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:[d.filter(y=>y.Gene==="ACE"||y.Gene==="PPARA").length," markers"]})]}),d.filter(y=>y.Gene==="ACE"||y.Gene==="PPARA").slice(0,2).map((y,F)=>{const Y=y.Gene||y.gene,X=y.GeneticCall||y.genetic_call,$=Y==="ACE"&&X?.includes("II")||Y==="PPARA"&&X?.includes("GG");return e.jsxs("div",{className:"mb-3 last:mb-0",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[Y," Genotype"]}),e.jsx("span",{className:`text-sm font-bold ${$?"text-blue-600":"text-gray-500"}`,children:X})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${$?"bg-blue-500":"bg-gray-400"}`,style:{width:$?"100%":"60%"}})}),e.jsx("p",{className:"text-xs text-gray-600",children:Y==="ACE"&&X?.includes("II")?"Superior cardiovascular efficiency - ideal for endurance sports":Y==="PPARA"&&X?.includes("GG")?"Enhanced fat metabolism - improved endurance capacity":"Standard endurance capacity - maintain aerobic training"})]},F)})]})]}),e.jsxs("div",{className:"card-enhanced p-4 mt-4",children:[e.jsxs("h5",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üéØ"}),"Genetic-Based Training Recommendations"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[d.some(y=>y.Gene==="ACTN3"&&(y.GeneticCall||y.genetic_call)?.includes("RR"))&&e.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("div",{className:"font-medium text-orange-800 mb-1",children:"Power Athlete Profile"}),e.jsxs("div",{className:"text-xs text-orange-600",children:["ACTN3 RR genotype suggests excellent power capacity. Prioritize:",e.jsx("br",{}),"‚Ä¢ High-intensity interval training",e.jsx("br",{}),"‚Ä¢ Strength and power development",e.jsx("br",{}),"‚Ä¢ Sprint and explosive movements"]})]}),d.some(y=>y.Gene==="ACE"&&(y.GeneticCall||y.genetic_call)?.includes("II"))&&e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"font-medium text-blue-800 mb-1",children:"Endurance Athlete Profile"}),e.jsxs("div",{className:"text-xs text-blue-600",children:["ACE II genotype indicates superior cardiovascular efficiency. Focus on:",e.jsx("br",{}),"‚Ä¢ Long-duration aerobic training",e.jsx("br",{}),"‚Ä¢ Cardiovascular endurance development",e.jsx("br",{}),"‚Ä¢ Steady-state cardio protocols"]})]}),d.some(y=>y.Gene==="PPARA"&&(y.GeneticCall||y.genetic_call)?.includes("GG"))&&e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Metabolic Efficiency Profile"}),e.jsxs("div",{className:"text-xs text-green-600",children:["PPARA GG genotype suggests enhanced fat metabolism. Benefits from:",e.jsx("br",{}),"‚Ä¢ Longer training sessions",e.jsx("br",{}),"‚Ä¢ Carbohydrate-focused nutrition",e.jsx("br",{}),"‚Ä¢ Endurance-based activities"]})]}),d.some(y=>y.Gene==="COL5A1"&&!(y.GeneticCall||y.genetic_call)?.includes("TT"))&&e.jsxs("div",{className:"p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("div",{className:"font-medium text-red-800 mb-1",children:"Injury Risk Profile"}),e.jsxs("div",{className:"text-xs text-red-600",children:["COL5A1 variant detected - higher soft tissue injury risk. Implement:",e.jsx("br",{}),"‚Ä¢ Enhanced flexibility protocols",e.jsx("br",{}),"‚Ä¢ Regular mobility work",e.jsx("br",{}),"‚Ä¢ Progressive loading strategies"]})]})]})]})]})}),e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Enhanced Genetic Performance Matrix"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[{trait:"Sprint/Power",genes:d.filter(y=>y.Gene==="ACTN3"),icon:"üí™",color:"orange",description:"Explosive power & sprint capacity"},{trait:"Strength",genes:d.filter(y=>y.Gene==="MSTN"||y.Gene==="IGF1"),icon:"üèãÔ∏è",color:"red",description:"Muscle strength & development"},{trait:"Endurance",genes:d.filter(y=>y.Gene==="ACE"||y.Gene==="PPARA"),icon:"üèÉ",color:"blue",description:"Cardiovascular efficiency"},{trait:"Mitochondrial",genes:d.filter(y=>y.Gene==="PPARGC1A"),icon:"‚ö°",color:"green",description:"Energy production capacity"},{trait:"Recovery",genes:d.filter(y=>y.Gene==="PPARA"||y.Gene==="BDNF"),icon:"üîÑ",color:"purple",description:"Recovery & adaptation rate"},{trait:"Injury Risk",genes:d.filter(y=>y.Gene==="COL5A1"||y.Gene==="ADRB2"),icon:"üõ°Ô∏è",color:"gray",description:"Injury susceptibility"}].map((y,F)=>e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"text-2xl mb-2",children:y.icon}),e.jsx("div",{className:"font-semibold text-gray-900 text-sm mb-1",children:y.trait}),e.jsx("div",{className:`text-lg font-bold mb-1 text-${y.color}-600`,children:y.genes.length}),e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"markers"}),e.jsx("div",{className:"text-xs text-gray-400 leading-tight",children:y.description})]},F))}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"card-enhanced p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:Math.round(d.filter(y=>y.Gene==="ACTN3"&&(y.GeneticCall||y.genetic_call)?.includes("RR")).length*25+d.filter(y=>y.Gene==="ACE"&&(y.GeneticCall||y.genetic_call)?.includes("DD")).length*20+d.filter(y=>y.Gene==="MSTN").length*15+d.filter(y=>y.Gene==="IGF1").length*15)}),e.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:"Power Score"}),e.jsx("div",{className:"text-xs text-gray-500",children:"/100"})]}),e.jsxs("div",{className:"card-enhanced p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:Math.round(d.filter(y=>y.Gene==="ACE"&&(y.GeneticCall||y.genetic_call)?.includes("II")).length*25+d.filter(y=>y.Gene==="PPARA"&&(y.GeneticCall||y.genetic_call)?.includes("GG")).length*20+d.filter(y=>y.Gene==="PPARGC1A").length*18+d.filter(y=>y.Gene==="NOS3").length*15)}),e.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:"Endurance Score"}),e.jsx("div",{className:"text-xs text-gray-500",children:"/100"})]}),e.jsxs("div",{className:"card-enhanced p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:Math.round(d.filter(y=>y.Gene==="PPARA"&&(y.GeneticCall||y.genetic_call)?.includes("GG")).length*20+d.filter(y=>y.Gene==="BDNF"&&(y.GeneticCall||y.genetic_call)?.includes("Val/Val")).length*15+(S&&(S.sleep_duration_h||0)>=7?10:0)+(S&&(S.hrv_night||0)>50?10:0))}),e.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:"Recovery Score"}),e.jsx("div",{className:"text-xs text-gray-500",children:"/100"})]})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üß¨"}),e.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Genetic Analysis Unavailable"}),e.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Comprehensive genetic data is required for advanced performance insights and personalized recommendations."})]})]}),b.length>=3&&S&&e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-3 text-black",children:[e.jsx("span",{className:"bg-indigo-100 p-2 rounded-full text-indigo-700",children:"üîÆ"}),"AI-Powered Performance Forecast"]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-blue-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-blue-100 p-1.5 rounded-full text-blue-700",children:"üìà"}),"Biometric Trends"]}),e.jsx("div",{className:"space-y-3 text-sm",children:[{label:"HRV Recovery",value:S.hrv_night||0,unit:"ms",trend:"up",desc:"Heart rate variability",icon:"‚ù§Ô∏è"},{label:"Resting HR",value:S.resting_hr||0,unit:"bpm",trend:"down",desc:"Cardiac stress level",icon:"üíì"},{label:"Sleep Duration",value:S.sleep_duration_h||0,unit:"h",trend:"up",desc:"Recovery quality",icon:"üò¥"},{label:"SpO‚ÇÇ Level",value:S.spo2_night||0,unit:"%",trend:"up",desc:"Oxygen saturation",icon:"ü´Å"}].map(y=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-lg",children:y.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-700",children:y.label}),e.jsx("div",{className:"text-xs text-gray-500",children:y.desc})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-gray-900",children:[y.value.toFixed(1)," ",y.unit]}),e.jsxs("div",{className:`text-xs font-medium ${y.trend==="up"?y.value>(y.label==="HRV Recovery"?50:y.label==="Sleep Duration"?7:95)?"text-green-600":"text-red-600":y.value<(y.label==="Resting HR"?65:0)?"text-green-600":"text-red-600"}`,children:[y.trend==="up"?"‚Üó":"‚Üò"," ",y.trend==="up"?y.value>(y.label==="HRV Recovery"?50:y.label==="Sleep Duration"?7:95)?"Good":"Low":y.value<(y.label==="Resting HR"?65:0)?"Optimal":"High"]})]})]},y.label))})]}),e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-purple-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-purple-100 p-1.5 rounded-full text-purple-700",children:"üß¨‚ö°"}),"Genetic Performance Integration"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-orange-800",children:"Power Genetic Score"}),e.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[Math.round(d.filter(y=>y.Gene==="ACTN3"&&(y.GeneticCall||y.genetic_call)?.includes("RR")).length*25+d.filter(y=>y.Gene==="ACE"&&(y.GeneticCall||y.genetic_call)?.includes("DD")).length*20+d.filter(y=>y.Gene==="MSTN").length*15+d.filter(y=>y.Gene==="IGF1").length*15+d.filter(y=>y.Gene==="NOS3").length*13+d.filter(y=>y.Gene==="BDKRB2").length*12),"/100"]})]}),e.jsx("div",{className:"w-full bg-orange-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full bg-orange-500 transition-all duration-300",style:{width:`${Math.min(100,d.filter(y=>y.Gene==="ACTN3"&&(y.GeneticCall||y.genetic_call)?.includes("RR")).length*25+d.filter(y=>y.Gene==="ACE"&&(y.GeneticCall||y.genetic_call)?.includes("DD")).length*20+d.filter(y=>y.Gene==="MSTN").length*15+d.filter(y=>y.Gene==="IGF1").length*15+d.filter(y=>y.Gene==="NOS3").length*13+d.filter(y=>y.Gene==="BDKRB2").length*12)}%`}})}),e.jsxs("p",{className:"text-xs text-orange-700",children:["Based on ",d.filter(y=>["ACTN3","ACE","MSTN","IGF1","NOS3","BDKRB2"].includes(y.Gene||y.gene)).length," power-related genetic markers"]})]}),e.jsxs("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-blue-800",children:"Endurance Genetic Score"}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[Math.round(d.filter(y=>y.Gene==="ACE"&&(y.GeneticCall||y.genetic_call)?.includes("II")).length*25+d.filter(y=>y.Gene==="PPARGC1A").length*20+d.filter(y=>y.Gene==="PPARA"&&(y.GeneticCall||y.genetic_call)?.includes("GG")).length*18+d.filter(y=>y.Gene==="NOS3").length*15+d.filter(y=>y.Gene==="BDKRB2").length*12+d.filter(y=>y.Gene==="IGF1").length*10),"/100"]})]}),e.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full bg-blue-500 transition-all duration-300",style:{width:`${Math.min(100,d.filter(y=>y.Gene==="ACE"&&(y.GeneticCall||y.genetic_call)?.includes("II")).length*25+d.filter(y=>y.Gene==="PPARGC1A").length*20+d.filter(y=>y.Gene==="PPARA"&&(y.GeneticCall||y.genetic_call)?.includes("GG")).length*18+d.filter(y=>y.Gene==="NOS3").length*15+d.filter(y=>y.Gene==="BDKRB2").length*12+d.filter(y=>y.Gene==="IGF1").length*10)}%`}})}),e.jsxs("p",{className:"text-xs text-blue-700",children:["Based on ",d.filter(y=>["ACE","PPARGC1A","PPARA","NOS3","BDKRB2","IGF1"].includes(y.Gene||y.gene)).length," endurance-related genetic markers"]})]})]})]}),e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-green-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-green-100 p-1.5 rounded-full text-green-700",children:"üéØ"}),"Training Optimization Forecast"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-3 text-sm",children:"7-Day Performance Forecast"}),e.jsx("div",{className:"space-y-2",children:Array.from({length:7},(y,F)=>{const Y=new Date;Y.setDate(Y.getDate()+F);const X=Y.toLocaleDateString("en-US",{weekday:"short"}),$=Math.min(100,d.filter(Z=>Z.Gene==="ACTN3"&&(Z.GeneticCall||Z.genetic_call)?.includes("RR")).length*25+d.filter(Z=>Z.Gene==="ACE"&&(Z.GeneticCall||Z.genetic_call)?.includes("DD")).length*20+((S.hrv_night||0)>50?15:0)+((S.resting_hr||0)<65?10:0)),q=Math.min(100,d.filter(Z=>Z.Gene==="ACE"&&(Z.GeneticCall||Z.genetic_call)?.includes("II")).length*25+d.filter(Z=>Z.Gene==="PPARA"&&(Z.GeneticCall||Z.genetic_call)?.includes("GG")).length*18+((S.sleep_duration_h||0)>=7?15:0)+((S.spo2_night||0)>96?10:0));return e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-xs",children:[e.jsx("span",{className:"font-medium text-gray-700",children:X}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`font-bold ${$>70?"text-orange-600":"text-gray-500"}`,children:$.toFixed(0)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Power"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`font-bold ${q>70?"text-blue-600":"text-gray-500"}`,children:q.toFixed(0)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Endurance"})]})]})]},F)})})]}),e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("h5",{className:"font-medium text-green-800 mb-2 text-sm",children:"Optimal Training This Week"}),e.jsxs("div",{className:"space-y-2 text-xs text-green-700",children:[d.some(y=>y.Gene==="ACTN3"&&(y.GeneticCall||y.genetic_call)?.includes("RR"))&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),e.jsx("span",{children:"Power-focused sessions: Mon, Wed, Fri"})]}),d.some(y=>y.Gene==="ACE"&&(y.GeneticCall||y.genetic_call)?.includes("II"))&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Endurance sessions: Tue, Thu, Sat"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{children:"Recovery focus: Sun"})]})]})]})]})]})]}),e.jsxs("div",{className:"mt-6 card-enhanced p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Comprehensive Readiness Assessment"}),e.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered analysis combining biometrics and genetics"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-4xl font-bold mb-1 ${_>75?"text-green-600":_>50?"text-yellow-600":"text-red-600"}`,children:[_.toFixed(0),"%"]}),e.jsx("div",{className:`text-sm font-medium ${_>75?"text-green-600":_>50?"text-yellow-600":"text-red-600"}`,children:_>75?"Excellent":_>50?"Good":"Needs Attention"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-4",children:[e.jsxs("h5",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"bg-blue-100 p-1 rounded-full text-blue-700",children:"üìä"}),"Biometric Assessment"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",style:{backgroundColor:"rgba(59, 130, 246, 0.1)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"‚ù§Ô∏è"}),e.jsx("span",{className:"text-black",children:"HRV Recovery"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold ${(S.hrv_night||0)>50?"text-green-600":"text-red-600"}`,children:[(S.hrv_night||0).toFixed(0),"ms"]}),e.jsx("div",{className:`text-xs ${(S.hrv_night||0)>50?"text-green-600":"text-red-600"}`,children:(S.hrv_night||0)>50?"Optimal":"Low"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",style:{backgroundColor:"rgba(59, 130, 246, 0.1)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üíì"}),e.jsx("span",{className:"text-black",children:"Resting HR"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold ${(S.resting_hr||0)<65?"text-green-600":"text-red-600"}`,children:[(S.resting_hr||0).toFixed(0),"bpm"]}),e.jsx("div",{className:`text-xs ${(S.resting_hr||0)<65?"text-green-600":"text-red-600"}`,children:(S.resting_hr||0)<65?"Normal":"Elevated"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",style:{backgroundColor:"rgba(59, 130, 246, 0.1)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üò¥"}),e.jsx("span",{className:"text-black",children:"Sleep Quality"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold ${(S.sleep_duration_h||0)>=7?"text-green-600":"text-red-600"}`,children:[(S.sleep_duration_h||0).toFixed(1),"h"]}),e.jsx("div",{className:`text-xs ${(S.sleep_duration_h||0)>=7?"text-green-600":"text-red-600"}`,children:(S.sleep_duration_h||0)>=7?"Adequate":"Insufficient"})]})]})]})]}),e.jsxs("div",{className:"card-enhanced p-4",children:[e.jsxs("h5",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"bg-purple-100 p-1 rounded-full text-purple-700",children:"üß¨"}),"Genetic Assessment"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",style:{backgroundColor:"rgba(147, 51, 234, 0.1)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üí™"}),e.jsx("span",{className:"text-black",children:"Power Genetics"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`font-bold ${d.some(y=>y.Gene==="ACTN3")?"text-purple-600":"text-gray-400"}`,children:d.filter(y=>y.Gene==="ACTN3").length}),e.jsx("div",{className:`text-xs ${d.some(y=>y.Gene==="ACTN3")?"text-purple-600":"text-gray-400"}`,children:"markers"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",style:{backgroundColor:"rgba(147, 51, 234, 0.1)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üèÉ"}),e.jsx("span",{className:"text-black",children:"Endurance Genetics"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`font-bold ${d.some(y=>y.Gene==="ACE"||y.Gene==="PPARA")?"text-purple-600":"text-gray-400"}`,children:d.filter(y=>y.Gene==="ACE"||y.Gene==="PPARA").length}),e.jsx("div",{className:`text-xs ${d.some(y=>y.Gene==="ACE"||y.Gene==="PPARA")?"text-purple-600":"text-gray-400"}`,children:"markers"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",style:{backgroundColor:"rgba(147, 51, 234, 0.1)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üõ°Ô∏è"}),e.jsx("span",{className:"text-black",children:"Injury Resistance"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`font-bold ${d.some(y=>y.Gene==="COL5A1")?"text-purple-600":"text-gray-400"}`,children:d.filter(y=>y.Gene==="COL5A1").length}),e.jsx("div",{className:`text-xs ${d.some(y=>y.Gene==="COL5A1")?"text-purple-600":"text-gray-400"}`,children:"markers"})]})]})]})]}),e.jsxs("div",{className:"card-enhanced p-4",children:[e.jsxs("h5",{className:"font-medium text-green-700 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"bg-green-100 p-1 rounded-full",children:"üéØ"}),"Combined Insights"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"p-3 bg-gradient-to-r from-green-50 to-green-100 rounded-lg border border-green-200",children:[e.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Training Capacity"}),e.jsx("div",{className:"text-xs text-green-600",children:d.some(y=>y.Gene==="ACTN3"&&(y.GeneticCall||y.genetic_call)?.includes("RR"))&&(S.hrv_night||0)>50?"High-intensity training optimal":d.some(y=>y.Gene==="ACE"&&(y.GeneticCall||y.genetic_call)?.includes("II"))?"Endurance training recommended":"Monitor recovery before increasing load"})]}),e.jsxs("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"font-medium text-blue-800 mb-1",children:"Recovery Strategy"}),e.jsx("div",{className:"text-xs text-blue-600",children:d.some(y=>y.Gene==="PPARA"&&(y.GeneticCall||y.genetic_call)?.includes("GG"))?"Enhanced fat metabolism - carb-focused recovery":(S.sleep_duration_h||0)>=7?"Good sleep foundation - maintain current protocols":"Prioritize sleep optimization"})]}),e.jsxs("div",{className:"p-3 bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg border border-orange-200",children:[e.jsx("div",{className:"font-medium text-orange-800 mb-1",children:"Risk Management"}),e.jsx("div",{className:"text-xs text-orange-600",children:d.some(y=>y.Gene==="COL5A1"&&!(y.GeneticCall||y.genetic_call)?.includes("TT"))?"Soft tissue risk - implement preventive measures":(S.resting_hr||0)>70?"Monitor cardiac stress indicators":"Standard protocols appropriate"})]})]})]})]})]})]}),e.jsxs("section",{className:"card-enhanced p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"bg-rose-100 p-2 rounded-full text-rose-700",children:"üí°"}),"AI-Powered Recovery Intelligence"]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-purple-100 p-1.5 rounded-full text-purple-700",children:"üß¨"}),"Genetic Recovery Profile"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-700 mb-1",children:d.filter(y=>y.Gene==="PPARA"&&(y.GeneticCall||y.genetic_call)?.includes("GG")||y.Gene==="BDNF"&&(y.GeneticCall||y.genetic_call)?.includes("Val/Val")).length}),e.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Fast Recovery Markers"})]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-700 mb-1",children:d.filter(y=>y.Gene==="ACTN3"&&(y.GeneticCall||y.genetic_call)?.includes("XX")||y.Gene==="COMT"&&(y.GeneticCall||y.genetic_call)?.includes("Met/Met")).length}),e.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"Extended Recovery Markers"})]})]}),e.jsxs("div",{className:"space-y-3",children:[d.filter(y=>y.Gene==="ACTN3"||y.Gene==="PPARA"||y.Gene==="BDNF"||y.Gene==="COMT").slice(0,4).map((y,F)=>{const Y=y.Gene||y.gene,X=y.GeneticCall||y.genetic_call;let $="",q="üß¨",Z="bg-purple-50",J="border-purple-200",E="text-purple-800";return Y==="ACTN3"&&X?.includes("XX")?($="Endurance genotype: May need extended recovery periods between high-intensity sessions",q="üèÉ",Z="bg-blue-50",J="border-blue-200",E="text-blue-800"):Y==="PPARA"&&X?.includes("GG")?($="Enhanced fat metabolism: Omega-3 supplementation may accelerate recovery processes",q="ü•ó",Z="bg-green-50",J="border-green-200",E="text-green-800"):Y==="BDNF"&&X?.includes("Met")?($="Neuroplasticity focus: Cognitive training during recovery may enhance adaptation",q="üß†",Z="bg-indigo-50",J="border-indigo-200",E="text-indigo-800"):Y==="COMT"&&X?.includes("Met/Met")&&($="Stress-sensitive genotype: Prioritize stress management for optimal recovery",q="üßò",Z="bg-amber-50",J="border-amber-200",E="text-amber-800"),$?e.jsx("div",{className:`p-3 bg-gradient-to-r from-${Z.split("-")[1]}-50 to-${Z.split("-")[1]}-100 rounded-lg border ${J}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-lg",children:q}),e.jsxs("div",{children:[e.jsxs("div",{className:`font-medium ${E} text-sm`,children:[Y,": ",X]}),e.jsx("div",{className:`text-xs ${E.replace("800","600")} mt-1`,children:$})]})]})},F):null}),d.filter(y=>y.Gene==="ACTN3"||y.Gene==="PPARA"||y.Gene==="BDNF"||y.Gene==="COMT").length===0&&e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-lg",children:"üìã"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 text-sm",children:"Standard Recovery Profile"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"No specific recovery genetics identified. Follow standard recovery protocols based on training load and biometric indicators."})]})]})})]}),e.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg border border-purple-200",children:[e.jsx("h5",{className:"font-medium text-purple-800 mb-2",children:"Recovery Protocol Recommendations"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{className:"text-purple-700",children:d.some(y=>y.Gene==="PPARA"&&(y.GeneticCall||y.genetic_call)?.includes("GG"))?"Omega-3 supplementation for enhanced recovery":"Standard protein supplementation protocol"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{className:"text-purple-700",children:d.some(y=>y.Gene==="COMT"&&(y.GeneticCall||y.genetic_call)?.includes("Met/Met"))?"Stress management essential for recovery":"Standard stress management protocols"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{className:"text-purple-700",children:d.some(y=>y.Gene==="ACTN3"&&(y.GeneticCall||y.genetic_call)?.includes("XX"))?"Extended recovery between sessions":"Standard recovery timing"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{className:"text-purple-700",children:d.some(y=>y.Gene==="BDNF"&&(y.GeneticCall||y.genetic_call)?.includes("Met"))?"Include cognitive training in recovery":"Focus on physical recovery modalities"})]})]})]})]})]})]}),e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-blue-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-blue-100 p-1.5 rounded-full text-blue-700",children:"üìä"}),"Current Recovery Status"]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"‚ù§Ô∏è"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:"HRV Recovery"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Heart rate variability"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold text-lg ${S&&(S.hrv_night||0)>50?"text-green-600":"text-red-600"}`,children:[S?(S.hrv_night||0).toFixed(0):"0","ms"]}),e.jsx("div",{className:`text-xs ${S&&(S.hrv_night||0)>50?"text-green-600":"text-red-600"}`,children:S&&(S.hrv_night||0)>50?"Good":"Needs work"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"üò¥"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:"Sleep Quality"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Duration & deep sleep"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold text-lg ${S&&(S.sleep_duration_h||0)>=7?"text-green-600":"text-red-600"}`,children:[S?(S.sleep_duration_h||0).toFixed(1):"0.0","h"]}),e.jsx("div",{className:`text-xs ${S&&(S.sleep_duration_h||0)>=7?"text-green-600":"text-red-600"}`,children:S&&(S.sleep_duration_h||0)>=7?"Adequate":"Insufficient"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"üí™"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:"Training Stress"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Current load vs capacity"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold text-lg ${S&&(S.training_load_pct||0)<80?"text-green-600":"text-orange-600"}`,children:[S?(S.training_load_pct||0).toFixed(0):"0","%"]}),e.jsx("div",{className:`text-xs ${S&&(S.training_load_pct||0)<80?"text-green-600":"text-orange-600"}`,children:S&&(S.training_load_pct||0)<80?"Manageable":"High"})]})]})]})})]}),e.jsxs("div",{className:"card-enhanced p-5",children:[e.jsxs("h4",{className:"font-semibold text-green-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"bg-green-100 p-1.5 rounded-full text-green-700",children:"üéØ"}),"Personalized Recovery Plan"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Priority Actions"}),e.jsxs("div",{className:"space-y-2",children:[S&&(S.sleep_duration_h||0)<6&&e.jsxs("div",{className:"flex items-start gap-3 p-2 bg-red-50 rounded-lg border-l-4 border-red-500",children:[e.jsx("span",{className:"text-red-500 mt-0.5",children:"üî¥"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-red-800 text-sm",children:"Sleep Priority"}),e.jsx("div",{className:"text-xs text-red-600",children:"Extend sleep duration to 7-9 hours"})]})]}),S&&(S.hrv_night||0)<40&&e.jsxs("div",{className:"flex items-start gap-3 p-2 bg-orange-50 rounded-lg border-l-4 border-orange-500",children:[e.jsx("span",{className:"text-orange-500 mt-0.5",children:"üü†"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-orange-800 text-sm",children:"HRV Recovery"}),e.jsx("div",{className:"text-xs text-orange-600",children:"Include active recovery and stress reduction"})]})]}),d.some(y=>y.Gene==="COL5A1"&&!(y.GeneticCall||y.genetic_call)?.includes("TT"))&&e.jsxs("div",{className:"flex items-start gap-3 p-2 bg-blue-50 rounded-lg border-l-4 border-blue-500",children:[e.jsx("span",{className:"text-blue-500 mt-0.5",children:"üîµ"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-blue-800 text-sm",children:"Soft Tissue Care"}),e.jsx("div",{className:"text-xs text-blue-600",children:"Genetic risk - focus on flexibility and mobility"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Recovery Timeline"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"flex justify-between items-center p-2 bg-green-50 rounded",children:[e.jsx("span",{className:"text-green-800",children:"Today"}),e.jsx("span",{className:"font-medium text-green-700",children:_>75?"Full training capacity":"Modified training load"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-blue-50 rounded",children:[e.jsx("span",{className:"text-blue-800",children:"Next 48h"}),e.jsx("span",{className:"font-medium text-blue-700",children:d.some(y=>y.Gene==="PPARA")?"Enhanced recovery expected":"Standard recovery protocols"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-purple-50 rounded",children:[e.jsx("span",{className:"text-purple-800",children:"This Week"}),e.jsx("span",{className:"font-medium text-purple-700",children:"Monitor genetic risk factors"})]})]})]})]})]})]})]}),e.jsx("section",{className:"card-enhanced p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("span",{className:"text-3xl",children:"üí°"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-rose-700 mb-2",children:"Daily Recovery Intelligence"}),e.jsx("p",{className:"text-rose-600 text-sm leading-relaxed",children:(()=>{const y=["Hydration impacts HRV. Aim for 35ml/kg body weight daily.","Blue light after 9 PM suppresses melatonin. Use night mode.","Cold exposure post-training can delay muscle recovery in ACTN3 XX carriers.","Magnesium glycinate may improve deep sleep in PER3 long genotype athletes.","Morning sunlight resets circadian rhythm ‚Äî get 10 mins upon waking.","Omega-3s may enhance recovery in BDNF Met carriers.","Caffeine clearance is slower in evening types (PER3 long) ‚Äî avoid after 2 PM."];return d.some(F=>F.Gene==="ACTN3")?"Power athletes (ACTN3 RR) benefit from protein-rich recovery meals within 30 minutes post-training.":d.some(F=>F.Gene==="PPARA")?"Endurance genetics (PPARA GG) respond well to carbohydrate-focused recovery nutrition.":d.some(F=>F.Gene==="COL5A1")?"Soft tissue injury risk detected - incorporate regular flexibility and mobility work.":y[(g?.athlete_id||"").charCodeAt((g?.athlete_id||"").length-1)%y.length]})()})]})]})})]}),r==="geneticSummary"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card-enhanced p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-black mb-2",children:"üß¨ Advanced Genetic Analysis"}),e.jsxs("p",{className:"text-gray-600 text-lg",children:["Interactive genetic profile for ",g.name," ‚Ä¢ ",x.length," markers analyzed"]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.length}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total Markers"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:new Set(d.map(y=>y.Category||y.category)).size}),e.jsx("div",{className:"text-xs text-gray-500",children:"Categories"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:d.filter(y=>(y.Category||y.category)==="performance").length}),e.jsx("div",{className:"text-xs text-gray-500",children:"Performance"})]})]})]}),e.jsx(X5,{geneticSummary:d,onFilteredResults:p})]}),x.length>0?e.jsx(Q5,{geneticSummary:x,athlete:g,athleteBiometrics:b}):e.jsxs("div",{className:"text-center py-12 card-enhanced",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üß¨"}),e.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Genetic Data Available"}),e.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Genetic summary data is not available for this athlete. Please ensure genetic testing has been completed and data has been uploaded to the system."})]})]}),r==="scaleReport"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"‚öñÔ∏è Scale Report"}),e.jsx(Ab,{athleteId:l.toString()})]}),r==="digitalTwin"&&e.jsx(my,{athleteId:l.toString()}),r==="digitalTwinV2"&&e.jsx(b5,{athleteId:l.toString(),athlete:g,biometricData:b}),r==="trainingLoad"&&e.jsx(cb,{}),r==="recoveryTimeline"&&e.jsx(db,{athleteId:l.toString()}),r==="pharmacogenomics"&&e.jsx(v5,{athleteId:l.toString()}),r==="nutrigenomics"&&e.jsx(j5,{athleteId:l.toString()}),r==="recoveryGenes"&&e.jsx(N5,{athleteId:l.toString()}),r==="predictive"&&e.jsx(ub,{athleteId:l.toString()}),r==="sleep"&&e.jsx(C5,{biometricData:b,athleteId:l.toString()}),r==="stress"&&e.jsx(H5,{athleteId:l.toString(),biometricData:b}),r==="weather"&&e.jsx(mb,{athleteId:l.toString(),geneticData:v}),r==="chatAI"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"ü§ñ Chat With AI"}),e.jsxs("div",{className:"mb-4 p-4 bg-gray-100 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Data Status:"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Athlete: ",g?.name]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Biometric Data Count: ",b.length]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Genetic Profiles Count: ",v.length]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Athlete ID: ",g?.athlete_id]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Latest Biometric Date: ",Im(b)?.date||"None"]}),b.length===0&&e.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"‚ö†Ô∏è No biometric data available. Check Current Metrics tab for data."})]}),e.jsx(Y5,{athlete:g,biometricData:b,geneticProfiles:v})]})]})]})};export{hS as AthleteProfile};
